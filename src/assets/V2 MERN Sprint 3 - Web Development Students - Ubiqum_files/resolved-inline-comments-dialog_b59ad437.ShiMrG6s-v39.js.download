(window.webpackJsonp=window.webpackJsonp||[]).push([["resolved-inline-comments-dialog~b59ad437"],{"/9an":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("L21V"),r=Object(a.g)({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name",description:"Placeholder for emoji"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileAriaLabel:{id:"fabric.emoji.choose.file.ariaLabel",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB.",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search",description:"verb - button label to search"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"}})},"08ix":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ERkP"),r=n.n(a),o=n("FdGg");function i(e){return function(t){return n=>r.a.createElement(o.a,e,r.a.createElement(t,n))}}},"3oRx":function(e,t,n){"use strict";var a=n("pkwY"),r=n("ERkP"),o=n.n(r),i=n("q9qF"),l=n("Iy7w"),c=n("1U1M"),s=n("L21V"),d=n("EFtY"),u=n.n(d),m=n("p+ff"),f=n("dDc+"),p=n("8gCJ"),g=n("hATe"),b=n("EcEE");const y=Object(l.a)("div",{target:"e1s8o7tt0"})({name:"60afig",styles:"display:flex;padding-top:16px;"}),h=Object(l.a)("div",{target:"e1s8o7tt1"})({name:"qnh8h2",styles:"display:flex;flex-direction:column;padding-left:8px;> span{padding-top:4px;}"}),E=({onClose:e,content:t,user:n})=>o.a.createElement(p.a,{actions:[{text:"Close",onClick:()=>{e(!1)}}],width:"large"},o.a.createElement(y,null,o.a.createElement(g.a,{userId:n.userId,src:n.avatarUrl}),o.a.createElement(h,{onClick:t=>{t.target instanceof HTMLImageElement&&e(!1)}},o.a.createElement(b.a,{userId:n.userId,fullName:n.displayName}),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}}))));E.displayName="LegacyContentModal";var v=n("KD1n"),j=n("H5qd");function I(){const e=Object(v.a)(["\n  query LegacyContentQuery($contentId: ID!) {\n    content(id: $contentId) {\n      nodes {\n        id\n        body {\n          view {\n            value\n          }\n        }\n        history {\n          createdBy {\n            ... on KnownUser {\n              accountId\n            }\n            ... on User {\n              accountId\n            }\n            profilePicture {\n              path\n            }\n            displayName\n          }\n        }\n        type\n      }\n    }\n  }\n"]);return I=function(){return e},e}const M=n.n(j)()(I()),C=Object(l.a)("span",{target:"e1e3cud20"})({name:"1r5b1jx",styles:"display:flex;padding:12px 0;> span:first-of-type{padding-right:8px;}> span:last-of-type{margin-top:-4px;}"}),O=Object(l.a)("div",{target:"e1e3cud21"})({name:"suayju",styles:"margin:0 auto;width:100%;"}),x=Object(l.a)("div",{target:"e1e3cud22"})({name:"13tntgw",styles:"display:flex;padding:12px 0 16px 0;span{padding-right:8px;}"}),w=Object(l.a)("div",{target:"e1e3cud23"})("background-color:",f.colors.N60,";border-radius:3px;height:12px;margin-bottom:8px;width:",e=>e.width,"%;"),N=({contentId:e})=>{var t;const[n,a]=Object(r.useState)(!1),{data:i,loading:l}=Object(c.c)(M,{variables:{contentId:e}}),d=Object(r.useCallback)(()=>{a(!0)},[e]),f=(e=>{var t,n,a;return{userId:null!=(a=e)&&null!=(a=a.content)&&null!=(a=a.nodes)&&null!=(a=a[0])&&null!=(a=a.history)&&null!=(a=a.createdBy)?a.accountId:a,avatarUrl:null!=(n=e)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])&&null!=(n=n.history)&&null!=(n=n.createdBy)&&null!=(n=n.profilePicture)?n.path:n,displayName:null!=(t=e)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.history)&&null!=(t=t.createdBy)?t.displayName:t}})(i),p=(null!=(t=i)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.body)&&null!=(t=t.view)?t.value:t)||"";return l?o.a.createElement(x,null,o.a.createElement(u.a,{label:"legacy-modal-shortcut"}),o.a.createElement(O,null,o.a.createElement(w,{width:100}),o.a.createElement(w,{width:100}),o.a.createElement(w,{width:75}))):o.a.createElement(r.Fragment,null,o.a.createElement(C,null,o.a.createElement(u.a,{label:"legacy-modal-shortcut"}),o.a.createElement("span",null,o.a.createElement("a",{href:"#",onClick:d},o.a.createElement(s.c,{id:"fabric-extension-handlers.fallback.action",defaultMessage:"Click to view content",description:"clickable link to display more content"}))," ",o.a.createElement(s.c,{id:"fabric-extension-handlers.fallback.reason",defaultMessage:"that can't display inline as it was created in a legacy version of Confluence.",description:"reason for why we cannot display the fallback content"}))),o.a.createElement(m.b,null,n&&o.a.createElement(E,{onClose:a,content:p,user:f})))};N.displayName="FallbackComponent",n.d(t,"a",(function(){return R}));const R=(e,t)=>{const n={[i.b.MACRO_CORE]:P(e)},r={[i.b.MIGRATION]:k(e,t)};return Object(a.a)({},n,r)},P=e=>t=>{const{extensionKey:n}=t;return e&&e(n),null},k=(e,t)=>n=>{const{extensionKey:a}=n;return a===i.d.INVALID&&e&&e(),a===i.a.INLINE_EXTERNAL_IMAGE?(e&&e(a),t?o.a.createElement(N,{contentId:t}):null):a===i.a.INLINE_MEDIA_IMAGE?(e&&e(a),t?o.a.createElement(N,{contentId:t}):null):null}},"9oDW":function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),r=n.n(a),o=n("lZoD"),i=n("gQ5V"),l=n("L21V"),c=n("8gCJ"),s=n("2sr0"),d=n("qhEF"),u=n("UIW9"),m=n("XVWa"),f=n("FdGg"),p=n("X2PC"),g=n("Iy7w"),b=n("0Dc1");const y=Object(g.a)("div",{target:"e16t19xs0"})({name:"xhyitk",styles:"display:flex;min-height:100px;"}),h=()=>r.a.createElement(y,{"data-test-id":"resolved-inline-comments-empty"},r.a.createElement(l.c,{tagName:"p",id:"resolved-inline-comments-dialog.no.comments",defaultMessage:"There are no resolved comments on this page.",description:"Shows when there is nothing to show in the dialog"}),r.a.createElement(b.a,{subject:m.a.resolvedInlineCommentsDialog}));h.displayName="NoResolvedInlineComment";var E=n("Ydxy");const v=Object(g.a)("div",{target:"ehjwwgb0"})({name:"c7ov4v",styles:"display:flex;min-height:200px;"}),j=Object(g.a)("div",{target:"ehjwwgb1"})({name:"slj4c",styles:"align-self:center;margin-left:auto;margin-right:auto;"}),I=()=>r.a.createElement(v,null,r.a.createElement(j,null,r.a.createElement(E.a,{size:"large"})));I.displayName="LoadingResolvedComments";var M=n("pkwY"),C=n("EfWO"),O=n.n(C),x=n("XFpn"),w=n.n(x),N=n("/sMe"),R=n("dDc+"),P=n("hpu0"),k=n("3VMZ"),A=n("hATe"),T=n("EcEE"),_=n("M/rd"),L=n("qdfj"),z=n("7M9M"),F=n("i4Pk"),D=n("3oRx"),S=n("Q/D5");const V=Object(g.a)("div",{target:"es0zzhd0"})({name:"1clngcy",styles:"display:flex;align-items:center;div:first-of-type{padding-right:4px;}"}),q=Object(g.a)("div",{target:"es0zzhd1"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),U=Object(g.a)("div",{target:"es0zzhd2"})("margin:0;padding:16px;border-bottom:1px solid ",R.colors.N30,";border-left:",e=>e.focused?"5px solid ".concat(R.colors.B400):"none",";&:last-of-type{border-bottom:none;}"),B=Object(g.a)("div",{target:"es0zzhd3"})("padding:10px 22px;border-left:2px solid ",R.colors.N20,";margin-top:12px;span{background-color:rgba(246,195,66,0.3);}"),H=Object(g.a)("div",{target:"es0zzhd4"})({name:"2lrkjy",styles:"padding:15px 0;font-size:14px;"}),G=Object(g.a)("div",{target:"es0zzhd5"})({name:"1wz1n8h",styles:"display:flex;flex-direction:row;font-size:12px;margin-bottom:10px;"}),K=Object(g.a)("div",{target:"es0zzhd6"})({name:"xzvvbj",styles:'&:after{content:"•";padding-left:5px;padding-right:5px;}&:last-of-type:after{content:" ";margin-right:10px;}'}),J=Object(g.a)("div",{target:"es0zzhd7"})("color:",R.colors.B400,";> *{display:inline-block;line-height:27px;vertical-align:middle;}"),W=Object(g.a)("span",{target:"es0zzhd8"})("color:",R.colors.N300,";> a{color:",R.colors.N300,";margin-left:5px;:visited{color:",R.colors.N300,";}}> *{display:inline-block;vertical-align:middle;line-height:27px;}"),Q=Object(g.a)("div",{target:"es0zzhd9"})("@keyframes show{0%{opacity:0;}100%{opacity:1;}}background-color:",R.colors.N20,";animation:show 0.25s ease-in-out;"),Y=Object(g.a)("div",{target:"es0zzhd10"})({name:"1haizvu",styles:"padding:8px 16px;"}),X=Object(g.a)("span",{target:"es0zzhd11"})("color:",R.colors.N300,";");function $({show:e,replies:t}){return e?r.a.createElement(Q,null,t.map(e=>{let t,n,a;return e.author&&(t=e.author.profilePicture&&e.author.profilePicture.path,n=e.author.accountId,a=e.author.displayName),r.a.createElement(Y,{key:e.id},r.a.createElement(V,null,r.a.createElement(A.a,{src:t,userId:n}),r.a.createElement(T.a,{userId:n,fullName:a,isAnonymous:!n,canViewProfile:!1})),r.a.createElement(S.a,{featureFlag:"confluence.frontend.fabric.renderer.inline.comments",condition:e=>"fabric"!==e},r.a.createElement(H,{dangerouslySetInnerHTML:{__html:e.body}})),r.a.createElement(S.a,{featureFlag:"confluence.frontend.fabric.renderer.inline.comments",condition:e=>"fabric"===e},r.a.createElement(H,null,r.a.createElement(F.a,{contentId:e.id,appearance:"comment",getExtensionHandlers:D.a}))),r.a.createElement(G,null,r.a.createElement(X,null,e.friendlyLastModified)))})):null}$.displayName="ResolvedInlineReplies";var Z=n("KD1n"),ee=n("H5qd"),te=n.n(ee);function ne(){const e=Object(Z.a)(["\n  query ResolvedInlineCommentsDialogQuery($contentId: ID!) @experimental {\n    experimentalResolvedInlineComments(contentId: $contentId) {\n      nodes {\n        ...InlineCommentFragment\n        location {\n          hasResolvePermission\n          resolveProperties {\n            resolvedUser\n            resolvedFriendlyDate\n            resolvedByDangling\n          }\n          inlineMarkerRef\n          inlineText\n        }\n        replies {\n          nodes {\n            ...InlineCommentFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"]);return ne=function(){return e},e}function ae(){const e=Object(Z.a)(["\n  fragment InlineCommentFragment on ExperimentalComment {\n    id\n    body\n    friendlyLastModified\n    author {\n      id\n      displayName\n      accountId\n      profilePicture {\n        path\n      }\n    }\n  }\n"]);return ae=function(){return e},e}const re=te()(ae()),oe=te()(ne(),re);var ie=n("fN3Q"),le=n.n(ie);const ce=Object(l.g)({resolved:{id:"resolved-inline-comments-dialog.resolved",defaultMessage:"resolved",description:"Label of a tick icon."}});function se(e){return!!e.location&&(e.location.hasResolvePermission&&function(e){const t='.inline-comment-marker[data-ref="'.concat(e,'"]'),n='span[data-mark-annotation-type="inlineComment"][data-id="'.concat(e,'"]');return Boolean(document.querySelector("".concat(t,", ").concat(n)))}(e.location.inlineMarkerRef))}function de(e,t){if(!t.location)return null;const{intl:n,spaceKey:a,contentId:o,onClose:i}=e,{resolveProperties:c}=t.location;return r.a.createElement(W,null,r.a.createElement(w.a,{label:n.formatMessage(ce.resolved),primaryColor:R.colors.G300})," ",c.resolvedByDangling?r.a.createElement(l.c,{id:"resolved-inline-comments-dialog.resolved.by.dangling",defaultMessage:"Resolved because the text was deleted by {resolvedUser}",description:"Example of this would be 'Resolved because the text was deleted by John'",values:{resolvedUser:c.resolvedUser}}):r.a.createElement(l.c,{id:"resolved-inline-comments-dialog.resolved.by",defaultMessage:"Resolved by {resolvedUser}",description:"Example of this would be 'Resolved by John'",values:{resolvedUser:c.resolvedUser}}),r.a.createElement(_.a,{name:z.VIEW_PAGE.name,params:{spaceKey:a,contentId:o,query:{focusedCommentId:t.id},hash:"comment-".concat(t.id)},onClick:i},c.resolvedFriendlyDate))}function ue(e,t,n){return()=>{n(Object(M.a)({},t,{[e]:!t[e]}))}}function me(e,t,n,a){const{contentId:r,reopenInlineComment:o,replace:i,location:l}=e;return()=>{a(Object(M.a)({},n,{[t]:!0})),Object(P.a)().start({id:le()(),name:k.a.RESOLVE_INLINE_COMMENT,attributes:{resolved:!1}}),o({variables:{commentId:t},update:(e,{data:{experimentalReopenInlineComment:o}})=>{if(o.result){const n=e.readQuery({query:oe,variables:{contentId:r}});e.writeQuery({query:oe,variables:{contentId:r},data:Object(M.a)({},n,{experimentalResolvedInlineComments:Object(M.a)({},n.experimentalResolvedInlineComments,{nodes:n.experimentalResolvedInlineComments.nodes.filter(e=>e.id!==t)})})})}Object(P.a)().succeed({name:k.a.RESOLVE_INLINE_COMMENT}),a(Object(M.a)({},n,{[t]:!1}));const{pathname:c,search:s,hash:d}=l,{query:u}=O.a.parse(s,!0);delete u.focusedCommentId,i(O.a.format({pathname:c,query:u,hash:d}),!0)}})}}de.displayName="getResolvedBy";const fe=r.a.memo(Object(L.a)(Object(l.h)(e=>{const{focusedCommentId:t,comments:n}=e,[o,i]=Object(a.useState)({}),[c,s]=Object(a.useState)({}),d=r.a.createRef(),u=r.a.createRef();return Object(a.useEffect)(()=>{if(d.current&&u.current){const e=d.current.parentElement;e&&e.scrollTo&&e.scrollTo(0,u.current.offsetTop-75)}}),r.a.createElement(q,{innerRef:d,"data-test-id":"resolved-inline-comments"},n.map(n=>{if(!n.location)return null;const a=n.replies?n.replies.nodes:[];let d,m,f;return n.author&&(d=n.author.profilePicture&&n.author.profilePicture.path,m=n.author.accountId,f=n.author.displayName),r.a.createElement(U,{key:n.id,focused:t===n.id,"data-test-id":"resolved-inline-comment-".concat(n.id),innerRef:t===n.id?u:()=>null},r.a.createElement(V,null,r.a.createElement(A.a,{src:d,userId:m}),r.a.createElement(T.a,{userId:m,fullName:f,isAnonymous:!m,canViewProfile:!1})),r.a.createElement(B,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.location.inlineText}})),r.a.createElement(S.a,{featureFlag:"confluence.frontend.fabric.renderer.inline.comments",condition:e=>"fabric"!==e},r.a.createElement(H,{dangerouslySetInnerHTML:{__html:n.body}})),r.a.createElement(S.a,{featureFlag:"confluence.frontend.fabric.renderer.inline.comments",condition:e=>"fabric"===e},r.a.createElement(H,null,r.a.createElement(F.a,{contentId:n.id,appearance:"comment",getExtensionHandlers:D.a}))),r.a.createElement(G,null,r.a.createElement(J,null,se(n)&&r.a.createElement(K,null,r.a.createElement(N.a,{appearance:"link",spacing:"none",isDisabled:c[n.id],onClick:me(e,n.id,c,s)},r.a.createElement(l.c,{id:"resolved-inline-comments-dialog.reopen",defaultMessage:"Reopen",description:"Put a comment status from 'resolved' back to 'open'"}))),a.length?r.a.createElement(K,null,r.a.createElement(N.a,{appearance:"link",spacing:"none",onClick:ue(n.id,o,i)},r.a.createElement(l.c,{id:"resolved-inline-comments-dialog.reply",defaultMessage:"{repliesCount, plural, one {# reply} other {# replies}}",description:"Please translate '# reply' and '# replies'. # will be replaced with the number. The end result is '1 reply' or '2 replies'",values:{repliesCount:a.length}}))):null),de(e,n)),r.a.createElement($,{show:o[n.id],replies:a}))}),r.a.createElement(b.a,{subject:m.a.resolvedInlineCommentsDialog}))})));function pe(){const e=Object(Z.a)(["\n  mutation ReopenInlineCommentMutation($commentId: ID!) @experimental {\n    experimentalReopenInlineComment(commentId: $commentId) {\n      result\n    }\n  }\n"]);return pe=function(){return e},e}const ge=te()(pe());n.d(t,"ResolvedInlineCommentsDialog",(function(){return Ee}));const be=Object(l.g)({title:{id:"resolved-inline-comments-dialog.title",defaultMessage:"Resolved comments",description:"Title of the resolved inline comments dialog"},error:{id:"resolved-inline-comments-dialog.error",defaultMessage:"An error occurred. Please try again later.",description:"Dialog content body when error happens in inline comments dialog"},close:{id:"resolved-inline-comments-dialog.close",defaultMessage:"Close",description:"Close button for the dialog"}}),ye=()=>null;function he(e,t){const{intl:n,createAnalyticsEvent:a,onClose:r=ye}=e;return e=>{t.showErrorFlag({title:n.formatMessage(be.error)}),a({type:"sendTrackEvent",data:{action:"error",actionSubject:"query",attributes:{componentVersion:"v2",errorMessage:e.message},source:"ResolvedInlineCommentsDialog"}}).fire(),r()}}const Ee=Object(s.a)()(Object(l.h)(e=>{const{intl:t,createAnalyticsEvent:n,spaceKey:l,contentId:s,focusedCommentId:g,onClose:b=ye}=e;return Object(a.useEffect)(()=>{n&&n({type:"sendTrackEvent",data:{action:"opened",actionSubject:"dialog",attributes:{componentVersion:"v2"},source:"ResolvedInlineCommentsDialog"}}).fire()},[s]),r.a.createElement(a.Fragment,null,r.a.createElement(u.a,{subject:m.a.resolvedInlineCommentsDialog,markBeforeMount:!0}),r.a.createElement(o.c,{to:[d.a]},n=>r.a.createElement(c.a,{heading:t.formatMessage(be.title),actions:[{text:t.formatMessage(be.close),onClick:b}],width:"large"},r.a.createElement(f.a,{attribution:p.a.BACKBONE},r.a.createElement(i.a,{mutation:ge},t=>r.a.createElement(i.b,{query:oe,variables:{contentId:s},fetchPolicy:"cache-and-network",onError:he(e,n)},({data:e,loading:n,error:a})=>{if(n||a)return r.a.createElement(I,null);if(!e||!e.experimentalResolvedInlineComments)return r.a.createElement(h,null);const o=e.experimentalResolvedInlineComments.nodes;return o.length?r.a.createElement(fe,{spaceKey:l,contentId:s,focusedCommentId:g,comments:o,reopenInlineComment:t,onClose:b}):r.a.createElement(h,null)}))))))}))},EFtY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("ERkP")),r=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=function(e){return a.default.createElement(r.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 0 0 2 0V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 1 0-1.414-1.414l-8 8a1 1 0 0 0 1.414 1.414z"/></g></svg>'},e))};l.displayName="ShortcutIcon";var c=l;t.default=c},EcEE:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ERkP"),r=n.n(a),o=n("L21V"),i=n("WA38"),l=n("TVRZ"),c=n("bR0+");const s=({userId:e,fullName:t,isAnonymous:n=!1,onUserLinkClick:a=(()=>{}),canViewProfile:s=!0,referralSource:d})=>n?r.a.createElement(o.c,{id:"profile.anonymous.name",defaultMessage:"Anonymous",description:"Text for Anonymous user profile link."}):r.a.createElement(l.a,{isAnonymous:n,canViewProfile:s,userId:e},r.a.createElement(i.a,{target:"_blank",onClick:a,href:Object(c.a)(e,d)},t))},KuFb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("7+Q0");const r={[a.b.DEFAULT]:"full-page",[a.b.FULL_WIDTH]:"full-width"},o=e=>{const t=r[e];return t||i()},i=()=>r[a.b.DEFAULT]},TVRZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ERkP"),r=n.n(a),o=n("gOKa"),i=n("Ua4J"),l=n("/FQd"),c=n("bR0+");const s=new o.b({url:"/gateway/api/directory/graphql",cacheSize:100,cacheMaxAge:3e5}),d=({position:e="bottom-start",userId:t,isAnonymous:n=!1,canViewProfile:d=!0,children:u,trigger:m="hover"})=>{const{push:f}=Object(a.useContext)(i.a);return r.a.createElement(l.a,null,({userId:a,cloudId:i})=>{return l=a,!n&&d&&t&&l?r.a.createElement(o.a,{cloudId:i,userId:t,resourceClient:s,position:e,trigger:m,actions:[{label:"View profile",id:"view-profile",callback:()=>(async e=>{const t=await Object(c.b)(e);f(t)})(t),shouldRender:e=>(e=>!!e&&(e.status&&"inactive"!==e.status))(e)}]},u):u;var l})};d.displayName="ProfileCardWrapper"},"aJ+w":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"e",(function(){return g}));var a="CUSTOM",r="FREQUENT",o="allUploadsCustomCategory",i="userUploadsCustomCategory",l="data:",c="delete-emoji",s=1e5,d=20,u=350,m=295,f="fabric.emoji",p=f+".selectedTone",g=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"]},hATe:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n.n(a),o=n("bz/o"),i=n("7M9M"),l=n("TVRZ");const c=({userId:e,canViewProfile:t=!0,isAnonymous:n=!1,size:c="medium",src:s,trigger:d})=>{const[u,m]=Object(a.useState)(s);return Object(a.useEffect)(()=>{m(!n&&t&&s?s:"".concat(i.CONTEXT_PATH,"/images/icons/profilepics/anonymous.png"))},[n,t,s]),r.a.createElement(l.a,{userId:e,canViewProfile:t,isAnonymous:n,trigger:d},r.a.createElement(o.a,{src:u,size:c,target:"_blank",enableTooltip:!t}))};c.displayName="ProfileAvatar"},i4Pk:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("cxan"),r=n("HbGN"),o=n("ERkP"),i=n.n(o),l=n("1U1M"),c=n("82Bo"),s=n("jPWM"),d=n("3VMZ"),u=n("hpu0"),m=n("KuFb"),f=n("adTp"),p=n("08ix"),g=n("X2PC");const b=Object(o.memo)(Object(p.a)({attribution:g.a.BACKBONE})(e=>{var t;let{contentId:n,contentType:p,appearance:g}=e,b=Object(r.a)(e,["contentId","contentType","appearance"]);const[y,h]=Object(o.useState)(null),{data:E,error:v}=Object(l.c)(s.a,{variables:{contentId:n},fetchPolicy:"cache-and-network",context:{single:!0}}),j=Object(o.useCallback)((e,t)=>{let n=d.a.VIEW_INLINE_COMMENT_TOP_LEVEL;"inlineReply"===e&&(n=d.a.VIEW_INLINE_COMMENT_REPLY),Object(u.a)().fail({name:n,error:t})},[p,v]);if(!n)return null;if(v)throw j(p,v),v;let I=null,M=g;const C=null!=(t=E)&&null!=(t=t.content)&&null!=(t=t.nodes)?t[0]:t;try{var O;!M&&C&&(M=Object(m.a)(Object(f.d)(C).appearance));const e=null!=(O=E)&&null!=(O=O.content)&&null!=(O=O.nodes)&&null!=(O=O[0])&&null!=(O=O.body)&&null!=(O=O.atlas_doc_format)?O.value:O;I=e?JSON.parse(e):null}catch(e){throw j(p,e),e}return i.a.createElement("div",{ref:e=>h(e),"data-test-appearance":M},i.a.createElement(c.a,Object(a.a)({contentId:n,document:I,appearance:M,portalRef:y},b)))}))},jPWM:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("KD1n"),r=n("H5qd"),o=n.n(r),i=n("j+hl");function l(){const e=Object(a.a)(["\n  query ContentRendererQuery($contentId: ID) {\n    content(id: $contentId) {\n      nodes {\n        id\n        body {\n          atlas_doc_format {\n            value\n          }\n        }\n        space {\n          id\n          key\n        }\n        type\n        ...contentAppearancePublishedFragment\n      }\n    }\n  }\n\n  ","\n"]);return l=function(){return e},e}const c=o()(l(),i.b)},nYST:function(e,t,n){"use strict";n.d(t,"p",(function(){return i})),n.d(t,"o",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"l",(function(){return s})),n.d(t,"n",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"q",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return I})),n.d(t,"e",(function(){return M}));var a=n("D57K"),r=n("/9an"),o=n("aJ+w"),i=function(e){return!(!e||!e.spriteRef)},l=function(e){return!(!e||!e.sprite)},c=function(e){return!(!e||!e.imagePath)},s=function(e){return!(!e||!e.mediaPath)},d=function(e){return!(!e||!e.then)},u=function(e){return e&&e.shortName&&e.type},m=function(e){return s(e.representation)},f=function(e){return e.category===o.b&&(t=e.representation,c(t)&&0===t.imagePath.indexOf(o.d));var t},p=function(e){return!(!e||!e.skinVariations)},g=function(e){return"baseId"in e},b=function(e){return e in r.a},y=function(e){return{shortName:e.shortName,id:e.id,fallback:e.fallback}},h=function(e,t){if(!t)return!1;for(var n=0;n<e.length;n++)if((a=e[n])===(r=t)||a&&r&&a.id===r.id&&a.shortName===r.shortName)return!0;var a,r;return!1},E=function(e){return{mediaPath:e.imagePath,height:e.height,width:e.width}},v=function(e,t){return{imagePath:t||e.mediaPath,height:e.height,width:e.width}},j=function(e,t,n){var r=e.representation,o=e.altRepresentation,i=n?void 0:t,l=n?t:void 0;if(!s(r)&&!s(o))return e;var c=s(r)?v(r,i):r,d=s(o)?v(o,l):o,u=Object(a.__assign)(Object(a.__assign)({},e),{representation:c});return I(u,d)},I=function(e,t){return t?Object(a.__assign)(Object(a.__assign)({},e),{altRepresentation:t}):e},M=function(e){return e.category}},q9qF:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));const a={MACRO_CORE:"com.atlassian.confluence.macro.core",MIGRATION:"com.atlassian.confluence.migration"},r={INVALID:"__confluenceADFMigrationUnsupportedContentInternalExtension__"},o={UNSUPPORTED_EXTENSION:"unsupportedExtension",INVALID_ADF:"invalidAdf"},i={INLINE_EXTERNAL_IMAGE:"inline-external-image",INLINE_MEDIA_IMAGE:"inline-media-image"}}}]);
//# sourceMappingURL=resolved-inline-comments-dialog~b59ad437.ShiMrG6s-v39.js.map