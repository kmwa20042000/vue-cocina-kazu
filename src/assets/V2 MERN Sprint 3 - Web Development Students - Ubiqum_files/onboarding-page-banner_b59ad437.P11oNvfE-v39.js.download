(window.webpackJsonp=window.webpackJsonp||[]).push([["onboarding-page-banner~b59ad437"],{RWap:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var r=t("tQaH"),o=t.n(r),a=t("VrFO"),i=t.n(a),s=t("N+ot"),c=t.n(s),l=t("AuHH"),u=t.n(l),d=t("1Pcy"),p=t.n(d),f=t("5Yy7"),b=t.n(f),m=t("KEM+"),g=t.n(m),h=t("d5FS"),y={isResizing:!1,isResizeDisabled:!1,isCollapsed:!1,productNavWidth:t("Zs2s").b},v=function(e){function n(e,t){var r;i()(this,n),r=c()(this,u()(n).call(this)),g()(p()(r),"getCache",void 0),g()(p()(r),"setCache",void 0),g()(p()(r),"isCollapsedStore",void 0),g()(p()(r),"storeState",(function(e){r.setState(e);var n=r.state,t=n.isCollapsed,o=n.productNavWidth;r.setCache&&r.setCache({isCollapsed:t,productNavWidth:o})})),g()(p()(r),"collapse",(function(){r.state.isResizeDisabled||r.storeState({isCollapsed:!0})})),g()(p()(r),"expand",(function(){r.state.isResizeDisabled||r.storeState({isCollapsed:!1})})),g()(p()(r),"toggleCollapse",(function(){(r.state.isCollapsed?r.expand:r.collapse)()})),g()(p()(r),"manualResizeStart",(function(e){var n=e.productNavWidth,t=e.isCollapsed;r.state.isResizeDisabled||r.storeState({isResizing:!0,productNavWidth:n,isCollapsed:t})})),g()(p()(r),"manualResizeEnd",(function(e){var n=e.productNavWidth,t=e.isCollapsed;r.state.isResizeDisabled||r.storeState({isResizing:!1,productNavWidth:n,isCollapsed:t})})),g()(p()(r),"enableResize",(function(){var e="boolean"==typeof r.isCollapsedStore?r.isCollapsedStore:r.state.isCollapsed;r.setState({isCollapsed:e,isResizeDisabled:!1})})),g()(p()(r),"disableResize",(function(){r.isCollapsedStore=r.state.isCollapsed,r.setState({isCollapsed:!1,isResizeDisabled:!0})}));var a={};if(t){var s=t.get,l=t.set,d=s();if(d)a={isCollapsed:d.isCollapsed,productNavWidth:d.productNavWidth};r.getCache=s,r.setCache=l}var f=o()({},y,a,e),b=f.isCollapsed;return e&&e.isResizeDisabled&&(r.isCollapsedStore=b,b=!1),r.state=o()({},f,{isCollapsed:b}),r}return b()(n,e),n}(h.a)},UKBV:function(e,n,t){"use strict";t.r(n);var r=t("ERkP"),o=t.n(r),a=t("gQ5V"),i=t("2sr0"),s=t("/FQd"),c=t("cphC"),l=t("qrCQ"),u=t("lPJD"),d=t("KD1n"),p=t("H5qd"),f=t.n(p);function b(){const e=Object(d.a)(["\n  mutation OnboardingPageBannerCompleteOnboardingMutation @experimental {\n    experimentalCompleteOnboarding {\n      complete\n    }\n  }\n"]);return b=function(){return e},e}const m=f()(b());function g(){const e=Object(d.a)(["\n  query OnboardingPageBannerOnboardingStatusQuery @experimental {\n    experimentalGetCompleteOnboarding {\n      complete\n    }\n  }\n"]);return g=function(){return e},e}const h=f()(g());var y=t("Uo/y");var v=t("pkwY"),C=t("L21V"),E=t("KsTJ"),S=t("dDc+"),O=t("WCbN"),j=t.n(O),w=t("/sMe"),R=t("RfuI");const P=Object(R.a)({name:"ContentBanner",loader:()=>t.e("page-banner~4fc30e1e").then(t.bind(null,"R/XO")).then(({ContentBanner:e})=>e),loading:()=>null});function z(){const e=Object(d.a)(["\n  width: 100%;\n  text-align: center;\n"]);return z=function(){return e},e}function k(){const e=Object(d.a)(["\n  margin-top: 0;\n  margin-left: 12px;\n  float: right;\n  margin-top: 5px;\n"]);return k=function(){return e},e}function x(){const e=Object(d.a)(["\n  color: ",";\n"]);return x=function(){return e},e}function B(){const e=Object(d.a)(["\n  color: ",";\n  display: inline;\n  margin-top: 0;\n  margin: 0 12px;\n"]);return B=function(){return e},e}const N=Object(C.g)({mainContent:{id:"onboarding.banner.main.content",description:"Main text to be displayed inside of the onboarding banner",defaultMessage:"Welcome to Confluence! Would you like to learn more?"},learnMore:{id:"onboarding.banner.learn.more",description:"Text inside of button for onboarding banner",defaultMessage:"Take a Tour"}}),W=E.default.p(B(),S.colors.N0),_=E.default.p(x(),S.colors.N0),M=E.default.a(k()),I=E.default.div(z()),D=e=>{const{intl:n,createAnalyticsEvent:t,completeOnboarding:a,stop:i,uiController:s}=e,c=n.formatMessage(N.mainContent),l=n.formatMessage(N.learnMore);Object(r.useEffect)(()=>{i&&i()},[]);const u=e=>()=>{s.expand(),(()=>{const e=window.location.pathname;window.sessionStorage.setItem("onboardingPageRedirect",e)})(),t({type:"sendUIEvent",data:{source:"onboardingBanner",action:"clicked",actionSubject:"bannerLink",actionSubjectId:"onboardingBannerLearnMore"}}).fire(),t({type:"sendOperationalEvent",data:{action:"exposed",actionSubject:"feature",actionSubjectId:"engagement.inproduct.EP-1216",source:"engagement-platform",attributes:{flagKey:"engagement.inproduct.EP-1216"}}}).fire(),e(),a()},d=(e,n)=>{const{buttonStyles:t,spinnerStyles:r}=e(n);return{buttonStyles:Object(v.a)({},t,{background:S.colors.P200,"&:hover":{background:S.colors.P100,textDecoration:"none"}}),spinnerStyles:r}};return o.a.createElement(P,null,e=>{return o.a.createElement(I,null,void t({type:"sendScreenEvent",data:{name:"onboardingBanner",action:"rendered",actionSubject:"banner",actionSubjectId:"onboardingBanner"}}).fire(),o.a.createElement(W,null,c),o.a.createElement(w.a,{href:"#",theme:d,onClick:u(e.hide)},o.a.createElement(_,null,l)),o.a.createElement(M,{href:"#",onClick:(n=e.hide,()=>{t({type:"sendUIEvent",data:{source:"onboardingBanner",action:"clicked",actionSubject:"bannerLink",actionSubjectId:"onboardingBannerDismissed"}}).fire(),n(),a()})},o.a.createElement(j.a,{label:"dismiss",size:"medium",primaryColor:S.colors.N0})));var n})};D.displayName="OnboardingPageBannerComponent";const T=Object(C.h)(D);t.d(n,"OnboardingPageBanner",(function(){return q}));const U=e=>{const{createAnalyticsEvent:n,coordinationClient:t}=e,r=e=>{e.message.includes("unauthorized")||n({type:"sendTrackEvent",data:{name:"onboardingBannerQueryFailed",action:"failed",actionSubject:"banner",actionSubjectId:"onboardingBanner"}}).fire()};return o.a.createElement(s.a,null,({featureFlagClient:e,userId:i})=>i?o.a.createElement(a.b,{query:h,onError:r,fetchPolicy:"no-cache"},({loading:i,data:s,error:c})=>{var d;if(i)return null;c&&r(c);const p=Boolean(null!=(d=s)&&null!=(d=d.experimentalGetCompleteOnboarding)?d.complete:d),f=(e=>e.getBooleanValue("confluence.frontend.onboarding.banner",{default:!1,shouldTrackExposureEvent:!0})&&Object(y.a)())(e),b=!p&&f;return o.a.createElement(a.a,{mutation:m},e=>b?o.a.createElement(l.a,null,r=>o.a.createElement(u.a,{client:t,messageId:"confluence-onboarding-banner"},o.a.createElement(T,{completeOnboarding:e,uiController:r,createAnalyticsEvent:n}))):null)}):null)};U.displayName="OnboardingPageBanner";const q=Object(c.a)(Object(i.a)()(U))},WCbN:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("ERkP")),o=a(t("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 0 0-.712.003l-.7.701a.496.496 0 0 0-.004.712l3.185 3.184L7.4 15.185a.507.507 0 0 0 .004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 0 0 .712-.004l.701-.7a.496.496 0 0 0 .003-.712l-3.186-3.186 3.186-3.184a.507.507 0 0 0-.003-.712l-.7-.7a.508.508 0 0 0-.36-.153.5.5 0 0 0-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorCloseIcon";var c=s;n.default=c},Zs2s:function(e,n,t){"use strict";t.d(n,"i",(function(){return r})),t.d(n,"j",(function(){return o})),t.d(n,"k",(function(){return a})),t.d(n,"e",(function(){return i})),t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return c})),t.d(n,"d",(function(){return l})),t.d(n,"c",(function(){return u})),t.d(n,"g",(function(){return d})),t.d(n,"f",(function(){return p})),t.d(n,"h",(function(){return f}));var r="0.22s",o=220,a="cubic-bezier(0.2, 0, 0, 1)",i=350,s=200,c=240,l=232,u=20,d=64,p=200,f=56},d5FS:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"c",(function(){return m})),t.d(n,"b",(function(){return g}));var r=t("ERkP"),o=t.n(r),a=t("H59W"),i=t.n(a),s=t("aWzz"),c=t.n(s),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var p=i()(null),f=function(){function e(){d(this,e),this._listeners=[]}return e.prototype.setState=function(e){this.state=Object.assign({},this.state,e),this._listeners.forEach((function(e){return e()}))},e.prototype.subscribe=function(e){this._listeners.push(e)},e.prototype.unsubscribe=function(e){this._listeners=this._listeners.filter((function(n){return n!==e}))},e}(),b={},m=function(e){function n(){var t,r;d(this,n);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=r=u(this,e.call.apply(e,[this].concat(a))),r.state={},r.instances=[],r.onUpdate=function(){r.setState(b)},u(r,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.componentWillUnmount=function(){this._unsubscribe()},n.prototype._unsubscribe=function(){var e=this;this.instances.forEach((function(n){n.unsubscribe(e.onUpdate)}))},n.prototype._createInstances=function(e,n){var t=this;if(this._unsubscribe(),null===e)throw new Error("You must wrap your <Subscribe> components with a <Provider>");var r=e,o=n.map((function(e){var n=void 0;return"object"===(void 0===e?"undefined":l(e))&&e instanceof f?n=e:(n=r.get(e))||(n=new e,r.set(e,n)),n.unsubscribe(t.onUpdate),n.subscribe(t.onUpdate),n}));return this.instances=o,o},n.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(n){return e.props.children.apply(null,e._createInstances(n,e.props.to))}))},n}(o.a.Component);function g(e){return o.a.createElement(p.Consumer,null,(function(n){var t=new Map(n);return e.inject&&e.inject.forEach((function(e){t.set(e.constructor,e)})),o.a.createElement(p.Provider,{value:t},e.children)}))}m.propTypes={to:c.a.array.isRequired,children:c.a.func.isRequired}},qrCQ:function(e,n,t){"use strict";var r=t("l1C2"),o=(t("ERkP"),t("d5FS")),a=[t("RWap").a];n.a=function(e){var n=e.children;return Object(r.f)(o.c,{to:a},n)}}}]);
//# sourceMappingURL=onboarding-page-banner~b59ad437.P11oNvfE-v39.js.map