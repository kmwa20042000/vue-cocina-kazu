(window.webpackJsonp=window.webpackJsonp||[]).push([["cardui-postonboarding-spotlight-coordinator~aea5bb3b"],{"44iz":function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o("HKB3");const a=(t,e=!0)=>((t,e)=>t.getVariantValue("confluence.frontend.nux.onboarding.v1",{default:n.a.NOT_ENROLLED,oneOf:[n.a.EXPERIMENT,n.a.NOT_ENROLLED,n.a.CONTROL],shouldTrackExposureEvent:e}))(t,e)===n.a.EXPERIMENT},HKB3:function(t,e,o){"use strict";let n;o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return a})),function(t){t.NOT_ENROLLED="not-enrolled",t.CONTROL="control",t.EXPERIMENT="experiment"}(n||(n={}));const a=Object.keys(n).map(t=>n[t])},P2IS:function(t,e,o){"use strict";let n,a;o.d(e,"a",(function(){return a})),o.d(e,"d",(function(){return i})),o.d(e,"e",(function(){return s})),o.d(e,"b",(function(){return c})),o.d(e,"c",(function(){return r})),function(t){t.started="started",t.viewed="viewed",t.failed="failed",t.skipped="skipped",t.ended="ended"}(n||(n={})),function(t){t.postOnboardingSpotlight="postOnboardingSpotlight",t.spaceSpotlight="spaceSpotlight",t.homeOnboardingSpotlight="homeOnboardingSpotlight",t.sharedLinkSpotlight="sharedLinkSpotlight",t.onboarding="onboarding"}(a||(a={}));const i=t=>()=>({type:"sendTrackEvent",data:{action:n.started,source:a.onboarding,actionSubject:t,actionSubjectId:"spotlight"}}),s=(t,e)=>()=>({type:"sendTrackEvent",data:{action:n.viewed,source:a.onboarding,actionSubject:e,actionSubjectId:t}}),c=t=>()=>({type:"sendTrackEvent",data:{action:n.ended,source:a.onboarding,actionSubject:t,actionSubjectId:"spotlight"}}),r=t=>()=>({type:"sendTrackEvent",data:{action:n.skipped,source:a.onboarding,actionSubject:t,actionSubjectId:"spotlight"}})},iCkr:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o("L21V");const a=Object(n.g)({nextButton:{id:"onboarding-spotlight-coordinator.spotlight.next.button",defaultMessage:"Next",description:"Button to navigate to the next spotlight"},doneButton:{id:"onboarding-spotlight-coordinator.spotlight.done.button",defaultMessage:"Done",description:"Button to complete the spotlight tour"},showMeButton:{id:"onboarding-spotlight-coordinator.spotlight.get.started.button",defaultMessage:"Get started",description:"Button to show the user spotlight tour"},welcomeHome:{id:"onboarding-spotlight-coordinator.spotlight.welcome",defaultMessage:"Welcome",description:"Message introducing the user to beginning of spotlight tour"},modalBodyV2:{id:"onboarding-spotlight-coordinator.spotlight.modal.body.v2",defaultMessage:"You've arrived at your shared workspace where knowledge and teamwork come together. Let's quickly learn the basics.",description:"Description of the shared link page"},modalBody:{id:"onboarding-spotlight-coordinator.spotlight.modal.body",defaultMessage:"Confluence is a workspace for your team to share knowledge and collaborate. Let's learn the basics.",description:"Description of the shared link page"},spacesSectionHeadingV2:{id:"onboarding-spotlight-coordinator.spotlight.spaces.section.heading.v2",defaultMessage:"Welcome to the space",description:"Heading of what content is shown in the spaces section"},spacesSectionBodyV2:{id:"onboarding-spotlight-coordinator.spotlight.spaces.section.body.v2",defaultMessage:"Your space contains your team's work.",description:"Description of what content is shown in the spaces section"},spacesSectionBody:{id:"onboarding-spotlight-coordinator.spotlight.spaces.section.body",defaultMessage:"Keep your content organized with spaces. Spaces can be for a team of people, for a project, or for a certain audience.",description:"Description of what content is shown in the spaces section"},pageTreeHeadingV2:{id:"onboarding-spotlight-coordinator.spotlight.page.tree.heading.v2",defaultMessage:"Pages",description:"Heading of what content is shown in the page tree section"},pageTreeBodyV2:{id:"onboarding-spotlight-coordinator.spotlight.page.tree.body.v2",defaultMessage:"Your space contains your team's work.",description:"Description of what content is shown in the page tree section"},pageTreeBody:{id:"onboarding-spotlight-coordinator.spotlight.page.tree.body",defaultMessage:"Each space has it's own page tree. You can drag and drop a page to move it around.",description:"Description of what content is shown in the page tree section"},pageWatchHeadingV2:{id:"onboarding-spotlight-coordinator.spotlight.page.watch.heading.v2",defaultMessage:"Page watched",description:"Heading of what watching a page is"},pageWatchBodyV2:{id:"onboarding-spotlight-coordinator.spotlight.page.watch.body.v2",defaultMessage:"We've watched this page for you. You'll get notified about changes made to this page.",description:"Description of what watching a page is"},pageWatchBody:{id:"onboarding-spotlight-coordinator.spotlight.page.watch.body",defaultMessage:"You can watch a page to get notifications about it. This page has been automatically watched for you.",description:"Description of what watching a page is"},spaceWatchHeadingV2:{id:"onboarding-spotlight-coordinator.spotlight.space.watch.heading.v2",defaultMessage:"Space watched",description:"Heading of what watching a space is"},spaceWatchBodyV2:{id:"onboarding-spotlight-coordinator.spotlight.space.watch.body.v2",defaultMessage:"We've watched this space for you. You'll get notified about changes made to pages within this space.",description:"Description of what watching a space is"},spaceWatchBody:{id:"onboarding-spotlight-coordinator.spotlight.space.watch.body",defaultMessage:"We've watched this space for you so you'll get notified about changes made to pages within this space.",description:"Description of what watching a space is"},unwatchButton:{id:"onboarding-spotlight-coordinator.spotlight.unwatch.button",defaultMessage:"Unwatch",description:"Button to navigate to the unwatch page or space"},pageWatchSpotlight:{id:"onboarding-spotlight-coordinator.page-watch.spotlight",defaultMessage:"When you watch a space, you'll receive notifications about changes and updates to all pages within a space.",description:"Page Watch Spotlight"},welcome:{id:"onboarding-spotlight-coordinator.spotlight.welcome.home",defaultMessage:"Welcome home",description:"Message introducing the user to beginning of spotlight tour on home"},welcomeHomeBody:{id:"onboarding-spotlight-coordinator.spotlight.welcome.home.body",defaultMessage:"Start your day here by quickly accessing the spaces and pages you frequent, and see all the latest updates across your site.",description:"Message body for introducing home"},homeSpacesHeader:{id:"onboarding-spotlight-coordinator.home-space.header",defaultMessage:"Your spaces",description:"Your spaces"},homeSpacesDesc:{id:"onboarding-spotlight-coordinator.home-space.desc",defaultMessage:"New spaces you star or visit will appear here.",description:"Explanation of Spaces section on Home"},skip:{id:"onboarding-spotlight-coordinator.skip",defaultMessage:"Skip",description:"Skip"},viewSpace:{id:"onboarding-spotlight-coordinator.view",defaultMessage:"View space",description:"View space"}})},nQrF:function(t,e,o){"use strict";o.r(e);var n=o("ERkP"),a=o.n(n),i=o("lPJD"),s=o("cphC"),c=o("oZlZ"),r=o("44iz"),d=o("T20J"),g=o("L21V"),p=o("E3RG"),l=o("iCkr"),h=o("P2IS");const u=({stop:t})=>{const{createAnalyticsEvent:e}=Object(d.a)(),[o,i]=Object(n.useState)(0),[,s]=Object(n.useState)({}),c=()=>{i(o+1)},r=[{target:"space-switcher-spotlight",buttonText:l.a.nextButton,onClick:c,spotlightBody:l.a.spacesSectionBody},{target:"page-tree-spotlight",buttonText:l.a.nextButton,onClick:c,spotlightBody:l.a.pageTreeBody},{target:"page-watch-spotlight",buttonText:l.a.doneButton,onClick:()=>{u(Object(h.b)(h.a.postOnboardingSpotlight)),i(-1),t&&t()},spotlightBody:l.a.pageWatchSpotlight}],u=t=>{e(t()).fire()};Object(n.useEffect)(()=>{u(Object(h.d)(h.a.postOnboardingSpotlight))},[]),Object(n.useEffect)(()=>{if(o>=0){const t=r[o].target,n=Object(h.e)(t,h.a.postOnboardingSpotlight);e(n()).fire(),s({})}},[o]);const b=r.map(({target:t,buttonText:e,onClick:o,spotlightBody:n},i)=>a.a.createElement(p.a,{key:t,actions:[{onClick:o,text:a.a.createElement(g.c,e)}],dialogPlacement:"bottom left",target:t,actionsBeforeElement:"".concat(i+1,"/").concat(r.length),targetBgColor:"white",targetRadius:5},a.a.createElement(g.c,n)));return o>=0?b[o]:null};o.d(e,"CardUIPostOnboardingSpotlightCoordinator",(function(){return b}));const b=Object(s.a)(Object(c.b)(({coordinationClient:t,isAdmin:e,completedOnboarding:o})=>sessionStorage.getItem("displayPostOnboardingSpotlight")&&o&&!e?(sessionStorage.removeItem("displayPostOnboardingSpotlight"),a.a.createElement(i.a,{client:t,messageId:"confluence-post-onboarding"},a.a.createElement(u,null))):null,r.a,!1))},oZlZ:function(t,e,o){"use strict";var n=o("cxan"),a=o("ERkP"),i=o.n(a),s=o("1U1M"),c=o("T20J"),r=o("tvZK"),d=o("KD1n"),g=o("H5qd"),p=o.n(g);function l(){const t=Object(d.a)(["\n  query OnboardingStatus @experimental {\n    experimentalGetCompleteOnboarding {\n      complete\n    }\n  }\n"]);return l=function(){return t},t}const h=p()(l());function u(){const t=Object(d.a)(["\n  query AdminStatus($cloudId: String!) @experimental {\n    experimentalDrsEligibility(cloudId: $cloudId) {\n      isAdmin\n    }\n  }\n"]);return u=function(){return t},t}const b=p()(u());o.d(e,"b",(function(){return f})),o.d(e,"a",(function(){return w}));const f=(t,e,o=!0)=>a=>{const{loading:s,error:c,isAdmin:d,completedOnboarding:g}=w(),{featureFlagClient:p,locale:l,userId:h,cloudId:u}=Object(r.a)();return s||c?null:((t,n,a)=>Boolean(t)&&e(n,o,a,u)&&-1!==a.toLowerCase().indexOf("en",0))(h,p,l)?i.a.createElement(t,Object(n.a)({},a,{isAdmin:d||!1,completedOnboarding:g||!1})):null},w=()=>{var t,e;const{createAnalyticsEvent:o}=Object(c.a)(),n=t=>e=>{o({type:"sendTrackEvent",data:{action:"failed",source:"onboardingUserInfo",actionSubject:"onboarding",actionSubjectId:t,attributes:{error:e.message}}}).fire()},{cloudId:a}=Object(r.a)(),{data:i,loading:d,error:g}=Object(s.c)(h,{onError:n("onboardingStatus"),fetchPolicy:"no-cache"}),{data:p,loading:l,error:u}=Object(s.c)(b,{variables:{cloudId:a},onError:n("adminStatus")});if(d||l)return{loading:!0};if(g||u)return{error:g||u};const f=Boolean(null!=(e=i)&&null!=(e=e.experimentalGetCompleteOnboarding)?e.complete:e);return{loading:!1,isAdmin:Boolean(null!=(t=p)&&null!=(t=t.experimentalDrsEligibility)?t.isAdmin:t),completedOnboarding:f}}}}]);
//# sourceMappingURL=cardui-postonboarding-spotlight-coordinator~aea5bb3b.5sXiTEFa-v39.js.map