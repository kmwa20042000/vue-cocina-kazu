(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{Sl8s:function(e,t,n){"use strict";class o{convertConnectOptions(e){return window._AP._convertConnectOptions(e).options}}var i=n("pkwY"),r=n("HbGN"),a=n("zjfJ");class s{constructor({showFlag:e,hideFlag:t}){Object(a.a)(this,"create",e=>{let{body:t,actions:n}=e,o=Object(r.a)(e,["body","actions"]);return this.showFlag(Object(i.a)({},o,{description:t,actions:n.map(e=>({key:e.actionKey,content:e.actionText,onClick:e.executeAction})),onClose:()=>{o.onClose(o.id)}})),{flagId:o.id,close:()=>{this.hideFlag(o.id)}}}),this.showFlag=e,this.hideFlag=t}}class c{constructor({showFlag:e,hideFlag:t}){Object(a.a)(this,"_createMessageType",e=>(t,n,o)=>{const{id:i}=this.showFlag({type:e,title:t,description:n,actions:[],close:o.fadeout?"auto":"manual",onClose:()=>{const e=this.messageIDs[o.id];"function"==typeof e.onClose&&e.onClose(),delete this.messageIDs[o.id]}});this.messageIDs[o.id]={id:i}}),Object(a.a)(this,"error",this._createMessageType("error")),Object(a.a)(this,"generic",this._createMessageType("info")),Object(a.a)(this,"hint",this._createMessageType("info")),Object(a.a)(this,"info",this._createMessageType("info")),Object(a.a)(this,"success",this._createMessageType("success")),Object(a.a)(this,"warning",this._createMessageType("warning")),Object(a.a)(this,"clear",e=>{const t=this.messageIDs[e];t&&(this.hideFlag(t.id),delete this.messageIDs[e])}),Object(a.a)(this,"onClose",(e,t)=>{const n=this.messageIDs[e];n&&(n.onClose=t)}),this.showFlag=e,this.hideFlag=t,this.messageIDs={}}}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}))},fuv9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("ERkP"),i=n("S2j0");const r=({wrm:e,children:t})=>{const[n,r]=Object(o.useState)({loaded:!1,modules:[]});return Object(o.useEffect)(()=>{Object(i.a)(e,e=>{r({loaded:!0,modules:e})},()=>{})},[e]),n.loaded&&t?t(n.modules):null}},rTQP:function(e,t,n){"use strict";var o,i,r=new(function(){function e(){}return e.prototype.trigger=function(e,t,n){},e.prototype.markAsSafe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return e}},e.prototype.dangerouslyCreateSafeString=function(e){return e},e}()),a=new(function(){function e(){}return e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.debug.apply(console,arguments)},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.info.apply(console,arguments)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.warn.apply(console,arguments)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error.apply(console,arguments)},e}()),s=function(){function e(){this.debugEnabled=!1,this.infoEnabled=!0}return e.prototype.isDebugEnabled=function(){return this.debugEnabled},e.prototype.isInfoEnabled=function(){return this.infoEnabled},e.prototype.enableDebug=function(){return console.info("Enabling debug..."),this.debugEnabled=!0,"Debug level logging is now enabled.   ۜ(סּںסּَ` )/ۜ"},e.prototype.disableDebug=function(){return console.info("Disabling debug..."),this.debugEnabled=!1,"Debug level logging is now disabled. ε(´סּ︵סּ`)з"},e.prototype.enableInfo=function(){return console.info("Enabling info..."),this.infoEnabled=!0,"Info level logging is now enabled. 【ツ】"},e.prototype.disableInfo=function(){return console.info("Disabling info..."),this.debugEnabled=!1,this.infoEnabled=!1,"Info level logging is now disabled. (-.-)Zzz..."},e}(),c=new(function(){function e(){this.loggerAPI=a,this.loggerController=new s,window._loggerController=this.loggerController}return e.prototype.registerLoggerAPI=function(e){this.loggerAPI=e},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{this.loggerController.isDebugEnabled()&&this.loggerAPI.debug.apply(this.loggerAPI,arguments)}catch(e){}},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{this.loggerController.isInfoEnabled()&&this.loggerAPI.info.apply(this.loggerAPI,arguments)}catch(e){}},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{this.loggerAPI.warn.apply(this.loggerAPI,arguments)}catch(e){var o=console.warn||console.log;o&&o.apply(o,arguments)}},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{this.loggerAPI.error.apply(this.loggerAPI,arguments)}catch(e){var o=console.error||console.log;o&&o.apply(o,arguments)}},e}()),l=function(){function e(){this.loggingEnabled=!1}return e.prototype.isLoggingEnabled=function(){return this.loggingEnabled},e.prototype.enableAnalyticsLogging=function(){return console.info("Enabling analytics logging..."),this.loggingEnabled=!0,"Analytics logging is now enabled. (>'-')> <('_'<) ^('_')- m/(-_-)m/ <( '-')> _( .\")> <( ._.)-`"},e.prototype.disableAnalyticsLogging=function(){return console.info("Disabling analytics logging..."),this.loggingEnabled=!1,"Analytics logging is now disabled. ¯\\_(ツ)_/¯"},e}(),d=new(function(){function e(){this.analyticsAPI=r,this.analyticsController=new l,window._analyticsController=this.analyticsController}return e.prototype.registerAnalyticsAPI=function(e){this.analyticsAPI=e},e.prototype.trigger=function(e,t,n,o){try{this.analyticsAPI.trigger(e,t,n,o),this.analyticsController.isLoggingEnabled()&&c.info("Analytics:",e,t,n,o)}catch(e){c.warn("Exception trapped triggering analytics event",e)}},e.prototype.markAsSafe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.analyticsAPI.markAsSafe?(e=this.analyticsAPI).markAsSafe.apply(e,t):r.markAsSafe.apply(r,t)},e.prototype.dangerouslyCreateSafeString=function(e){return this.analyticsAPI.dangerouslyCreateSafeString?this.analyticsAPI.dangerouslyCreateSafeString(e):r.dangerouslyCreateSafeString(e)},e}()),u=n("D57K"),f=function(){function e(){this.moduleNamesToModules=new Map}return e.prototype.registerModule=function(e,t){var n=e.getModuleRegistrationName();this.moduleNamesToModules.set(n,e);var o=e.getSimpleXdmDefinitionBuilder().buildSimpleXdmDefinition();this.registerModuleWithHost(n,o)},e.prototype.getModuleByName=function(e){return this.moduleNamesToModules.get(e)},e.prototype.getProviderByModuleName=function(e){var t=this.moduleNamesToModules.get(e);return t&&t.isEnabled()?t.getProvider():void 0},e}(),p=(new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(t,e),t.prototype.registerModuleWithHost=function(e,t){},t.prototype.getProviderByModuleName=function(t){return e.prototype.getProviderByModuleName.call(this,t)},t}(f)),new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(t,e),t.prototype.registerModuleWithHost=function(e,t){},t}(f)),n("ERkP")),g=n("aWzz");!function(e){e.dialog="dialog",e.iframe="iframe",e.inlineDialog="inlineDialog"}(o||(o={})),function(e){e.create="create",e.close="close",e.error="error",e.timeout="timeout",e.established="established"}(i||(i={}));var h,m=[i.create,i.close,i.error,i.timeout,i.established],y=[],v=!0,b=function(e){var t=y.find((function(t){return e.extension.id===t.getId()}));if(t){var n=t.getIFrameLifecycleEventManager();n&&n.iframeEstablishedCallback(e)}},I=function(e){var t=y.find((function(t){return e.extension.id===t.getId()}));if(t){var n=t.getIFrameLifecycleEventManager();n&&n.iframeUnloadCallback(e)}},E=function(e){var t=this;this.reset=function(){y=[],v=!0},this.unregister=function(e){var n=y.indexOf(e);n>-1&&y.splice(n,1),t.clearTimeoutDetectionProcessing()},this.iframeEstablishedCallback=function(e){c.debug("Established iframe for add-on ",e.extension.addon_key,e),t.connectIframe.props.connectIframeProvider.handleIframeLoadingComplete&&t.connectIframe.props.connectIframeProvider.handleIframeLoadingComplete(e.extension.addon_key);var n=(new Date).getTime()-t.creationTimeMs,r={hostFrameOffset:d.dangerouslyCreateSafeString((t.connectIframe.props.options.hostFrameOffset||1).toString()),durationToLoadMs:d.dangerouslyCreateSafeString(n.toString())};d.trigger(o.iframe,d.markAsSafe.apply(d,m)(i.established),d.dangerouslyCreateSafeString(e.extension.addon_key),r),t.connectIframe.iframeEstablishedCallback(),t.clearTimeoutDetectionProcessing()},this.iframeUnloadCallback=function(e){c.debug("Unloaded iframe for add-on ",e.extension.id,e),t.connectIframe.props.connectIframeProvider.handleIframeUnload&&t.connectIframe.props.connectIframeProvider.handleIframeUnload(e.extension.id);var n=(new Date).getTime()-t.creationTimeMs,r={hostFrameOffset:d.dangerouslyCreateSafeString((t.connectIframe.props.options.hostFrameOffset||1).toString()),sessionDurationMs:d.dangerouslyCreateSafeString(n.toString())};d.trigger(o.iframe,d.markAsSafe.apply(d,m)(i.close),d.dangerouslyCreateSafeString(e.extension.id),r)},this.startTimeoutDetectionProcessing=function(){c.debug("Starting iframe timed out processing for add-on ",t.connectIframe.props.appKey);var e=t.getLoadingTimeout();t.timeoutHandle=window.setTimeout((function(){c.warn("Add-on iframe timed out for add-on ",t.connectIframe.props.appKey),t.timeoutHandle=0,t.connectIframe.props.connectIframeProvider.handleIframeLoadTimeout&&t.connectIframe.props.connectIframeProvider.handleIframeLoadTimeout(t.connectIframe.props.appKey,t.connectIframe.iframeFailedToLoadCallback.bind(t));var e={hostFrameOffset:d.dangerouslyCreateSafeString((t.connectIframe.props.options.hostFrameOffset||1).toString())};d.trigger(o.iframe,d.markAsSafe.apply(d,m)(i.timeout),d.dangerouslyCreateSafeString(t.connectIframe.props.appKey),e),t.connectIframe.iframeTimeoutCallback()}),e)},this.getLoadingTimeout=function(){var e=t.connectIframe.props.connectIframeProvider.getLoadingTimeoutMilliseconds?t.connectIframe.props.connectIframeProvider.getLoadingTimeoutMilliseconds(t.connectIframe.props.appKey):12e3;return e&&e>0?e:12e3},this.clearTimeoutDetectionProcessing=function(){t.timeoutHandle&&(c.debug("Clearing iframe timed out timer for add-on ",t.connectIframe.props.appKey),window.clearTimeout(t.timeoutHandle),t.timeoutHandle=0)},this.creationTimeMs=(new Date).getTime(),this.connectIframe=e,y.push(e),v&&(this.connectIframe.props.connectHost.onIframeEstablished(b),this.connectIframe.props.connectHost.onIframeUnload(I),v=!1),this.startTimeoutDetectionProcessing(),this.connectIframe.props.connectIframeProvider.handleIframeLoadingStarted&&this.connectIframe.props.connectIframeProvider.handleIframeLoadingStarted(this.connectIframe.props.appKey)},w=Object.freeze({INIT:Symbol("init"),LOADED:Symbol("loaded"),FAILED:Symbol("failed"),TIMEOUT:Symbol("timeout"),LOADING:Symbol("loading"),RESOLVING:Symbol("resolving")}),D=function(e){function t(t){var n=e.call(this,t)||this;return n.unmountCallbacks=[],n.resize=function(e,t){n.setState({width:e,height:t})},n.sizeToParent=function(){n.setState({width:"100%",height:"100%"})},n.registerUnmountCallback=function(e){n.unmountCallbacks.push(e)},n.hideInlineDialog=function(){n.props.connectIframeProvider.onHideInlineDialog&&n.props.connectIframeProvider.onHideInlineDialog()},n.getId=function(){return n.iframeAttributes?n.iframeAttributes.id:null},n.getIFrameLifecycleEventManager=function(){return n.iframeLifecycleEventManager},n.iframeEstablishedCallback=function(){n.setState({loadingState:w.LOADED})},n.iframeFailedToLoadCallback=function(){n.setState({loadingState:w.FAILED})},n.iframeTimeoutCallback=function(){n.setState({loadingState:w.TIMEOUT})},n._createIFrameLifecycleManager=function(){n.iframeLifecycleEventManager=new E(n)},n._unregisterIFrameLifecycleManager=function(){n.iframeLifecycleEventManager&&n.iframeLifecycleEventManager.unregister(n)},n._createExtension=function(){var e=n.props.connectHost.createExtension({addon_key:n.iframeContext.appKey,key:n.iframeContext.moduleKey,url:n.iframeContext.url,options:Object.assign({},n.iframeContext.options,{resize:n.resize.bind(n),sizeToParent:n.sizeToParent.bind(n),registerUnmountCallback:n.registerUnmountCallback.bind(n),_contextualOperations:{hideInlineDialog:n.hideInlineDialog.bind(n)}})});n.iframeAttributes=e.iframeAttributes,c.debug("Created iframe for add-on ",n.iframeContext.appKey,n.iframeAttributes),d.trigger(o.iframe,d.markAsSafe.apply(d,m)(i.create),d.dangerouslyCreateSafeString(n.iframeContext.appKey),{})},n._destroyExtension=function(){n.iframeAttributes&&n.props.connectHost.destroy(n.iframeAttributes.id)},n._isSubIframe=function(){return n.state.hostFrameOffset&&n.state.hostFrameOffset>1},n._initialise=function(){if(n.props.children&&n.props.connectIframeProvider.onStoreNestedIframeJSON){var e=n.props.children.props;n.props.connectIframeProvider.onStoreNestedIframeJSON(e)}if(n._isSubIframe())n.setState({loadingState:w.LOADING});else{if(n._createIFrameLifecycleManager(),!n.props.connectIframeProvider.resolveIframeContext)return n._createExtension(),void n.setState({loadingState:w.LOADING});n.props.connectIframeProvider.resolveIframeContext(n.iframeContext,n.props.connectHost).then((function(e){e.appKey!==n.props.appKey||e.moduleKey!==n.props.moduleKey?c.warn("Iframe context changed during resolution"):(n.iframeContext=e,n._createExtension(),n.setState({loadingState:w.LOADING}))}))}},n.state={width:t.width,height:t.height,loadingState:w.INIT,hostFrameOffset:t.options.hostFrameOffset||1},n.iframeContext={url:t.url,appKey:t.appKey,moduleKey:t.moduleKey,options:t.options},n}return u.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.appKey===e.appKey&&this.props.moduleKey===e.moduleKey||(this._unregisterIFrameLifecycleManager(),this._destroyExtension(),this.setState({width:e.width,height:e.height,hostFrameOffset:e.options.hostFrameOffset||1,loadingState:w.INIT}))},t.prototype.componentWillUnmount=function(){this.unmountCallbacks.forEach((function(e){return e()})),this._unregisterIFrameLifecycleManager(),this._destroyExtension()},t.prototype.render=function(){var e={position:"relative",width:"100%"===this.state.width?"100%":"auto",height:"100%"===this.state.height?"100%":"auto"},t=this.state.loadingState===w.LOADING||this.state.loadingState===w.TIMEOUT?{opacity:0}:{};switch(this.state.loadingState){case w.LOADED:case w.LOADING:case w.TIMEOUT:return p.createElement("div",{style:e},this.state.loadingState===w.TIMEOUT?p.createElement(this.props.timeoutIndicator,{failedCallback:this.iframeFailedToLoadCallback.bind(this)}):null,this.state.loadingState===w.LOADING?p.createElement(this.props.loadingIndicator,null):null,this._isSubIframe()?this.props.children:p.createElement("iframe",u.__assign({frameBorder:"0",width:this.state.width,height:this.state.height,style:t},this.iframeAttributes,{referrerPolicy:"no-referrer"}),this.props.children));case w.FAILED:return p.createElement("div",{style:{height:this.state.height}},p.createElement(this.props.failedToLoadIndicator,null));case w.INIT:case w.RESOLVING:default:return null}},t.prototype.componentDidMount=function(){this.state.loadingState===w.INIT&&(this.setState({loadingState:w.RESOLVING}),this._initialise())},t.prototype.componentDidUpdate=function(){this.state.loadingState===w.INIT&&(this.setState({loadingState:w.RESOLVING}),this._initialise())},t.propTypes={connectHost:g.object.isRequired,appKey:g.string.isRequired,moduleKey:g.string.isRequired,loadingIndicator:g.func,failedToLoadIndicator:g.func,timeoutIndicator:g.func,url:g.string,width:g.string,height:g.string,options:g.object,connectIframeProvider:g.object},t.defaultProps={options:{},connectIframeProvider:{},failedToLoadIndicator:function(){return null},loadingIndicator:function(){return null},timeoutIndicator:function(){return null}},t}(p.PureComponent);!function(e){e.MIN_REGISTRATION_NAME_LENGTH=1,e.MAX_REGISTRATION_NAME_LENGTH=50}(h||(h={}));var S,P=function(e){function t(t){return e.call(this,t)||this}return u.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=this.getModuleRegistrationName();c.debug("Mounting module",t,"..."),this.validateRegistrationName(t),e.adaptor.registerModule(this,e);var n=this.state;n.enabled=!0,n.registered=!0,this.setState(n)},t.prototype.setEnabled=function(e){var t=this.state;t.enabled=e,this.setState(t)},t.prototype.isEnabled=function(){return this.state.enabled},t.prototype.componentWillUnmount=function(){},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.validateRegistrationName=function(e){if(!e||e.length<h.MIN_REGISTRATION_NAME_LENGTH)throw new Error("The registration name is too short (< "+h.MIN_REGISTRATION_NAME_LENGTH+" characters).");if(e.length>h.MAX_REGISTRATION_NAME_LENGTH)throw new Error("The registration name is too long (> "+h.MAX_REGISTRATION_NAME_LENGTH+" characters).");if(!e.match(/^[a-z]+$/i))throw new Error("The registration name must only contain alphabetic characters.")},t.prototype.render=function(){return null},t}(p.Component),_=function(){function e(e){if(!e)throw new Error("flagProvider is not defined");this.flagProvider=e}return e.prototype.buildSimpleXdmDefinition=function(){var e=this.flagProvider,t=function(){function t(t,n){t.id=n._id;var o=n._id,i=[];"object"==typeof t.actions&&(i=Object.getOwnPropertyNames(t.actions).map((function(e){return{actionKey:e,actionText:t.actions[e],executeAction:function(){console.log('This needs to be implemented by broadcasting a "flag-action-invoked" event.')}}})));var r={id:o,title:t.title,body:t.body,actions:i,onClose:function(){console.log('This needs to be implemented by broadcasting a "flag.close" event.')},close:t.close,type:t.type.toLowerCase()};this.flag=e.create(r)}return t.prototype.close=function(){this.flag.close()},t}();return{create:{constructor:t,close:t.prototype.close}}},e}();!function(e){e.FLAG_MODULE_NAME="flag";var t=function(e,t){this.adaptor=e,this.flagProvider=t};e.Props=t;var n=function(e){this.enabled=!0,this.registered=!1,this.flagProvider=e,this.simpleXdmDefinitionBuilder=new _(e)};e.State=n}(S||(S={}));var A,M=function(e){function t(t){return e.call(this,t)||this}return u.__extends(t,e),t.prototype.componentWillMount=function(){if(!this.props.flagProvider)throw new Error("this.props.flagProvider is not defined");this.setState(new S.State(this.props.flagProvider))},t.prototype.getModuleRegistrationName=function(){return S.FLAG_MODULE_NAME},t.prototype.getSimpleXdmDefinitionBuilder=function(){return this.state.simpleXdmDefinitionBuilder},t.prototype.getProvider=function(){return this.props.flagProvider},t.prototype.render=function(){return null},t}(P),O=(function(){function e(){}e.prototype.hide=function(e){e.extension.options._contextualOperations&&e.extension.options._contextualOperations.hideInlineDialog&&"function"==typeof e.extension.options._contextualOperations.hideInlineDialog?(e.extension.options._contextualOperations.hideInlineDialog(),c.debug("Hiding inline dialog..."),d.trigger(o.inlineDialog,i.close,e.extension.addon_key,{})):(c.warn("Attempted to hide the inline dialog for a malformed app: ",e),d.trigger(o.inlineDialog,i.error,e.extension.addon_key,{message:"No hideInlineDialog function"}))}}(),function(){function e(e){if(!e)throw new Error("dialogProvider is not defined");this.dialogProvider=e}return e.prototype.buildSimpleXdmDefinition=function(){return{}},e}());!function(e){e.DIALOG_MODULE_NAME="dialog";var t=function(e,t){this.adaptor=e,this.dialogProvider=t};e.Props=t;var n=function(e){this.enabled=!0,this.registered=!1,this.dialogProvider=e,this.simpleXdmDefinitionBuilder=new O(e)};e.State=n}(A||(A={}));!function(e){function t(t){return e.call(this,t)||this}u.__extends(t,e),t.prototype.componentWillMount=function(){if(!this.props.dialogProvider)throw new Error("this.props.dialogProvider is not defined");this.setState(new A.State(this.props.dialogProvider))},t.prototype.getModuleRegistrationName=function(){return A.DIALOG_MODULE_NAME},t.prototype.getSimpleXdmDefinitionBuilder=function(){return this.state.simpleXdmDefinitionBuilder},t.prototype.getProvider=function(){return this.props.dialogProvider},t.prototype.render=function(){return null}}(P);var T,x=function(){function e(e){if(!e)throw new Error("dropdownProvider is not defined");this.dropdownProvider=e}return e.prototype.buildSimpleXdmDefinition=function(){return{}},e}();!function(e){e.DROPDOWN_MODULE_NAME="dropdown";var t=function(e,t){this.adaptor=e,this.dropdownProvider=t};e.Props=t;var n=function(e){this.enabled=!0,this.registered=!1,this.dropdownProvider=e,this.simpleXdmDefinitionBuilder=new x(e)};e.State=n}(T||(T={}));!function(e){function t(t){return e.call(this,t)||this}u.__extends(t,e),t.prototype.componentWillMount=function(){if(!this.props.dropdownProvider)throw new Error("this.props.dropdownProvider is not defined");this.setState(new T.State(this.props.dropdownProvider))},t.prototype.getModuleRegistrationName=function(){return T.DROPDOWN_MODULE_NAME},t.prototype.getSimpleXdmDefinitionBuilder=function(){return this.state.simpleXdmDefinitionBuilder},t.prototype.getProvider=function(){return this.props.dropdownProvider},t.prototype.render=function(){return null}}(P);var C,N=function(){function e(e){if(!e)throw new Error("inlineDialogProvider is not defined");this.inlineDialogProvider=e}return e.prototype.buildSimpleXdmDefinition=function(){return{}},e}();!function(e){e.INLINE_DIALOG_MODULE_NAME="inlineDialog";var t=function(e,t){this.adaptor=e,this.inlineDialogProvider=t};e.Props=t;var n=function(e){this.enabled=!0,this.registered=!1,this.inlineDialogProvider=e,this.simpleXdmDefinitionBuilder=new N(e)};e.State=n}(C||(C={}));!function(e){function t(t){return e.call(this,t)||this}u.__extends(t,e),t.prototype.componentWillMount=function(){if(!this.props.inlineDialogProvider)throw new Error("this.props.inlineDialogProvider is not defined");this.setState(new C.State(this.props.inlineDialogProvider))},t.prototype.getModuleRegistrationName=function(){return C.INLINE_DIALOG_MODULE_NAME},t.prototype.getSimpleXdmDefinitionBuilder=function(){return this.state.simpleXdmDefinitionBuilder},t.prototype.getProvider=function(){return this.props.inlineDialogProvider},t.prototype.render=function(){return null}}(P);var L,k=function(){function e(e){if(!e)throw new Error("messageProvider is not defined");this.messageProvider=e}return e.prototype.buildSimpleXdmDefinition=function(){return{}},e}();!function(e){e.MESSAGE_MODULE_NAME="messages";var t=function(e,t){this.adaptor=e,this.messageProvider=t};e.Props=t;var n=function(e){this.enabled=!0,this.registered=!1,this.messageProvider=e,this.simpleXdmDefinitionBuilder=new k(e)};e.State=n}(L||(L={}));var F=function(e){function t(t){return e.call(this,t)||this}return u.__extends(t,e),t.prototype.componentWillMount=function(){if(!this.props.messageProvider)throw new Error("this.props.messageProvider is not defined");this.setState(new L.State(this.props.messageProvider))},t.prototype.getModuleRegistrationName=function(){return L.MESSAGE_MODULE_NAME},t.prototype.getSimpleXdmDefinitionBuilder=function(){return this.state.simpleXdmDefinitionBuilder},t.prototype.getProvider=function(){return this.props.messageProvider},t.prototype.render=function(){return null},t}(P),B=function(){function e(){}return e.checkExists=function(e,t){if(!t)throw new Error(e+" does not exist.")},e.checkPropertyExists=function(t,n,o){var i=n[o];if(!i)throw new Error("Expected "+t+" to have a property: "+o+".");if(e.isFunction(i))throw new Error(t+" has a property "+o+", but it is a function.")},e.checkFunctionExists=function(t,n,o){var i=n[o];if(!i)throw new Error("Expected "+t+" to have a function: "+o+".");if(!e.isFunction(i))throw new Error(t+" has a property "+o+", but it is a "+(typeof i+" (value: "+i+")")+" rather than a function.")},e.isFunction=function(e){return"function"==typeof e},e}(),R=(function(){function e(){}e.validate=function(e){B.checkFunctionExists("dialogProvider",e,"create"),B.checkFunctionExists("dialogProvider",e,"close"),B.checkFunctionExists("dialogProvider",e,"setButtonDisabled"),B.checkFunctionExists("dialogProvider",e,"isButtonDisabled"),B.checkFunctionExists("dialogProvider",e,"toggleButton"),B.checkFunctionExists("dialogProvider",e,"setButtonHidden"),B.checkFunctionExists("dialogProvider",e,"isButtonHidden"),B.checkFunctionExists("dialogProvider",e,"isActiveDialog");var t={key:"my-dialog",size:"medium",width:"100%",height:"50px",chrome:!1,header:"My header",actions:[{identifier:"my-action",text:"Some Action",onClick:function(){!0}}],closeOnEscape:!0,hint:"this is a test"},n={addon_key:"foo-app",key:"foo-key",options:{}};e.create(t,n);setTimeout((function(){if(!e.isActiveDialog("foo-app"))throw new Error("The dialog should be active");if(e.isActiveDialog("bogus_app"))throw new Error("The dialog should not be active");if(e.isButtonDisabled("my-action"))throw new Error("Button should be enabled by default");if(e.setButtonDisabled("my-action",!0),!e.isButtonDisabled("my-action"))throw new Error("Button should have been disabled.");if(e.toggleButton("my-action"),e.isButtonDisabled("my-action"))throw new Error("Button should have been re-enabled.");if(e.isButtonHidden("my-action"))throw new Error("Button should be visible by default");if(e.setButtonHidden("my-action",!0),!e.isButtonHidden("my-action"))throw new Error("Button should have been hidden.");e.close()}),0)}}(),function(){}),G=(function(){function e(){}e.validate=function(t){B.checkFunctionExists("flagProvider",t,"create"),B.checkFunctionExists("flagProvider",t,"isFlagOpen"),e.validateFlagCreationAndDeletions(t,"manual"),e.validateFlagCreationAndDeletions(t,"auto"),e.validateFlagCreationAndDeletions(t,"never")},e.validateFlagCreationAndDeletions=function(t,n){var o=[];e.validateFlagCreationAndDeletion(t,n,o,!1);var i=new R;i.actionKey="some-action",i.actionText="Some Action",i.executeAction=function(){console.log("Action clicked")},o.push(i),e.validateFlagCreationAndDeletion(t,n,o,!1);var r=new R;r.actionKey="some-action",r.actionText="Some Action",o[0]=r,e.validateFlagCreationAndDeletion(t,n,o,!0)},e.validateFlagCreationAndDeletion=function(e,t,n,o){var i=new Map,r={id:"flag-"+(new Date).getMilliseconds(),title:"My Flag",body:"My flag content",type:"success",close:t,onClose:function(e){i.delete(e)},actions:n};try{var a=e.create(r);if(o)throw new Error("Expected a validation error, but did not get one.");if(i.set(a.id,a),B.checkExists("flag",a),B.checkFunctionExists("flag",a,"close"),"auto"!==t)if(!e.isFlagOpen(a.id))throw new Error("Expected flag to exist.");if(a.close(),i.size)throw new Error("It looks like the provider did not synchronously call back the onClose method.")}catch(e){if(!o)throw new Error("Did not expect a validation error, but got one.")}}}(),function(){function e(){this.inlineDialogOpen=!0}return e.prototype.resize=function(e,t){throw new Error("Not implemented yet")},e.prototype.sizeToParent=function(){throw new Error("Not implemented yet")},e.prototype.hideInlineDialog=function(){this.inlineDialogOpen=!1},e.prototype.isInlineDialogOpen=function(){return this.inlineDialogOpen},e}()),K=function(e,t,n,o){this.addon_key=e,this.id=t,this.key=n,this.options=o},H=function(e,t,n,o){this.autoresize=e,this.widthinpx=t,this.hostFrameOffset=n,this._contextualOperations=o},U=function(){function e(e){this.extension=e}return e.buildNewInstance=function(){var t=new G,n=new H(!0,!0,1,t),o=(new Date).getMilliseconds();return new e(new K("foo","foo__bar__"+o,"bar",n))},e}();(function(){function e(){}e.validate=function(e){B.checkFunctionExists("inlineDialogProvider",e,"hide");var t=U.buildNewInstance();e.hide(t)}})(),function(){function e(){}e.validate=function(e){B.checkFunctionExists("messageProvider",e,"clear"),B.checkFunctionExists("messageProvider",e,"onClose");["generic","hint","info","success","warning","error"].forEach((function(t){B.checkFunctionExists("messageProvider",e,t);var n="message-"+(new Date).getMilliseconds(),o="My Message",i="My message content",r={id:n,closeable:!0,fadeout:!0,delay:2e3,duration:4e3};"generic"===t?e.generic(o,i,r):"hint"===t?e.hint(o,i,r):"info"===t?e.info(o,i,r):"success"===t?e.success(o,i,r):"warning"===t?e.warning(o,i,r):"error"===t&&e.error(o,i,r),B.checkExists("messageId",n);var a=!1,s=!1;if(e.onClose(n,(function(){s=!0})),e.onClose("dummy-message-id",(function(){a=!0})),e.clear(n),!s)throw new Error("Expected onClose callback to be called after calling clear.");if(a)throw new Error("Did not expect the dummy onClose callback to be called.")}))}}();n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return F}))}}]);
//# sourceMappingURL=91.A3ARp5u5-v39.js.map