(window.webpackJsonp=window.webpackJsonp||[]).push([["macro-browser-overrides~d16a5355"],{"9S8K":function(e,t,a){"use strict";a.r(t);var n=a("Jygk"),o=a.n(n);function r(){const e=function(e){this.fileTypes=e};e.prototype.isInTinyMceEditor=function(){return o.a.tinymce&&!!o.a.tinymce.activeEditor},e.prototype.getCurrentTitle=function(){const e=o.a.AJS.Meta.get("content-type");if("page"===e||"blogpost"===e){if(this.isInTinyMceEditor())return document.getElementById("content-title").value;{const e=document.querySelector("[data-test-id=editor-title");return e?e.value:""}}return"comment"===e?o.a.AJS.Meta.get("page-title"):""},e.prototype.beforeParamsSet=function(e){if(e.page||e.date||e.space||(e.page=""),e.date){const t=e.date.split("/");e.page=["",t[2],t[0],t[1],e.page].join("/")}return e.space&&(e.page="".concat(e.space,":").concat(e.page)),e},e.prototype.beforeParamsRetrieved=function(e){if(e.page){const t=e.page.split(":");t.length>1&&(e.space=t[0],e.page=t[1]);const a=e.page.split("/");a.length>1&&(e.date=[a[2],a[3],a[1]].join("/"),e.page=a[4]),e.page===this.getCurrentTitle()&&delete e.page}return e},e.prototype.fields={attachment(e){const t=this,a={fileTypes:this.fileTypes},n=o.a.AJS.MacroBrowser.ParameterFields.attachment(e,a);return n.dependencyUpdated=function(e,a){o.a.AJS.log("attachment:dependencyUpdated called: ".concat(e,", ").concat(a));const n=function(e){const a={},n=e.split(":",2);return a.spaceKey=2==n.length&&n[0]||o.a.AJS.params.spaceKey,a.title=n[n.length-1],0==a.title.indexOf("/")&&(a.postingDay=a.title.substr(1,10),a.title=a.title.substr(12)),a.title===t.getCurrentTitle()&&(a.title=""),a.title||(o.a.AJS.Meta.get("new-page")?a.pageId=o.a.AJS.Meta.get("content-id"):a.pageId=o.a.AJS.Meta.get("page-id")),a}(a);this.getData(n)},n},spacekey:e=>o.a.AJS.MacroBrowser.ParameterFields._hidden(e,{}),date:e=>o.a.AJS.MacroBrowser.ParameterFields._hidden(e,{}),"confluence-content":function(e){return o.a.AJS.MacroBrowser.ParameterFields["confluence-content"](e,{dependencies:["name"]})}},o.a.AJS.MacroBrowser.Macros.viewdoc=new e(["doc","docx"]),o.a.AJS.MacroBrowser.Macros.viewpdf=new e(["pdf"]),o.a.AJS.MacroBrowser.Macros.viewxls=new e(["xls","xlsx"]),o.a.AJS.MacroBrowser.Macros.viewppt=new e(["ppt","pptx"]),o.a.AJS.MacroBrowser.Macros.viewfile={updateSelectedMacro(e){const t=e.params[""]||e.params.name;if(t){const a=t.lastIndexOf(".");if(a>0){const n=t.substring(a+1);n&&("doc"==n&&"docx"==n&&(e.name="viewdoc"),"pdf"==n&&(e.name="viewpdf"),"ppt"==n&&"pptx"==n&&(e.name="viewppt"),"xls"==n&&"xlsx"==n&&(e.name="viewxls"))}}}}}const c=[function(){r()}],i=e=>{const t=e.split(".");let a=o.a[t.shift()];for(;void 0!==a&&t.length;)a=a[t.shift()];return a},s=e=>{0};let p=!1;t.default=()=>{p||(p=!0,(({listener:e,globalProperty:t,interval:a=25},n)=>{if(i(t))return s("window.".concat(t," is already available for use by ").concat(e,".")),n(),null;const o=setInterval(()=>{s("".concat(e," is waiting for window.").concat(t," to be available")),i(t)&&(s("window.".concat(t," now available!")),clearInterval(o),n())},a)})({listener:"confluence-macro-browser-overrides/src/index",globalProperty:"AJS.MacroBrowser"},()=>{c.forEach((e,t)=>{try{e()}catch(e){}})}))}}}]);
//# sourceMappingURL=macro-browser-overrides~d16a5355.2D5keyCx-v39.js.map