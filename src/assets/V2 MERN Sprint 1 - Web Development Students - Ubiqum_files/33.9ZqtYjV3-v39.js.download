/*! For license information please see 33.9ZqtYjV3-v39.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[33,"@atlaskit-internal_media-editor-view~59f8a5b9"],{"+11O":function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("IJlJ"),a=n("/sMe"),s=n("dDc+"),c=n("A5BR"),l={danger:{default:{light:"inherit",dark:"inherit"},hover:{light:s.colors.N30A,dark:s.colors.N30A},active:{light:Object(c.J)(s.colors.B75,.6),dark:Object(c.J)(s.colors.B75,.6)}}},u={danger:{default:{light:s.colors.N400,dark:s.colors.DN400},hover:{light:s.colors.R300,dark:s.colors.R300},active:{light:s.colors.R300,dark:s.colors.R300}}},d=function(e,t){var n=t.appearance,r=void 0===n?"default":n,o=t.state,i=void 0===o?"default":o,a=t.mode,s=void 0===a?"light":a;return e[r]&&e[r][i]?e[r][i][s]:"initial"},p={padding:"0 2px","&[href]":{padding:"0 2px"}};t.a=function(e){var t=e.title,n=e.icon,s=e.iconAfter,c=e.onClick,f=e.onMouseEnter,h=e.onMouseLeave,m=e.selected,v=e.disabled,b=e.href,g=e.target,y=e.appearance,O=void 0===y?"subtle":y,w=e.children,E=e.className,k=e.tooltipContent,x=e.testId;return o.createElement(i.a,{content:k||t,hideTooltipOnClick:!0,position:"top"},o.createElement("div",{onMouseEnter:f,onMouseLeave:h},o.createElement(a.a,{className:E,theme:function(e,t){var n,o=e(t),i=o.buttonStyles,a=Object(r.__rest)(o,["buttonStyles"]);return Object(r.__assign)({buttonStyles:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},i),p),"danger"===O&&(n={appearance:O,state:t.state,mode:t.mode},{background:d(l,n),color:d(u,n)}))},a)},"aria-label":t,spacing:"compact",href:b,target:g,appearance:O,"aria-haspopup":!0,iconBefore:n||void 0,iconAfter:s,onClick:c,isSelected:m,isDisabled:v,testId:x},w)))}},"+Dky":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g}));var r=n("D57K"),o=n("I9T1"),i=n("Dsue"),a=n("7bKp"),s=n("DLwO"),c=n("/Xcd"),l=n("JxnG");function u(e,t,n){var r=t.$from,i=t.$to,s=e.schema.nodes.listItem,c=r.blockRange(i,(function(e){return!!e.childCount&&!!e.firstChild&&e.firstChild.type===s}));if(!c||c.depth<2||r.node(c.depth-1).type!==s)return n;var l=c.end,u=i.end(c.depth);return l<u&&(n.step(new a.ReplaceAroundStep(l-1,u,l,u,new o.Slice(o.Fragment.from(s.create(void 0,c.parent.copy())),1,0),1,!0)),c=new o.NodeRange(n.doc.resolve(r.pos),n.doc.resolve(u),c.depth)),n.lift(c,Object(a.liftTarget)(c)).scrollIntoView()}function d(e,t,n,r,o){var a=e.schema.nodes.listItem,s=!1;return o.doc.nodesBetween(t,n,(function(n,c){if(!s&&n.type===a&&c>t){s=!0;for(var l=r+3;l>r+2;){var d=o.doc.resolve(o.mapping.map(c));l=d.depth;var p=o.doc.resolve(o.mapping.map(c+n.textContent.length)),f=new i.TextSelection(d,p);o=u(e,f,o)}}})),o}function p(e,t){var n=e.selection,r=n.from,o=n.to,i=e.schema.nodes.paragraph,a=[];t.doc.nodesBetween(r,o,(function(e,t){e.type===i&&a.push({node:e,pos:t})}));for(var c=a.length-1;c>=0;c--){var l=a[c],u=t.doc.resolve(t.mapping.map(l.pos));if(u.depth>0){var d=void 0;d=l.node.textContent&&l.node.textContent.length>0?t.doc.resolve(t.mapping.map(l.pos+l.node.textContent.length)):t.doc.resolve(t.mapping.map(l.pos+1));var p=u.blockRange(d);p&&t.lift(p,Object(s.a)(e.schema,u))}}return t}var f=/^\s*[\*\-\u2022](\s*|$)/,h=/^\s*\d[\.\)](\s+|$)/,m=function(e,t){var n,a=t.nodes,s=a.hardBreak,u=a.bulletList,d=a.orderedList,p=Object(c.c)(e.content,(function(e){return e})),m=[u,d],v=p.map((function(e){var n=function(e,t){if(!e.text)return null;var n=t.nodes,r=n.bulletList,o=n.orderedList;return[{node:r,matcher:f},{node:o,matcher:h}].reduce((function(t,n){if(t)return t;var r=e.text.match(n.matcher);return r?[n.node,r[0].length]:t}),null)}(e,t);if(!n||!e.text)return e;var o=Object(r.__read)(n,2),i=o[0],a=o[1],s=e.text.substr(a),c=t.nodes.listItem.createAndFill(void 0,t.nodes.paragraph.createChecked(void 0,s.length?t.text(s):void 0));return c?i.createChecked(void 0,[c]):e})).filter((function(e,t,n){return e.type!==s?e:t>0&&m.indexOf(n[t-1].type)>-1?null:t<n.length-1&&m.indexOf(n[t+1].type)>-1?null:e})),b=i.EditorState.create({schema:t});Object(l.autoJoin)((function(e,t){return!!t&&(t(e.tr.replaceWith(0,2,v)),!0)}),(function(){return!0}))(b,(function(e){n=e}));var g=n?n.doc.content:o.Fragment.from(v),y=t.nodes.paragraph;return y.validContent(g)?o.Fragment.from(y.create(e.attrs,g,e.marks)):g},v=function(e,t){var n=[],r=[],i=null,a=t.nodes,s=a.hardBreak,c=a.paragraph;return e.forEach((function(e){if(i&&i.type===s&&e.type===s)return r.pop(),n.push(c.createChecked(void 0,r)),void(r=[]);r.push(e),i=e})),r.length&&n.push(c.createChecked(void 0,r)),o.Fragment.from(n.length?n:[c.createAndFill()])},b=function(e,t){var n=!1;if(e.content.forEach((function(e){n=n||e.marks.some((function(e){return e.type===t.marks.code}))})),t.nodes.paragraph.validContent(e.content)&&!n){var r=v(e.content,t);return new o.Slice(r,e.openStart+1,e.openEnd+1)}return Object(c.e)(e,(function(e,n){return e.type===t.nodes.paragraph?v(e.content,t):e}))},g=function(e,t){return Object(c.e)(e,(function(e,n){return e.type===t.nodes.paragraph?m(e,t):e}))}},"+ELd":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)},e.prototype.off=function(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)},e.prototype.emit=function(e,t){this.listeners[e]&&this.listeners[e].forEach((function(e){return e(t)}))},e.prototype.destroy=function(){this.listeners={}},e}();function o(e){return function(t,n){if(!t)throw new Error("event name is required!");var r="string"==typeof t?t:t.key;e.emit(r,n)}}},"+FLw":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D57K"),o=n("m23B"),i=n("Dsue");function a(e,t){return void 0===t&&(t=!1),function(n,a){if(!a)return!1;if(t){var s=n.tr,c=n.selection,l=c.$from.marks();return a(s.setSelection(i.TextSelection.create(s.doc,c.$from.pos-1,c.$from.pos)).replaceSelectionWith(n.doc.type.schema.text(e,Object(r.__spread)([n.schema.marks.typeAheadQuery.create({trigger:e})],l)),!1)),!0}return a(Object(o.safeInsert)(n.schema.text(e,[n.schema.marks.typeAheadQuery.create({trigger:e})]))(n.tr)),!0}}},"+jwJ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 0 0 .473.66h1.032a.75.75 0 0 0 .717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 0 0 .717.53h1.113a.5.5 0 0 0 .473-.66L9.337 6.677A1 1 0 0 0 8.39 6H7.207a1 1 0 0 0-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 0 1 1-1H20a1 1 0 0 1 1 1v6.078a1 1 0 0 1-1 1h-.151a1 1 0 0 1-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorTextStyleIcon";var c=s;t.default=c},"+rIR":function(e,t,n){"use strict";var r=n("D57K"),o=n("zS/y"),i=n("0Hbo"),a=n("m23B"),s=n("ERkP"),c=n.n(s),l=n("Wtp3"),u=n("XoQQ"),d=n("fjMk"),p=n("N01o"),f=n("lMAd"),h=n("lt2v"),m=n("Ft3U"),v=n("rTsN"),b=n("gguW"),g=n("QwXr");function y(){var e={};return l.bindKeymapWithCommand(l.nextCell.common,Object(b.e)(1),e),l.bindKeymapWithCommand(l.previousCell.common,Object(b.e)(-1),e),l.bindKeymapWithCommand(l.toggleTable.common,Object(d.e)({action:p.a.INSERTED,actionSubject:p.b.DOCUMENT,actionSubjectId:p.c.TABLE,attributes:{inputMethod:p.e.SHORTCUT},eventType:p.d.TRACK})(v.a),e),l.bindKeymapWithCommand(l.backspace.common,Object(g.e)(p.e.KEYBOARD),e),l.bindKeymapWithCommand(l.backspace.common,b.g,e),l.bindKeymapWithCommand(l.addRowBefore.common,Object(g.a)("TOP"),e),l.bindKeymapWithCommand(l.addRowAfter.common,Object(g.a)("BOTTOM"),e),l.bindKeymapWithCommand(l.addColumnBefore.common,Object(b.s)(i.addColumnBefore),e),l.bindKeymapWithCommand(l.addColumnAfter.common,i.addColumnAfter,e),Object(m.keymap)(e)}var O,w=n("eZO1"),E=n("PnZS"),k=n("L21V"),x=n("xzME"),_=n.n(x),T=n("238x"),C=n("LrSM"),S=n("ad10"),j=Object(k.g)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"}}),M=function(e,t){var n=t.formatMessage,r=w.e.getState(e),o=E.d.getState(e);if(r&&r.tableRef&&r.pluginConfig){var i=r.pluginConfig;return{title:"Table floating controls",getDomRef:function(){return r.tableWrapperTarget},nodeType:e.schema.nodes.table,offset:[0,3],items:[{type:"dropdown",title:n(j.tableOptions),hidden:!(i.allowHeaderRow&&i.allowHeaderColumn),options:[{title:n(j.headerRow),onClick:Object(g.m)(),selected:r.isHeaderRowEnabled,hidden:!i.allowHeaderRow},{title:n(j.headerColumn),onClick:Object(g.l)(),selected:r.isHeaderColumnEnabled,hidden:!i.allowHeaderColumn},{title:n(j.numberedColumn),onClick:Object(g.n)(),selected:Object(S.c)(e),hidden:!i.allowNumberColumn}]},{type:"separator",hidden:!(i.allowBackgroundColor&&i.allowHeaderRow&&i.allowHeaderColumn&&i.allowMergeCells)},{type:"button",appearance:"danger",icon:_.a,onClick:Object(g.d)(),disabled:!!o&&!!o.dragging,onMouseEnter:Object(C.f)(!0),onMouseLeave:Object(C.a)(),title:n(T.a.remove)}]}}},A=n("17eC"),R=n("KsTJ"),N=n("PLaw"),I=n.n(N),P=n("gON+"),D=n("9O50"),L=n("mGva"),B=Object(k.g)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column",description:"Add a new column to your table."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Remove {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row",description:"Add a new row to your table."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Remove {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."}}),z=n("Cl5k"),H=n("kbCE"),F=R.default.div(O||(O=Object(r.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),P.f),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(z.b)()(n,r)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.mountPoint,n=e.scrollableElement,r=e.editorView,o=e.targetCellPosition,i=e.isContextualMenuOpen,c=e.intl.formatMessage,l=r.domAtPos.bind(r),u=Object(a.findDomRefAtPos)(o,l);if(!(u&&u instanceof HTMLElement))return null;var d=Object(H.j)(u,"."+L.c.TABLE_NODE_WRAPPER),p=c(B.cellOptions);return s.createElement(A.a,{alignX:"right",alignY:"start",target:u,mountTo:d||t,boundariesElement:u,scrollableElement:n,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0},s.createElement(F,null,s.createElement(D.a,{className:L.c.CONTEXTUAL_MENU_BUTTON,selected:i,title:p,onClick:this.handleClick,iconBefore:s.createElement(I.a,{label:p})})))},t.prototype.shouldComponentUpdate=function(e){return this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled},t.displayName="FloatingContextualButton",t}(s.Component),W=Object(k.h)(U),K=n("Rr/J"),V=n("gaA/"),G=n("A+BJ"),q=n("bVaD"),$=n("cvKH"),Y=n("2Hc1"),X=n("mKtu"),J=n("puzq"),Z=n("aToR"),Q=[];o.e.forEach((function(e,t){var n=e.toLowerCase().replace(" ","-"),r=Object(J.a)(Z.a,n);Q.push({value:t,label:e,border:o.c,message:r})}));var ee=Q,te=Object(k.g)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A → Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z → A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:"⚠️ You can't sort a table with merged cells",description:"Split your cells to enable this feature"}}),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSubmenuOpen:!1},t.handleSubMenuRef=function(e){var n=Object(H.j)(t.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(n&&e){var r=n.getBoundingClientRect(),o=e.getBoundingClientRect();o.left+o.width>r.width&&(e.style.left="-"+o.width+"px")}},t.createItems=function(){var e=t.props,n=e.allowMergeCells,o=e.allowColumnSorting,a=e.allowBackgroundColor,c=e.editorView.state,u=e.isOpen,d=e.selectionRect,p=e.intl.formatMessage,f=e.editorView,h=[],m=t.state.isSubmenuOpen,v=Object(w.d)(f.state).targetCellPosition;if(a){var b=u&&v?c.doc.nodeAt(v):null,g=b&&b.attrs.background?b.attrs.background:"#ffffff";h.push({content:p(te.cellBackground),value:{name:"background"},elemAfter:s.createElement("div",null,s.createElement("div",{className:L.c.CONTEXTUAL_MENU_ICON,style:{background:g}}),m&&s.createElement("div",{className:L.c.CONTEXTUAL_SUBMENU,ref:t.handleSubMenuRef},s.createElement($.a,{cols:7,palette:ee,onClick:t.setColor,selectedColor:g})))})}h.push({content:p(B.insertColumn),value:{name:"insert_column"},elemAfter:s.createElement(G.g,null,Object(l.tooltip)(l.addColumnAfter))}),h.push({content:p(B.insertRow),value:{name:"insert_row"},elemAfter:s.createElement(G.g,null,Object(l.tooltip)(l.addRowAfter))});var y=d.top,O=d.bottom,E=d.right-d.left,k=O-y;if(h.push({content:p(B.removeColumns,{0:E}),value:{name:"delete_column"}}),h.push({content:p(B.removeRows,{0:k}),value:{name:"delete_row"}}),n&&(h.push({content:p(te.mergeCells),value:{name:"merge"},isDisabled:!Object(V.a)(c.tr)}),h.push({content:p(te.splitCell),value:{name:"split"},isDisabled:!Object(i.splitCell)(c)})),o){var x=Object(Y.a)(c.tr).length>0?{tooltipDescription:p(te.canNotSortTable),isDisabled:!0}:{};h.push(Object(r.__assign)({content:p(te.sortColumnASC),value:{name:"sort_column_asc"}},x)),h.push(Object(r.__assign)({content:p(te.sortColumnDESC),value:{name:"sort_column_desc"}},x))}return h.push({content:p(te.clearCells,{0:Math.max(E,k)}),value:{name:"clear"},elemAfter:s.createElement(G.g,null,Object(l.tooltip)(l.backspace))}),h.length?[{items:h}]:null},t.onMenuItemActivated=function(e){var n=e.item,r=t.props,o=r.editorView,i=r.selectionRect,a=Object(w.d)(o.state).targetCellPosition,s=o.state,c=o.dispatch;switch(n.value.name){case"sort_column_desc":Object(g.j)(p.e.CONTEXT_MENU,i.left,L.b.DESC)(s,c),t.toggleOpen();break;case"sort_column_asc":Object(g.j)(p.e.CONTEXT_MENU,i.left,L.b.ASC)(s,c),t.toggleOpen();break;case"merge":Object(g.h)()(s,c),t.toggleOpen();break;case"split":Object(g.k)()(s,c),t.toggleOpen();break;case"clear":Object(g.e)(p.e.CONTEXT_MENU,a)(s,c),t.toggleOpen();break;case"insert_column":Object(g.f)(p.e.CONTEXT_MENU,i.right)(s,c),t.toggleOpen();break;case"insert_row":Object(g.g)(p.e.CONTEXT_MENU,{index:i.bottom,moveCursorToInsertedRow:!0})(s,c),t.toggleOpen();break;case"delete_column":Object(g.b)(p.e.CONTEXT_MENU,i)(s,c),t.toggleOpen();break;case"delete_row":var l=Object(w.d)(s).pluginConfig.isHeaderRowRequired;Object(g.c)(p.e.CONTEXT_MENU,i,!!l)(s,c),t.toggleOpen()}},t.toggleOpen=function(){var e=t.props,n=e.isOpen,r=e.editorView,o=r.state,i=r.dispatch;Object(z.b)()(o,i),n||t.setState({isSubmenuOpen:!1})},t.handleOpenChange=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(z.b)()(n,r),t.setState({isSubmenuOpen:!1})},t.handleItemMouseEnter=function(e){var n=e.item,r=t.props,o=r.editorView,i=o.state,a=o.dispatch,s=r.selectionRect;"background"===n.value.name&&(t.state.isSubmenuOpen||t.setState({isSubmenuOpen:!0})),"delete_column"===n.value.name&&Object(C.c)(Object(X.a)(s),!0)(i,a),"delete_row"===n.value.name&&Object(C.e)(Object(X.b)(s),!0)(i,a),["sort_column_asc","sort_column_desc"].indexOf(n.value.name)>-1&&0!==Object(Y.a)(i.tr).length&&Object(C.d)()(i,a)},t.handleItemMouseLeave=function(e){var n=e.item,r=t.props.editorView,o=r.state,i=r.dispatch;"background"===n.value.name&&t.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(n.value.name)>-1&&Object(C.a)()(o,i)},t.closeSubmenu=function(){t.state.isSubmenuOpen&&t.setState({isSubmenuOpen:!1})},t.setColor=function(e){var n=t.props.editorView,r=Object(w.d)(n.state).targetCellPosition,o=n.state,i=n.dispatch;Object(g.i)(e,r)(o,i),t.toggleOpen()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.mountPoint,r=e.offset,o=e.boundariesElement,i=this.createItems();return i?s.createElement("div",{onMouseLeave:this.closeSubmenu},s.createElement(q.a,{mountTo:n,items:i,isOpen:t,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:P.a,boundariesElement:o,offset:r})):null},t.defaultProps={boundariesElement:document.body},t}(s.Component),re=Object(k.h)(ne),oe=R.default.div(se||(se=Object(r.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),P.k),ie=function(e,t){var n=w.e.getState(t).tableRef,r=-P.b;if(n&&e){var o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=o.top-i.top;a<200&&(r-=a+2)}return[P.b/2,r]},ae=function(e){var t=e.mountPoint,n=e.boundariesElement,r=e.scrollableElement,o=e.editorView,i=e.isOpen,c=e.pluginConfig,l=Object(w.d)(o.state).targetCellPosition;if(!i||!l||o.state.doc.nodeSize<=l)return null;var u=o.state.selection,d=Object(a.isCellSelection)(u)?Object(a.getSelectionRect)(u):Object(a.findCellRectClosestToPos)(u.$from);if(!d)return null;var p=o.domAtPos.bind(o),f=Object(a.findDomRefAtPos)(l,p);return f?s.createElement(A.a,{alignX:"right",alignY:"top",target:f,mountTo:t,boundariesElement:n,scrollableElement:r,fitHeight:188,fitWidth:P.a,zIndex:K.h,forcePlacement:!0,offset:[-7,0]},s.createElement(oe,null,s.createElement(re,{editorView:o,offset:ie(f,o.state),isOpen:i,targetCellPosition:l,allowColumnSorting:c&&c.allowColumnSorting,allowMergeCells:c.allowMergeCells,allowBackgroundColor:c.allowBackgroundColor,selectionRect:d}))):null};ae.displayName="FloatingContextualMenu";var se,ce=ae,le=n("Td+v"),ue=Object(k.h)((function(e){var t=e.style,n=e.onClick,r=e.onMouseEnter,o=e.onMouseLeave,i=e.removeLabel,a=e.intl.formatMessage;return s.createElement("div",{className:L.c.CONTROLS_DELETE_BUTTON_WRAP,style:t,onMouseEnter:r,onMouseLeave:o},s.createElement("button",{type:"button",title:a(i,{0:1}),className:L.c.CONTROLS_DELETE_BUTTON,onMouseDown:n,onMouseMove:function(e){return e.preventDefault()}},s.createElement("svg",{className:L.c.CONTROLS_BUTTON_ICON},s.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))})),de=P.m+P.e+P.d;function pe(e){var t=e.left,n=e.top,o=e.selectionType,i=e.tableWrapper;switch(o){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,de],shouldRenderPopup:function(){if(t){var n=t.getBoundingClientRect().width+t.scrollLeft-P.e,r=t.scrollLeft;return n-e>0&&e>r}return!0}}}(t,i);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{left:-de})}}}(n);default:return{}}}var fe=function(e){function t(t){var n=e.call(this,t)||this;return n.handleMouseEnter=function(){var e=n.props.editorView,t=e.state,r=e.dispatch;switch(n.state.selectionType){case"row":return Object(C.e)(n.state.indexes,!0)(t,r,n.props.editorView);case"column":return Object(C.c)(n.state.indexes,!0)(t,r,n.props.editorView)}return!1},n.handleMouseLeave=function(){var e=n.props.editorView,t=e.state,r=e.dispatch;return Object(C.a)()(t,r)},n.handleClick=function(){var e,t=n.props.editorView,r=t.state,o=t.dispatch,i=Object(w.d)(r).pluginConfig.isHeaderRowRequired,s=Object(a.getSelectionRect)(r.selection);if(s)switch(n.state.selectionType){case"column":return void Object(g.b)(p.e.BUTTON,s)(r,o);case"row":return void Object(g.c)(p.e.BUTTON,s,!!i)(r,o)}r=(e=n.props.editorView).state,o=e.dispatch,Object(C.a)()(r,o)},n.state={selectionType:void 0,top:0,left:0,indexes:[]},n}return Object(r.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top},t.getDerivedStateFromProps=function(e,t){var n=function(e){if(!Object(a.isTableSelected)(e)&&e instanceof i.CellSelection){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}}(e.selection);if(n)switch(n){case"column":return(o=function(e,t){var n=Object(a.getSelectionRect)(t);if(!n)return null;for(var r=0,o=0,i=0;i<n.left;i++){(c=e[i])&&(o+=c-1)}var s=[];for(i=n.left;i<n.right;i++){var c;(c=e[i])&&(r+=c,s.push(i))}return{left:o+r/2-P.e/2,indexes:s}}(function(e){var t=e.state.selection,n=[],r=Object(a.findTable)(t);if(r){var o=i.TableMap.get(r.node),s=e.domAtPos.bind(e);n=Array.from({length:o.width});for(var c=0;c<o.width;c++){var l=Object(a.getCellsInColumn)(c)(t)[0];if(l){var u=Object(a.findDomRefAtPos)(l.pos,s),d=u.getBoundingClientRect();n[c]=(d?d.width:u.offsetWidth)+1,c+=l.node.attrs.colspan-1}}}return n}(e.editorView),e.editorView.state.selection))?Object(r.__assign)(Object(r.__assign)({},o),{top:0,selectionType:n}):null;case"row":if(e.tableRef){var o,s=Object(le.d)(e.tableRef);if(o=Object(le.c)(s,e.editorView.state.selection))return Object(r.__assign)(Object(r.__assign)({},o),{left:0,selectionType:n})}return null}return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null},t.prototype.render=function(){var e=this.props,t=e.mountPoint,n=e.boundariesElement,o=e.tableRef,i=this.state.selectionType;if(!i||!o)return null;var a=Object(H.j)(o,"."+L.c.TABLE_CONTAINER),s=Object(H.j)(o,"."+L.c.TABLE_NODE_WRAPPER);return c.a.createElement(A.a,Object(r.__assign)({target:o,mountTo:a||t,boundariesElement:a||n,scrollableElement:s,forcePlacement:!0,allowOutOfBounds:!0},pe({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:s})),c.a.createElement(ue,{removeLabel:"column"===i?B.removeColumns:B.removeRows,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}))},t.displayName="FloatingDeleteButton",t}(s.Component),he=n("IJlJ"),me=function(e){return e.offsetHeight+P.m+3},ve=function(e){var t=e.parentElement,n=e.offsetWidth,r=t.offsetWidth,o=t.scrollLeft,i=n-r,a=function(e){var t=Object(H.j)(e,"."+L.c.TABLE_CONTAINER);return t&&t.querySelector("."+L.c.NUMBERED_COLUMN)?P.m+K.A-1:P.m}(e);return Math.min(n+a,r+a-Math.max(o-i,0))+4},be=function(e){return"row"===e?B.insertRow:B.insertColumn},ge=Object(k.h)((function(e){var t=e.onMouseDown,n=e.tableRef,r=e.type,o=e.intl.formatMessage,i=s.createElement(he.a,{content:l.renderTooltipContent(o(be(r)),"row"===r?l.addRowAfter:l.addColumnAfter),position:"top"},s.createElement(s.Fragment,null,s.createElement("div",{className:L.c.CONTROLS_INSERT_BUTTON_INNER},s.createElement("button",{type:"button",className:L.c.CONTROLS_INSERT_BUTTON,onMouseDown:t},s.createElement("svg",{className:L.c.CONTROLS_BUTTON_ICON},s.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),s.createElement("div",{className:L.c.CONTROLS_INSERT_LINE,style:"row"===r?{width:ve(n)}:{height:me(n)}}))),a="column"===r?L.c.CONTROLS_FLOATING_BUTTON_COLUMN:L.c.CONTROLS_FLOATING_BUTTON_ROW;return s.createElement("div",{className:a},s.createElement("div",{className:L.c.CONTROLS_INSERT_BUTTON_WRAP+" "+L.c.CONTROLS_INSERT_ROW},i))})),ye=-P.i/2,Oe=ye+K.A,we=P.m+P.h,Ee=-(P.m+P.h+P.i),ke=P.i/2;var xe=function(e,t,n,o){switch(e){case"column":return function(e,t,n){var o={alignX:"end",alignY:"top",offset:[ye,we],onPositionCalculated:function(o){var i=o.left;if(!i)return o;if(0===e)return Object(r.__assign)(Object(r.__assign)({},o),{left:n?Oe:ye});var a=t?t.getBoundingClientRect():null;return Object(r.__assign)(Object(r.__assign)({},o),{left:a&&i>a.width?a.width:i})}};return 0===e?Object(r.__assign)(Object(r.__assign)({},o),{alignX:"left",alignY:"top"}):o}(t,o,n);case"row":return function(e){var t={alignX:"left",alignY:"bottom",offset:[0,ke]};return 0===e&&(t=Object(r.__assign)(Object(r.__assign)({},t),{alignY:"top",offset:[0,-ke]})),Object(r.__assign)(Object(r.__assign)({},t),{onPositionCalculated:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{left:Ee})}})}(t);default:return{}}},_e=function(e){function t(t){var n=e.call(this,t)||this;return n.insertColumn=n.insertColumn.bind(n),n.insertRow=n.insertRow.bind(n),n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.tableNode,n=e.editorView,o=e.insertColumnButtonIndex,c=e.insertRowButtonIndex,l=e.tableRef,u=e.mountPoint,d=e.boundariesElement,p=e.isHeaderColumnEnabled,f=e.isHeaderRowEnabled,h=void 0!==o?"column":void 0!==c?"row":null;if(!t||!l||!h)return null;if("column"===h&&p&&0===o||"row"===h&&f&&0===c)return null;var m=n.state.tr;if(m.selection instanceof i.CellSelection&&(m.selection.isColSelection()||m.selection.isRowSelection()))return null;var v=this.getCellPosition(h);if(!v)return null;var b=Object(a.findTable)(n.state.selection);if(!b)return null;var g=n.domAtPos.bind(n),y=v+b.start+1,O=Object(a.findDomRefAtPos)(y,g);if(!(O&&O instanceof HTMLElement))return null;var w="row"===h?Object(H.j)(O,"tr"):Object(H.j)(O,"td, th");if(!w)return null;var E=Object(H.j)(w,"."+L.c.TABLE_CONTAINER),k=Object(H.j)(w,"."+L.c.TABLE_NODE_WRAPPER),x="column"===h?o:c,_=Object(S.c)(n.state);return s.createElement(A.a,Object(r.__assign)({target:w,mountTo:E||u,boundariesElement:E||d,scrollableElement:k,forcePlacement:!0,allowOutOfBounds:!0},xe(h,x,_,E)),s.createElement(ge,{type:h,tableRef:l,onMouseDown:"column"===h?this.insertColumn:this.insertRow}))},t.prototype.getCellPosition=function(e){var t=this.props,n=t.tableNode,r=t.insertColumnButtonIndex,o=t.insertRowButtonIndex,a=i.TableMap.get(n);if("column"===e){var s=0===r?0:r-1;return s>a.width-1?null:a.positionAt(0,s,n)}var c=0===o?0:o-1;return c>a.height-1?null:a.positionAt(c,0,n)},t.prototype.insertRow=function(e){var t=this.props,n=t.editorView,r=t.insertRowButtonIndex;if(void 0!==r){e.preventDefault();var o=n.state,i=n.dispatch;Object(g.g)(p.e.BUTTON,{index:r,moveCursorToInsertedRow:!0})(o,i)}},t.prototype.insertColumn=function(e){var t=this.props,n=t.editorView,r=t.insertColumnButtonIndex;if(void 0!==r){e.preventDefault();var o=n.state,i=n.dispatch;Object(g.f)(p.e.BUTTON,r)(o,i)}},t.displayName="FloatingInsertButton",t}(s.Component),Te=Object(k.h)(_e),Ce=n("O94r"),Se=n.n(Ce),je=n("R50B"),Me=n.n(je),Ae=n("XxXR"),Re=n.n(Ae),Ne=[0,-22],Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(g.o)()(n,r)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.intl.formatMessage,r=t.mountPoint,o=t.boundariesElement,i=t.scrollableElement,a=t.targetRef,c=t.isResizing,l=t.layout,u=void 0===l?"default":l;if(!a)return null;var d=n(function(e){switch(e){case"default":return T.a.layoutWide;case"wide":return T.a.layoutFullWidth;default:return T.a.layoutFixedWidth}}(u));return s.createElement(A.a,{ariaLabel:d,offset:Ne,target:a,alignY:"start",alignX:"end",stick:!0,mountTo:r,boundariesElement:o,scrollableElement:i,forcePlacement:!0},s.createElement("div",{className:Se()(L.c.LAYOUT_BUTTON,(e={},e[L.c.IS_RESIZING]=c,e))},s.createElement(D.a,{title:d,onClick:this.handleClick,iconBefore:"full-width"===u?s.createElement(Re.a,{label:d}):s.createElement(Me.a,{label:d})})))},t.prototype.shouldComponentUpdate=function(e){return this.props.targetRef!==e.targetRef||this.props.layout!==e.layout||this.props.isResizing!==e.isResizing},t.displayName="LayoutButton",t}(s.Component),Pe=Object(k.h)(Ie);n.d(t,"b",(function(){return De}));var De=function(e){return void 0===e&&(e={}),e.advanced?Object(r.__assign)({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,stickToolbarToBottom:!0,permittedLayouts:"all",allowControls:!0},e):e};t.a=function(e){return{name:"table",nodes:function(){return[{name:"table",node:o.b},{name:"tableHeader",node:o.j},{name:"tableRow",node:o.m},{name:"tableCell",node:o.f}]},pmPlugins:function(){return[{name:"table",plugin:function(t){var n=t.dispatch,r=t.portalProviderAPI,o=e||{},i=o.dynamicSizingEnabled,a=o.fullWidthEnabled,s=o.wasFullWidthEnabled,c=o.breakoutEnabled,l=o.tableOptions;return Object(w.b)(n,r,De(l),c&&i,c,a,s)}},{name:"tablePMColResizing",plugin:function(t){var n=t.dispatch,r=e||{},o=r.dynamicSizingEnabled,i=r.fullWidthEnabled,a=r.tableOptions;return De(a).allowColumnResizing?Object(E.b)(n,{dynamicTextSizing:o&&!i,lastColumnResizable:!i}):void 0}},{name:"tableKeymap",plugin:function(){return y()}},{name:"tableEditing",plugin:function(){return Object(i.tableEditing)()}}]},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,i=t.popupsScrollableElement;return s.createElement(u.a,{plugins:{pluginState:w.e,tableResizingPluginState:E.d},render:function(t){var a=n.state,c=Object(w.d)(a),l=E.d.getState(a),u=l&&l.dragging,d=c||{},p=d.tableNode,f=d.targetCellPosition,h=d.isContextualMenuOpen,m=d.layout,v=d.tableRef,b=d.pluginConfig,g=d.insertColumnButtonIndex,y=d.insertRowButtonIndex,O=d.isHeaderColumnEnabled,k=d.isHeaderRowEnabled,x=d.tableWrapperTarget,_=b&&b.allowControls;return s.createElement(s.Fragment,null,f&&v&&!u&&e&&e.allowContextualMenu&&s.createElement(W,{isNumberColumnEnabled:p&&p.attrs.isNumberColumnEnabled,editorView:n,mountPoint:r,targetCellPosition:f,scrollableElement:i,isContextualMenuOpen:h,layout:m}),_&&s.createElement(Te,{tableNode:p,tableRef:v,insertColumnButtonIndex:g,insertRowButtonIndex:y,isHeaderColumnEnabled:O,isHeaderRowEnabled:k,editorView:n,mountPoint:r,boundariesElement:o,scrollableElement:i}),s.createElement(ce,{editorView:n,mountPoint:r,boundariesElement:o,targetCellPosition:f,isOpen:Boolean(h),pluginConfig:b}),_&&s.createElement(fe,{editorView:n,selection:n.state.selection,tableRef:v,mountPoint:r,boundariesElement:o,scrollableElement:i}),Object(S.g)(a)&&e&&e.breakoutEnabled&&s.createElement(Pe,{editorView:n,mountPoint:r,boundariesElement:o,scrollableElement:i,targetRef:x,layout:m,isResizing:!!l&&!!l.dragging}))}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(f.b.table),description:t(f.b.tableDescription),priority:600,keyshortcut:Object(l.tooltip)(l.toggleTable),icon:function(){return s.createElement(h.w,{label:t(f.b.table)})},action:function(e,t){var n=e(Object(a.createTable)(t.schema));return Object(d.a)(t,n,{action:p.a.INSERTED,actionSubject:p.b.DOCUMENT,actionSubjectId:p.c.TABLE,attributes:{inputMethod:p.e.QUICK_INSERT},eventType:p.d.TRACK})}}]},floatingToolbar:M}}}},"//R7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n("D57K"),o=n("I9T1"),i=n("Dsue"),a=n("X9xp"),s=n("uw3h"),c=n("fjMk"),l=n("N01o"),u={text:"",color:"neutral"},d=function(e){return void 0===e&&(e=-2),function(t,n){var o=t(n.schema.nodes.status.createChecked(Object(r.__assign)(Object(r.__assign)({},u),{localId:a.b.generate()}))),c=o.selection.from+e;return o.setSelection(i.NodeSelection.create(o.doc,c)).setMeta(s.b,{showStatusPickerAt:c,isNew:!0})}},p=function(e){return function(t,n){var c=t.schema,l=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||a.b.generate()}):e,d=Object(r.__assign)(Object(r.__assign)({},u),l),p=t.tr,f=s.b.getState(t).showStatusPickerAt;if(!f){var h=c.nodes.status.createChecked(d),m=o.Fragment.fromArray([h,t.schema.text(" ")]),v=p.selection.from;return p=(p=(p=p.replaceWith(v,v,m)).setSelection(i.NodeSelection.create(p.doc,v))).setMeta(s.b,{showStatusPickerAt:v,isNew:!0}).scrollIntoView(),n&&n(p),!0}return!!t.doc.nodeAt(f)&&(p=(p=(p=p.setNodeMarkup(f,c.nodes.status,d)).setSelection(i.NodeSelection.create(p.doc,f))).setMeta(s.b,{showStatusPickerAt:f}).scrollIntoView(),n&&n(p),!0)}},f=function(e,t){return Object(c.e)({action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,actionSubjectId:l.c.STATUS,attributes:{inputMethod:e},eventType:l.d.TRACK})(p(t))},h=function(e){return function(t,n){return n(t.tr.setMeta(s.b,{showStatusPickerAt:e,isNew:!1})),!0}},m=function(){return function(e){var t=e.state,n=e.dispatch,r=s.b.getState(t).showStatusPickerAt;if(r){var o=t.tr.doc.nodeAt(r);if(o){var a=t.tr;a=a.setMeta(s.b,{showStatusPickerAt:null,isNew:!1}),o.attrs.text?a.selection.from===r&&(a=a.setSelection(i.Selection.near(t.tr.doc.resolve(r+2)))):a=a.delete(r,r+1),n(a),e.focus()}}}}},"/C+m":function(e,t,n){"use strict";var r=n("MWzK"),o=function(e){var t=e.cardOptions,n=e.sanitizePrivateContent;return{name:"paste",pmPlugins:function(){return[{name:"paste",plugin:function(e){var o=e.schema;return Object(r.a)(o,t,n)}}]}}},i=n("D57K"),a=n("JxnG"),s=n("RLr3"),c=n("ack2"),l=n("LMkM"),u=n("f/gO"),d=n("Dsue"),p=n("RNoV"),f=new d.PluginKey("focusStatePlugin"),h=n("Ft3U"),m=n("QQ6y"),v=n("CBOu"),b=n("BH7h"),g=new d.PluginKey("newlinePreserveMarksPlugin"),y=function(e){return!!e.selection.$to.parent.marks.find((function(t){return t.type===e.schema.marks.alignment}))},O=function(e){return!v.d.getState(e).active},w=function(e,t){return t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0},E=function(){return new d.Plugin({key:g,props:{handleKeyDown:Object(h.keydownHandler)({Enter:Object(m.b)([b.j,y,O],w)})}})},k=n("aGmo"),x=n("kbCE"),_=new d.PluginKey("inlineCursorTargetPlugin"),T=["mention","emoji"],C=function(e){return e&&-1!==T.indexOf(e.type.name)},S=function(){return new d.Plugin({key:_,state:{init:function(){return{positions:[]}},apply:function(e){var t=e.selection.$from,n=[],r=function(e,t){if(C(e.nodeAfter))return e.pos+1;var n=e.parentOffset,r=e.parent,o=t.doc.nodeSize-2;if(n===r.content.size&&e.pos+1<o-2){var i=t.doc.resolve(e.pos+1).nodeAfter;if(i&&C(i.firstChild))return e.pos+2}}(t,e),o=function(e,t){if(C(e.nodeBefore))return e.pos-1;if(0!==e.pos&&0===e.parentOffset){var n=t.doc.resolve(e.pos-1).nodeBefore;if(n&&C(n.firstChild))return e.pos-2}}(t,e);return void 0!==r&&n.push(r),void 0!==o&&n.push(o),{positions:n}}},props:{decorations:function(e){var t=e.doc,n=_.getState(e).positions;if(n&&n.length){var r=n.map((function(e){var t=document.createElement("span");return t.appendChild(document.createTextNode(x.a)),k.Decoration.widget(e,t,{raw:!0,side:-1,key:"inlineCursor"})}));return k.DecorationSet.create(t,r)}return null}}})},j=n("GBoc"),M=n("2B38");function A(e,t){if("undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return new IntersectionObserver((function(e,n){e.forEach((function(e){t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}function R(e,t){var n=e.offsetHeight,r=e.getBoundingClientRect().top,o=function(){var e=window.getSelection();if(e&&e.rangeCount>0){var t=e.getRangeAt(0);if(t){var n=t.getClientRects();if(n&&n.length>0)return n[0].top;var r=t.startContainer;if(r&&r.getBoundingClientRect)return r.getBoundingClientRect().top}}}();return!!o&&(!(o-r<n-120-80)&&(t.scrollIntoView(!1),!0))}var N=function(e){void 0===e&&(e={});var t=e.getScrollElement,n=e.allowCustomScrollHandler;if(t){var r=function(){var e=document.createElement("div");e.style.paddingBottom="120px",e.id="#editor-scroll-gutter".substr(1);var t,n=!1,r=!1,o=null,i=!1;return{addGutter:function(n){n&&(o=n,n.appendChild(e),r=!0,t&&t.observe(e))},removeGutter:function(){o&&r&&(r=!1,o.removeChild(e),t&&t.unobserve(e))},element:function(){return e},isMounted:function(){return r},visible:function(){return t?i:r},observe:function(e){n||(n=!0,t=A(e,(function(e){return i=e})))},destroy:function(){t&&t.disconnect(),t=void 0,this.removeGutter(),n=r=!1}}}(),o=null;return new d.Plugin({props:{scrollThreshold:60,scrollMargin:120,handleScrollToSelection:function(){return!1!==n&&(!!(r.isMounted()&&r.visible()&&o)&&R(o,r.element()))}},view:function(e){o=t(e);var n=e.dom,i=n.parentElement;return{destroy:function(){r.destroy(),o=i=n=null},update:function(e,t){if(o&&i){var n=e.state;if(t.selection!==n.selection){var a=r.isMounted(),s=o.offsetHeight;i.offsetHeight-(a?120:0)>=s-120?a||(r.observe(o),r.addGutter(i)):a&&r.removeGutter()}}}}}})}},I=n("T+Sf");function P(e){return new d.Plugin({props:{handleKeyDown:function(t,n){var r=Object(I.keyName)(n),o=n;return n.ctrlKey&&1===r.length&&/[^\u0000-\u007f]/.test(r)&&(o=new KeyboardEvent("keydown",{key:I.base[n.keyCode],code:n.code,ctrlKey:!0})),Object(h.keydownHandler)(e)(t,o)}}})}var D=n("N01o"),L=n("Awfs"),B=function(e,t,n){var r=t.state;return e({action:D.a.BROWSER_FREEZE,actionSubject:D.b.EDITOR,attributes:{freezeTime:n,nodeSize:r.doc.nodeSize},eventType:D.d.OPERATIONAL})},z=function(e){return{name:"base",pmPlugins:function(){var t=[{name:"filterStepsPlugin",plugin:function(){return new d.Plugin({filterTransaction:function(e){return!function(e){return(e.steps||[]).some((function(e){return e.from>e.to}))}(e)||(console.warn("The transaction was blocked because it contains invalid steps",e.steps),Object(p.a)({events:[{name:"atlaskit.fabric.editor.invalidstep",product:"atlaskit",properties:{message:"Blocked transaction with invalid steps"},serverTime:(new Date).getTime(),server:"local",user:"-"}]}),!1)}})}},{name:"inlineCursorTargetPlugin",plugin:function(){return e&&e.allowInlineCursorTarget?S():void 0}},{name:"focusHandlerPlugin",plugin:function(e){return function(e){return new d.Plugin({key:f,state:{init:function(){return!0},apply:function(t,n){var r=t.getMeta(f);return"boolean"==typeof r&&r!==n?(e(f,r),r):n}},props:{handleDOMEvents:{click:function(e){return f.getState(e.state)||e.dispatch(e.state.tr.setMeta(f,e.hasFocus())),!1},focus:function(e){return f.getState(e.state)||e.dispatch(e.state.tr.setMeta(f,!0)),!1},blur:function(e){return f.getState(e.state)&&e.dispatch(e.state.tr.setMeta(f,!1)),!1}}}})}(e.dispatch)}},{name:"newlinePreserveMarksPlugin",plugin:E},{name:"reactNodeView",plugin:function(){return j.a}},{name:"frozenEditor",plugin:function(t){var n=t.dispatchAnalyticsEvent;return e&&e.addRunTimePerformanceCheck?function(e,t){var n=0,r="number"==typeof t?t:100;return new d.Plugin({props:Object(L.a)()?{handleTextInput:function(t,o,i,a){var s=t.state,c=performance.now();return requestAnimationFrame((function(){var t=performance.now()-c;r&&++n===r&&(n=0,e({action:D.a.INPUT_PERF_SAMPLING,actionSubject:D.b.EDITOR,attributes:{time:t,nodeSize:s.doc.nodeSize},eventType:D.d.OPERATIONAL})),t>300&&e({action:D.a.SLOW_INPUT,actionSubject:D.b.EDITOR,attributes:{time:t,nodeSize:s.doc.nodeSize},eventType:D.d.OPERATIONAL})})),!1}}:void 0,view:function(t){if(!Object(L.b)())return{};try{new PerformanceObserver((function(n){for(var r=n.getEntries(),o=0;o<r.length;o++){var i=r[o].duration;i>600&&B(e,t,i)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:function(){void 0}}}})}(n,e.inputSamplingLimit):void 0}},{name:"decorationPlugin",plugin:function(){return Object(M.a)()}},{name:"history",plugin:function(){return Object(s.history)()}},{name:"codeBlockIndent",plugin:function(){return P(Object(i.__assign)(Object(i.__assign)({},a.baseKeymap),{"Mod-[":function(){return!0},"Mod-]":function(){return!0}}))}}];return e&&e.allowScrollGutter&&t.push({name:"scrollGutterPlugin",plugin:function(){return N(e.allowScrollGutter)}}),t},nodes:function(){return[{name:"doc",node:c.a},{name:"paragraph",node:l.a},{name:"text",node:u.a}]}}},H=n("ERkP"),F=n.n(H),U=n("SLXp"),W=n("3PyS"),K=n("sfqX"),V=n("TXYc"),G=n("DqMX"),q=n("NJOB"),$=n("Wtp3"),Y=n("25wM"),X=n("mu0/");function J(e,t){return function(n,r,o,i){var a=t(n,r,o,i);return a&&X.a.trackEvent(e),a}}var Z=n("Mtm3"),Q=n("oISN"),ee=Object(a.chainCommands)(q.undoInputRule,s.undo);var te=n("iBxf"),ne=n("/Xcd");var re=n("m23B"),oe=function(e,t,n,r,o,i){var a=e.schema.nodes,s=a.hardBreak,c=a.codeBlock,l=a.listItem,u=e.doc.resolve(r);if(u.nodeAfter.type!==s)return null;if(u.depth>1&&(t!==c||!Object(re.hasParentNodeOfType)(l)(e.selection)))return null;X.a.trackEvent("atlassian.editor.format."+n+".autoformatting");var p=e.tr.delete(r,o).split(r),f=p.doc.nodeAt(r+1),h=!1;p.doc.nodesBetween(r,r+f.nodeSize,(function(e,t){h||e.type!==s||(h=!0,p=p.split(t+1).delete(t,t+1))})),h&&(f=p.doc.nodeAt(r+1));var m,v,b=e.schema.nodes,g=b.blockquote,y=b.paragraph;t===g?(v=3,m=[y.create({},f.content)]):(v=2,m=f.content);var O=t.create(i,m);return p=p.setSelection(new d.NodeSelection(p.doc.resolve(r+1))).replaceSelectionWith(O).setSelection(new d.TextSelection(p.doc.resolve(r+v)))},ie=n("fjMk");function ae(e){return{level:e[1].length}}function se(e){var t,n,r=Object(te.b)((t=e.nodes.heading,n=6,Object(q.textblockTypeInputRule)(new RegExp("^(#{1,"+n+"})\\s$"),t,ae)),!0),o=Object(te.a)(new RegExp(te.c+"(#{1,6})\\s$"),(function(t,n,r,o){var i=n[1].length;return oe(t,e.nodes.heading,"heading"+i,r,o,{level:i})}),!0),i=r.handler;r.handler=function(e,t,n,r){return X.a.trackEvent("atlassian.editor.format.heading"+t[1].length+".autoformatting"),i(e,t,n,r)};var a=Object(ie.d)((function(e,t){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,eventType:D.d.TRACK,actionSubjectId:D.c.FORMAT_HEADING,attributes:{inputMethod:D.e.FORMATTING,newHeadingLevel:ae(t).level}}}));return[a(r),a(o)]}function ce(e){var t,n=Object(te.b)((t=e.nodes.blockquote,Object(q.wrappingInputRule)(/^\s*>\s$/,t)),!0);n.handler=J("atlassian.editor.format.blockquote.autoformatting",n.handler);var r=Object(te.a)(new RegExp(te.c+"\\s*>\\s$"),(function(t,n,r,o){return oe(t,e.nodes.blockquote,"blockquote",r,o)}),!0),o=Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,eventType:D.d.TRACK,actionSubjectId:D.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:D.e.FORMATTING}}}));return[o(n),o(r)]}function le(e){var t={action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.CODE_BLOCK,attributes:{inputMethod:D.e.FORMATTING},eventType:D.d.TRACK};return[Object(te.a)(/((^`{3,})|(\s`{3,}))(\S*)$/,(function(e,n,r,o){var i={};n[4]&&(i.language=n[4]);var a=" "===n[0][0]?r+1:r;if(function(e){if(!e.selection)return!1;var t=e.selection.$from,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;var r=t.depth-1,o=t.node(r),i=t.index(r);return o.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}(e)){X.a.trackEvent("atlassian.editor.format.codeblock.autoformatting");var s=function(e,t){if(!e.selection.empty)return e.tr;var n=e.schema.nodes.codeBlock,r=e.selection.$from,o=r.before(),i=r.end(),a=Object(ne.e)(e.doc.slice(r.pos,i),(function(t){return t.type===e.schema.nodes.hardBreak?e.schema.text("\n"):t.isText?t.mark([]):t.isInline?t.attrs.text?e.schema.text(t.attrs.text):null:t.content.childCount?t.content:null})),s=e.tr.replaceRange(r.pos,i,a);return r.parentOffset>=3?s.split(r.pos,void 0,[{type:n,attrs:t}]):s.setNodeMarkup(o,n,t,[])}(e,i).delete(a,o).scrollIntoView();return Object(ie.a)(e,s,t)}var c=e.tr;c=c.delete(a,o);var l=e.schema.nodes.codeBlock.createChecked();return Object(re.safeInsert)(l)(c)}),!0),Object(te.a)(new RegExp("(("+te.c+"`{3,})|(\\s`{3,}))(\\S*)$"),(function(n,r,o,i){var a={};r[4]&&(a.language=r[4]);var s=oe(n,e.nodes.codeBlock,"codeblock",o,i,a);return s&&(s=Object(ie.a)(n,s,t)),s}),!0)]}var ue,de,pe=function(e){var t=[];if(e.nodes.heading&&t.push.apply(t,Object(i.__spread)(se(e))),e.nodes.blockquote&&t.push.apply(t,Object(i.__spread)(ce(e))),e.nodes.codeBlock&&t.push.apply(t,Object(i.__spread)(le(e))),0!==t.length)return Object(q.inputRules)({rules:t})},fe=n("L21V"),he=n("PLaw"),me=n.n(he),ve=n("+jwJ"),be=n.n(ve),ge=n("Rr/J"),ye=n("9O50"),Oe=n("bVaD"),we=n("A+BJ"),Ee=n("dDc+"),ke=n("KsTJ"),xe=n("yEUy"),_e=ke.default.div(ue||(ue=Object(i.__makeTemplateObject)(["\n  ",";\n  > {\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin-top: 0;\n    }\n  }\n  ",";\n"],["\n  ",";\n  > {\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin-top: 0;\n    }\n  }\n  ",";\n"])),xe.a,(function(e){return e.selected?e.tagName+" { color: white }":""})),Te=Object(ke.default)(we.g)(de||(de=Object(i.__makeTemplateObject)(["\n  ","\n  margin-left: 16px;\n"],["\n  ","\n  margin-left: 16px;\n"])),(function(e){return e.selected?"color: "+Ee.colors.N400+";":""})),Ce=Object(fe.g)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={active:!1},t.onOpenChange=function(e){t.setState({active:e.isOpen})},t.handleTriggerClick=function(){t.onOpenChange({isOpen:!t.state.active})},t.createItems=function(){var e=t.props.intl.formatMessage,n=t.props.pluginState,r=n.currentBlockType;return[{items:n.availableBlockTypes.reduce((function(t,n,o){var i=r===n,a=n.tagName||"p";return t.push({content:H.createElement(_e,{tagName:a,selected:i},Object(H.createElement)(a,{},e(n.title))),value:n,key:n.name+"-"+o,elemAfter:H.createElement(Te,{selected:i},Object($.tooltip)(Object($.findKeymapByDescription)(n.title.defaultMessage))),isActive:i}),t}),[])}]},t.handleSelectBlockType=function(e){var n=e.item.value;t.props.setBlockType(n.name),t.setState({active:!1}),X.a.trackEvent("atlassian.editor.format."+n.name+".button")},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.active,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,a=n.popupsScrollableElement,s=n.isSmall,c=n.isReducedSpacing,l=n.pluginState,u=l.currentBlockType,d=l.blockTypesDisabled,p=l.availableBlockTypes,f=n.intl.formatMessage;if(!p.some((function(e){return"heading"===e.nodeName})))return null;var h=p.filter((function(e){return e.name===u.name})).map((function(e){return e.title})),m=Object(i.__spread)([Z.k],p).reduce((function(e,t){var n=f(t.title);return n.length>=e.length?n:e}),""),v=function(n){var r=f(Ce.textStyles);return H.createElement(ye.a,{spacing:c?"none":"default",selected:t,className:"block-type-btn",disabled:n,onClick:e.handleTriggerClick,title:r,"aria-label":"Font style",iconAfter:H.createElement(we.i,{isSmall:s},s&&H.createElement(be.a,{label:r}),H.createElement(we.d,null,H.createElement(me.a,{label:r})))},!s&&H.createElement(we.a,null,H.createElement(fe.c,Object(i.__assign)({},h[0]||Z.k.title)),H.createElement("div",{style:{overflow:"hidden",height:0}},m)))};if(!this.props.isDisabled&&!d){var b=this.createItems();return H.createElement(we.e,null,H.createElement(Oe.a,{items:b,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:t,mountTo:r,boundariesElement:o,scrollableElement:a,zIndex:ge.p,fitHeight:360,fitWidth:106},v(!1)),H.createElement(we.f,null))}return H.createElement(we.i,null,v(!0),H.createElement(we.f,null))},t}(H.PureComponent),je=Object(fe.h)(Se),Me=n("XoQQ"),Ae=n("lt2v"),Re=function(e){return{name:"blockType",nodes:function(){var t=[{name:"heading",node:U.a},{name:"blockquote",node:W.a},{name:"hardBreak",node:K.a}];if(e&&e.allowBlockType){var n=e.allowBlockType.exclude?e.allowBlockType.exclude:[];return t.filter((function(e){return-1===n.indexOf(e.name)}))}return t},pmPlugins:function(){return[{name:"blockType",plugin:function(t){var n=t.dispatch;return Object(G.a)(n,e&&e.lastNodeMustBeParagraph)}},{name:"blockTypeInputRule",plugin:function(e){var t=e.schema;return pe(t)}},{name:"blockTypeKeyMap",plugin:function(e){return function(e){var t,n,r={};return $.bindKeymapWithCommand($.insertNewLine.common,J("atlassian.editor.newline.keyboard",Y.h),r),$.bindKeymapWithCommand($.moveUp.common,J("atlassian.editor.moveup.keyboard",Y.c),r),$.bindKeymapWithCommand($.moveDown.common,J("atlassian.editor.movedown.keyboard",Y.d),r),$.bindKeymapWithCommand($.findKeyMapForBrowser($.redo),J("atlassian.editor.redo.keyboard",s.redo),r),$.bindKeymapWithCommand($.undo.common,J("atlassian.editor.undo.keyboard",ee),r),$.bindKeymapWithCommand($.findKeyMapForBrowser($.redoBarred),Y.j(),r),$.bindKeymapWithCommand($.backspace.common,Q.a,r),e.nodes[Z.a.nodeName]&&$.bindKeymapWithCommand($.findShortcutByKeymap($.toggleBlockQuote),J((t=Z.a.name,n=D.e.KEYBOARD,"atlassian.editor.format."+t+"."+n),Object(Q.c)(Z.a.name,D.e.KEYBOARD)),r),P(r)}(e.schema)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.toolbarSize,a=e.disabled,s=e.isToolbarReducedSpacing,c=e.eventDispatcher,l=i<V.a.XL,u=function(e){return Object(Q.e)(e,D.e.TOOLBAR)(t.state,t.dispatch)};return H.createElement(Me.a,{editorView:t,eventDispatcher:c,plugins:{pluginState:G.b},render:function(e){var t=e.pluginState;return H.createElement(je,{isSmall:l,isDisabled:a,isReducedSpacing:s,setBlockType:u,pluginState:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return Object(i.__spread)([{title:t(Z.p.blockquote),description:t(Z.p.blockquoteDescription),priority:1300,keyshortcut:$.tooltip($.toggleBlockQuote),icon:function(){return H.createElement(Ae.u,{label:t(Z.p.blockquote)})},action:function(e,t){var n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return Object(ie.a)(t,n,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,eventType:D.d.TRACK,actionSubjectId:D.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:D.e.QUICK_INSERT}})}}],function(e){var t=e.formatMessage;return Array.from({length:6},(function(e,n){var r=n+1,o=Z.p["heading"+r+"Description"],i=$.tooltip($["toggleHeading"+r]);return{title:t(Z.p["heading"+r]),description:t(o),priority:1300,keywords:["h"+r],keyshortcut:i,icon:function(){return H.createElement(Ae.i,{level:r,label:t(o)})},action:function(e,t){var n=e(t.schema.nodes.heading.createChecked({level:r}));return Object(ie.a)(t,n,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,eventType:D.d.TRACK,actionSubjectId:D.c.FORMAT_HEADING,attributes:{inputMethod:D.e.QUICK_INSERT,newHeadingLevel:r}})}}}))}(e))}}}},Ne=n("l52v"),Ie=new d.PluginKey("placeholderPlugin");function Pe(e){return Ie.getState(e)}function De(e,t){var n=Pe(e.state),r=t,o="compositionstart"===r.type||"compositionupdate"===r.type&&!!r.data;return n.hasPlaceholder&&o&&e.dispatch(e.state.tr.setMeta(Ie,{removePlaceholder:!0})),!1}function Le(e,t){var n=Pe(e.state),r=""===t.data;return!n.hasPlaceholder&&r&&e.dispatch(e.state.tr.setMeta(Ie,{applyPlaceholderIfEmpty:!0})),!1}function Be(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}var ze={hasPlaceholder:!1};function He(e,t,n,r){if(n&&Object(b.f)(e.doc))return Be(n);var o=t();return o&&Object(b.h)(e)?Be(o,e.selection.$from.pos):r&&Object(b.a)(e)?Be("  "+r,e.selection.$from.pos-1):ze}function Fe(e,t,n){if(e||t||n){var r=function(e){var t=0;return function(){if(e&&0!==e.length){var n=e.length,r=e[t++];return t%=n,r}}}(t);return new d.Plugin({key:Ie,state:{init:function(t,o){return He(o,r,e,n)},apply:function(t,o,i,a){var s=t.getMeta(Ie);if(s){if(s.removePlaceholder)return ze;if(s.applyPlaceholderIfEmpty)return He(a,r,e,n)}return He(a,r,e,n)}},props:{decorations:function(e){var t=Pe(e),n=t.hasPlaceholder,r=t.placeholderText,o=t.pos;if(n&&r&&void 0!==o)return function(e,t,n){void 0===n&&(n=1);var r=document.createElement("span");r.className=Ne.a;var o=document.createElement("span");return o.textContent=t,r.appendChild(o),k.DecorationSet.create(e,[k.Decoration.widget(n,r,{side:-1,key:"placeholder"})])}(e.doc,r,o)},handleDOMEvents:{compositionstart:De,compositionupdate:function(e,t){return Le(e,t)||De(e,t)},compositionend:Le}}})}}var Ue=function(e){return{name:"placeholder",pmPlugins:function(){return[{name:"placeholder",plugin:function(){return Fe(e&&e.placeholder,e&&e.placeholderHints,e&&e.placeholderBracketHint)}}]}}},We=new d.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function Ke(){return new d.Plugin({key:We,appendTransaction:function(e,t,n){if(!Object(b.f)(t.doc)&&Object(b.f)(n.doc))return n.tr.setStoredMarks([])}})}var Ve=function(){return{name:"clearMarksOnEmptyDoc",pmPlugins:function(){return[{name:"clearMarksOnChange",plugin:Ke}]}}},Ge=n("Qo38"),qe=n("z4jD"),$e=n("x5Wp"),Ye=n("KVxf");function Xe(e){if(e.marks.link){var t,n=(t=new qe.a,Object(te.a)(t,(function(e,t,n,r){var o=e.schema;if(e.doc.rangeHasMark(n,r,o.marks.link))return null;var a=Object(i.__read)(t,1)[0],s=Object(qe.f)(a.url),c=o.mark("link",{href:s});X.a.trackEvent("atlassian.editor.format.hyperlink.autoformatting");var l=Object($e.b)([{url:a.url,pos:n-(a.input.length-a.lastIndex),appearance:"inline",compareLinkText:!0,source:D.e.AUTO_DETECT}])(e.tr.addMark(n-(a.input.length-a.lastIndex),r-(a.input.length-a.lastIndex),c).insertText(" "));return Object(ie.a)(e,l,Object(Ye.a)(D.e.AUTO_DETECT,s))}))),r=Object(te.a)(/(^|[^!])\[(.*?)\]\((\S+)\)$/,(function(e,t,n,r){var o=e.schema,a=Object(i.__read)(t,4),s=a[1],c=a[2],l=a[3],u=Object(qe.f)(l),d=o.mark("link",{href:u});X.a.trackEvent("atlassian.editor.format.hyperlink.autoformatting");var p=e.tr.replaceWith(n+s.length,r,o.text(c,[d]));return Object(ie.a)(e,p,Object(Ye.a)(D.e.FORMATTING,u))}));return Object(q.inputRules)({rules:[n,r]})}}var Je=n("79mQ"),Ze=n("xTlW");function Qe(){var e={};return $.bindKeymapWithCommand($.addLink.common,J("atlassian.editor.format.hyperlink.keyboard",Object(Ze.j)(D.e.SHORTCUT)),e),$.bindKeymapWithCommand($.enter.common,rt,e),$.bindKeymapWithCommand($.insertNewLine.common,rt,e),$.bindKeymapWithCommand($.escape.common,(function(e,t,n){return!!Je.e.getState(e).activeLinkMark&&(Object(Ze.b)()(e,t),n&&n.focus(),!1)}),e),Object(h.keymap)(e)}var et,tt,nt,rt=function(e,t){var n=e.selection.$from.nodeBefore;if(!n||!n.isText)return!1;var r=n.text.split(" "),o=r[r.length-1],i=Object(qe.c)(o);if(i){var a=i.raw,s=e.selection.$from.pos-a.length,c=e.selection.$from.pos;if(e.doc.rangeHasMark(s,c,e.schema.marks.link))return!1;var l=i.url,u=e.schema.mark("link",{href:l}),d=Object($e.b)([{url:l,pos:s,appearance:"inline",compareLinkText:!0,source:D.e.AUTO_DETECT}])(e.tr.addMark(s,c,u));X.a.trackEvent("atlassian.editor.format.hyperlink.autoformatting"),t&&t(Object(ie.a)(e,d,Object(Ye.a)(D.e.AUTO_DETECT,l)))}return!1},ot=function(e,t){return k.Decoration.inline(e,t,{class:"ProseMirror-fake-text-selection"})},it=function(e){var t=Je.e.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===Je.a.INSERT_LINK_TOOLBAR)return t.activeLinkMark},at=new d.Plugin({state:{init:function(){return k.DecorationSet.empty},apply:function(e,t,n,r){var o,i,a=it(n),s=it(r);if(a&&s){var c=s.from,l=s.to,u=e.mapping.map(a.from),d=e.mapping.map(a.to);if(u===c&&d===l)return t.map(e.mapping,e.doc)}if(s){c=s.from,l=s.to;return k.DecorationSet.create(e.doc,[c===l?(o=c,i=document.createElement("div"),i.className="ProseMirror-fake-text-cursor",k.Decoration.widget(o,i,{key:"hyperlink-text-cursor"})):ot(c,l)])}return k.DecorationSet.empty}},props:{decorations:function(e){return at.getState(e)}}}),st=at,ct=n("lMAd"),lt=n("wMvT"),ut=n.n(lt),dt=n("xN8d"),pt=n.n(dt),ft=n("hegZ"),ht=n.n(ft),mt=n("IJlJ"),vt=n("238x"),bt=n("PWr6"),gt=n("KqIV"),yt=n("GE5L"),Ot=ke.default.span(et||(et=Object(i.__makeTemplateObject)(["\n  cursor: pointer;\n  padding-right: 8px;\n  color: ",";\n"],["\n  cursor: pointer;\n  padding-right: 8px;\n  color: ",";\n"])),Ee.colors.N80),wt=ke.default.div(tt||(tt=Object(i.__makeTemplateObject)(["\n  ","\n  border-top: 1px solid ",";\n"],["\n  ","\n  border-top: 1px solid ",";\n"])),yt.b,Ee.colors.N30),Et=ke.default.span(nt||(nt=Object(i.__makeTemplateObject)(["\n  padding: 10px;\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"],["\n  padding: 10px;\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"])),Ee.colors.N80),kt=Object(fe.g)({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"}}),xt=function(e){function t(t){var n=e.call(this,t)||this;return n.isTabPressed=!1,n.submitted=!1,n.urlInputContainer=null,n.displayTextInputContainer=null,n.updateInput=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n,r,o,a,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return this.setState({text:e}),this.state.provider?0!==e.length?[3,2]:(t=this.setState,n={},r=Tt,[4,this.state.provider.getRecentItems()]):[3,4];case 1:return t.apply(this,[(n.items=r.apply(void 0,[i.sent()]),n.selectedIndex=-1,n)]),[3,4];case 2:return o=this.setState,a={},s=Tt,[4,this.state.provider.searchRecent(e)];case 3:o.apply(this,[(a.items=s.apply(void 0,[i.sent()]),a.selectedIndex=0,a)]),i.label=4;case 4:return[2]}}))}))},n.createClearHandler=function(e){return function(){var t;switch(n.setState(((t={})[e]="",t)),e){case"text":n.urlInputContainer&&n.urlInputContainer.focus();break;case"displayText":n.displayTextInputContainer&&n.displayTextInputContainer.focus()}}},n.handleSelected=function(e,t){n.setState({displayText:t},(function(){n.props.onSubmit&&(n.props.onSubmit(e,n.state.displayText||t,D.e.TYPEAHEAD),n.trackAutoCompleteAnalyticsEvent("atlassian.editor.format.hyperlink.autocomplete.click"))}))},n.handleMouseMove=function(e){var t=n.state.items;if(t){var r=_t(t,(function(t){return t.objectId===e}));n.setState({selectedIndex:r})}},n.handleSubmit=function(){var e=n.state,t=e.items,r=e.text,o=e.selectedIndex;if(t&&t.length>0&&o>-1){var i=t[o],a=Object(qe.f)(i.url);n.props.onSubmit&&(n.props.onSubmit(a,n.state.displayText||i.name,D.e.TYPEAHEAD),n.trackAutoCompleteAnalyticsEvent("atlassian.editor.format.hyperlink.autocomplete.keyboard"))}else if(r&&r.length>0){a=Object(qe.f)(r);n.props.onSubmit&&a&&(n.submitted=!0,n.props.onSubmit(a,n.state.displayText||r,D.e.MANUAL),n.trackAutoCompleteAnalyticsEvent("atlassian.editor.format.hyperlink.autocomplete.notselected"))}},n.handleKeyDown=function(e){var t=n.state,r=t.items,o=t.selectedIndex;n.submitted=!1,n.isTabPressed=9===e.keyCode,r&&r.length&&(40===e.keyCode?(e.preventDefault(),n.setState({selectedIndex:(o+1)%r.length})):38===e.keyCode&&(e.preventDefault(),n.setState({selectedIndex:o>0?o-1:r.length-1})))},n.handleTextKeyDown=function(e){n.setState({displayText:e})},n.handleBlur=function(e){var t=Object(qe.f)(n.state.text);n.props.onBlur&&!n.submitted&&t&&n.props.onBlur(e,t,n.state.displayText||n.state.text,n.isTabPressed)},n.state={selectedIndex:-1,isLoading:!1,text:t.displayUrl||"",displayText:t.displayText||"",items:[]},n.urlBlur=n.handleBlur.bind(n,"url"),n.textBlur=n.handleBlur.bind(n,"text"),n.handleClearText=n.createClearHandler("text"),n.handleClearDisplayText=n.createClearHandler("displayText"),n}return Object(i.__extends)(t,e),t.prototype.resolveProvider=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return t=n.sent(),this.setState({provider:t}),[2,t]}}))}))},t.prototype.componentDidMount=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.provider?[4,this.resolveProvider(this.props.provider)]:[3,3];case 1:return e=t.sent(),[4,this.loadRecentItems(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.loadRecentItems=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,3,4]),this.state.text?[3,2]:(t=this.setState,n={isLoading:!0},r=Tt,[4,e.getRecentItems()]);case 1:t.apply(this,[(n.items=r.apply(void 0,[o.sent()]),n)]),o.label=2;case 2:return[3,4];case 3:return this.setState({isLoading:!1}),[7];case 4:return[2]}}))}))},t.prototype.render=function(){var e=this,t=this.state,n=t.items,r=t.isLoading,o=t.selectedIndex,i=t.text,a=t.displayText,s=this.props,c=s.intl.formatMessage,l=s.provider,u=c(l?vt.b.placeholder:vt.b.linkPlaceholder),d=c(vt.b.linkAddress),p=c(kt.clearLink),f=c(kt.displayText);return H.createElement("div",{className:"recent-list"},H.createElement(yt.a,{provider:!!l},H.createElement(yt.e,null,H.createElement(Et,null,H.createElement(mt.a,{content:d},H.createElement(ht.a,{label:d}))),H.createElement(bt.a,{ref:function(t){return e.urlInputContainer=t},placeholder:u,onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.urlBlur,onBlur:this.urlBlur,defaultValue:i,onKeyDown:this.handleKeyDown}),i&&H.createElement(mt.a,{content:p},H.createElement(Ot,{onClick:this.handleClearText},H.createElement(ut.a,{label:p})))),H.createElement(gt.a,{items:n,isLoading:r,selectedIndex:o,onSelect:this.handleSelected,onMouseMove:this.handleMouseMove}),H.createElement(wt,null,H.createElement(Et,null,H.createElement(mt.a,{content:f},H.createElement(pt.a,{label:f}))),H.createElement(bt.a,{ref:function(t){return e.displayTextInputContainer=t},placeholder:f,onChange:this.handleTextKeyDown,onCancel:this.textBlur,onBlur:this.textBlur,defaultValue:a,onSubmit:this.handleSubmit}),a&&H.createElement(mt.a,{content:c(kt.clearText)},H.createElement(Ot,{onClick:this.handleClearDisplayText},H.createElement(ut.a,{label:c(kt.clearText)}))))))},t.prototype.trackAutoCompleteAnalyticsEvent=function(e){var t=this.state.text?this.state.text.length:0;X.a.trackEvent(e,{numChars:t})},t}(H.PureComponent),_t=function(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n},Tt=function(e){return e.slice(0,5)},Ct=Object(fe.h)(xt),St=n("+i8T"),jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onSubmit,n=e.onBlur,r=e.displayText,o=e.displayUrl,i=e.providerFactory;return H.createElement(St.a,{providers:["activityProvider"],providerFactory:i,renderNode:function(e){var i=e.activityProvider;return H.createElement(Ct,{provider:i,onSubmit:t,onBlur:n,displayText:r||"",displayUrl:o})}})},t}(H.PureComponent),Mt=n("ZTTl"),At=n.n(Mt),Rt=n("EFtY"),Nt=n.n(Rt);function It(e){return void 0!==e.pos}var Pt=function(e,t){return function(n,r,o,i){switch(n){case"url":return r?Object(Ze.h)(r,It(e)?e.pos:e.from,It(e)?void 0:e.to,i)(t.state,t.dispatch):(It(e)&&e.node&&!r&&Object(Ze.g)(e.pos)(t.state,t.dispatch),Object(Ze.b)()(t.state,t.dispatch));case"text":return o&&r?"INSERT"===e.type?Object(Ze.c)(e.from,e.to,r,o)(t.state,t.dispatch):Object(Ze.i)(o,e.pos)(t.state,t.dispatch):Object(Ze.b)()(t.state,t.dispatch);default:return Object(Ze.b)()(t.state,t.dispatch)}}},Dt=function(e,t,n){var r=t.formatMessage,o=Je.e.getState(e);if(o&&o.activeLinkMark){var a=o.activeLinkMark,s={title:"Hyperlink floating controls",nodeType:[e.schema.nodes.text,e.schema.nodes.paragraph,e.schema.nodes.heading,e.schema.nodes.taskItem,e.schema.nodes.decisionItem].filter((function(e){return!!e})),align:"left",className:a.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(a.type){case"EDIT":var c=a.pos,l=(h=a.node.marks.filter((function(t){return t.type===e.schema.marks.link})))[0]&&h[0].attrs.href,u=r(vt.b.openLink),d=r(vt.b.unlink),p=r(vt.b.editLink);return Object(i.__assign)(Object(i.__assign)({},s),{height:32,width:250,items:[{type:"button",onClick:Object(Ze.a)(),selected:!1,title:p,showTitle:!0},{type:"separator"},{type:"button",target:"_blank",href:l,onClick:function(){return!0},selected:!1,title:u,icon:Nt.a,className:"hyperlink-open-link"},{type:"separator"},{type:"button",onClick:Object(Ze.g)(c),selected:!1,title:d,icon:At.a}]});case"EDIT_INSERTED":case"INSERT":var f;if(It(a)&&a.node){var h=a.node.marks.filter((function(t){return t.type===e.schema.marks.link}));f=h[0]&&h[0].attrs.href}var m=It(a)?function(e,t){if(e.node){var n=Object(qe.f)(e.node.text),r=e.node.marks.find((function(e){return e.type===t.schema.marks.link}));if(n!==(r&&r.attrs.href))return e.node.text}}(a,e):o.activeText;return Object(i.__assign)(Object(i.__assign)({},s),{height:yt.c,width:yt.d,items:[{type:"custom",render:function(e,t){return e?H.createElement(jt,{key:t,displayUrl:f,displayText:m||"",providerFactory:n,onSubmit:function(t,n,r){It(a)?Object(Ze.k)(t,n,a.pos)(e.state,e.dispatch):Object(Ze.d)(r,a.from,a.to,t,n)(e.state,e.dispatch),e.focus()},onBlur:Pt(a,e)}):null}}]})}}},Lt=function(){return{name:"hyperlink",marks:function(){return[{name:"link",mark:Ge.a}]},pmPlugins:function(){return[{name:"hyperlink",plugin:function(e){var t=e.dispatch;return Object(Je.d)(t)}},{name:"fakeCursorToolbarPlugin",plugin:function(){return st}},{name:"hyperlinkInputRule",plugin:function(e){return Xe(e.schema)}},{name:"hyperlinkKeymap",plugin:function(){return Qe()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.link),description:t(ct.b.linkDescription),keywords:["url","link","hyperlink"],priority:1200,keyshortcut:Object($.tooltip)($.addLink),icon:function(){return H.createElement(Ae.l,{label:t(ct.b.link)})},action:function(e,t){var n=t.selection.from,r=t.selection.$from.nodeBefore;if(!r)return!1;var o=t.tr.setMeta(Je.e,{type:Je.b.SHOW_INSERT_TOOLBAR}).delete(n-r.nodeSize,n);return Object(ie.a)(t,o,{action:D.a.INVOKED,actionSubject:D.b.TYPEAHEAD,actionSubjectId:D.c.TYPEAHEAD_LINK,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.UI})}}]},floatingToolbar:Dt}}},Bt=n("ijHJ"),zt=n("xVbl"),Ht=n("FBCs"),Ft=n("uuzF"),Ut=n("8Cjo"),Wt=n("mELk"),Kt=n("AbX1"),Vt=n("gdUu"),Gt=new d.PluginKey("clearFormattingPlugin"),qt=new d.Plugin({props:{handleClick:function(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;var r=e.state.schema.marks.code,o=e.state.doc.resolve(t),i=(o.nodeBefore?o.nodeBefore.isInline:o.nodeAfter)&&(o.nodeAfter?o.nodeAfter.isInline:o.nodeBefore)&&0===o.textOffset,a=r&&(o.nodeBefore&&r.isInSet(o.nodeBefore.marks)||o.nodeAfter&&r.isInSet(o.nodeAfter.marks)),s=n.target&&n.target instanceof Node&&e.posAtDOM(n.target);if(i&&a&&s){var c=n.target.parentNode===e.domAtPos(s).node&&r.isInSet(e.state.doc.resolve(s).nodeAfter.marks),l=o.nodeBefore&&r.isInSet(o.nodeBefore.marks)?o.nodeAfter:o.nodeBefore,u=e.state.tr.setSelection(d.TextSelection.near(o));return c?u.setStoredMarks([r.create()]):u.setStoredMarks(l?l.marks:[]),e.dispatch(u),!0}return!1}}}),$t={"**":["_","~~"],"*":["__","~~"],__:["*","~~"],_:["**","~~"],"~~":["__","_","**","*"]},Yt=function(e,t){for(var n=0;n<$t[e].length;n++){var r=$t[e][n];if(r===t)return!0;var o=t.length-r.length;if(t.substr(o,t.length)===r)return Yt(r,t.substr(0,o))}return!1};function Xt(e,t,n,r){return function(o,a,s,c){var l,u=Object(i.__read)(a,3),d=u[1],p=c,f=u[2]?s+d.length:s,h=o.doc.resolve(s+d.length).nodeBefore;if(d&&d.length>0&&!Yt(r,d)&&(!h||h.type!==o.schema.nodes.hardBreak))return null;if(o.schema.marks.code&&o.schema.marks.code.isInSet(o.doc.resolve(f+1).marks()))return null;if(o.doc.nodesBetween(f,p,(function(e){return e.type===t.nodes.hardBreak?(l=!0,!1):!l})),l)return null;if(o.doc.resolve(f).sameParent(o.doc.resolve(p))&&!o.doc.resolve(f).parent.type.allowsMarkType(e))return null;X.a.trackEvent("atlassian.editor.format."+e.name+".autoformatting");var m=o.tr.addMark(f,p,e.create());return n>1&&(m=m.delete(p-(n-1),p)),m.delete(f,f+n).removeStoredMark(e)}}var Jt=/(\S*)(\_\_([^\_\s](\_(?!\_)|[^\_])*[^\_\s]|[^\_\s])\_\_)$/,Zt=/(\S*)(\*\*([^\*\s](\*(?!\*)|[^\*])*[^\*\s]|[^\*\s])\*\*)$/,Qt=/(\S*[^\s\_]*)(\_([^\s\_][^\_]*[^\s\_]|[^\s\_])\_)$/,en=/(\S*[^\s\*]*)(\*([^\s\*][^\*]*[^\s\*]|[^\s\*])\*)$/,tn=/(\S*)(\~\~([^\s\~](\~(?!\~)|[^\~])*[^\s\~]|[^\s\~])\~\~)$/,nn=/(\S*)(`[^\s][^`]*`)$/;function rn(e){var t,n;return[Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_CODE,eventType:D.d.TRACK,attributes:{inputMethod:D.e.FORMATTING}}}))(Object(te.a)(nn,(t=e.marks.code,n="`",function(e,r,o,i){if(r[1]&&r[1].length>0&&[function(e){return"("===e},function(t){var n=e.doc.resolve(o+t.length).nodeBefore;return n&&n.type===e.schema.nodes.hardBreak||!1}].every((function(e){return!e(r[1])})))return null;if(e.doc.resolve(o).sameParent(e.doc.resolve(i))&&!e.doc.resolve(o).parent.type.allowsMarkType(t))return null;var a=e.tr;e.selection.from!==e.selection.to&&(a.delete(e.selection.from,e.selection.to),i-=e.selection.to-e.selection.from),X.a.trackEvent("atlassian.editor.format.code.autoformatting");var s=i-r[2].length+1,c=e.schema.marks.code.create();return Object(m.a)(s,i,!1,c,a).setStoredMarks([c]).delete(s,s+n.length).removeStoredMark(t)})))]}var on=function(e){var t=[];if(e.marks.strong&&t.push.apply(t,Object(i.__spread)(function(e){var t=Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_STRONG,eventType:D.d.TRACK,attributes:{inputMethod:D.e.FORMATTING}}})),n=Object(te.a)(Jt,Xt(e.marks.strong,e,2,"__")),r=Object(te.a)(Zt,Xt(e.marks.strong,e,2,"**"));return[t(n),t(r)]}(e))),e.marks.em&&t.push.apply(t,Object(i.__spread)(function(e){var t=Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_ITALIC,eventType:D.d.TRACK,attributes:{inputMethod:D.e.FORMATTING}}})),n=Object(te.a)(Qt,Xt(e.marks.em,e,1,"_")),r=Object(te.a)(en,Xt(e.marks.em,e,1,"*"));return[t(n),t(r)]}(e))),e.marks.strike&&t.push.apply(t,Object(i.__spread)(function(e){return[Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_STRIKE,eventType:D.d.TRACK,attributes:{inputMethod:D.e.FORMATTING}}}))(Object(te.a)(tn,Xt(e.marks.strike,e,2,"~~")))]}(e))),e.marks.code&&t.push.apply(t,Object(i.__spread)(rn(e))),0!==t.length)return Object(q.inputRules)({rules:t})},an=n("58MS");var sn,cn,ln=function(){var e={};return $.bindKeymapWithCommand($.clearFormatting.common,J("atlassian.editor.format.clear.keyboard",Object(an.c)(D.e.SHORTCUT)),e),Object(h.keymap)(e)};function un(e,t,n){return Object(te.a)(t,function(e,t){return function(n,r,o,a){var s=Object(i.__read)(r,4),c=s[1],l=s[3],u=(c||"")+e+(l||"");t&&X.a.trackEvent("atlassian.editor.format."+t+".autoformatting");var p=n.tr,f=n.selection.$to;return p.replaceWith(o,a,n.schema.text(u,f.marks())),p.setSelection(d.Selection.near(p.doc.resolve(p.selection.to))),p}}(e,n))}function dn(e,t,n){return Object.keys(e).map((function(r){var o=un(r,e[r],t);return n?n(r)(o):o}))}!function(e){e.ARROW_RIGHT="rightArrow",e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(sn||(sn={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(cn||(cn={}));var pn,fn,hn,mn,vn,bn,gn,yn,On=Object(q.inputRules)({rules:Object(i.__spread)(dn({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},"product",(function(e){return Object(ie.d)((function(t,n){return{action:D.a.SUBSTITUTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.PRODUCT_NAME,eventType:D.d.TRACK,attributes:{product:e,originalSpelling:n[2]}}}))})),(yn={"→":sn.ARROW_RIGHT,"←":sn.ARROW_LEFT,"↔︎":sn.ARROW_DOUBLE},dn({"→":/(\s+|^)(--?>)(\s)$/,"←":/(\s+|^)(<--?)(\s)$/,"↔︎":/(\s+|^)(<->?)(\s)$/},"arrow",(function(e){return Object(ie.d)((function(){return{action:D.a.SUBSTITUTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.SYMBOL,eventType:D.d.TRACK,attributes:{symbol:yn[e]}}}))}))),((pn={"–":cn.DASH,"…":cn.ELLIPSIS,"“":cn.QUOTE_DOUBLE,"”":cn.QUOTE_DOUBLE})[cn.QUOTE_SINGLE]=cn.QUOTE_SINGLE,hn=pn,mn=function(e){return Object(ie.d)((function(){return{action:D.a.SUBSTITUTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.PUNC,eventType:D.d.TRACK,attributes:{punctuation:hn[e]}}}))},vn=dn({"–":/(\s+|^)(--)(\s)$/,"…":/()(\.\.\.)$/},"typography",mn),bn=dn({"“":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"”":/"$/},"quote",mn),fn="quote",gn=[Object(te.a)(/(\s+|^)'(\S+.*\S+)'$/,(function(e,t,n,r){var o=Object(i.__read)(t,3),a=o[1]+"‘"+o[2]+"’";return X.a.trackEvent("atlassian.editor.format."+fn+".autoformatting"),e.tr.insertText(a,n,r)})),un("’",/(\w+)(')(\w+)$/,fn)],Object(i.__spread)(vn,bn,gn.map((function(e){return mn(cn.QUOTE_SINGLE)(e)})))))}),wn=n("xqwH");function En(e){return"atlassian.editor.format."+e.name+".keyboard"}var kn=n("kEAM"),xn=n("td2y"),_n=function(e){return void 0===e&&(e={}),{name:"textFormatting",marks:function(){return[{name:"em",mark:Bt.a},{name:"strong",mark:zt.a},{name:"strike",mark:Ht.a}].concat(e.disableCode?[]:{name:"code",mark:Ft.a}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:Ut.a}).concat(e.disableUnderline?[]:{name:"underline",mark:Wt.a})},pmPlugins:function(){return[{name:"textFormatting",plugin:function(e){var t=e.dispatch;return Object(Kt.a)(t)}},{name:"textFormattingCursor",plugin:function(){return qt}},{name:"textFormattingInputRule",plugin:function(e){var t=e.schema;return on(t)}},{name:"textFormattingSmartRule",plugin:function(){return e.disableSmartTextCompletion?void 0:On}},{name:"textFormattingClear",plugin:function(e){return function(e){return new d.Plugin({state:{init:function(e,t){return{formattingIsPresent:Object(Vt.b)(t)}},apply:function(t,n,r,o){var i=Object(Vt.b)(o);return i!==n.formattingIsPresent?(e(Gt,{formattingIsPresent:i}),{formattingIsPresent:i}):n}},key:Gt})}(e.dispatch)}},{name:"textFormattingClearKeymap",plugin:function(){return ln()}},{name:"textFormattingKeymap",plugin:function(e){return function(e){var t={};if(e.marks.strong){var n=En(e.marks.strong);$.bindKeymapWithCommand($.toggleBold.common,J(n,wn.k({inputMethod:D.e.SHORTCUT})),t)}if(e.marks.em){n=En(e.marks.em);$.bindKeymapWithCommand($.toggleItalic.common,J(n,wn.g({inputMethod:D.e.SHORTCUT})),t)}if(e.marks.code){n=En(e.marks.code);$.bindKeymapWithCommand($.toggleCode.common,J(n,wn.e({inputMethod:D.e.SHORTCUT})),t)}if(e.marks.strike){n=En(e.marks.strike);$.bindKeymapWithCommand($.toggleStrikethrough.common,J(n,wn.i({inputMethod:D.e.SHORTCUT})),t)}if(e.marks.underline){n=En(e.marks.underline);$.bindKeymapWithCommand($.toggleUnderline.common,J(n,wn.q({inputMethod:D.e.SHORTCUT})),t)}return P(t)}(e.schema)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsScrollableElement,o=e.isToolbarReducedSpacing,i=e.disabled;return H.createElement(Me.a,{plugins:{textFormattingState:Kt.b,clearFormattingState:Gt},render:function(e){var a=e.textFormattingState,s=e.clearFormattingState;return H.createElement(we.b,{width:o?"small":"large"},H.createElement(xn.a,{disabled:i,editorView:t,textFormattingState:a,isReducedSpacing:o}),H.createElement(kn.a,{editorView:t,isDisabled:i,isReducedSpacing:o,textFormattingState:a,clearFormattingState:s,popupsMountPoint:n,popupsScrollableElement:r}))}})}}},Tn=n("uJU4"),Cn=n("lYst"),Sn=n("Aw2B"),jn=n("pT+b"),Mn=n("rSod"),An=n("m9eG"),Rn=n("RLFc"),Nn=n("DJeL"),In=n("V3z3"),Pn=function(e,t){var n="",r=t.nodes,o=r.unsupportedInline,i=r.unsupportedBlock;e.attrs&&e.attrs.cxhtml&&(n=e.attrs.cxhtml);var a={type:e.type.name,cxhtml:n,text:e.text||""};e.type===o?X.a.trackEvent("atlassian.editor.confluenceUnsupported.inline",a):e.type===i?X.a.trackEvent("atlassian.editor.confluenceUnsupported.block",a):e.content.forEach((function(e){return Pn(e,t)}))},Dn=new d.PluginKey("unsupportedContentPlugin"),Ln=function(e){var t=e.schema,n=e.portalProviderAPI;return new d.Plugin({state:{init:function(e,n){Pn(n.doc,t)},apply:function(e,t){return t}},key:Dn,props:{nodeViews:{confluenceUnsupportedBlock:Rn.b.fromComponent(Nn.a,n),confluenceUnsupportedInline:Rn.b.fromComponent(In.a,n),unsupportedBlock:Rn.b.fromComponent(Nn.a,n),unsupportedInline:Rn.b.fromComponent(In.a,n)}}})},Bn=function(){return{name:"unsupportedContent",nodes:function(){return[{name:"confluenceUnsupportedBlock",node:Sn.a},{name:"confluenceUnsupportedInline",node:jn.a},{name:"unsupportedBlock",node:Mn.a},{name:"unsupportedInline",node:An.a}]},pmPlugins:function(){return[{name:"unsupportedContent",plugin:Ln}]}}},zn=n("tvQe"),Hn=n("j/Q4"),Fn=n("Lc0o"),Un=n("X0ma"),Wn=n("A/E9");var Kn=function(e){return{payload:{action:D.a.STOPPED,actionSubject:D.b.EDITOR,actionSubjectId:D.c.SAVE,attributes:{inputMethod:D.e.SHORTCUT,documentSize:e.doc.nodeSize},eventType:D.d.UI}}},Vn=function(e){return{name:"submitEditor",pmPlugins:function(){return[{name:"submitEditor",plugin:function(t){return function(e,t){var n;if(t)return Object(h.keymap)(((n={})[""+$.submit.common]=function(n,r,o){var i=Un.b.getState(n);return!(!i||!i.waitForMediaUpload||i.allUploadsFinished)||(e(Wn.a,Kn(n)),X.a.trackEvent("atlassian.editor.stop.submit"),t(o),!0)},n))}(t.dispatch,e)}}]}}},Gn=n("Kv+2"),qn=new d.PluginKey("fakeTextCursorPlugin"),$n=function(){return{name:"fakeTextCursor",pmPlugins:function(){return[{name:"fakeTextCursor",plugin:function(){return new d.Plugin({key:qn,props:{decorations:Gn.b}})}}]}}},Yn=n("U6Bd"),Xn=n("17eC"),Jn=n("x+QU"),Zn=n.n(Jn),Qn=Zn()({loader:function(){return Promise.all([n.e(2),n.e("@atlaskit-internal-editor-core-floating-toolbar~4134d62c")]).then(n.bind(null,"Z+5c"))},loading:function(){return null}}),er=function(e){return Object(re.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e))};function tr(e){return!!e}var nr=function(){return{name:"floatingToolbar",pmPlugins:function(e){return void 0===e&&(e=[]),[{name:"floatingToolbar",plugin:function(t){var n=t.dispatch,r=t.reactContext,o=t.providerFactory;return function(e){var t=e.floatingToolbarHandlers,n=e.dispatch,r=e.reactContext,o=e.providerFactory,a=Object(Yn.a)((function(e,a,s,c){var l=r().intl,u=t.map((function(e){return e(c,l,o)})).filter(tr).map((function(e){return function(e){if(Array.isArray(e.nodeType))return Object(i.__assign)(Object(i.__assign)({},e),{nodeType:e.nodeType.filter(tr)});return e}(e)})),d=u&&function(e,t){var n;if(t.find((function(t){var r=Object(re.findSelectedNodeOfType)(t.nodeType)(e);return r&&(n={node:r.node,pos:r.pos,config:t}),!!r})),n)return n;var r={};t.forEach((function(e){Array.isArray(e.nodeType)?e.nodeType.forEach((function(t){r[t.name]=e})):r[e.nodeType.name]=e}));for(var o=e.$from,i=o.depth;i>0;i--){var a=o.node(i),s=r[a.type.name];if(s)return{config:s,node:a,pos:o.pos}}}(c.selection,u);return n(rr,d),d}));return new d.Plugin({key:rr,state:{init:function(){Qn.preload()},apply:a},view:function(){return{destroy:function(){a.cancel()}}}})}({dispatch:n,floatingToolbarHandlers:e,reactContext:r,providerFactory:o})}}]},contentComponent:function(e){var t=e.popupsMountPoint,n=e.popupsBoundariesElement,r=e.popupsScrollableElement,o=e.editorView,i=e.providerFactory,a=e.dispatchAnalyticsEvent;return H.createElement(Me.a,{plugins:{floatingToolbarState:rr,editorDisabledPlugin:zn.b},render:function(e){var s=e.editorDisabledPlugin,c=e.floatingToolbarState;if(!c||!c.config||void 0!==c.config.visible&&!c.config.visible)return null;var l=c.config,u=l.title,d=l.getDomRef,p=void 0===d?er:d,f=l.items,h=l.align,m=void 0===h?"center":h,v=l.className,b=void 0===v?"":v,g=l.height,y=l.width,O=l.offset,w=void 0===O?[0,12]:O,E=l.forcePlacement,k=p(o);if(!k||s&&s.editorDisabled)return null;var x=Array.isArray(f)?f:f(c.node);return H.createElement(Xn.a,{ariaLabel:u,offset:w,target:k,alignY:"bottom",forcePlacement:E,fitHeight:g,fitWidth:y,alignX:m,stick:!0,mountTo:t,boundariesElement:n,scrollableElement:r},H.createElement(Qn,{target:k,items:x,node:c.node,dispatchCommand:function(e){return e&&e(o.state,o.dispatch)},editorView:o,className:b,focusEditor:function(){return o.focus()},providerFactory:i,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,dispatchAnalyticsEvent:a}))}})}}},rr=new d.PluginKey("floatingToolbarPluginKey");var or=n("uS5U"),ir=n("Si1X"),ar=n("I9T1"),sr=n("qp5z"),cr=new RegExp("\n","g"),lr=sr.a.ie&&sr.a.ie_version<=11,ur=function(){function e(e){var t=this;this.ensureLineNumbers=Object(Yn.a)((function(){var e=1;for(t.node.forEach((function(t){t.text&&(e+=(t.text.match(cr)||[]).length)}));t.lineNumberGutter.childElementCount<e;)t.lineNumberGutter.appendChild(document.createElement("span"));for(;t.lineNumberGutter.childElementCount>e;)t.lineNumberGutter.removeChild(t.lineNumberGutter.lastChild)}));var n=ar.DOMSerializer.renderSpec(document,function(e){return["div",{class:"code-block"+(lr?" ie11":"")},["div",{class:"line-number-gutter",contenteditable:"false"}],["div",{class:"code-content"},["pre",["code",{"data-language":e.attrs.language||"",spellcheck:"false"},0]]]]}(e)),r=n.dom,o=n.contentDOM;this.node=e,this.dom=r,this.contentDOM=o,this.lineNumberGutter=this.dom.querySelector(".line-number-gutter"),this.ensureLineNumbers()}return e.prototype.update=function(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers()),!0)},e.prototype.ignoreMutation=function(e){return e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter},e}(),dr=function(e){return new ur(e)},pr=function(e){return hr.getState(e)},fr=function(e){return function(t,n){var r=pr(t);return n(t.tr.setMeta(hr,Object(i.__assign)(Object(i.__assign)({},r),e))),!0}},hr=new d.PluginKey("codeBlockPlugin"),mr=function(e){var t=e.dispatch;return new d.Plugin({state:{init:function(){return{toolbarVisible:!1}},apply:function(e,n){var r=e.getMeta(hr);return r?(t(hr,r),r):n}},key:hr,view:function(){return{update:function(e){var n=e.state,r=n.selection,o=n.schema.nodes.codeBlock,a=pr(e.state),s=Object(re.findParentDomRefOfType)(o,e.domAtPos.bind(e))(r);if(s!==a.element){var c=Object(re.findParentNodeOfType)(o)(r);return fr({element:s,toolbarVisible:!!c})(e.state,e.dispatch),!0}t(hr,Object(i.__assign)({},a))}}},props:{nodeViews:{codeBlock:dr},handleDOMEvents:{blur:function(e){return!!pr(e.state).toolbarVisible&&(fr({toolbarVisible:!1,element:null})(e.state,e.dispatch),!0)}}}})},vr=n("xzME"),br=n.n(vr),gr=[{name:"ABAP",alias:["abap"]},{name:"ActionScript",alias:["actionscript","actionscript3","as"]},{name:"Ada",alias:["ada","ada95","ada2005"]},{name:"AppleScript",alias:["applescript"]},{name:"Arduino",alias:["arduino"]},{name:"Autoit",alias:["autoit"]},{name:"C",alias:["c"]},{name:"C++",alias:["c++","cpp"]},{name:"Clojure",alias:["clojure","clj"]},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"]},{name:"ColdFusion",alias:["coldfusion"]},{name:"CSharp",alias:["csharp","c#"]},{name:"CSS",alias:["css"]},{name:"CUDA",alias:["cuda","cu"]},{name:"D",alias:["d"]},{name:"Dart",alias:["dart"]},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"]},{name:"Diff",alias:["diff"]},{name:"Elixir",alias:["elixir","ex","exs"]},{name:"Erlang",alias:["erlang","erl"]},{name:"Fortran",alias:["fortran"]},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"]},{name:"Go",alias:["go"]},{name:"GraphQL",alias:["graphql"]},{name:"Groovy",alias:["groovy"]},{name:"Haskell",alias:["haskell","hs"]},{name:"Haxe",alias:["haxe","hx","hxsl"]},{name:"Html",alias:["html"]},{name:"Java",alias:["java"]},{name:"JavaFX",alias:["javafx","jfx"]},{name:"JavaScript",alias:["javascript","js"]},{name:"JSON",alias:["json"]},{name:"Julia",alias:["julia","jl"]},{name:"Kotlin",alias:["kotlin"]},{name:"LiveScript",alias:["livescript","live-script"]},{name:"Lua",alias:["lua"]},{name:"Mathematica",alias:["mathematica","mma","nb"]},{name:"MATLAB",alias:["matlab"]},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"]},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"]},{name:"ObjectPascal",alias:["objectpascal"]},{name:"OCaml",alias:["ocaml"]},{name:"Octave",alias:["octave"]},{name:"Perl",alias:["perl","pl"]},{name:"PHP",alias:["php","php3","php4","php5"]},{name:"PlainText",alias:["plaintext","text"]},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"]},{name:"Prolog",alias:["prolog"]},{name:"Puppet",alias:["puppet"]},{name:"Python",alias:["python","py"]},{name:"QML",alias:["qbs"]},{name:"R",alias:["r"]},{name:"Racket",alias:["racket","rkt"]},{name:"reStructuredText",alias:["restructuredtext","rst","rest"]},{name:"Ruby",alias:["ruby","rb","duby"]},{name:"Rust",alias:["rust"]},{name:"Sass",alias:["sass"]},{name:"Scala",alias:["scala"]},{name:"Scheme",alias:["scheme","scm"]},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"]},{name:"Smalltalk",alias:["smalltalk","squeak","st"]},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"]},{name:"StandardML",alias:["standardmL","sml"]},{name:"Swift",alias:["swift"]},{name:"Tcl",alias:["tcl"]},{name:"TeX",alias:["tex","latex"]},{name:"TypeScript",alias:["typescript","ts"]},{name:"Vala",alias:["vala","vapi"]},{name:"VbNet",alias:["vbnet","vb.net"]},{name:"Verilog",alias:["verilog","v"]},{name:"VHDL",alias:["vhdl"]},{name:"VisualBasic",alias:["visualbasic","vb"]},{name:"XML",alias:["xml"]},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"]},{name:"YAML",alias:["yaml","yml"]}];var yr=function(e,t){var n=e.schema.nodes,r=e.tr;return t&&t(Object(re.removeParentNodeOfType)(n.codeBlock)(r)),!0},Or=Object(fe.g)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),wr=gr.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),Er=function(e,t){var n=t.formatMessage,r=hr.getState(e);if(r&&r.toolbarVisible&&r.element){var o=Object(re.findParentNodeOfType)(e.schema.nodes.codeBlock)(e.selection),i=o&&o.node.attrs?o.node.attrs.language:void 0,a=wr.map((function(e){return{label:e.name,value:(t=e,t.alias[0])};var t})),s={type:"select",onChange:function(e){return t=e.value,function(e,n){var r=e.schema.nodes,o=e.tr,i={language:t},a=Object(re.setParentNodeMarkup)(r.codeBlock,null,i)(o);return a.setMeta("scrollIntoView",!1),n&&n(a),!0};var t},defaultValue:i?a.find((function(e){return e.value===i})):void 0,placeholder:n(Or.selectLanguage),options:a},c=e.schema.nodes.codeBlock;return{title:"CodeBlock floating controls",getDomRef:function(){return r.element},nodeType:c,items:[s,{type:"separator"},{type:"button",appearance:"danger",icon:br.a,onMouseEnter:Object(M.b)(c,!0),onMouseLeave:Object(M.b)(c,!1),onClick:yr,title:n(vt.a.remove)}]}}};var kr=function(e){return Object(h.keymap)({Backspace:function(t,n){var r,o,i=Object(x.o)(t.selection),a=t.schema.nodes,s=a.paragraph,c=a.codeBlock,l=a.listItem,u=a.table,p=a.layoutColumn;if(!i||i.parent.type!==c)return!1;if(1===i.pos||Object(re.hasParentNodeOfType)(l)(t.selection)&&0===i.parentOffset){var f=Object(re.findParentNodeOfTypeClosestToPos)(i,c);return!!f&&(n(t.tr.setNodeMarkup(f.pos,f.node.type,f.node.attrs,[]).setBlockType(i.pos,i.pos,s)),!0)}if(n&&i.node&&Object(x.t)(e)(i.node())&&(Object(re.hasParentNodeOfType)(p)(t.selection)||Object(re.hasParentNodeOfType)(u)(t.selection))){var h=t.tr,m=i.pos;return n(Object(x.F)((o=i,function(e){return e.delete(o.before(o.depth)-1,o.end(o.depth)+1)}),(r=m,function(e){var t=d.Selection.findFrom(e.doc.resolve(r),-1,!0);return t&&e.setSelection(t),e}))(h).scrollIntoView()),!0}return!1}})},xr={"{":"}","[":"]","(":")"},_r=function(e,t){var n=Object.keys(xr).find((function(t){return e.endsWith(t)})),r=n?xr[n]:void 0;return{left:n,right:r,hasTrailingMatchingBracket:!!r&&t.startsWith(r)}},Tr=function(e){return e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock},Cr=function(e){return!!Object(x.o)(e.selection)&&Tr(e)},Sr=function(e){var t=e.selection.$from;if(t.nodeBefore&&t.nodeBefore.isText){var n=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(n+1),pos:t.start()+n+1}}return{text:"",pos:t.pos}},jr=function(e){var t=e.selection.$to;if(t.nodeAfter&&t.nodeAfter.isText){var n=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,n>=0?n:void 0),pos:n>=0?t.pos+n:t.end()}}return{text:"",pos:t.pos}};function Mr(e){var t=Sr(e).pos,n=jr(e).pos;return{text:e.doc.textBetween(t,n),start:t,end:n}}var Ar=function(e,t){var n=0;e.split("\n").forEach((function(e){t(e,n),n+=e.length+1}))},Rr={token:" ",size:2,regex:/[^ ]/},Nr={token:"\t",size:1,regex:/[^\t]/},Ir=function(e){var t=e.startsWith("\t")?Nr:Rr,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}},Pr=n("zGF/");function Dr(e,t){return 0===t||0===e.length?0:e.length/t}function Lr(e,t){var n=Mr(e),r=n.text,o=n.start,i=e.tr,a=e.selection;return Ar(r,(function(t,n){var r=Ir(t),s=r.indentText,c=r.indentToken,l=Dr(s,c.size),u=c.token.repeat(c.size-s.length%c.size||c.size);i.insertText(u,i.mapping.map(o+n,-1)),Object(ie.a)(e,i,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_INDENT,eventType:D.d.TRACK,attributes:{inputMethod:D.e.KEYBOARD,previousIndentationLevel:l,newIndentLevel:l+1,direction:Pr.a.INDENT,indentType:Pr.b.CODE_BLOCK}}),a.empty||i.setSelection(d.TextSelection.create(i.doc,i.mapping.map(a.from,-1),i.selection.to))})),t&&(t(i),X.a.trackEvent("atlassian.editor.codeblock.indent")),!0}function Br(e,t){var n=Mr(e),r=n.text,o=n.start,i=e.tr;return Ar(r,(function(t,n){var r=Ir(t),a=r.indentText,s=r.indentToken;if(a){var c=Dr(a,s.size),l=a.length%s.size||s.size;i.delete(i.mapping.map(o+n),i.mapping.map(o+n+l)),Object(ie.a)(e,i,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_INDENT,eventType:D.d.TRACK,attributes:{inputMethod:D.e.KEYBOARD,previousIndentationLevel:c,newIndentLevel:c-1,direction:Pr.a.OUTDENT,indentType:Pr.b.CODE_BLOCK}})}})),t&&(t(i),X.a.trackEvent("atlassian.editor.codeblock.outdent")),!0}var zr=new d.Plugin({props:{handleTextInput:function(e,t,n,r){var o,i=e.state,a=e.dispatch;if(Cr(i)){var s=Sr(i).text,c=jr(i).text;if(o=c,Object.keys(xr).some((function(e){return o.startsWith(xr[e])}))&&function(e){return Object.keys(xr).some((function(t){return e===xr[t]}))}(r)&&c.startsWith(r))return a(Object(re.setTextSelection)(n+r.length)(i.tr)),!0;var l=_r(s+r,c),u=l.left,d=l.right;if(u&&d){var p=i.schema.text(r+d),f=i.tr.replaceWith(t,n,p);return a(Object(re.setTextSelection)(t+r.length)(f)),!0}}return!1},handleKeyDown:Object(h.keydownHandler)({Backspace:function(e,t){if(Cr(e)){var n=Object(x.o)(e.selection),r=Sr(e).text,o=jr(e).text,i=_r(r,o),a=i.left,s=i.right,c=i.hasTrailingMatchingBracket;if(a&&s&&c&&t)return t(e.tr.delete(n.pos-a.length,n.pos+s.length)),!0;var l=Ir(r),u=l.indentToken,d=u.size,p=u.token,f=l.indentText;if(r===f&&f.endsWith(p.repeat(d))&&t)return t(e.tr.delete(n.pos-(d-f.length%d||d),n.pos)),!0}return!1},Enter:Object(m.b)(Tr,(function(e,t){var n=Sr(e).text,r=Ir(n).indentText;return!(!r||!t)&&(t(e.tr.insertText("\n"+r)),!0)})),"Mod-]":Object(m.b)(Tr,Lr),"Mod-[":Object(m.b)(Tr,Br),Tab:Object(m.b)(Tr,(function(e,t){return!!t&&(Cr(e)?function(e,t){var n=Sr(e).text,r=Ir(n).indentToken,o=r.token.repeat(r.size-n.length%r.size||r.size);return t(e.tr.insertText(o)),X.a.trackEvent("atlassian.editor.codeblock.indent.insert"),!0}(e,t):Lr(e,t))})),"Shift-Tab":Object(m.b)(Tr,Br),"Mod-a":function(e,t){if(Tr(e)){var n=e.selection,r=n.$from,o=n.$to;if(!(0===r.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(d.TextSelection.create(e.doc,r.start(),o.end()))),!0}return!1}})}}),Hr=function(){return{name:"codeBlock",nodes:function(){return[{name:"codeBlock",node:ir.a}]},pmPlugins:function(){return[{name:"codeBlock",plugin:mr},{name:"codeBlockIDEKeyBindings",plugin:function(){return zr}},{name:"codeBlockKeyMap",plugin:function(e){var t=e.schema;return kr(t)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Z.p.codeblock),description:t(Z.p.codeblockDescription),priority:700,keyshortcut:"```",icon:function(){return H.createElement(Ae.b,{label:t(Z.p.codeblock)})},action:function(e,t){var n=e(t.schema.nodes.codeBlock.createChecked());return Object(ie.a)(t,n,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.CODE_BLOCK,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.TRACK})}}]},floatingToolbar:Er}}},Fr=n("v/9i"),Ur=n("vdkP"),Wr=n("kWTW"),Kr=n("0Hbo"),Vr=function(e){if(e.selection instanceof Kr.CellSelection){var t=[];return e.selection.forEachCell((function(n){var r=n.firstChild.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];t.push(r?r.attrs.align:"start")})),t.every((function(e){return e===t[0]}))?t[0]:"start"}var n=Object(re.findParentNodeOfType)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),r=n&&n.node.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];return r&&r.attrs.align||"start"};var Gr=new d.PluginKey("alignmentPlugin");function qr(e,t){return new d.Plugin({key:Gr,state:{init:function(e,n){return function(e,t){return{align:Vr(e)||t.align,isEnabled:!0}}(n,t)},apply:function(t,n,r,o){var a,s=Vr(o),c=(a=s,function(e,t){var n=e.schema,r=n.nodes,o=r.paragraph,i=r.heading,s=n.marks.alignment;return Object(Y.k)(s,(function(){return a?"start"!==a&&{align:a}:void 0}),[o,i])(e,t)})(o,void 0),l=Object(i.__assign)(Object(i.__assign)({},n),{align:s,isEnabled:c});return s===n.align&&c===n.isEnabled||e(Gr,l),l}}})}var $r,Yr,Xr,Jr,Zr,Qr=n("jERE"),eo=n("ZinM"),to=n.n(eo),no=n("RMEM"),ro=n.n(no),oo=ke.default.div($r||($r=Object(i.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),io=ke.default.span(Yr||(Yr=Object(i.__makeTemplateObject)(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),Ee.colors.N30),ao=ke.default.span(Xr||(Xr=Object(i.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"]))),so=ke.default.span(Jr||(Jr=Object(i.__makeTemplateObject)(["\n  margin-left: -8px;\n"],["\n  margin-left: -8px;\n"]))),co=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.isSelected,r=e.content;return H.createElement(ye.a,{disabled:!1,selected:n,title:t,"aria-label":t,onClick:this.onClick,iconBefore:r})},t}(H.PureComponent),lo=n("RZTm"),uo=ke.default.div(Zr||(Zr=Object(i.__makeTemplateObject)(["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(lo.l)()),po=[{title:"Align left",value:"start"},{title:"Align center",value:"center"},{title:"Align right",value:"end"}],fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.selectedAlignment,r=e.className;return H.createElement(uo,{className:r,style:{maxWidth:96}},po.map((function(e){var r=e.value,o=e.title;return H.createElement(co,{content:ho[r],key:r,value:r,label:o,onClick:t,isSelected:r===n})})))},t}(H.PureComponent),ho={start:H.createElement(pt.a,{label:"Align left"}),end:H.createElement(ro.a,{label:"Align right"}),center:H.createElement(to.a,{label:"Align center"})},mo=(Object(fe.g)({alignment:{id:"fabric.editor.alignment",defaultMessage:"Alignment",description:"Aligns text"}}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.changeAlignment=function(e){return t.toggleOpen(),t.props.changeAlignment(e)},t.toggleOpen=function(){t.handleOpenChange({isOpen:!t.state.isOpen})},t.handleOpenChange=function(e){var n=e.isOpen;t.setState({isOpen:n})},t.hide=function(){!0===t.state.isOpen&&t.setState({isOpen:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,i=n.popupsScrollableElement,a=n.isReducedSpacing,s=n.pluginState,c=n.disabled;return H.createElement(ao,null,H.createElement(Qr.a,{mountTo:r,boundariesElement:o,scrollableElement:i,isOpen:this.state.isOpen,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:242,fitHeight:80,trigger:H.createElement(ye.a,{spacing:a?"none":"default",disabled:c,selected:t,title:"Text alignment","aria-label":"Text alignment",className:"align-btn",onClick:this.toggleOpen,iconBefore:H.createElement(oo,null,ho[s.align],H.createElement(so,null,H.createElement(me.a,{label:"Alignment"})))})},H.createElement(fo,{onClick:function(t){return e.changeAlignment(t)},selectedAlignment:s.align})),H.createElement(io,null))},t.displayName="AlignmentToolbar",t}(H.Component)),vo={align:"start"},bo=function(){return{name:"alignment",marks:function(){return[{name:"alignment",mark:Ur.a}]},pmPlugins:function(){return[{name:"alignmentPlugin",plugin:function(e){return qr(e.dispatch,vo)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.disabled,a=e.isToolbarReducedSpacing;return H.createElement(Me.a,{plugins:{align:Gr},render:function(e){var s=e.align;return H.createElement(mo,{pluginState:s,isReducedSpacing:a,changeAlignment:function(e){return function(e){return function(t,n){var r=t.schema,o=r.nodes,i=o.paragraph,a=o.heading,s=r.marks.alignment;return Object(Wr.a)([Object(Y.a)(e),Object(Y.k)(s,(function(){return e?"start"!==e&&{align:e}:void 0}),[i,a])])(t,n)}}(e)(t.state,t.dispatch)},disabled:i||!s.isEnabled,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})}}},go=n("0OuX"),yo=n("eSD1"),Oo=n("cDZr"),wo=n("U8bk"),Eo=n("UQv1"),ko=n.n(Eo),xo=n("ybZl"),_o=n.n(xo),To=n("jwaM"),Co=n("JTea"),So=n("N0Nj"),jo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDropdownOpen:!1},t.onOpenChange=function(e){t.setState({isDropdownOpen:e.isDropdownOpen})},t.handleTriggerClick=function(){t.onOpenChange({isDropdownOpen:!t.state.isDropdownOpen})},t.createItems=function(){var e=t.props,n=e.bulletListDisabled,r=e.orderedListDisabled,o=e.bulletListActive,i=e.orderedListActive,a=e.intl.formatMessage,s=a(So.a.unorderedList),c=a(So.a.orderedList);return[{items:[{key:"unorderedList",content:s,value:{name:"bullet_list"},isDisabled:n,isActive:Boolean(o),elemAfter:H.createElement(we.g,null,Object($.tooltip)($.toggleBulletList))},{key:"orderedList",content:c,value:{name:"ordered_list"},isDisabled:r,isActive:Boolean(i),elemAfter:H.createElement(we.g,null,Object($.tooltip)($.toggleOrderedList))}]}]},t.handleBulletListClick=Object(To.a)("atlassian.editor.format.list.bullet.button",(function(){return!(t.props.bulletListDisabled||!Object(Co.e)(t.props.editorView,D.e.TOOLBAR))})),t.handleOrderedListClick=Object(To.a)("atlassian.editor.format.list.numbered.button",(function(){return!(t.props.orderedListDisabled||!Object(Co.g)(t.props.editorView,D.e.TOOLBAR))})),t.onItemActivated=function(e){var n=e.item;switch(t.setState({isDropdownOpen:!1}),n.value.name){case"bullet_list":t.handleBulletListClick();break;case"ordered_list":t.handleOrderedListClick()}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.isSmall,r=e.isReducedSpacing,o=e.isSeparator,i=e.bulletListActive,a=e.bulletListDisabled,s=e.orderedListActive,c=e.orderedListDisabled,l=e.intl.formatMessage,u=this.state.isDropdownOpen;if(n){var d=this.createItems(),p=this.props,f=p.popupsMountPoint,h=p.popupsBoundariesElement,m=p.popupsScrollableElement,v=l(So.a.lists);return H.createElement(we.i,null,H.createElement(Oe.a,{items:d,onItemActivated:this.onItemActivated,mountTo:f,boundariesElement:h,scrollableElement:m,isOpen:u,onOpenChange:this.onOpenChange,fitHeight:188,fitWidth:175},H.createElement(ye.a,{spacing:r?"none":"default",selected:i||s,disabled:t,onClick:this.handleTriggerClick,title:v,iconBefore:H.createElement(we.i,null,H.createElement(ko.a,{label:v}),H.createElement(we.d,null,H.createElement(me.a,{label:v})))})),o&&H.createElement(we.f,null))}var b=l(So.a.unorderedList),g=l(So.a.orderedList);return H.createElement(we.b,{width:r?"small":"large"},H.createElement(ye.a,{spacing:r?"none":"default",onClick:this.handleBulletListClick,selected:i,disabled:a||t,title:Object($.renderTooltipContent)(b,$.toggleBulletList),iconBefore:H.createElement(ko.a,{label:b})}),H.createElement(ye.a,{spacing:r?"none":"default",onClick:this.handleOrderedListClick,selected:s,disabled:c||t,title:Object($.renderTooltipContent)(g,$.toggleOrderedList),iconBefore:H.createElement(_o.a,{label:g})}),o&&H.createElement(we.f,null))},t}(H.PureComponent),Mo=Object(fe.h)(jo),Ao=n("xF5d");function Ro(e,t){return Object(q.wrappingInputRule)(e,t,{},(function(e,n){return n.type===t}))}var No=function(e,t,n,r,o){var i=e.schema.nodes.hardBreak;if(e.doc.resolve(r).nodeAfter.type!==i)return null;if(e.doc.resolve(r).depth>1)return null;X.a.trackEvent("atlassian.editor.format.list."+n+".autoformatting");var a=e.tr.delete(r,o).split(r),s=a.doc.nodeAt(r+1);a.doc.nodesBetween(r,r+s.nodeSize,(function(e,t){e.type===i&&(a=a.split(t+1).delete(t,t+1))}));var c=e.schema.nodes.listItem,l=a.doc.resolve(r+2),u=l.blockRange(l);return a=a.wrap(u,[{type:t},{type:c}])};function Io(e){var t=[];if(e.nodes.bulletList&&t.push.apply(t,Object(i.__spread)(function(e){var t=Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_LIST_BULLET,eventType:D.d.TRACK,attributes:{inputMethod:D.e.FORMATTING}}})),n=Object(te.b)(Ro(/^\s*([\*\-]) $/,e.nodes.bulletList),!0);n.handler=J("atlassian.editor.format.list.bullet.autoformatting",n.handler);var r=Object(te.a)(new RegExp(te.c+"\\s*([\\*\\-]) $"),(function(t,n,r,o){return No(t,e.nodes.bulletList,"bullet",r,o)}),!0);return[t(n),t(r)]}(e))),e.nodes.orderedList&&t.push.apply(t,Object(i.__spread)(function(e){var t=Object(ie.d)((function(){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_LIST_NUMBER,eventType:D.d.TRACK,attributes:{inputMethod:D.e.FORMATTING}}})),n=Object(te.b)(Ro(/^(1)[\.\)] $/,e.nodes.orderedList),!0);n.handler=J("atlassian.editor.format.list.numbered.autoformatting",n.handler);var r=Object(te.a)(new RegExp(te.c+"(1)[\\.\\)] $"),(function(t,n,r,o){return No(t,e.nodes.orderedList,"numbered",r,o)}),!0);return[t(n),t(r)]}(e))),0!==t.length)return Object(q.inputRules)({rules:t})}var Po=function(){var e={};return $.bindKeymapWithCommand($.findShortcutByKeymap($.toggleOrderedList),J("atlassian.editor.format.list.numbered.keyboard",Object(Co.f)(D.e.KEYBOARD,"orderedList")),e),$.bindKeymapWithCommand($.findShortcutByKeymap($.toggleBulletList),J("atlassian.editor.format.list.bullet.keyboard",Object(Co.f)(D.e.KEYBOARD,"bulletList")),e),$.bindKeymapWithCommand($.indentList.common,J("atlassian.editor.format.list.indent.keyboard",Object(Co.c)(D.e.KEYBOARD)),e),$.bindKeymapWithCommand($.outdentList.common,J("atlassian.editor.format.list.outdent.keyboard",Object(Co.d)(D.e.KEYBOARD)),e),$.bindKeymapWithCommand($.enter.common,Co.b,e),$.bindKeymapWithCommand($.backspace.common,Co.a,e),Object(h.keymap)(e)},Do=function(){return{name:"list",nodes:function(){return[{name:"bulletList",node:yo.a},{name:"orderedList",node:Oo.a},{name:"listItem",node:wo.a}]},pmPlugins:function(){return[{name:"lists",plugin:function(e){var t=e.dispatch;return Object(Ao.a)(t)}},{name:"listsInputRule",plugin:function(e){return Io(e.schema)}},{name:"listsKeymap",plugin:function(){return Po()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(So.a.unorderedList),description:t(So.a.unorderedListDescription),keywords:["ul","unordered list"],priority:1100,keyshortcut:Object($.tooltip)($.toggleBulletList),icon:function(){return H.createElement(Ae.m,{label:t(So.a.unorderedList)})},action:function(e,t){var n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ie.a)(t,n,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_LIST_BULLET,eventType:D.d.TRACK,attributes:{inputMethod:D.e.QUICK_INSERT}})}},{title:t(So.a.orderedList),description:t(So.a.orderedListDescription),keywords:["ol","ordered list","numbered list"],priority:1200,keyshortcut:Object($.tooltip)($.toggleOrderedList),icon:function(){return H.createElement(Ae.n,{label:t(So.a.orderedList)})},action:function(e,t){var n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(ie.a)(t,n,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_LIST_NUMBER,eventType:D.d.TRACK,attributes:{inputMethod:D.e.QUICK_INSERT}})}}]}},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.toolbarSize,a=e.disabled,s=e.isToolbarReducedSpacing,c=i<V.a.L,l=i>=V.a.S;return H.createElement(Me.a,{plugins:{listsState:Ao.b},render:function(e){var i=e.listsState;return H.createElement(Mo,{isSmall:c,isSeparator:l,isReducedSpacing:s,disabled:a,editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o,bulletListActive:i.bulletListActive,bulletListDisabled:i.bulletListDisabled,orderedListActive:i.orderedListActive,orderedListDisabled:i.orderedListDisabled})}})}}},Lo=n("Rc8z");var Bo=function(){var e={};return $.bindKeymapWithCommand($.insertRule.common,J("atlassian.editor.format.horizontalrule.keyboard",Object(ie.e)({action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.DIVIDER,attributes:{inputMethod:D.e.SHORTCUT},eventType:D.d.TRACK})(Y.i())),e),$.bindKeymapWithCommand($.escape.common,(function(){return!0}),e),Object(h.keymap)(e)},zo=n("oOSh"),Ho=n("GcKS"),Fo=function(){return{name:"rule",nodes:function(){return[{name:"rule",node:Lo.a}]},pmPlugins:function(){return[{name:"ruleInputRule",plugin:function(e){var t=e.schema;return Object(zo.b)(t)}},{name:"ruleKeymap",plugin:function(){return Bo()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.horizontalRule),description:t(ct.b.horizontalRuleDescription),keywords:["horizontal rule","rule","line"],priority:1200,keyshortcut:"---",icon:function(){return H.createElement(Ae.e,{label:t(ct.b.horizontalRule)})},action:function(e,t){var n=null;return Object(or.b)(t).newInsertionBehaviour&&(n=e(ar.Fragment.empty),n=Object(Ho.a)(t.schema.nodes.rule.createChecked(),n.selection.from)(n)),n||(n=e(t.schema.nodes.rule.createChecked())),Object(ie.a)(t,n,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.DIVIDER,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.TRACK})}}]}}}},Uo=n("yuUh"),Wo=n("Smrt"),Ko=n("EPLb"),Vo=n("KU7H"),Go=n("DSoh"),qo=n("9eQ7"),$o=n("aspk"),Yo=n("qsl+"),Xo=function(e,t){var n=e.domAtPos(t).node.parentElement;if(n){var r=n.querySelector("input");if(r)return r.focus(),!0}return!1};function Jo(){var e={};return $.bindKeymapWithCommand($.moveRight.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=r.$from.nodeAfter,i=e.schema.nodes,a=i.expand,s=i.nestedExpand;if(r instanceof Vo.a&&r.side===Vo.c.LEFT&&o&&(o.type===a||o.type===s)){var c=r.$from;return Xo(n,c.pos+1)}return!1}),e),$.bindKeymapWithCommand($.moveLeft.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=r.$from.nodeBefore,i=e.schema.nodes,a=i.expand,s=i.nestedExpand;if(r instanceof Vo.a&&r.side===Vo.c.RIGHT&&o&&(o.type===a||o.type===s)){var c=r.$from;return Xo(n,Math.max(c.pos-1,0))}return!1}),e),$.bindKeymapWithCommand($.tab.common,(function(e,t,n){var r=e.selection.$from.nodeAfter;if(e.selection instanceof Vo.a&&e.selection.side===Vo.c.LEFT&&r&&r.type===e.schema.nodes.expand&&n){var o=e.tr,i=e.selection.from;return o.setSelection(new d.NodeSelection(o.doc.resolve(i))),t&&t(o),!0}if(e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){var a=e.selection.from,s=n.nodeDOM(a);if(!(s&&s instanceof HTMLElement))return!1;var c=s.querySelector("."+$o.a.iconContainer);if(c&&c.focus){o=e.tr,i=e.selection.from;o.setSelection(new d.TextSelection(o.doc.resolve(i))),t&&t(o),n.dom.blur(),c.focus()}return!0}return!1}),e),$.bindKeymapWithCommand($.moveUp.common,(function(e,t,n){var r=Object(qo.a)(e);if(-1!==r.start&&-1!==r.end||!n)return!1;var o=e.selection,i=e.schema,a=o.$from.nodeBefore;if(o instanceof Vo.a&&o.side===Vo.c.RIGHT&&a&&(a.type===i.nodes.expand||a.type===i.nodes.nestedExpand)&&!a.attrs.__expanded){var s=o.$from;return Xo(n,Math.max(s.pos-1,0))}var c=e.selection.$from;if(n.endOfTextblock("up")){var l=Object(Go.a)(e),u=Math.max(c.pos-c.parentOffset-1,0);if(l&&l.start===u)return Xo(n,l.start);var p=d.Selection.findFrom(e.doc.resolve(u),-1),f=Object(Go.a)(e,p);if(p&&f)return f.node.attrs.__expanded?(t&&t(e.tr.setSelection(p)),!0):Xo(n,f.start)}return!1}),e),$.bindKeymapWithCommand($.moveDown.common,(function(e,t,n){if(!n)return!1;var r=e.schema.nodes,o=r.expand,i=r.nestedExpand,a=e.selection,s=a.$from.nodeAfter;if(a instanceof Vo.a&&a.side===Vo.c.LEFT&&s&&(s.type===o||s.type===i)&&!s.attrs.__expanded){var c=a.$from;return Xo(n,c.pos+1)}if(n.endOfTextblock("down")){c=e.selection.$from;var l=e.doc.resolve(c.after());if(l.nodeAfter&&(l.nodeAfter.type===o||l.nodeAfter.type===i))return Xo(n,l.pos+1)}return!1}),e),$.bindKeymapWithCommand($.backspace.common,(function(e,t,n){var r=e.selection;if(!n||!r.empty)return!1;var o=e.schema.nodes,i=o.expand,a=o.nestedExpand,s=Object(Go.a)(e);if(!s){var c=d.Selection.findFrom(e.doc.resolve(Math.max(r.$from.pos-1,0)),-1),l=Object(Go.a)(e,c);return!(!l||l.node.type!==i&&l.node.type!==a||l.node.attrs.__expanded)&&Xo(n,l.start)}var u=d.Selection.findFrom(e.doc.resolve(s.pos),1,!0);return!!(u&&r.$from.pos===u.$from.pos&&Object(x.t)(e.schema)(s.node)&&t)&&Object(Yo.b)()(e,t)}),e),Object(h.keymap)(e)}var Zo=function(e,t){var n=t.formatMessage,r=Object(Ko.c)(e).expandRef;if(r){var o=e.schema.nodes,i=o.nestedExpand,a=o.expand;return{title:"Expand toolbar",getDomRef:function(){return r},nodeType:[i,a],offset:[0,6],items:[{type:"button",appearance:"danger",icon:br.a,onClick:Object(Yo.b)(),onMouseEnter:Object(M.b)([i,a],!0),onMouseLeave:Object(M.b)([i,a],!1),title:n(vt.a.remove)}]}}},Qo=function(e){return{name:"expand",nodes:function(){return[{name:"expand",node:Uo.a},{name:"nestedExpand",node:Wo.a}]},pmPlugins:function(){return[{name:"expand",plugin:function(e){var t=e.dispatch,n=e.reactContext;return Object(Ko.b)(t,n)}},{name:"expandKeymap",plugin:Jo}]},pluginsOptions:{floatingToolbar:Zo,quickInsert:function(t){var n=t.formatMessage;return e&&!0!==e.allowInsertion?[]:[{title:n(ct.b.expand),description:n(ct.b.expandDescription),priority:600,icon:function(){return H.createElement(Ae.g,{label:n(ct.b.expand)})},action:function(e,t){var n=Object(Yo.a)(t),r=e(n);return Object(ie.a)(t,r,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?D.c.NESTED_EXPAND:D.c.EXPAND,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.TRACK})}}]}}}};function ei(e){var t=e.allowExpand;return!(!t||"object"!=typeof t)&&!!t.allowInsertion}var ti,ni,ri=n("XRsu"),oi=n("7T0k"),ii=n("v0wq"),ai=n("WmVM"),si=n("O94r"),ci=n.n(si),li=n("nYST"),ui=n("BtZz"),di=n("BCq9"),pi=n("lyoF"),fi=n("6Jxq"),hi=(Object(pi.a)({background:"white",border:"1px solid "+fi.h,borderRadius:fi.i,boxShadow:fi.j,color:"#333",width:fi.g}),Object(pi.a)({display:"none"}),Object(pi.a)({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:fi.g,$nest:(ti={},ti["&.emoji-typeahead-selected"]={backgroundColor:fi.e},ti)})),mi=Object(pi.a)({display:"flex",flexDirection:"row",flexWrap:"wrap",verticalAlign:"middle"}),vi=(Object(pi.a)({position:"relative",height:fi.f+"px",paddingTop:((fi.f-30)/2).toFixed()+"px",boxSizing:"border-box"}),Object(pi.a)({textAlign:"center"}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEmojiSelected=function(e){var n=t.props,r=n.emoji,o=n.onSelection;Object(ui.a)(e)&&o&&(e.preventDefault(),o(Object(li.q)(r),r,e))},t.onEmojiMenuItemMouseMove=function(e){var n=t.props,r=n.emoji,o=n.onMouseMove;o&&o(Object(li.q)(r),r,e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.selected,r=t.emoji,o=ci()(((e={"ak-emoji-typeahead-item":!0})[hi]=!0,e["emoji-typeahead-selected"]=n,e));return H.createElement("div",{className:o,onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":r.shortName},H.createElement("div",{className:mi},H.createElement(di.a,{emoji:r})))},t}(H.PureComponent));function bi(e,t){if(e.nodes.emoji&&t){!function(e){e.subscribe("emojiProvider",(function(e,t){t&&t.then((function(e){e.getAsciiMap().then((function(t){ni=new ki(e,t)}))}))}))}(t);var n=Object(te.a)(Ei.REGEX,gi);return Object(q.inputRules)({rules:[n]})}}function gi(e,t,n,r){if(!ni)return null;if(!function(e){var t=e.schema.marks.typeAheadQuery;return e.selection.$from.marks().some((function(e){return e.type===t}))||Object(x.x)(t,e)}(e))return null;var o=ni.match(t);return o?new xi(e,o,n,r).create():null}var yi=function(e,t){return void 0===t&&(t=!0),e[1]+(t?e[2]:"")},Oi=function(e,t){return void 0===t&&(t=!1),(t?e[2]:"")+e[3].trim()},wi=function(e){return e[4]||""},Ei=function(){function e(e){this.asciiToEmojiMap=e}return e.prototype.match=function(e){return this.getAsciiEmojiMatch(yi(e,!1),function(e){return Oi(e,!0)}(e),wi(e))||this.getAsciiEmojiMatch(yi(e),Oi(e),wi(e))},e.prototype.getAsciiEmojiMatch=function(e,t,n){var r=this.asciiToEmojiMap.get(t);return r?{emoji:r,leadingString:e,trailingString:n}:void 0},e.REGEX=new RegExp("((?:^|[\\s"+te.c+"])(?:\\(*?))(\\(?)([^:\\s"+te.c+"\\(]\\S{1,3}|:\\S{1,3}( ))$"),e}(),ki=function(e){function t(t,n){var r=e.call(this,n)||this;return r.emojiProvider=t,r}return Object(i.__extends)(t,e),t.prototype.match=function(t){var n=e.prototype.match.call(this,t);return n&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(n.emoji),n},t}(Ei),xi=function(){function e(e,t,n,r){this.state=e,this.match=t,this.start=n,this.end=r}return e.prototype.create=function(){var e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return Object(ie.a)(this.state,e,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.EMOJI,attributes:{inputMethod:D.e.ASCII},eventType:D.d.TRACK})},Object.defineProperty(e.prototype,"from",{get:function(){return this.start+this.match.leadingString.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this.end},enumerable:!0,configurable:!0}),e.prototype.createNodes=function(){var e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e},e.prototype.createEmojiNode=function(){return this.state.schema.nodes.emoji.create(this.getEmojiNodeAttrs())},e.prototype.getEmojiNodeAttrs=function(){var e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}},e.prototype.trailingTextNodeRequired=function(){return this.match.trailingString.length>0},e.prototype.createTrailingTextNode=function(){return this.state.schema.text(this.match.trailingString)},e}(),_i=(new d.PluginKey("asciiEmojiPlugin"),n("CLhm")),Ti=n("ROar"),Ci=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,r=t.allowTextFallback,o=t.shortName,i=t.id,a=t.fallback,s=t.fitToHeight;return r&&!e.emojiProvider?H.createElement("span",null,a||o):e.emojiProvider?H.createElement(we.c,null,H.createElement(_i.a,{emojiId:{id:i,fallback:a,shortName:o},emojiProvider:e.emojiProvider,showTooltip:!0,fitToHeight:s})):null},n.providerFactory=t.providers||new Ti.a,n}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return H.createElement(St.a,{providers:["emojiProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t.displayName="EmojiNode",t}(H.PureComponent),Si=n("sgQ3"),ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.createDomRef=function(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(Si.a)():e.prototype.createDomRef.call(this)},t.prototype.render=function(e){var t=e.providerFactory,n=e.options,r=this.node.attrs,o=r.shortName,i=r.id,a=r.text;return H.createElement(Si.b,{useInlineWrapper:n&&n.useInlineWrapper},H.createElement(Ci,{providers:t,id:i,shortName:o,fallback:a}),n&&n.allowZeroWidthSpaceAfter&&x.a)},t}(Rn.b);function Mi(e,t,n){return function(r,o,i){return new ji(r,o,i,e,{providerFactory:t,options:n}).init()}}var Ai=n("aWzz"),Ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getChildContext=function(){return{emoji:{emojiProvider:this.props.emojiProvider}}},t.prototype.render=function(){return this.props.children},t.childContextTypes={emoji:Ai.object},t}(H.Component),Ni=function(e){return{name:"emoji",nodes:function(){return[{name:"emoji",node:ii.a}]},pmPlugins:function(){return[{name:"emoji",plugin:function(t){var n=t.providerFactory;return function(e,t,n,r){var o,a;return new d.Plugin({key:Li,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(Li)||{action:null,params:null},o=r.action,a=r.params,s=n;switch(o){case Ii:return s=Object(i.__assign)(Object(i.__assign)({},n),{emojiProvider:a.provider}),e(Li,s),s;case Pi:return s=Object(i.__assign)(Object(i.__assign)({},n),{emojis:a.results.emojis}),e(Li,s),s}return s}},props:{nodeViews:{emoji:Mi(n,t,r)}},view:function(e){var n=function(t,n){switch(t){case"emojiProvider":if(!n)return Di(void 0)(e.state,e.dispatch);n.then((function(t){o&&a&&o.unsubscribe(a),o=t,Di(t)(e.state,e.dispatch),a={result:function(t){Promise.resolve().then((function(){var n;(n=t,function(e,t){return t&&t(e.tr.setMeta(Li,{action:Pi,params:{results:n}})),!0})(e.state,e.dispatch)}))}},t.subscribe(a)})).catch((function(){return Di(void 0)(e.state,e.dispatch)}))}};return t.subscribe("emojiProvider",n),{destroy:function(){t&&t.unsubscribe("emojiProvider",n),o&&a&&o.unsubscribe(a)}}}})}(t.dispatch,n,t.portalProviderAPI,e)}},{name:"emojiAsciiInputRule",plugin:function(e){return bi(e.schema,e.providerFactory)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.emoji),description:t(ct.b.emojiDescription),priority:500,keyshortcut:":",icon:function(){return H.createElement(Ae.f,{label:t(ct.b.emoji)})},action:function(e,t){var n=t.schema.mark("typeAheadQuery",{trigger:":"}),r=e(t.schema.text(":",[n]));return Object(ie.a)(t,r,{action:D.a.INVOKED,actionSubject:D.b.TYPEAHEAD,actionSubjectId:D.c.TYPEAHEAD_EMOJI,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.UI})}}]},typeAhead:{trigger:":",customRegex:"\\(?(:)",getItems:function(e,t,n,r){var o=r.prevActive,i=r.queryChanged;!o&&i&&X.a.trackEvent("atlassian.fabric.emoji.typeahead.open",{})," "===e.charAt(e.length-1)&&X.a.trackEvent("atlassian.fabric.emoji.typeahead.space",{});var a=function(e){return Li.getState(e)||{}}(t),s=!o&&i?[]:a.emojis||[];return i&&a.emojiProvider&&a.emojiProvider.filter(e?":"+e:"",{limit:50,skinTone:a.emojiProvider.getSelectedTone(),sort:e.length?ai.a.Default:ai.a.UsageFrequency}),s.map((function(e){return{title:e.shortName||"",key:e.id||e.shortName,render:function(t){var n=t.isSelected,r=t.onClick,o=t.onHover;return(H.createElement(Ri,{emojiProvider:a.emojiProvider},H.createElement(vi,{emoji:e,selected:n,onMouseMove:o,onSelection:r})))},emoji:e}}))},forceSelect:function(e,t){var n=":"+e;return!!function(e){return e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1)}(n)&&!!t.find((function(e){return e.title.toLowerCase()===n}))},selectItem:function(e,t,n,r){var o=r.mode,i=t.emoji,a=i.id,s=void 0===a?"":a,c=i.type,l=void 0===c?"":c,u=i.fallback,d=i.shortName,p=u||d,f=Li.getState(e),h=v.d.getState(e),m=h.queryStarted?Date.now()-h.queryStarted:0;return f.emojiProvider&&f.emojiProvider.recordSelection&&t.emoji&&f.emojiProvider.recordSelection(t.emoji),X.a.trackEvent("atlassian.fabric.emoji.typeahead.select",{mode:o,duration:m,emojiId:s,type:l,queryLength:(h.query||"").length}),Object(ie.a)(e,n(e.schema.nodes.emoji.createChecked({shortName:d,id:s,text:p})),{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.EMOJI,attributes:{inputMethod:D.e.TYPEAHEAD},eventType:D.d.TRACK})},dismiss:function(){X.a.trackEvent("atlassian.fabric.emoji.typeahead.close",{})}}}}},Ii="SET_PROVIDER",Pi="SET_RESULTS",Di=function(e){return function(t,n){return n&&n(t.tr.setMeta(Li,{action:Ii,params:{provider:e}})),!0}},Li=new d.PluginKey("emojiPlugin");var Bi=n("+rIR"),zi=n("+yzr"),Hi=n("uptP"),Fi=n("/Hsb"),Ui=n("MGR/"),Wi=n("EVi6"),Ki=n("M2Sh"),Vi=function(e,t){return Object(te.a)(e,(function(e,n,r,o){return Object(Ki.d)(e,t,D.e.FORMATTING,Gi(r,o))}),!0)},Gi=function(e,t){return function(n){var r=n.tr,o=n.state,i=n.list,a=n.item,s=n.listLocalId,c=n.itemLocalId,l=o.selection.$from,u=o.schema.nodes,p=u.paragraph,f=u.hardBreak,h=l.node(l.depth).content,m=!1;h.forEach((function(t,n){t.type===f&&n<e&&(m=!0)}));var v=o.doc.resolve(t),b=o.doc.resolve(v.after());if(v.parent.type!==p||!Object(re.canInsert)(b,i.createAndFill()))return null;var g=l.before(l.depth);if(X.a.trackEvent("atlassian.fabric."+a.name+".trigger.shortcut"),m){var y=Object(Ki.a)(l,r.selection.$from);r.split(l.pos).setSelection(new d.NodeSelection(r.doc.resolve(l.pos+1))).replaceSelectionWith(i.create({localId:s},[a.create({localId:c},r.doc.nodeAt(l.pos+1).content)])).setSelection(new d.TextSelection(r.doc.resolve(l.pos+y))).delete(e,t+1)}else r.delete(g,l.end(l.depth)).replaceSelectionWith(i.create({localId:s},[a.create({localId:c},h)])).delete(e+1,t+1).setSelection(new d.TextSelection(r.doc.resolve(e+1)));return r}};var qi=function(e){var t=[],n=e.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return r&&o&&t.push(Vi(new RegExp("(^|"+te.c+")\\<\\>\\s$"),"decisionList")),i&&a&&t.push(Vi(new RegExp("(^|"+te.c+")\\[\\]\\s$"),"taskList")),Object(q.inputRules)({rules:t})},$i=n("X9xp"),Yi=n("7bKp"),Xi=function(e){var t=e.schema.nodes,n=t.decisionItem,r=t.taskItem;return Object(re.hasParentNodeOfType)([n,r])(e.selection)},Ji=function(e){var t=e.type.schema.nodes;return[t.taskList,t.decisionList].indexOf(e.type)>-1},Zi=function(e){var t=e.type.schema.nodes;return[t.taskItem,t.decisionItem].indexOf(e.type)>-1},Qi=function(e){var t=e.schema.nodes.taskItem;return Object(re.hasParentNodeOfType)([t])(e.selection)},ea=function(e,t){var n=e.doc.type.schema.nodes.taskList,r=t.end(),o=t.doc.resolve(r+1),i=o.nodeAfter;return i&&i.type===n&&o.depth===t.depth-1&&(r+=i.nodeSize),e.blockRange(t.doc.resolve(r))},ta=function(e){var t=e.$from,n=t.doc.type.schema.nodes.taskList,r=Object(b.b)((function(e){return e.type===n}))(t);return r?t.depth-r.depth:null},na=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},ra=function(e,t,n){var r=ea(t,n);if(!r)return null;var o=Object(Yi.liftTarget)(r);return"number"!=typeof o?null:e.lift(r,o).scrollIntoView()},oa=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=ra(e.tr,r,o);return t&&i&&t(i),!!i},ia=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=ea(r,o);if(!i)return!0;var a=Object(Yi.findWrapping)(i,e.schema.nodes.taskList);return!a||(t&&t(e.tr.wrap(i,a).scrollIntoView()),!0)},aa=function(e){return function(t,n){var r=Object(m.c)(e);if(!r)return!1;var o=r.doc.type.schema.nodes.paragraph;if(r.nodeBefore&&Ji(r.nodeBefore)&&r.nodeAfter&&r.nodeAfter.type===o){for(var i=r.doc.resolve(r.pos-1);!Zi(i.parent);)i=t.doc.resolve(i.pos-1);var a=t.tr.doc.slice(i.pos,r.pos),s=t.tr.step(new Yi.ReplaceAroundStep(i.pos,r.pos+r.nodeAfter.nodeSize,r.pos+1,r.pos+r.nodeAfter.nodeSize-1,a,0,!0));return n&&n(s),!0}return!1}},sa=function(e,t){return{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_INDENT,eventType:D.d.TRACK,attributes:{inputMethod:D.e.KEYBOARD,previousIndentationLevel:e,newIndentLevel:t===Pr.a.OUTDENT?e-1:e+1,direction:t,indentType:Pr.b.TASK_LIST}}},ca=function(e){var t=function(e){return e.doc.resolve(e.end()).nodeAfter}(e);return!t||Zi(t)},la=Object(m.b)(Qi,(function(e,t){var n=ta(e.selection);return!(!n||1===n)&&Object(ie.e)(sa(n,Pr.a.OUTDENT))(Object(a.autoJoin)(oa,["taskList"]))(e,t)})),ua=Object(m.b)(Qi,(function(e,t){var n=ta(e.selection);if(!n||n>=6)return!0;var r=e.schema.nodes,o=r.taskList,i=r.taskItem,s=e.selection;return function(e,t,n){var r=Object(b.b)((function(e){return n.indexOf(e.type)>-1}))(e);if(!r)return-1;var o=e.depth-r.depth,i=ea(e,t);if(!i)return-1;var a=e.depth;return e.doc.nodesBetween(i.start,i.end,(function(t,r,o){if(a=Math.max(e.doc.resolve(r).depth,a),n.indexOf(t.type)>-1)return!0})),o+(a-e.depth)}(s.$from,s.$to,[o,i])>=6||Object(ie.e)(sa(n,Pr.a.INDENT))(Object(a.autoJoin)(ia,["taskList"]))(e,t)})),da=Object(m.b)(m.e,Object(a.autoJoin)(Object(a.chainCommands)((function(e,t){return aa(e.selection.$from)(e,t)}),Object(m.b)(Xi,(function(e,t){return(n=e.selection.$from,function(e,t){var r=n.doc.resolve(n.before());if(r.nodeBefore&&Zi(r.nodeBefore)&&2===r.nodeBefore.nodeSize)return!1;var o=e.schema.nodes,i=o.taskList,a=o.paragraph;if(n.node(n.depth-2).type===i)return la(e,t);if(ca(n)){if(t){var s=e.doc.slice(n.start(),n.end()).content,c=s.size?a.createChecked(void 0,s):a.createChecked();t(ha(e.tr,c,n,!0))}return!0}return!1})(e,t);var n}))),["taskList","decisionList"])),pa=Object(m.b)([Xi,m.d],Object(a.chainCommands)((function(e,t){var n=na(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.taskItem,a=r.decisionList,s=r.decisionItem,c=r.paragraph;return!Object(re.findParentNodeOfTypeClosestToPos)(n,[o,i,a,s])&&(n.node().type!==c||aa(n.doc.resolve(n.pos))(e,t))}),(function(e,t){var n=na(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.paragraph,a=n.doc.resolve(n.before());if(a.nodeBefore&&Zi(a.nodeBefore)&&2===a.nodeBefore.nodeSize)return!1;if(n.node(n.depth-2).type===o){var s=ra(e.tr,n,n);return t&&s&&t(s),!0}if(ca(e.selection.$from)){if(t){var c=e.doc.slice(n.start(),n.end()).content,l=c.size?i.createChecked(void 0,c):[];t(ha(e.tr,l,n,!1))}return!0}return!1}))),fa=Object(a.autoJoin)(pa,["taskList","decisionList"]),ha=function(e,t,n,r){var o=e.doc,i=n.node(n.depth-2),a=n.index(n.depth-1),s=!(!Ji(i)&&0===a);s&&(e=e.split(n.pos,1,[{type:n.node().type,attrs:{localId:$i.b.generate()}}]));var c=ar.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),c.size?new ar.Slice(c,0,0):ar.Slice.empty),r&&(e=e.setSelection(new d.TextSelection(e.doc.resolve(n.pos+1-(s?0:2)))));var l=o.resolve(n.after());if(l.depth===n.depth-1&&l.nodeAfter&&Ji(l.nodeAfter)){var u=e.mapping.map(l.pos+2),p=e.doc.resolve(u),f=ea(p,e.doc.resolve(p.after(p.depth-1)-1));f&&(e=e.lift(f,f.depth-1).scrollIntoView()),e=e.deleteRange(u-3,u-1)}return e},ma=Object(m.b)(Xi,Object(a.chainCommands)(Object(m.b)((function(e){var t=e.selection,n=e.schema,r=t.$from,o=r.node(r.depth);return o&&(o.type===n.nodes.taskItem||o.type===n.nodes.decisionItem)&&0===o.textContent.length}),Object(a.chainCommands)(la,(function(e,t){var n=e.tr,r=e.selection.$from,o=e.schema.nodes.paragraph;return!!ca(r)&&(t&&t(ha(n,o.createChecked(),r,!0)),!0)}))),(function(e,t){var n=e.selection,r=e.schema.nodes.taskItem,o=n.$from,i=o.node(o.depth),a=i&&i.type,s=a===r?"taskList":"decisionList",c=Object(Ki.d)(e,s,D.e.KEYBOARD,(function(e){var t=e.tr,n=e.itemLocalId;return t.split(o.pos,1,[{type:a,attrs:{localId:n}}])}));return c&&t&&(c.scrollIntoView(),t(c)),!0})));var va,ba=function(e,t,n){var r=Object(m.b)(Xi,(function(){return!0})),o={"Shift-Tab":n?Object(a.chainCommands)(la,r):la,Tab:n?Object(a.chainCommands)(ua,r):ua},s=n?{"Shift-Tab":r,Tab:r}:{},c=Object(i.__assign)({Backspace:da,Delete:fa,Enter:ma},t?o:s);return Object(h.keymap)(c)},ga=n("eDcA"),ya=n.n(ga),Oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disabled:!1},t.handleInsertDecision=Object(To.a)("atlassian.fabric.decision.trigger.button",(function(){var e=t.props.editorView;return!!e&&(Object(Ki.c)(e,"decisionList")(e.state,e.dispatch),!0)})),t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(ct.b.decision);return H.createElement(ye.a,{onClick:this.handleInsertDecision,disabled:e||n,spacing:r?"none":"default",title:o+" <>",iconBefore:H.createElement(ya.a,{label:o})})},t}(H.PureComponent),wa=Object(fe.h)(Oa),Ea=n("JXy6"),ka=n.n(Ea),xa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disabled:!1},t.handleInsertTask=Object(To.a)("atlassian.fabric.action.trigger.button",(function(){var e=t.props.editorView;return!!e&&(Object(Ki.c)(e,"taskList")(e.state,e.dispatch),!0)})),t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(ct.b.action);return H.createElement(ye.a,{onClick:this.handleInsertTask,disabled:e||n,spacing:r?"none":"default",title:o+" []",iconBefore:H.createElement(ka.a,{label:o})})},t}(H.PureComponent),_a=Object(fe.h)(xa),Ta=ke.default.div(va||(va=Object(i.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),Ca=function(e,t,n){var r=Object(Ki.b)(n,t.schema),o=r.list,i=r.item;return Object(Ki.d)(t,n,D.e.QUICK_INSERT,(function(t){var n=t.listLocalId,r=t.itemLocalId;return e(o.createChecked({localId:n},i.createChecked({localId:r})))}))},Sa=function(e,t){return{name:"taskDecision",nodes:function(){return[{name:"decisionList",node:zi.a},{name:"decisionItem",node:Hi.a},{name:"taskList",node:Fi.a},{name:"taskItem",node:Ui.a}]},pmPlugins:function(){return[{name:"tasksAndDecisions",plugin:function(e){var t=e.portalProviderAPI,n=e.providerFactory,r=e.dispatch;return Object(Wi.a)(t,n,r)}},{name:"tasksAndDecisionsInputRule",plugin:function(e){var t=e.schema;return qi(t)}},{name:"tasksAndDecisionsKeyMap",plugin:function(n){var r=n.schema;return ba(r,e,t)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return H.createElement(Ta,null,H.createElement(wa,{editorView:t,isDisabled:n,isReducedSpacing:!0}),H.createElement(_a,{editorView:t,isDisabled:n,isReducedSpacing:!0}))},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.action),description:t(ct.b.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:function(){return H.createElement(Ae.a,{label:t(ct.b.action)})},action:function(e,t){return Ca(e,t,"taskList")}},{title:t(ct.b.decision),description:t(ct.b.decisionDescription),priority:900,keyshortcut:"<>",icon:function(){return H.createElement(Ae.d,{label:t(ct.b.decision)})},action:function(e,t){return Ca(e,t,"decisionList")}}]}}}},ja=n("rhur"),Ma=n("apnj");function Aa(e,t){if(t)return Object(h.keymap)({Enter:function(n,r,o){return!!function(e){var t=e.state.selection.$cursor,n=e.state.schema.nodes,r=n.decisionItem,o=n.paragraph,i=n.taskItem;return!t||t.parent.type===o&&1===t.depth||t.parent.type===r&&!Ra(t)||t.parent.type===i&&!Ra(t)}(o)&&(e(Wn.a,Na(n)),X.a.trackEvent("atlassian.editor.stop.submit"),t(o),!0)}})}function Ra(e){var t=e.parent.content;return!(t&&t.size)}var Na=function(e){return{payload:{action:D.a.STOPPED,actionSubject:D.b.EDITOR,actionSubjectId:D.c.SAVE,attributes:{inputMethod:D.e.SHORTCUT,documentSize:e.doc.nodeSize},eventType:D.d.UI}}},Ia=function(e){return{name:"saveOnEnter",pmPlugins:function(){return[{name:"saveOnEnter",plugin:function(t){return Aa(t.dispatch,e)}}]}}},Pa=n("2PCG");function Da(e){var t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}var La=function(e){var t=e.schema.nodes.mediaSingle,n=e.selection.$to;if(t)for(var r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1},Ba=function(e,t){var n=t.nodes,r=n.media,o=n.mediaSingle;if(!r||!o)return null;var i=r.createChecked({type:"external",url:e});return o.createChecked({},i)},za=function(e){return function(t){return function(e,t){return e.setMeta(Ua,t)}(t,{name:"START_UPLOAD",event:e})}},Ha=function(e){return function(t,n){return!!Ua.getState(t).enabled&&(n&&n(za(e)(t.tr)),!0)}},Fa=function(e,t){return function(n,r){return!!e(r)&&(r.preventDefault(),r.stopPropagation(),Ha(r)(n.state,n.dispatch)&&X.a.trackEvent(t),!0)}},Ua=new d.PluginKey("imageUploadPlugin"),Wa=function(e){var t,n=e.dispatch,r=e.providerFactory;return new d.Plugin({state:{init:function(e,t){return{active:!1,enabled:La(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}},apply:function(e,t,r,o){var a,s,c=(s=(a=o).schema.nodes.media,a.selection instanceof d.NodeSelection&&a.selection.node.type===s),l=La(o),u=function(e,t){var n=e.getMeta(Ua);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload}(e,t);if(c!==t.active||l!==t.enabled||u!==t.activeUpload){var p=Object(i.__assign)(Object(i.__assign)({},t),{active:c,enabled:l,activeUpload:u});return n(Ua,p),p}return t}},key:Ua,view:function(){var e=function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(r){switch(r.label){case 0:if("imageUploadProvider"!==e||!n)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n];case 2:return t=r.sent(),[3,4];case 3:return r.sent(),t=void 0,[3,4];case 4:return[2]}}))}))};return r.subscribe("imageUploadProvider",e),{update:function(e,n){var r=e.state,o=Ua.getState(r),i=Ua.getState(n);o.activeUpload!==i.activeUpload&&o.activeUpload&&t&&t(o.activeUpload.event,(function(t){return function(e){return function(t,n){if(!Ua.getState(t).enabled||!e.src)return!1;var r=Ba(e.src,t.schema);return!!r&&(n&&n(Object(re.safeInsert)(r,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)}}(t)(e.state,e.dispatch)}))},destroy:function(){r.unsubscribe("imageUploadProvider",e)}}},props:{handleDOMEvents:{drop:Fa(Da,"atlassian.editor.image.drop"),paste:Fa(Pa.a,"atlassian.editor.image.paste")}}})};var Ka,Va,Ga,qa=function(e){if(e.nodes.media&&e.nodes.mediaSingle){var t=Object(te.a)(/!\[(.*)\]\((\S+)\)$/,(function(e,t,n,r){var o=e.schema,i={src:t[2],alt:t[1]},a=Ba(i.src,o);return a?(X.a.trackEvent("atlassian.editor.image.autoformatting"),e.tr.replaceWith(n,r,a)):null}));return Object(q.inputRules)({rules:[t]})}},$a=function(){return{name:"imageUpload",pmPlugins:function(){return[{name:"imageUpload",plugin:Wa},{name:"imageUploadInputRule",plugin:function(e){var t=e.schema;return qa(t)}}]}}},Ya=n("yvY0"),Xa=n("AFCn"),Ja=function(e,t){return{name:"collabEdit",pmPlugins:function(){var n=e||{},r=n.useNativePlugin,o=void 0!==r&&r,a=n.userId,s=void 0===a?null:a;return Object(i.__spread)(o?[{name:"pmCollab",plugin:function(){return Object(Ya.collab)({clientID:s})}}]:[],[{name:"collab",plugin:function(n){var r=n.dispatch,o=n.providerFactory;return Object(Xa.a)(r,o,e,t)}}])}}},Za=n("Iacv"),Qa=n("RrIi"),es=n("PHRy"),ts=ke.default.span(Ka||(Ka=Object(i.__makeTemplateObject)(["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: 13px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: 13px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"])),Ee.colors.N30,Ee.colors.N50,Object(lo.f)(),Ee.colors.N50),ns=ke.default.span(Va||(Va=Object(i.__makeTemplateObject)(["\n  display: inline-block;\n  color: #707070;\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: black;\n    content: 'JIRA | ';\n  }\n"],["\n  display: inline-block;\n  color: #707070;\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: black;\n    content: 'JIRA | ';\n  }\n"]))),rs=ke.default.span(Ga||(Ga=Object(i.__makeTemplateObject)(["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"],["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"])));function os(e){var t=e.node.attrs.issueKey;return H.createElement(ts,null,H.createElement(rs,null,H.createElement(es.a,{size:"small"})),H.createElement(ns,null,t))}var is=new d.PluginKey("jiraIssuePlugin"),as=function(e){var t=e.portalProviderAPI;return new d.Plugin({key:is,props:{nodeViews:{confluenceJiraIssue:Rn.b.fromComponent(os,t)}}})},ss=function(){return{name:"confluenceJiraIssue",nodes:function(){return[{name:"confluenceJiraIssue",node:Qa.a}]},pmPlugins:function(){return[{name:"jiraIssue",plugin:as}]}}},cs=n("nrtM"),ls=n("7nmT"),us=n("sPpT"),ds=n.n(us),ps=n("przm"),fs=n.n(ps),hs=n("YFqM"),ms=n.n(hs),vs=n("bs5R"),bs=n.n(vs),gs=n("Ig6J"),ys=n.n(gs),Os=n("lW79"),ws=n.n(Os),Es={info:ds.a,success:fs.a,note:ms.a,tip:ws.a,warning:bs.a,error:ys.a},ks=function(){function e(e){var t=ar.DOMSerializer.renderSpec(document,function(e){return["div",{class:"ak-editor-panel","data-panel-type":e.attrs.panelType||"info"},["span",{class:"ak-editor-panel__icon"}],["div",{class:"ak-editor-panel__content"},0]]}(e)),n=t.dom,r=t.contentDOM;this.node=e,this.dom=n,this.contentDOM=r,this.icon=this.dom.querySelector(".ak-editor-panel__icon"),this.renderIcon(e.attrs.panelType)}return e.prototype.renderIcon=function(e){var t=Es[e];ls.render(H.createElement(t,{label:"Panel "+e}),this.icon)},e}(),xs=function(e){return Ts.getState(e)},_s=function(e){return function(t,n){var r=xs(t);return n&&n(t.tr.setMeta(Ts,Object(i.__assign)(Object(i.__assign)({},r),e))),!0}},Ts=new d.PluginKey("panelPlugin"),Cs=function(e){var t=e.dispatch;return new d.Plugin({state:{init:function(){return{element:null,activePanelType:void 0,toolbarVisible:!1}},apply:function(e,n){var r=e.getMeta(Ts);if(r){var o=Object(i.__assign)(Object(i.__assign)({},n),r);return t(Ts,o),o}return n}},key:Ts,view:function(){return{update:function(e){var n=e.state,r=n.selection,o=n.schema.nodes.panel,a=xs(e.state),s=Object(re.findParentNodeOfType)(o)(r),c=Object(re.findParentDomRefOfType)(o,e.domAtPos.bind(e))(r);if(c!==a.element)return _s({element:c,activePanelType:s&&s.node.attrs.panelType,toolbarVisible:!!s})(e.state,e.dispatch),!0;t(Ts,Object(i.__assign)({},a))}}},props:{nodeViews:{panel:function(e){return new ks(e)}},handleDOMEvents:{blur:function(e){return!!xs(e.state).toolbarVisible&&(_s({toolbarVisible:!1,element:null,activePanelType:void 0})(e.state,e.dispatch),!0)}}}})},Ss=function(e){return function(t,n){var r=t.schema.nodes,o=t.tr,i=Ts.getState(t).activePanelType,a={action:D.a.CHANGED_TYPE,actionSubject:D.b.PANEL,attributes:{newType:e,previousType:i},eventType:D.d.TRACK};X.a.trackEvent("atlassian.editor.format.panel."+e+".button");var s=Object(ie.a)(t,Object(re.setParentNodeMarkup)(r.panel,null,{panelType:e})(o).setMeta(Ts,{activePanelType:e}),a);return s.setMeta("scrollIntoView",!1),n&&n(s),!0}},js=Object(fe.g)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."}}),Ms=function(e,t){var n=t.formatMessage,r=xs(e);if(r&&r.toolbarVisible&&r.element){var o=r.activePanelType,i=e.schema.nodes.panel;return{title:"Panel floating controls",getDomRef:function(){return r.element},nodeType:i,items:[{type:"button",icon:ds.a,onClick:Ss("info"),selected:"info"===o,title:n(js.info)},{type:"button",icon:ms.a,onClick:Ss("note"),selected:"note"===o,title:n(js.note)},{type:"button",icon:fs.a,onClick:Ss("success"),selected:"success"===o,title:n(js.success)},{type:"button",icon:bs.a,onClick:Ss("warning"),selected:"warning"===o,title:n(js.warning)},{type:"button",icon:ys.a,onClick:Ss("error"),selected:"error"===o,title:n(js.error)},{type:"separator"},{type:"button",appearance:"danger",icon:br.a,onClick:function(e,t){var n=e.schema.nodes,r=e.tr,o={action:D.a.DELETED,actionSubject:D.b.PANEL,attributes:{inputMethod:D.e.TOOLBAR},eventType:D.d.TRACK};return X.a.trackEvent("atlassian.editor.format.panel.delete.button"),t&&t(Object(ie.a)(e,Object(re.removeParentNodeOfType)(n.panel)(r),o)),!0},onMouseEnter:Object(M.b)(i,!0),onMouseLeave:Object(M.b)(i,!1),title:n(vt.a.remove)}]}}};var As,Rs,Ns,Is,Ps,Ds=function(){var e={Backspace:function(e,t){var n=e.selection,r=e.schema.nodes,o=e.tr,i=r.panel,a=n.$from,s=n.$to;if(a.pos!==s.pos)return!1;if(0!==a.parentOffset)return!1;var c=o.doc.resolve(Math.max(0,a.before(a.depth)-1)),l=c.pos>0&&c.parent&&c.parent.type,u=a.parent.type;if(l===i&&!(u===i)){var d=a.node(a.depth).content,p=c.pos-1;return function(e,t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}(a,o).insert(p,d),t&&t(Object(re.setTextSelection)(p)(o).scrollIntoView()),!0}return a.node().type===i}};return Object(h.keymap)(e)},Ls=n("B9aC"),Bs=function(e,t,n){var r=n(zs(e,t));return r&&Object(ie.a)(t,r,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.PANEL,attributes:{inputMethod:D.e.QUICK_INSERT,panelType:e},eventType:D.d.TRACK}),r},zs=function(e,t){return t.schema.nodes.panel.createChecked({panelType:e},t.schema.nodes.paragraph.createChecked())},Hs=function(){return{name:"panel",nodes:function(){return[{name:"panel",node:cs.a}]},pmPlugins:function(){return[{name:"panel",plugin:Cs},{name:"panelKeyMap",plugin:function(){return Ds()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Z.p.infoPanel),description:t(Z.p.infoPanelDescription),keywords:["info","panel"],priority:900,icon:function(){return H.createElement(Ae.p,{label:t(Z.p.infoPanel)})},action:function(e,t){return Bs(Ls.a.INFO,t,e)}},{title:t(Z.p.notePanel),description:t(Z.p.notePanelDescription),keywords:["note"],priority:1e3,icon:function(){return H.createElement(Ae.r,{label:t(Z.p.notePanel)})},action:function(e,t){return Bs(Ls.a.NOTE,t,e)}},{title:t(Z.p.successPanel),description:t(Z.p.successPanelDescription),keywords:["success","tip"],priority:1e3,icon:function(){return H.createElement(Ae.s,{label:t(Z.p.successPanel)})},action:function(e,t){return Bs(Ls.a.SUCCESS,t,e)}},{title:t(Z.p.warningPanel),description:t(Z.p.warningPanelDescription),keywords:["warning"],priority:1e3,icon:function(){return H.createElement(Ae.t,{label:t(Z.p.warningPanel)})},action:function(e,t){return Bs(Ls.a.WARNING,t,e)}},{title:t(Z.p.errorPanel),description:t(Z.p.errorPanelDescription),keywords:["error"],priority:1e3,icon:function(){return H.createElement(Ae.q,{label:t(Z.p.errorPanel)})},action:function(e,t){return Bs(Ls.a.ERROR,t,e)}}]},floatingToolbar:Ms}}},Fs=n("Ruju"),Us=n("EFjQ"),Ws=n("/vw3"),Ks=n("v9Z+"),Vs=n("kqga"),Gs=n("9VoA"),qs=n("iDyh"),$s=n("+3hD"),Ys=n("ba8h"),Xs=Object(ke.default)(Ys.f)(As||(As=Object(i.__makeTemplateObject)(["\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n\n  /* extension container breakout, only works on top level */\n  .ProseMirror > [extensiontype] &[data-layout='full-width'],\n  .ProseMirror > [extensiontype] &[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n  .ProseMirror > * [extensiontype] &[data-layout='wide'],\n  .ProseMirror > * [extensiontype] &[data-layout='wide'] {\n    width: 100% !important;\n  }\n"],["\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n\n  /* extension container breakout, only works on top level */\n  .ProseMirror > [extensiontype] &[data-layout='full-width'],\n  .ProseMirror > [extensiontype] &[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n  .ProseMirror > * [extensiontype] &[data-layout='wide'],\n  .ProseMirror > * [extensiontype] &[data-layout='wide'] {\n    width: 100% !important;\n  }\n"]))),Js=ke.default.div(Rs||(Rs=Object(i.__makeTemplateObject)(["\n  cursor: pointer;\n  padding: ","px ","px ","px;\n  vertical-align: middle;\n\n  &.with-children {\n    padding: 4px 8px 8px;\n  }\n"],["\n  cursor: pointer;\n  padding: ","px ","px ","px;\n  vertical-align: middle;\n\n  &.with-children {\n    padding: 4px 8px 8px;\n  }\n"])),Ys.g/2,Ys.g/2,Ys.g/4),Zs=ke.default.div(Ns||(Ns=Object(i.__makeTemplateObject)(["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n"],["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n"])),Ys.g,Object($s.a)({light:"white",dark:Ee.colors.DN30}),Object($s.a)({dark:Ee.colors.DN900}),Ee.colors.N30,Object(lo.f)()),Qs=ke.default.div(Is||(Is=Object(i.__makeTemplateObject)(["\n  padding: 0 ","px ","px;\n"],["\n  padding: 0 ","px ","px;\n"])),Ys.g,Ys.g),ec=n("S5NY"),tc=n.n(ec),nc=function(e){var t=e.node,n=e.type;if(t.attrs.parameters){var r,o=t.attrs.parameters.macroMetadata;if(o&&o.placeholder)return o.placeholder.forEach((function(e){e.type===n&&e.data&&e.data.url&&(r=e.data)})),r}},rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.node,t=nc({node:e,type:"image"});if(t&&"extension"!==e.type.name)return this.renderImage(t);var n=nc({node:e,type:"icon"});return this.renderFallback(n)},t.prototype.renderImage=function(e){var t=this.props.node.attrs.extensionKey,n=e.url,r=Object(i.__rest)(e,["url"]);return H.createElement(Ys.e,Object(i.__assign)({src:n},r,{alt:t}))},t.prototype.renderFallback=function(e){var t,n=this.props.node.attrs,r=n.parameters,o=n.extensionKey,a=this.props.node.type.name,s=r&&r.macroParams,c=r&&r.extensionTitle||o,l="extension"===a;return H.createElement(Ys.c,null,e&&!l?this.renderImage(Object(i.__assign)({height:24,width:24},e)):H.createElement(tc.a,{label:c}),H.createElement("span",{className:"extension-title"},(t=c).charAt(0).toUpperCase()+t.slice(1)),s&&!l&&H.createElement(Ys.d,null,Object.keys(s).map((function(e){return e&&" | "+e+" = "+s[e].value}))))},t}(H.Component),oc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelectExtension=function(){var e=t.props;(0,e.onSelectExtension)("bodiedExtension"===e.node.type.name)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.node,r=t.handleContentDOMRef,o=t.children,i=t.view,a=t.handleRef,s=t.shadowClassNames,c="bodiedExtension"===n.type.name,l=!!o;return H.createElement(Me.a,{editorView:i,plugins:{widthState:Tn.b},render:function(t){var i=t.widthState,u=void 0===i?{width:0}:i;return H.createElement(Xs,{innerRef:a,"data-layout":n.attrs.layout,className:"extension-container "+s+" "+(c?"":"with-overlay"),style:{width:Object(Gs.b)(n.attrs.layout,u.width)}},H.createElement("div",{className:"extension-overflow-wrapper "+(c?"with-body":"")},H.createElement(Ys.b,{className:"extension-overlay"}),H.createElement(Js,{contentEditable:!1,onClick:e.onSelectExtension,className:l?"with-children":""},H.createElement(rc,{node:n}),o),c&&H.createElement(Qs,null,H.createElement(Zs,{innerRef:r,className:"extension-content"}))))}})},t}(H.Component),ic=Object(qs.a)(oc,{overflowSelector:".extension-overflow-wrapper"}),ac=Object(ke.default)(Ys.f)(Ps||(Ps=Object(i.__makeTemplateObject)(["\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"],["\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"])),Object(lo.f)()),sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.node,n=e.children,r=!!n?"with-overlay with-children":"with-overlay";return H.createElement(ac,{className:"extension-container "+r},H.createElement(Ys.b,{className:"extension-overlay"}),n||H.createElement(rc,{node:t}))},t}(H.Component),cc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.mounted=!1,t.setStateFromPromise=function(e,n){n&&n.then((function(n){var r;t.mounted&&t.setState(((r={})[e]=n,r))}))},t.handleSelectExtension=function(e){var n=t.props.editorView,r=n.state,o=n.state,i=o.selection,a=o.schema,s=n.dispatch;r.tr;e?s(Object(re.selectParentNodeOfType)([a.nodes.bodiedExtension])(r.tr)):Object(re.findSelectedNodeOfType)([a.nodes.inlineExtension,a.nodes.extension,a.nodes.bodiedExtension])(i)||Object(x.G)(t.props.editorView,i.$from.pos-1)},t.handleExtension=function(e){var n=t.props,r=n.extensionHandlers,o=n.editorView,i=e.attrs,a=i.extensionType,s=i.extensionKey,c=i.parameters,l=i.text;if(!("bodiedExtension"===e.type.name)){var u,d={type:e.type.name,extensionType:a,extensionKey:s,parameters:c,content:l};if(r&&r[a])u=Object(Vs.a)(r[a])(d,o.state.doc);if(!u){var p=t.state.extensionProvider&&Object(Ks.b)(t.state.extensionProvider,a,s);if(p){var f=p;return H.createElement(f,{extensionParams:d})}}return u}},t}return Object(i.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.mounted=!0},t.prototype.componentDidMount=function(){var e=this.props.extensionProvider;e&&this.setStateFromPromise("extensionProvider",e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.extensionProvider;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)},t.prototype.render=function(){var e=this.props,t=e.node,n=e.handleContentDOMRef,r=e.editorView,o=this.tryExtensionHandler();switch(t.type.name){case"extension":case"bodiedExtension":return H.createElement(ic,{node:t,extensionProvider:this.state.extensionProvider,handleContentDOMRef:n,onSelectExtension:this.handleSelectExtension,view:r},o);case"inlineExtension":return H.createElement(sc,{node:t},o);default:return null}},t.prototype.tryExtensionHandler=function(){var e=this.props.node;try{var t=this.handleExtension(e);if(t&&H.isValidElement(t))return t}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null},t}(H.Component),lc=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=e.extensionProvider,r=n.props,o=r.node,i=r.editorView,a=r.handleContentDOMRef,s=r.extensionHandlers;return H.createElement(cc,{editorView:i,node:o,extensionProvider:t,handleContentDOMRef:a,extensionHandlers:s})},n.providerFactory=t.providerFactory||new Ti.a,n}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.providerFactory||this.providerFactory.destroy()},t.prototype.render=function(){return H.createElement(St.a,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t.displayName="Extension",t}(H.Component),uc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.ignoreMutation=function(e){return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName},t.prototype.getContentDOM=function(){if(!this.node.isInline){var e=document.createElement("div");return e.className=this.node.type.name+"-content-dom-wrapper",{dom:e}}},t.prototype.render=function(e,t){return H.createElement("span",null,H.createElement(lc,{editorView:this.view,node:this.node,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers}),"inlineExtension"===this.node.type.name&&x.a)},t}(Rn.b);function dc(e,t,n){return function(r,o,i){return new uc(r,o,i,e,{providerFactory:t,extensionHandlers:n}).init()}}var pc=n("LzaW"),fc=n("6ZUl"),hc=function(e){return yc({type:"UPDATE_STATE",data:e})},mc=function(e){return yc({type:"UPDATE_STATE",data:{layout:e}},(function(t,n){var r=Object(fc.b)(n,!0);return r?t.setNodeMarkup(r.pos,void 0,Object(i.__assign)(Object(i.__assign)({},r.node.attrs),{layout:e})):t}))},vc=new d.PluginKey("extensionPlugin"),bc=Object(pc.a)(vc,(function(e,t){switch(t.type){case"UPDATE_STATE":return Object(i.__assign)(Object(i.__assign)({},e),t.data);default:return e}})),gc=bc.createPluginState,yc=bc.createCommand,Oc=bc.getPluginState,wc=function(e,t){var n=Object(fc.b)(e.state,!0);if(n){var r=n.node.attrs,o=r.extensionType,i=r.extensionKey;Object(Ks.a)(t,o,i).then((function(t){var r=Object(fc.b)(e.state,!0);r&&r.node.attrs.extensionType===o&&r.node.attrs.extensionKey===i&&r.pos===n.pos&&t.update&&hc({showEditButton:!0,updateExtension:t.update})(e.state,e.dispatch)})).catch((function(){hc({showEditButton:!0,updateExtension:void 0})(e.state,e.dispatch)}))}},Ec=n("Rl8C"),kc=n.n(Ec),xc=n("uvSL"),_c=n.n(xc),Tc=n("6T+A"),Cc=n.n(Tc),Sc=n("iOVg"),jc=n.n(Sc),Mc=n("m+cI"),Ac=n("zTQz"),Rc=Object(fe.g)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."}}),Nc=function(e,t,n,r){var o=n.layout,i=n.allowBreakout,a=n.nodeWithPos;return a&&r&&i&&function(e,t){var n=e.schema.nodes,r=n.bodiedExtension,o=n.extension,i=n.layoutSection,a=n.table,s=n.expand,c=e.selection;return!!t&&!(t.node.type!==r&&(t.node.type!==o||Object(re.hasParentNodeOfType)([r,a,s].filter(Boolean))(c))||Object(re.hasParentNodeOfType)([i])(c))}(e,a)?[{type:"button",icon:jc.a,onClick:mc("default"),selected:"default"===o,title:t(vt.a.layoutFixedWidth)},{type:"button",icon:Cc.a,onClick:mc("wide"),selected:"wide"===o,title:t(vt.a.layoutWide)},{type:"button",icon:_c.a,onClick:mc("full-width"),selected:"full-width"===o,title:t(vt.a.layoutFullWidth)}]:[]},Ic=function(e){return void 0===e&&(e=!0),function(t,n){var r=n.formatMessage,o=Oc(t);if(o&&o.element){var a=[t.schema.nodes.extension,t.schema.nodes.inlineExtension,t.schema.nodes.bodiedExtension],s=function(e,t){return t.showEditButton?[{type:"button",icon:kc.a,onClick:function(e,t){var n=Mc.b.getState(e);return Object(Ac.a)(n&&n.macroProvider,Oc(e).updateExtension)(e,t)},title:e(Rc.edit)}]:[]}(r,o),c=Nc(t,r,o,e);return{title:"Extension floating controls",getDomRef:function(){return o.element.parentElement||void 0},nodeType:a,items:Object(i.__spread)(s,c,[{type:"separator",hidden:0===s.length&&0===c.length},{type:"button",icon:br.a,appearance:"danger",onClick:yc({type:"UPDATE_STATE",data:{element:void 0,nodeWithPos:void 0}},(function(e,t){return Object(fc.b)(t)?Object(re.removeSelectedNode)(e):Object(re.removeParentNodeOfType)(t.schema.nodes.bodiedExtension)(e)})),onMouseEnter:Object(M.b)(a,!0),onMouseLeave:Object(M.b)(a,!1),title:r(vt.a.remove)}])}}}},Pc=function(e){return{name:"extension",nodes:function(){return[{name:"extension",node:Fs.a},{name:"bodiedExtension",node:Us.a},{name:"inlineExtension",node:Ws.a}]},pmPlugins:function(){return[{name:"extension",plugin:function(t){var n=t.dispatch,r=t.providerFactory,o=t.portalProviderAPI,i=!(!e||!e.breakoutEnabled),a=!(!e||!e.stickToolbarToBottom);return function(e,t,n,r,o,i){var a=gc(e,(function(){return{layout:"default",showEditButton:!1,stickToolbarToBottom:o,allowBreakout:i}}));return new d.Plugin({state:a,view:function(e){var r=e.domAtPos.bind(e),o=function(t,n){"extensionProvider"===t&&n&&n.then((function(t){hc({extensionProvider:t})(e.state,e.dispatch),wc(e,t)})).catch((function(){return hc({extensionProvider:void 0})(e.state,e.dispatch)}))};return t.subscribe("extensionProvider",o),{update:function(e){var t=e.state,o=e.dispatch,i=Oc(t),a=i.element,s=i.extensionProvider,c=Object(fc.b)(t,!0);if(c||a){var l=!!Object(fc.c)(t),u=Object(fc.a)(r,c,l);if(a!==u){var d=!1,p=void 0;if(c){var f=c.node.attrs.extensionType,h=n[f];h&&"object"==typeof h?(d=!!h.update,p=h.update):s?wc(e,s):d=!0}var m=c?c.node.attrs.layout:"default";hc({nodeWithPos:c,element:u,showEditButton:d,updateExtension:p,layout:m})(t,o)}return!0}},destroy:function(){t.unsubscribe("extensionProvider",o)}}},key:vc,props:{nodeViews:{extension:dc(r,t,n),bodiedExtension:dc(r,t,n),inlineExtension:dc(r,t,n)}}})}(n,r,e&&e.extensionHandlers||{},o,a,i)}}]},pluginsOptions:{floatingToolbar:Ic(e&&e.breakoutEnabled)}}},Dc=n("NaC1"),Lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.createDomRef=function(){return document.createElement("span")},t.prototype.getContentDOM=function(){var e=document.createElement("span");return e.className="fabric-editor-annotation",{dom:e}},t.prototype.render=function(e,t){var n=this;return F.a.createElement(Me.a,{plugins:{annotationState:Hc,selectionState:j.b},editorView:this.view,render:function(e){var r=e.annotationState,o=n.node.attrs.id;return F.a.createElement("span",{style:{backgroundColor:!1===r[o]?"rgba(255, 196, 0, 0.4)":"transparent"},ref:t})}})},t}(Rn.b),Bc=function(e){if(!e.length)return[];var t=e[0].type.schema.marks.annotation;return e.filter((function(e){return e.type===t})).map((function(e){return e.attrs.id}))},zc=function(e){var t=[];return e.nodesBetween(0,e.nodeSize-2,(function(e){var n=e.marks.filter((function(e){return"annotation"===e.type.name}));t.push.apply(t,Object(i.__spread)(n.map((function(e){return e.attrs.id}))))})),t},Hc=new d.PluginKey("inlineCommentPlugin");var Fc=function(e,t){return function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.getState(t)];case 1:return n=o.sent(),r={},n.forEach((function(e){"inlineComment"===e.annotationType&&(r[e.id]=e.state.resolved)})),[2,r]}}))}))}(e,t)};function Uc(e,t,n,r){return function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Fc(e,t)];case 1:return o=i.sent(),r&&Vc({type:"SET_INLINE_COMMENT_STATE",data:o})(n,r),[2]}}))}))}}var Wc=Object(pc.a)(Hc,(function(e,t){var n;switch(t.type){case"INLINE_COMMENT_RESOLVE":return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t.data.id]=!0,n));case"SET_INLINE_COMMENT_STATE":return t.data;default:return e}})),Kc=Wc.createPluginState,Vc=Wc.createCommand,Gc=function(e){return{name:"annotation",marks:function(){return[{name:"annotation",mark:Dc.b}]},pmPlugins:function(){return[{name:"annotation",plugin:function(t){var n=t.dispatch,r=t.portalProviderAPI;return e&&e.providers&&e.providers.inlineComment?function(e){var t=e.inlineCommentProvider,n=e.dispatch,r=e.portalProviderAPI,o=e.pollingInterval;return new d.Plugin({key:Hc,state:Kc(n,(function(){return{}})),view:function(e){Uc(t,zc(e.state.doc),e.state,e.dispatch)();var n=setInterval((function(){Uc(t,zc(e.state.doc),e.state,e.dispatch)()}),o||1e4);return{destroy:function(){clearInterval(n)}}},props:{nodeViews:{annotation:function(e,t,n){return new Lc(e,t,n,r).init()}}}})}({dispatch:n,portalProviderAPI:r,inlineCommentProvider:e.providers.inlineComment,pollingInterval:e.providers.inlineComment.pollingInterval}):void 0}}]},contentComponent:function(t){var n=t.editorView,r=n.state.schema.marks.annotation;if(!e)return null;var o=e.component,i=e.providers;return o&&i&&i.inlineComment?F.a.createElement(Me.a,{plugins:{selectionState:j.b,annotationState:Hc},render:function(){var e=n.state,t=n.dispatch,i=e.selection,a=i.from,s=i.$from,c=e.doc.nodeAt(a);if(!c)return null;var l=c.marks.filter((function(e){return e.type===r}));if(!l.length)return null;var u=l.map((function(e){return{id:e.attrs.id,type:e.attrs.annotationType}})),d=function(e){return Hc.getState(e)}(e);if(!(u=u.filter((function(e){return!1===d[e.id]}))).length)return null;!function(e,t){var n,r,o,i,a,s=(n=t,r=n.nodeBefore,o=n.nodeAfter,i=r&&n.doc.nodeAt(n.pos-r.nodeSize-1),a=o&&n.doc.nodeAt(n.pos+o.nodeSize),[i&&i.marks||[],a&&a.marks||[]]).map(Bc);e.sort((function(e,t){return Object(x.K)(s,(function(t){return t.indexOf(e.id)}))-Object(x.K)(s,(function(e){return e.indexOf(t.id)}))}))}(u,s);var p=Object(re.findDomRefAtPos)(a,n.domAtPos.bind(n));return F.a.createElement(o,{annotations:u,dom:p,onDelete:function(n){return function(e){return function(t,n){var r=t.tr,o=t.selection.$from,i=t.schema.marks.annotation;return!!o.marks().some((function(e){return e.type===i}))&&(r.removeMark(o.start(),o.end(),i.create({id:e,type:Dc.a})),n&&n(r),!0)}}(n)(e,t)},onResolve:function(n){return function(e){return Vc({type:"INLINE_COMMENT_RESOLVE",data:{id:e}})}(n)(e,t)}})}}):null}}},qc=n("NfJ4"),$c=n("bigP"),Yc=n("Wots"),Xc=n("lzcg");var Jc,Zc,Qc,el,tl,nl=function(){var e={};return $.bindKeymapWithCommand($.enter.common,(function(e,t){var n=Xc.b.getState(e);return e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(Object(Yc.a)()(e,t),!0):(Object(Yc.c)()(e,t),!0))}),e),Object(h.keymap)(e)},rl=Zn()({loader:function(){return Promise.all([n.e(66),n.e("@atlaskit-internal-editor-datepicker~35f73d2a")]).then(n.bind(null,"7CSf"))},loading:function(){return null}}),ol=function(){return{name:"date",nodes:function(){return[{name:"date",node:qc.a}]},pmPlugins:function(){return[{name:"date",plugin:function(e){return rl.preload(),Object(Xc.a)(e)}},{name:"dateKeymap",plugin:function(){return rl.preload(),nl()}}]},contentComponent:function(e){var t=e.editorView,n=t.dispatch,r=t.domAtPos.bind(t);return H.createElement(Me.a,{plugins:{datePlugin:Xc.b,editorDisabledPlugin:zn.b},render:function(e){var o=e.editorDisabledPlugin,i=e.datePlugin,a=i&&i.showDatePickerAt;if(!a||(o||{}).editorDisabled)return null;var s=Object(re.findDomRefAtPos)(a,r);return H.createElement(rl,{key:a,element:s,onSelect:function(e){return Object(Yc.b)(e)(t.state,n)},closeDatePicker:function(){return Object(Yc.d)(null)(t.state,n)}})}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.date),description:t(ct.b.dateDescription),priority:800,keywords:["time","today","/"],keyshortcut:"//",icon:function(){return H.createElement(Ae.c,{label:t(ct.b.date)})},action:function(e,t){var n=e(t.schema.nodes.date.createChecked({timestamp:Object($c.f)()}),{selectInlineNode:!0});return Object(ie.a)(t,n,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.DATE,eventType:D.d.TRACK,attributes:{inputMethod:D.e.QUICK_INSERT}}),n.setMeta(Xc.b,{showDatePickerAt:n.selection.from})}}]}}}},il=n("d3mg"),al=n("0nFe"),sl=n("PCG0"),cl=n("jsQI"),ll=n("NgEv"),ul=n.n(ll),dl=n("JWdr"),pl=n.n(dl),fl=n("edGS"),hl=n.n(fl),ml=n("HRp0"),vl=n.n(ml),bl=n("HsCG"),gl=n.n(bl),yl=n("J7oP"),Ol=Object(fe.g)({twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),wl=[{type:"two_equal",title:Ol.twoColumns,icon:ul.a},{type:"three_equal",title:Ol.threeColumns,icon:pl.a}],El=[{type:"two_right_sidebar",title:Ol.rightSidebar,icon:vl.a},{type:"two_left_sidebar",title:Ol.leftSidebar,icon:hl.a},{type:"three_with_sidebars",title:Ol.threeColumnsWithSidebars,icon:gl.a}],kl=function(e,t,n){return{type:"button",icon:t.icon,title:e.formatMessage(t.title),onClick:Object(yl.h)(t.type),selected:!!n&&n===t.type}},xl=function(e){return{name:"layout",nodes:function(){return[{name:"layoutSection",node:al.a},{name:"layoutColumn",node:sl.a}]},pmPlugins:function(){return[{name:"layout",plugin:function(){return Object(cl.a)(e)}}]},pluginsOptions:{floatingToolbar:function(e,t){var n=cl.b.getState(e),r=n.pos,o=(n.allowBreakout,n.addSidebarLayouts);if(null!==r)return function(e,t,n,r,o){var a=e.doc.nodeAt(n);if(a){var s=Object(yl.e)(a),c=e.schema.nodes.layoutSection,l={type:"button",appearance:"danger",icon:br.a,title:t.formatMessage(vt.a.remove),onClick:yl.b,onMouseEnter:Object(M.b)(c,!0),onMouseLeave:Object(M.b)(c,!1)};return{title:"Layout floating controls",getDomRef:function(e){return Object(re.findDomRefAtPos)(n,e.domAtPos.bind(e))},nodeType:c,items:Object(i.__spread)(wl.map((function(e){return kl(t,e,s)})),o?El.map((function(e){return kl(t,e,s)})):[],[{type:"separator"},l])}}}(e,t,r,0,o)},quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.columns),description:t(ct.b.columnsDescription),keywords:["layout","section","column"],priority:1100,icon:function(){return H.createElement(Ae.k,{label:t(ct.b.columns)})},action:function(e,t){var n=e(Object(yl.a)(t));return Object(ie.a)(t,n,{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.LAYOUT,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.TRACK})}}]}}}},_l=n("ZLro"),Tl=n("hUHE"),Cl=n("p29/"),Sl=n("WvVb"),jl=n("hZtx"),Ml=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.node!==this.props.node&&this.hideLinkToolbar()},t.prototype.componentWillUnmount=function(){this.hideLinkToolbar()},t.prototype.hideLinkToolbar=function(){var e=this.props.view;e.dispatch(Object($e.a)(e.state.tr))},t.prototype.render=function(){var e=this,t=this.props,n=t.providerFactory,r=t.url,o=t.text,i=t.onSubmit;return H.createElement(jt,{providerFactory:n,displayUrl:r,displayText:o,onSubmit:function(t,n){e.hideLinkToolbar(),i&&i(t,n)}})},t}(H.Component),Al=function(e,t){return!!t&&(t(Object($e.f)(e.tr)),!0)},Rl=function(e){var t=e.providerFactory,n=e.node;return{type:"custom",render:function(e,r){if(!e||!t)return null;var o=Object(jl.b)(n,Object(jl.c)(e.state));return H.createElement(Ml,{key:r,view:e,providerFactory:t,url:o.url,text:o.title||"",node:n,onSubmit:function(t,n){if(n!==o.title||t!==o.url)return Object(Sl.a)(n,t)(e.state,e.dispatch)}})}}},Nl={height:yt.c,width:yt.d,forcePlacement:!0},Il=n("9HKk"),Pl=(Object(fe.g)({block:{id:"fabric.editor.displayBlock",defaultMessage:"Display as card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display as link",description:"Display link with the title only."},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."}}),function(e,t){if(!(e.selection instanceof d.NodeSelection))return!1;var n=e.selection.node.type.name,r={action:D.a.DELETED,actionSubject:D.b.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:D.e.TOOLBAR,displayMode:n},eventType:D.d.TRACK};return t&&t(Object(ie.a)(e,Object(re.removeSelectedNode)(e.tr),r)),X.a.trackEvent("atlassian.editor.format.card.delete.button"),!0}),Dl=function(e,t){if(!(e.selection instanceof d.NodeSelection))return!1;var n=e.selection.node.type,r=Object(jl.d)(e.selection.node).url,o={action:D.a.VISITED,actionSubject:D.b.SMART_LINK,actionSubjectId:n.name,attributes:{inputMethod:D.e.TOOLBAR},eventType:D.d.TRACK};return X.a.trackEvent("atlassian.editor.format.card.visit.button"),window.open(r),t&&t(Object(ie.a)(e,e.tr,o)),!0},Ll=function(e,t){var n=Object(jl.b)(e,Object(jl.c)(t)),r=n.title||n.url;return r?Object(Sl.b)(r):function(){return!1}},Bl=function(e,t,n){var r=t.schema.nodes.inlineCard;return e.type===r?{type:"button",title:n.formatMessage(vt.b.unlink),icon:At.a,onClick:Ll(e,t)}:{type:"button",appearance:"danger",icon:br.a,onMouseEnter:Object(M.b)(e.type,!0),onMouseLeave:Object(M.b)(e.type,!1),title:n.formatMessage(vt.a.remove),onClick:Pl}},zl=function(e,t,n){return function(r){var o=Object(jl.d)(r).url;return o&&!Object(Il.a)(o)?[]:Cl.b.getState(e).showLinkingToolbar?[Rl({providerFactory:n,node:r})]:[{type:"button",selected:!1,title:t.formatMessage(vt.b.editLink),showTitle:!0,onClick:Al},{type:"separator"},{type:"button",icon:Nt.a,className:"hyperlink-open-link",title:t.formatMessage(vt.b.openLink),onClick:Dl},{type:"separator"},Bl(r,e,t)]}},Hl=function(e,t,n){var r=e.schema.nodes,o=[r.inlineCard,r.blockCard],a=Cl.b.getState(e);return Object(i.__assign)({title:"Card floating controls",nodeType:o,items:zl(e,t,n)},a.showLinkingToolbar?Nl:{})},Fl=(new d.PluginKey("cardPlugin"),function(){return{name:"card",nodes:function(){return[{name:"inlineCard",node:_l.a},{name:"blockCard",node:Tl.a}]},pmPlugins:function(){return[{name:"card",plugin:Cl.a}]},pluginsOptions:{floatingToolbar:Hl}}}),Ul=function(e,t){switch(t.action){case"matched":return function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{resolving:Object(i.__spread)(e.resolving,[{start:t.start,end:t.end,match:t.match}])})}(e,t);case"resolved":return function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{matches:Object(i.__spread)(e.matches,[{replacement:t.replacement,matchString:t.matchString}])})}(e,t);case"finish":return function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{resolving:e.resolving.filter((function(e){return e.match[0]!==t.matchString})),matches:e.matches.filter((function(e){return e.matchString!==t.matchString}))})}(e,t);default:return e}},Wl=function(e,t,n,r,o){var i=e.state.doc.resolve(n);if(i.parent.type.spec.code)return!1;for(var a=i.parent.textBetween(Math.max(0,i.parentOffset-500),i.parentOffset,void 0,"￼")+o,s=0;s<t.length;s++){var c=void 0;if(c=o.length?t[s].matchTyping.exec(a):t[s].matchEnter.exec(a)){var l=n-(c[0].length-o.length);return t[s].handler(e,c,l,r),!0}}return!1},Kl=new d.PluginKey("customAutoformatPlugin"),Vl=function(e,t){return e.setMeta(Kl,t)},Gl=function(e){var t=e.providerFactory,n=[];return new d.Plugin({state:{init:function(){return{resolving:[],matches:[]}},apply:function(e,t){if(!t)return t;var n=Object(i.__assign)(Object(i.__assign)({},t),{resolving:t.resolving.map((function(t){return Object(i.__assign)(Object(i.__assign)({},t),{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})}))}),r=e.getMeta(Kl);return r?Ul(n,r):n}},props:{handleTextInput:function(e,t,r,o){return Wl(e,n,t,r,o),!1},handleKeyDown:Object(h.keydownHandler)({Enter:function(e,t,r){return Wl(r,n,r.state.selection.from,r.state.selection.to,""),!1}})},view:function(){var e=this,r=function(t,r){"autoformattingProvider"===t&&r&&r.then((function(t){return Object(i.__awaiter)(e,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.getRules()];case 1:return e=r.sent(),Object.keys(e).forEach((function(t){var r,o={matchTyping:new RegExp("(\\s+|^)"+t+"(\\s)$"),matchEnter:new RegExp("(\\s+|^)"+t+"()$"),handler:(r=e[t],function(e,t,n,o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return a=r(t.slice(1,t.length-1)),e.dispatch(Vl(e.state.tr,{action:"matched",match:t,start:n,end:o})),[4,a];case 1:return s=i.sent(),c=Object(b.l)(e.state.schema,s),e.dispatch(Vl(e.state.tr,{action:"resolved",matchString:t[0],replacement:c})),[2,s]}}))}))})};n.push(o)})),[2]}}))}))}))};return t.subscribe("autoformattingProvider",r),{update:function(e){var t,n=(t=e.state,Kl.getState(t));n&&n.matches&&function(e,t){var n=e.state.schema.nodes.inlineCard;t.matches.forEach((function(r){var o=t.resolving.filter((function(e){return e.match[0]===r.matchString})),i=e.state.tr;o.forEach((function(t){var o=t.match,a=t.start,s=t.end,c=r.replacement,l=o[1],u=s+o[o.length-1].length;c&&(c.type===n||c.isText)&&(e.state.doc.textBetween(a,u,"#","|")===o[0]&&(i=i.replaceWith(i.mapping.map(a+l.length),i.mapping.map(s,-1),c)))})),i=Vl(i,{action:"finish",matchString:r.matchString}),e.dispatch(Object(s.closeHistory)(i))}))}(e,n)},destroy:function(){t.unsubscribe("autoformattingProvider",r)}}},key:Kl})},ql=function(){return{name:"customAutoformat",pmPlugins:function(){return[{name:"customAutoformat",plugin:Gl}]}}},$l=n("FPIK"),Yl=n("uw3h"),Xl=n("Hhp0"),Jl=n("Nink"),Zl=n.n(Jl),Ql=n("xZ8S"),eu=Object(fe.g)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"}}),tu=ke.default.button(Jc||(Jc=Object(i.__makeTemplateObject)(["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n  overflow: hidden;\n"],["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n  overflow: hidden;\n"])),Ee.colors.N900,Ee.colors.N0),nu=ke.default.span(Zc||(Zc=Object(i.__makeTemplateObject)(["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"],["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),Ee.colors.N50),ru=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverStartTime=0,t.onMouseEnter=function(){t.hoverStartTime=Date.now()},t.onMouseLeave=function(){var e=t.props.onHover;Date.now()-t.hoverStartTime>=Ql.a&&e&&e(t.props.value),t.hoverStartTime=0},t.onMouseDown=function(e){e.preventDefault()},t.onClick=function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tabIndex,r=t.backgroundColor,o=t.isSelected,a=t.borderColor,s=t.value,c="1px solid "+a;return H.createElement(nu,null,H.createElement(fe.c,Object(i.__assign)({},eu[s+"Color"]),(function(t){return H.createElement(tu,{onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,tabIndex:n,className:o?"selected":"",title:t,style:{backgroundColor:r||"transparent",border:c}},o&&H.createElement(Zl.a,{primaryColor:a,label:t}))})))},t.prototype.componentWillUnmount=function(){this.hoverStartTime=0},t}(H.PureComponent),ou=[["neutral",Ee.colors.N40,Ee.colors.N400],["purple",Ee.colors.P50,Ee.colors.P400],["blue",Ee.colors.B50,Ee.colors.B400],["red",Ee.colors.R50,Ee.colors.R400],["yellow",Ee.colors.Y75,Ee.colors.Y400],["green",Ee.colors.G50,Ee.colors.G400]],iu=ke.default.div(Qc||(Qc=Object(i.__makeTemplateObject)(["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(lo.l)(),Object(lo.l)(),Object(lo.l)()),au=function(e){var t=e.cols,n=void 0===t?7:t,r=e.onClick,o=e.selectedColor,a=e.className,s=e.onHover;return H.createElement(iu,{className:a,style:{maxWidth:32*n}},ou.map((function(e){var t=Object(i.__read)(e,3),n=t[0],a=t[1],c=t[2];return H.createElement(ru,{key:n,value:n,backgroundColor:a,borderColor:c,onClick:r,onHover:s,isSelected:n===o})})))},su=ke.default.div(el||(el=Object(i.__makeTemplateObject)(["\n  margin: 0 ","px;\n"],["\n  margin: 0 ","px;\n"])),Object(lo.l)()),cu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fieldTextWrapperKey=Math.random().toString(),t.colorPaletteKey=Math.random().toString(),t.onChange=function(e){t.props.onTextChanged(e.target.value)},t.onKeyPress=function(e){"Enter"===e.key&&t.props.onEnter()},t.handleInputRef=function(e){e&&t.props.autoFocus&&setTimeout((function(){e.focus()}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.selectedColor,r=e.onColorClick,o=e.onColorHover;return H.createElement(H.Fragment,null,H.createElement(su,{key:this.fieldTextWrapperKey},H.createElement(Xl.a,{value:t,isCompact:!0,ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off"})),H.createElement(au,{key:this.colorPaletteKey,onClick:r,onHover:o,selectedColor:n}))},t.defaultProps={autoFocus:!0},t}(H.PureComponent),lu=n("GK8u"),uu=n("//R7"),du=n("2sr0"),pu=n("4fYq"),fu=function(e){return e?"new":"update"},hu=Object(lu.a)(Xn.a);!function(e){e.blur="blur",e.escKey="escKey",e.enterKey="enterKey"}(tl||(tl={}));var mu,vu=ke.default.div(mu||(mu=Object(i.__makeTemplateObject)(["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  ",";\n  input {\n    text-transform: uppercase;\n  }\n"],["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  ",";\n  input {\n    text-transform: uppercase;\n  }\n"])),Ee.colors.N0,Object(lo.l)(),Object(lo.f)(),we.j),bu=function(e){function t(t){var n,r=e.call(this,t)||this;return r.handleClickOutside=function(e){e.preventDefault(),r.inputMethod=tl.blur,r.props.closeStatusPicker()},r.handleEscapeKeydown=function(e){e.preventDefault(),r.inputMethod=tl.escKey,r.props.onEnter(r.state)},r.onColorHover=function(e){r.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:r.state.localId,state:fu(r.props.isNew)}})},r.onColorClick=function(e){var t=r.state,n=t.text,o=t.localId;e===r.state.color?(r.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:o,state:fu(r.props.isNew)}}),r.onEnter()):(r.setState({color:e}),r.props.onSelect({text:n,color:e,localId:o}))},r.onTextChanged=function(e){var t=r.state,n=t.color,o=t.localId;r.setState({text:e}),r.props.onTextChanged({text:e,color:n,localId:o},!!r.props.isNew)},r.onEnter=function(){r.inputMethod=tl.enterKey,r.props.onEnter(r.state)},r.handlePopupClick=function(e){return e.nativeEvent.stopImmediatePropagation()},r.state=r.extractStateFromProps(t),r.createStatusAnalyticsAndFireFunc=(n=t.createAnalyticsEvent,function(e){if(n&&e){var t=Object(i.__assign)(Object(i.__assign)({},e),{eventType:"ui"});t.attributes||(t.attributes={}),t.attributes.packageName=pu.a,t.attributes.packageVersion=pu.b,t.attributes.componentName="status",n(t).fire("fabric-elements")}}),r}return Object(i.__extends)(t,e),t.prototype.fireStatusPopupOpenedAnalytics=function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:r,state:fu(o)}})},t.prototype.fireStatusPopupClosedAnalytics=function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:r,state:fu(o)}})},t.prototype.reset=function(){this.startTime=Date.now(),this.inputMethod=tl.blur},t.prototype.componentDidMount=function(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)},t.prototype.componentWillUnmount=function(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0},t.prototype.componentDidUpdate=function(e,t,n){var r=this.props.target;if(e.target!==r){var o=this.extractStateFromProps(this.props);this.setState(o),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(o)}},t.prototype.extractStateFromProps=function(e){var t=e.defaultColor,n=e.defaultText,r=e.defaultLocalId,o=e.isNew;return{color:t||uu.a.color,text:n||uu.a.text,localId:r,isNew:o}},t.prototype.render=function(){var e=this.props,t=e.isNew,n=e.target,r=this.state,o=r.color,i=r.text;return n&&H.createElement(hu,{target:n,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:ge.g,fitHeight:40},H.createElement(vu,{onClick:this.handlePopupClick},H.createElement(cu,{autoFocus:t,selectedColor:o,text:i,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))},t}(H.Component),gu=Object(du.a)()(bu),yu=n("gHUL");function Ou(){var e={};return $.bindKeymapWithCommand($.enter.common,wu,e),$.bindKeymapWithCommand($.tab.common,wu,e),Object(h.keymap)(e)}var wu=function(e,t){return!!Object(yu.b)(e.tr.selection)},Eu=function(e){return function(e,t){return!0===t.menuDisabled?e:(e.pluginsOptions={quickInsert:function(e){var t=e.formatMessage;return[{title:t(ct.b.status),description:t(ct.b.statusDescription),priority:700,keywords:["lozenge"],icon:function(){return H.createElement(Ae.v,{label:t(ct.b.status)})},action:function(e,t){return Object(ie.a)(t,Object(uu.c)()(e,t),{action:D.a.INSERTED,actionSubject:D.b.DOCUMENT,actionSubjectId:D.c.STATUS,attributes:{inputMethod:D.e.QUICK_INSERT},eventType:D.d.TRACK})}}]}},e)}(function(e){return{name:"status",nodes:function(){return[{name:"status",node:$l.a}]},pmPlugins:function(){return[{name:"status",plugin:function(t){var n=t.dispatch,r=t.portalProviderAPI;return Object(Yl.a)(n,r,e)}},{name:"statusKeymap",plugin:Ou}]},contentComponent:function(e){var t=e.editorView,n=t.domAtPos.bind(t);return H.createElement(Me.a,{plugins:{statusState:Yl.b},render:function(e){var r=e.statusState,o=void 0===r?{}:r,i=o.showStatusPickerAt;if("number"!=typeof i)return null;var a=Object(re.findDomRefAtPos)(i,n),s=t.state.doc.nodeAt(i);if(!s||"status"!==s.type.name)return null;var c=s.attrs,l=c.text,u=c.color,d=c.localId;return H.createElement(gu,{isNew:o.isNew,target:a,defaultText:l,defaultColor:u,defaultLocalId:d,onSelect:function(e){Object(uu.e)(e)(t.state,t.dispatch)},onTextChanged:function(e){Object(uu.e)(e)(t.state,t.dispatch)},closeStatusPicker:function(){Object(uu.b)()(t)},onEnter:function(){Object(uu.b)()(t)}})}})}}}(e),e)},ku=n("JJFR"),xu={paragraph:Pr.b.PARAGRAPH,heading:Pr.b.HEADING};function _u(e,t){return void 0===t?e.level:!1===t?0:t.level}function Tu(e){return void 0===e?0:e.level}var Cu=function(e,t){var n=e.nodes,r=n.paragraph,o=n.heading,i=e.marks.alignment;return[r,o].indexOf(t.type)>-1&&(!i||!t.marks.filter((function(e){return e.type===i}))[0])};function Su(e,t){var n=function(e,t){var n=[];return{getAttrs:function(r,o){var i=e(r,o);return n.push({node:o,prevAttrs:r,newAttrs:i,options:t}),i},getAndResetAttrsChanges:function(){var e=n;return n=[],e}}}(e,{direction:t}),r=n.getAttrs,o=n.getAndResetAttrsChanges,i=function(e){return function(t,n){var r=t.schema.marks.indentation;return Object(Y.k)(r,e,Cu)(t,n)}}(r);return function(e,t){return i(e,function(e,t,n){return function(r){var o=r;e().forEach((function(e){var n=e.node,r=e.prevAttrs,i=e.newAttrs,a=e.options.direction,s=xu[n.type.name];s&&(o=Object(ie.a)(t,o,{action:D.a.FORMATTED,actionSubject:D.b.TEXT,actionSubjectId:D.c.FORMAT_INDENT,eventType:D.d.TRACK,attributes:{inputMethod:D.e.KEYBOARD,previousIndentationLevel:Tu(r),newIndentLevel:_u(r,i),direction:a,indentType:s}}))})),n&&n(r)}}(o,e,t))}}var ju=Su((function(e){if(!e)return{level:1};var t=e.level;return t>=6?void 0:{level:t+1}}),Pr.a.INDENT),Mu=Su((function(e){if(e){var t=e.level;return!(t<=1)&&{level:t-1}}}),Pr.a.OUTDENT);function Au(){var e={};return $.bindKeymapWithCommand($.findShortcutByKeymap($.indent),J("atlassian.editor.format.block.indent.keyboard",ju),e),$.bindKeymapWithCommand($.findShortcutByKeymap($.outdent),J("atlassian.editor.format.block.outdent.keyboard",Mu),e),$.bindKeymapWithCommand($.findShortcutByKeymap($.backspace),J("atlassian.editor.format.block.outdent.keyboard.alt",(function(e,t){var n=e.selection;return!(!Object(x.B)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&Mu(e,t))})),e),Object(h.keymap)(e)}var Ru=function(){return{name:"indentation",marks:function(){return[{name:"indentation",mark:ku.a}]},pmPlugins:function(){return[{name:"indentationKeymap",plugin:function(){return Au()}}]}}},Nu=n("YybV");function Iu(e){return Object(Q.c)(e,D.e.TOOLBAR)}var Pu=function(e){return void 0===e&&(e={}),{name:"insertBlock",primaryToolbarComponent:function(t){var n=t.editorView,r=t.editorActions,o=t.dispatchAnalyticsEvent,i=t.providerFactory,a=t.popupsMountPoint,s=t.popupsBoundariesElement,c=t.popupsScrollableElement,l=t.toolbarSize,u=t.disabled,d=t.isToolbarReducedSpacing,p=function(e){switch(e){case V.a.XXL:case V.a.XL:case V.a.L:case V.a.M:return 7;case V.a.S:return 2;default:return 0}}(l);return H.createElement(St.a,{providerFactory:i,providers:["emojiProvider"],renderNode:function(t){return H.createElement(Me.a,{plugins:{typeAheadState:v.d,blockTypeState:G.b,mediaState:Un.b,mentionState:oi.b,macroState:Mc.b,hyperlinkState:Je.e,emojiState:Li,dateState:Xc.b,imageUpload:Ua,placeholderTextState:il.b,layoutState:cl.b},render:function(i){var l=i.typeAheadState,f=i.mentionState,h=i.blockTypeState,m=i.mediaState,v=i.macroState,b=void 0===v?{}:v,g=i.hyperlinkState,y=i.emojiState,O=i.dateState,w=i.imageUpload,E=i.placeholderTextState,k=i.layoutState;return H.createElement(ct.a,{buttons:p,isReducedSpacing:d,isDisabled:u,isTypeAheadAllowed:l&&l.isAllowed,editorView:n,tableSupported:e.allowTables,actionSupported:!!n.state.schema.nodes.taskItem,mentionsSupported:!(!f||!f.mentionProvider),mentionsEnabled:!!f,decisionSupported:!!n.state.schema.nodes.decisionItem,dateEnabled:!!O,placeholderTextEnabled:E&&E.allowInserting,layoutSectionEnabled:!!k,expandEnabled:!!e.allowExpand,mediaUploadsEnabled:m&&m.allowsUploads,onShowMediaPicker:m&&m.showMediaPicker,mediaSupported:!!m,imageUploadSupported:!!w,imageUploadEnabled:w&&w.enabled,handleImageUpload:Ha,availableWrapperBlockTypes:h&&h.availableWrapperBlockTypes,linkSupported:!!g,linkDisabled:!g||!g.canInsertLink||!!g.activeLinkMark,emojiDisabled:!y||!y.emojiProvider,emojiProvider:t.emojiProvider,nativeStatusSupported:e.nativeStatusSupported,horizontalRuleEnabled:e.horizontalRuleEnabled,onInsertBlockType:Iu,onInsertMacroFromMacroBrowser:Nu.a,macroProvider:b.macroProvider,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:c,insertMenuItems:e.insertMenuItems,editorActions:r,dispatchAnalyticsEvent:o})}})}})}}},Du=n("U0u8"),Lu=n("oL1A"),Bu=n("N+1D"),zu=n("Dv3j"),Hu=new d.PluginKey("scrollIntoViewPlugin"),Fu=function(){return{name:"scrollIntoView",pmPlugins:function(){return[{name:"scrollIntoView",plugin:function(){return new d.Plugin({key:Hu,appendTransaction:function(e,t,n){if(e.length){var r=Object(i.__read)(e,1)[0];return!r.docChanged&&!r.storedMarksSet||r.scrolledIntoView||!1===r.getMeta("scrollIntoView")||!1===r.getMeta("addToHistory")||r.getMeta("isRemote")||r.getMeta(zu.b)?void 0:n.tr.scrollIntoView()}}})}}]}}},Uu=n("ezNr");function Wu(e){return{newInsertionBehaviour:e.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof e.allowExpand?e.allowExpand:Boolean(e.allowExpand&&!1!==e.allowExpand.allowInteractiveExpand)}}function Ku(e){var t=e.appearance,n=e.textFormatting,r=e.placeholder,i=e.placeholderHints,a=e.placeholderBracketHint,s=Object(Uu.a)(t);return[o({cardOptions:e.UNSAFE_cards,sanitizePrivateContent:e.sanitizePrivateContent}),z({allowInlineCursorTarget:"mobile"!==t,allowScrollGutter:Vu(e),addRunTimePerformanceCheck:s,inputSamplingLimit:e.inputSamplingLimit}),Re({lastNodeMustBeParagraph:"comment"===t,allowBlockType:e.allowBlockType}),Ue({placeholder:r,placeholderHints:i,placeholderBracketHint:a}),Ve(),Lt(),_n(n||{}),Object(Tn.a)(),Object(Cn.a)(),Bn(),Object(zn.a)(),Object(Hn.a)(),Object(Fn.b)({shouldCalcBreakoutGridLines:s}),Vn(e.onSave),$n(),nr(),Object(or.a)(Wu(e)),Hr()]}function Vu(e){var t=e.appearance;return Object(Uu.a)(t)?{getScrollElement:function(){return document.querySelector(".fabric-editor-popup-scroll-parent")}}:"mobile"===t?{getScrollElement:function(){return document.body},allowCustomScrollHandler:!1}:void 0}function Gu(e,t,n){var r="mobile"===e.appearance,o=Object(Uu.a)(e.appearance),i=Ku(e);if(e.allowAnalyticsGASV3&&i.push(Object(Wn.c)(n)),e.allowBreakout&&o&&i.push(Object(Fr.b)({allowBreakoutButton:"full-page"===e.appearance})),e.allowTextAlignment&&i.push(bo()),e.allowTextColor&&i.push(Object(go.a)(e.allowTextColor)),i.push(Do()),e.allowRule&&i.push(Fo()),e.allowExpand&&i.push(Qo({allowInsertion:ei(e)})),e.media&&i.push(Object(ri.a)(e.media,{allowLazyLoading:!r,allowBreakoutSnapPoints:o,allowAdvancedToolBarOptions:o,allowDropzoneDropLine:o,allowMediaSingleEditable:!r,allowRemoteDimensionsFetch:!r,allowMarkingUploadsAsIncomplete:r,fullWidthEnabled:"full-width"===e.appearance,uploadErrorHandler:e.uploadErrorHandler,waitForMediaUpload:e.waitForMediaUpload})),e.mentionProvider&&i.push(Object(oi.a)({createAnalyticsEvent:n,sanitizePrivateContent:e.sanitizePrivateContent,mentionInsertDisplayName:e.mentionInsertDisplayName,useInlineWrapper:r,allowZeroWidthSpaceAfter:!r})),e.emojiProvider&&i.push(Ni({createAnalyticsEvent:n,useInlineWrapper:r,allowZeroWidthSpaceAfter:!r})),e.allowTables){var a=e.allowTables&&"boolean"!=typeof e.allowTables?e.allowTables:{};i.push(Object(Bi.a)({tableOptions:a,breakoutEnabled:"full-page"===e.appearance,allowContextualMenu:!r,fullWidthEnabled:"full-width"===e.appearance,wasFullWidthEnabled:t&&"full-width"===t.appearance,dynamicSizingEnabled:e.allowDynamicTextSizing}))}if((e.allowTasksAndDecisions||e.taskDecisionProvider)&&i.push(Sa(e.allowNestedTasks,o)),e.feedbackInfo&&i.push(Object(ja.a)(e.feedbackInfo)),e.allowHelpDialog&&i.push(Object(Ma.b)(e.legacyImageUploadProvider)),e.saveOnEnter&&i.push(Ia(e.onSave)),e.legacyImageUploadProvider&&(i.push($a()),e.media||i.push(Object(ri.a)({allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1}))),(e.collabEdit||e.collabEditProvider)&&i.push(Ja(e.collabEdit,e.sanitizePrivateContent)),e.maxContentSize&&i.push(Object(Za.a)(e.maxContentSize)),e.allowJiraIssue&&i.push(ss()),e.allowPanel&&i.push(Hs()),e.allowExtension){var s="object"==typeof e.allowExtension?e.allowExtension:{};i.push(Pc({breakoutEnabled:"full-page"===e.appearance&&!1!==s.allowBreakout,stickToolbarToBottom:s.stickToolbarToBottom,extensionHandlers:e.extensionHandlers}))}if(e.macroProvider&&i.push(Object(Mc.a)()),(e.annotationProvider||e.allowConfluenceInlineComment)&&i.push(Gc(e.annotationProvider)),e.allowDate&&i.push(ol()),e.allowTemplatePlaceholders){var c=!0!==e.allowTemplatePlaceholders?e.allowTemplatePlaceholders:{};i.push(Object(il.a)(c))}e.allowLayouts&&i.push(xl("boolean"==typeof e.allowLayouts?void 0:e.allowLayouts)),e.UNSAFE_cards&&i.push(Fl()),e.autoformattingProvider&&i.push(ql());var l=!0;return e.allowStatus&&(l="object"==typeof e.allowStatus&&e.allowStatus.menuDisabled,i.push(Eu({menuDisabled:l,useInlineWrapper:r,allowZeroWidthSpaceAfter:!r}))),e.allowIndentation&&i.push(Ru()),i.push(Pu({allowTables:!!e.allowTables,allowExpand:ei(e),insertMenuItems:e.insertMenuItems,horizontalRuleEnabled:e.allowRule,nativeStatusSupported:!l})),r||i.push(Object(Du.a)()),r&&(i.push(Object(Lu.a)()),i.push(Object(Bu.b)())),!1!==e.autoScrollIntoView&&i.push(Fu()),i}n.d(t,"b",(function(){return Ku})),n.d(t,"a",(function(){return Gu}))},"/NnR":function(e,t,n){"use strict";var r=n("T1Ll").isSpace;e.exports=function(e,t,n,o){var i,a,s,c,l,u,d,p,f,h,m,v,b,g,y,O,w,E,k,x,_=e.lineMax,T=e.bMarks[t]+e.tShift[t],C=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(T++))return!1;if(o)return!0;for(c=f=e.sCount[t]+T-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(T)?(T++,c++,f++,i=!1,O=!0):9===e.src.charCodeAt(T)?(O=!0,(e.bsCount[t]+f)%4==3?(T++,c++,f++,i=!1):i=!0):O=!1,h=[e.bMarks[t]],e.bMarks[t]=T;T<C&&(a=e.src.charCodeAt(T),r(a));)9===a?f+=4-(f+e.bsCount[t]+(i?1:0))%4:f++,T++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(O?1:0),u=T>=C,g=[e.sCount[t]],e.sCount[t]=f-c,y=[e.tShift[t]],e.tShift[t]=T-e.bMarks[t],E=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",x=!1,p=t+1;p<n&&(e.sCount[p]<e.blkIndent&&(x=!0),!((T=e.bMarks[p]+e.tShift[p])>=(C=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(T++)||x){if(u)break;for(w=!1,s=0,l=E.length;s<l;s++)if(E[s](e,p,n,!0)){w=!0;break}if(w){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]=-1}else{for(c=f=e.sCount[p]+T-(e.bMarks[p]+e.tShift[p]),32===e.src.charCodeAt(T)?(T++,c++,f++,i=!1,O=!0):9===e.src.charCodeAt(T)?(O=!0,(e.bsCount[p]+f)%4==3?(T++,c++,f++,i=!1):i=!0):O=!1,h.push(e.bMarks[p]),e.bMarks[p]=T;T<C&&(a=e.src.charCodeAt(T),r(a));)9===a?f+=4-(f+e.bsCount[p]+(i?1:0))%4:f++,T++;u=T>=C,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(O?1:0),g.push(e.sCount[p]),e.sCount[p]=f-c,y.push(e.tShift[p]),e.tShift[p]=T-e.bMarks[p]}for(v=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=d=[t,0],e.md.block.tokenize(e,t,p),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=_,e.parentType=b,d[1]=e.line,s=0;s<y.length;s++)e.bMarks[s+t]=h[s],e.tShift[s+t]=y[s],e.sCount[s+t]=g[s],e.bsCount[s+t]=m[s];return e.blkIndent=v,!0}},"/Xcd":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("D57K"),o=n("I9T1");function i(e){return e.content}function a(e,t,n){void 0===n&&(n=null);for(var s=[],c=0,l=e.childCount;c<l;c++){var u=e.child(c),d=u.isLeaf?t(u,n,c):t(u.copy(a(u.content,t,u)),n,c);d&&(d instanceof o.Fragment?s.push.apply(s,Object(r.__spread)(i(d))):Array.isArray(d)?s.push.apply(s,Object(r.__spread)(d)):s.push(d))}return o.Fragment.fromArray(s)}function s(e,t){var n=a(e.content,t);return new o.Slice(n,e.openStart,e.openEnd)}function c(e,t){for(var n=[],i=0;i<e.childCount;i++){var a=t(e.child(i),i,e);Array.isArray(a)?n.push.apply(n,Object(r.__spread)(a)):n.push(a)}return o.Fragment.fromArray(n)}function l(e,t){for(var n=[],r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof o.Fragment?e:e.content));return n}},"/t9N":function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,s=[],c=t.length;for(n=0;n<c;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&s.push(i.token-1));for(;s.length;){for(r=(n=s.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,s=e.src.charCodeAt(a);if(t)return!1;if(126!==s)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(s),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:s,length:0,jump:n,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},"0+8W":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return g}));var r,o,i,a,s=n("D57K"),c=n("KsTJ"),l=n("RZTm"),u=n("dDc+"),d=n("Rr/J"),p={expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"}},f=Object(l.l)()/2,h=c.default.div(r||(r=Object(s.__makeTemplateObject)(["\n  cursor: pointer;\n  display: flex;\n  color: ",";\n  border-radius: ","px;\n  width: 24px;\n  height: 24px;\n\n  &:hover {\n    background: ",";\n  }\n\n  svg {\n    ","\n    transition: transform 0.2s ",";\n  }\n"],["\n  cursor: pointer;\n  display: flex;\n  color: ",";\n  border-radius: ","px;\n  width: 24px;\n  height: 24px;\n\n  &:hover {\n    background: ",";\n  }\n\n  svg {\n    ","\n    transition: transform 0.2s ",";\n  }\n"])),u.colors.N90,Object(l.l)()/2,u.colors.N30A,(function(e){return e.expanded?"transform: rotate(90deg);":""}),d.v),m=c.default.div(o||(o=Object(s.__makeTemplateObject)(["\n  width: ","px;\n  height: ","px;\n"],["\n  width: ","px;\n  height: ","px;\n"])),3*Object(l.l)(),3*Object(l.l)()),v=Object(c.css)(i||(i=Object(s.__makeTemplateObject)(["\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  border-radius: ","px;\n  min-height: 25px;\n  background: ",";\n  margin: ",";\n\n  transition: background 0.3s ",",\n    border-color 0.3s ",";\n  padding: ","px;\n\n  &:hover {\n    border: 1px solid ",";\n    background: ",";\n  }\n\n  &.ProseMirror-selectednode {\n    border-color: transparent;\n    background: ",";\n    box-shadow: 0 0 0 ","px ",";\n  }\n\n  &.danger {\n    border-color: transparent;\n    background: ",";\n    box-shadow: 0 0 0 ","px ",";\n  }\n\n  td > &:first-child {\n    margin-top: 0;\n  }\n"],["\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  border-radius: ","px;\n  min-height: 25px;\n  background: ",";\n  margin: ",";\n\n  transition: background 0.3s ",",\n    border-color 0.3s ",";\n  padding: ","px;\n\n  &:hover {\n    border: 1px solid ",";\n    background: ",";\n  }\n\n  &.ProseMirror-selectednode {\n    border-color: transparent;\n    background: ",";\n    box-shadow: 0 0 0 ","px ",";\n  }\n\n  &.danger {\n    border-color: transparent;\n    background: ",";\n    box-shadow: 0 0 0 ","px ",";\n  }\n\n  td > &:first-child {\n    margin-top: 0;\n  }\n"])),(function(e){return e.expanded?u.colors.N40A:"transparent"}),f,(function(e){return e.expanded?"rgba(255, 255, 255, 0.6)":"transparent"}),(function(e){return Object(l.l)()/2/Object(l.j)()+"rem "+("expand"===e["data-node-type"]?"-"+d.G+"px":"0")+" 0"}),d.v,d.v,l.l,u.colors.N50A,"rgba(255, 255, 255, 0.6)",u.colors.B50,d.t,d.r,u.colors.R50,d.t,u.colors.R300),b=Object(c.css)(a||(a=Object(s.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){var t=e.expanded;return"\n    padding-top: "+(t?Object(l.l)():0)+"px;\n    padding-right: "+Object(l.l)()+"px;\n    padding-left: "+(4*Object(l.l)()-Object(l.l)()/2)+"px;\n    display: table;\n    display: flow-root;\n\n    "+(t?"":"\n      .expand-content-wrapper, .nestedExpand-content-wrapper {\n        /* We visually hide the content here to preserve the content during copy+paste */\n        width: 100%;\n        display: block;\n        height: 0;\n        overflow: hidden;\n        clip: rect(1px, 1px, 1px, 1px);\n        white-space: nowrap;\n        user-select: none;\n      }\n    ")+"\n    "})),g={TitleInputStyles:"\n  outline: none;\n  border: none;\n  font-size: "+Object(l.j)()+"px;\n  line-height: 1.714;\n  font-weight: normal;\n  color: "+u.colors.N200A+";\n  background: transparent;\n  display: flex;\n  flex: 1;\n  padding: 0 0 0 "+Object(l.l)()/2+"px;\n  width: 100%;\n\n  &::placeholder {\n    opacity: 0.6;\n    color: "+u.colors.N200A+";\n  }\n",TitleContainerStyles:"\n  padding: 0;\n  display: flex;\n  align-items: flex-start;\n  background: none;\n  border: none;\n  font-size: "+Object(l.j)()+"px;\n  width: 100%;\n  color: "+u.colors.N300A+";\n  overflow: hidden;\n  cursor: pointer;\n  // Prevent browser selection being inside the title container\n  user-select: none;\n\n  /* TODO: Fix outline for keyboard navigation */\n  &:focus {\n    outline: 0;\n  }\n",ContainerStyles:v,ContentStyles:b}},"02+/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M10 6h6a1 1 0 0 1 0 2h-6a1 1 0 1 1 0-2zM8 16h6a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorItalicIcon";var c=s;t.default=c},"0Hbo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n("Dsue"),a=n("aGmo"),s=n("I9T1"),c=n("7bKp"),l=n("Ft3U");if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(e){return u.get(e)},o=function(e,t){return u.set(e,t),t}}else{var d=[],p=0;r=function(e){for(var t=0;t<d.length;t+=2)if(d[t]==e)return d[t+1]},o=function(e,t){return 10==p&&(p=0),d[p++]=e,d[p++]=t}}var f=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},h=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function m(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}h.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[t+s]==n;s++)i++;for(var c=1;a<this.height&&this.map[t+this.width*c]==n;c++)a++;return new f(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")},h.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},h.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},h.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(t),c=s.left,l=s.right,u=s.top,d=s.bottom;return new f(Math.min(r,c),Math.min(i,u),Math.max(o,l),Math.max(a,d))},h.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t},h.prototype.positionAt=function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}},h.get=function(e){return r(e)||o(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=e.child(a),c=0;c<s.childCount;c++){var l=s.child(c);a+l.attrs.rowspan>r&&(i+=l.attrs.colspan)}for(var u=0;u<o.childCount;u++){var d=o.child(u);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],s=0,c=t*n;s<c;s++)r[s]=0;for(var l=0,u=0;l<n;l++){var d=e.child(l);u++;for(var p=0;;p++){for(;o<r.length&&0!=r[o];)o++;if(p==d.childCount)break;for(var f=d.child(p),v=f.attrs,b=v.colspan,g=v.rowspan,y=v.colwidth,O=0;O<g;O++){if(O+l>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:g-O});break}for(var w=o+O*t,E=0;E<b;E++){0==r[w+E]?r[w+E]=u:(i||(i=[])).push({type:"collision",row:l,pos:u,n:b-E});var k=y&&y[E];if(k){var x=(w+E)%t*2,_=a[x];null==_||_!=k&&1==a[x+1]?(a[x]=k,a[x+1]=1):_==k&&a[x+1]++}}}o+=b,u+=f.nodeSize}for(var T=(l+1)*t,C=0;o<T;)0==r[o++]&&C++;C&&(i||(i=[])).push({type:"missing",row:l,n:C}),u++}for(var S=new h(t,n,r,i),j=!1,M=0;!j&&M<a.length;M+=2)null!=a[M]&&a[M+1]<n&&(j=!0);j&&function(e,t,n){e.problems||(e.problems=[]);for(var r=0,o={};r<e.map.length;r++){var i=e.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,c=0;c<a.attrs.colspan;c++){var l=(r+c)%e.width,u=t[2*l];null==u||a.attrs.colwidth&&a.attrs.colwidth[c]==u||((s||(s=m(a.attrs)))[c]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(S,a,e);return S}(e))};var v=new i.PluginKey("selectingCells");function b(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function g(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function y(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:b(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-o.nodeSize)}}(t.$head)}function O(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function w(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function E(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function k(e,t,n){var r=e.start(-1),o=h.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function x(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function _(e,t,n){void 0===n&&(n=1);var r=x(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function T(e,t,n){void 0===n&&(n=1);var r=x(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}var C=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=h.get(r),a=t.start(-1),s=o.rectBetween(t.pos-a,n.pos-a),c=t.node(0),l=o.cellsInRect(s).filter((function(e){return e!=n.pos-a}));l.unshift(n.pos-a);var u=l.map((function(e){var t=r.nodeAt(e),n=e+a+1;return new i.SelectionRange(c.resolve(n),c.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(O(r)&&O(o)&&E(r,o)){var a=this.$anchorCell.node(-1)!=r.node(-1);return a&&this.isRowSelection()?t.rowSelection(r,o):a&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return i.TextSelection.between(r,o)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var c=[],l=a*t.width+r.left,u=r.left;u<r.right;u++,l++){var d=t.map[l];if(!o[d]){o[d]=!0;var p=t.findCell(d),f=e.nodeAt(d),m=r.left-p.left,v=p.right-r.right;if(m>0||v>0){var b=f.attrs;m>0&&(b=_(b,0,m)),v>0&&(b=_(b,b.colspan-v,v)),f=p.left<r.left?f.type.createAndFill(b):f.type.create(b,f.content)}if(p.top<r.top||p.bottom>r.bottom){var g=x(f.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));f=p.top<r.top?f.type.createAndFill(g):f.type.create(g,f.content)}c.push(f)}}i.push(e.child(a).copy(s.Fragment.from(c)))}var y=this.isColSelection()&&this.isRowSelection()?e:i;return new s.Slice(s.Fragment.from(y),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=s.Slice.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var a=o[i],c=a.$from,l=a.$to,u=t.mapping.slice(r);t.replace(u.map(c.pos),u.map(l.pos),i?s.Slice.empty:n)}var d=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);d&&t.setSelection(d)},t.prototype.replaceWith=function(e,t){this.replace(e,new s.Slice(s.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=h.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=h.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.top<=a.top?(i.top>0&&(e=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(e=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=h.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=h.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.left<=a.left?(i.left>0&&(e=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(e=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new S(this.$anchorCell.pos,this.$headCell.pos)},t}(i.Selection);C.prototype.visible=!1,i.Selection.jsonID("cell",C);var S=function(e,t){this.anchor=e,this.head=t};function j(e){if(!(e.selection instanceof C))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(a.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),a.DecorationSet.create(e.doc,t)}function M(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in t){var s=t[a].getFromDOM,c=s&&s(e);null!=c&&(i[a]=c)}return i}function A(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function R(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}function N(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;var o=t.firstChild,i=o.type.spec.tableRole,a=o.type.schema,c=[];if("row"==i)for(var l=0;l<t.childCount;l++){var u=t.child(l).content,d=l?0:Math.max(0,n-1),p=l<t.childCount-1?0:Math.max(0,r-1);(d||p)&&(u=I(R(a).row,new s.Slice(u,d,p)).content),c.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;c.push(n||r?I(R(a).row,new s.Slice(t,n,r)).content:t)}return function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],i=o.childCount-1;i>=0;i--)for(var a=o.child(i).attrs,c=a.rowspan,l=a.colspan,u=r;u<r+c;u++)n[u]=(n[u]||0)+l;for(var d=0,p=0;p<n.length;p++)d=Math.max(d,n[p]);for(var f=0;f<n.length;f++)if(f>=t.length&&t.push(s.Fragment.empty),n[f]<d){for(var h=R(e).cell.createAndFill(),m=[],v=n[f];v<d;v++)m.push(h);t[f]=t[f].append(s.Fragment.from(m))}return{height:t.length,width:d,rows:t}}(a,c)}function I(e,t){var n=e.createAndFill();return new c.Transform(n).replace(0,n.content.size,t).doc}function P(e,t,n){var r=e.width,o=e.height,i=e.rows;if(r!=t){for(var a=[],c=[],l=0;l<i.length;l++){for(var u=i[l],d=[],p=a[l]||0,f=0;p<t;f++){var h=u.child(f%u.childCount);p+h.attrs.colspan>t&&(h=h.type.create(_(h.attrs,h.attrs.colspan,p+h.attrs.colspan-t),h.content)),d.push(h),p+=h.attrs.colspan;for(var m=1;m<h.attrs.rowspan;m++)a[l+m]=(a[l+m]||0)+h.attrs.colspan}c.push(s.Fragment.from(d))}i=c,r=t}if(o!=n){for(var v=[],b=0,g=0;b<n;b++,g++){for(var y=[],O=i[g%o],w=0;w<O.childCount;w++){var E=O.child(w);b+E.attrs.rowspan>n&&(E=E.type.create(x(E.attrs,"rowspan",n-E.attrs.rowspan),E.content)),y.push(E)}v.push(s.Fragment.from(y))}i=v,o=n}return{width:r,height:o,rows:i}}function D(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;for(var c=!1,l=o;l<i;l++){var u=a*t.width+l,d=t.map[u];if(t.map[u-t.width]==d){c=!0;var p=n.nodeAt(d),f=t.findCell(d),h=f.top,m=f.left;e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,x(p.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),p.type.createAndFill(x(p.attrs,"rowspan",h+p.attrs.rowspan-a))),l+=p.attrs.colspan-1}}return c}function L(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;for(var c=!1,l=o;l<i;l++){var u=l*t.width+a,d=t.map[u];if(t.map[u-1]==d){c=!0;var p=n.nodeAt(d),f=t.colCount(d),h=e.mapping.slice(s).map(d+r);e.setNodeMarkup(h,null,_(p.attrs,a-f,p.attrs.colspan-(a-f))),e.insert(h+p.nodeSize,p.type.createAndFill(_(p.attrs,0,a-f))),l+=p.attrs.rowspan-1}}return c}function B(e,t,n,r,o){var i=n?e.doc.nodeAt(n-1):e.doc,a=h.get(i),c=r.top,l=r.left,u=l+o.width,d=c+o.height,p=e.tr,f=0;function m(){i=n?p.doc.nodeAt(n-1):p.doc,a=h.get(i),f=p.mapping.maps.length}(function(e,t,n,r,o,i,a){var c,l,u=R(e.doc.type.schema);if(o>t.width)for(var d=0,p=0;d<t.height;d++){var f=n.child(d);p+=f.nodeSize;var h=[],m=void 0;m=null==f.lastChild||f.lastChild.type==u.cell?c||(c=u.cell.createAndFill()):l||(l=u.header_cell.createAndFill());for(var v=t.width;v<o;v++)h.push(m);e.insert(e.mapping.slice(a).map(p-1+r),h)}if(i>t.height){for(var b=[],g=0,y=(t.height-1)*t.width;g<Math.max(t.width,o);g++){var O=!(g>=t.width)&&n.nodeAt(t.map[y+g]).type==u.header_cell;b.push(O?l||(l=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}for(var w=u.row.create(null,s.Fragment.from(b)),E=[],k=t.height;k<i;k++)E.push(w);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),E)}return!(!c&&!l)})(p,a,i,n,u,d,f)&&m(),D(p,a,i,n,l,u,c,f)&&m(),D(p,a,i,n,l,u,d,f)&&m(),L(p,a,i,n,c,d,l,f)&&m(),L(p,a,i,n,c,d,u,f)&&m();for(var v=c;v<d;v++){var b=a.positionAt(v,l,i),g=a.positionAt(v,u,i);p.replace(p.mapping.slice(f).map(b+n),p.mapping.slice(f).map(g+n),new s.Slice(o.rows[v-c],0,0))}m(),p.setSelection(new C(p.doc.resolve(n+a.positionAt(c,l,i)),p.doc.resolve(n+a.positionAt(d-1,u-1,i)))),t(p)}S.prototype.map=function(e){return new S(e.map(this.anchor),e.map(this.head))},S.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&E(t,n)?new C(t,n):i.Selection.near(n,1)};var z=l.keydownHandler({ArrowLeft:F("horiz",-1),ArrowRight:F("horiz",1),ArrowUp:F("vert",-1),ArrowDown:F("vert",1),"Shift-ArrowLeft":U("horiz",-1),"Shift-ArrowRight":U("horiz",1),"Shift-ArrowUp":U("vert",-1),"Shift-ArrowDown":U("vert",1),Backspace:W,"Mod-Backspace":W,Delete:W,"Mod-Delete":W});function H(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function F(e,t){return function(n,r,o){var a=n.selection;if(a instanceof C)return H(n,r,i.Selection.near(a.$headCell,t));if("horiz"!=e&&!a.empty)return!1;var s=q(o,e,t);if(null==s)return!1;if("horiz"==e)return H(n,r,i.Selection.near(n.doc.resolve(a.head+t),t));var c,l=n.doc.resolve(s),u=k(l,e,t);return c=u?i.Selection.near(u,1):t<0?i.Selection.near(n.doc.resolve(l.before(-1)),-1):i.Selection.near(n.doc.resolve(l.after(-1)),1),H(n,r,c)}}function U(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof C)){var a=q(o,e,t);if(null==a)return!1;i=new C(n.doc.resolve(a))}var s=k(i.$headCell,e,t);return!!s&&H(n,r,new C(i.$anchorCell,s))}}function W(e,t){var n=e.selection;if(!(n instanceof C))return!1;if(t){var r=e.tr,o=R(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new s.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function K(e,t){var n=b(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new C(n))),!0)}function V(e,t,n){if(!g(e.state))return!1;var r=N(n),o=e.state.selection;if(o instanceof C){r||(r={width:1,height:1,rows:[s.Fragment.from(I(R(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),c=h.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=P(r,c.right-c.left,c.bottom-c.top),B(e.state,e.dispatch,a,c,r),!0}if(r){var l=y(e.state),u=l.start(-1);return B(e.state,e.dispatch,u,h.get(l.node(-1)).findCell(l.pos-u),r),!0}return!1}function G(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=$(e,t.target);if(t.shiftKey&&e.state.selection instanceof C)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=b(e.state.selection.$anchor))&&Y(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function o(t,n){var r=Y(e,n),o=null==v.getState(e.state);if(!r||!E(t,r)){if(!o)return;r=t}var i=new C(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(v,t.pos),e.dispatch(a)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),null!=v.getState(e.state)&&e.dispatch(e.state.tr.setMeta(v,-1))}function a(n){var a,s=v.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if($(e,n.target)!=r&&!(a=Y(e,t)))return i();a&&o(a,n)}}function q(e,t,n){if(!(e.state.selection instanceof i.TextSelection))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var a=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var s=r.before(o),c="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?s:null}}return null}function $(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function Y(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?b(e.state.doc.resolve(n.pos)):null}var X=new i.PluginKey("fix-tables");function J(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){var o=h.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,a,s=[],c=0;c<o.height;c++)s.push(0);for(var l=0;l<o.problems.length;l++){var u=o.problems[l];if("collision"==u.type){for(var d=t.nodeAt(u.pos),p=0;p<d.attrs.rowspan;p++)s[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,_(d.attrs,d.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,x(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var m=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,x(m.attrs,"colwidth",u.colwidth))}}for(var v=0;v<s.length;v++)s[v]&&(null==i&&(i=v),a=v);for(var b=0,g=n+1;b<o.height;b++){var y=t.child(b),O=g+y.nodeSize,w=s[b];if(w>0){var E="cell";y.firstChild&&(E=y.firstChild.type.spec.tableRole);for(var k=[],T=0;T<w;T++)k.push(R(e.schema)[E].createAndFill());var C=0!=b&&i!=b-1||a!=b?O-1:g+1;r.insert(r.mapping.map(C),k)}g=O}return r.setMeta(X,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&function e(t,n,r,o){var i=t.childCount,a=n.childCount;e:for(var s=0,c=0;s<a;s++){for(var l=n.child(s),u=c,d=Math.min(i,s+3);u<d;u++)if(t.child(u)==l){c=u+1,r+=l.nodeSize;continue e}o(l,r),c<i&&t.child(c).sameMarkup(l)?e(t.child(c),l,r+1,o):l.nodesBetween(0,l.content.size,o,r+1),r+=l.nodeSize}}(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Z(e){var t,n=e.selection,r=y(e),o=r.node(-1),i=r.start(-1),a=h.get(o);return(t=n instanceof C?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i)).tableStart=i,t.map=a,t.table=o,t}function Q(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;(function(e,t,n){for(var r=R(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0})(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var c=s*r.width+n;if(n>0&&n<r.width&&r.map[c-1]==r.map[c]){var l=r.map[c],u=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(o+l),null,T(u.attrs,n-r.colCount(l))),s+=u.attrs.rowspan-1}else{var d=null==a?R(i.type.schema).cell:i.nodeAt(r.map[c+a]).type,p=r.positionAt(s,n,i);e.insert(e.mapping.map(o+p),d.createAndFill())}}return e}function ee(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<r.height;){var c=s*r.width+n,l=r.map[c],u=o.nodeAt(l);if(n>0&&r.map[c-1]==l||n<r.width-1&&r.map[c+1]==l)e.setNodeMarkup(e.mapping.slice(a).map(i+l),null,_(u.attrs,n-r.colCount(l)));else{var d=e.mapping.slice(a).map(i+l);e.delete(d,d+u.nodeSize)}s+=u.attrs.rowspan}}function te(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var c=[],l=n>0?-1:0;(function(e,t,n){for(var r=R(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0})(r,i,n+l)&&(l=0==n||n==r.height?null:0);for(var u=0,d=r.width*n;u<r.width;u++,d++)if(n>0&&n<r.height&&r.map[d]==r.map[d-r.width]){var p=r.map[d],f=i.nodeAt(p).attrs;e.setNodeMarkup(o+p,null,x(f,"rowspan",f.rowspan+1)),u+=f.colspan-1}else{var h=null==l?R(i.type.schema).cell:i.nodeAt(r.map[d+l*r.width]).type;c.push(h.createAndFill())}return e.insert(a,R(i.type.schema).row.create(null,c)),e}function ne(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var c=a+o.child(n).nodeSize,l=e.mapping.maps.length;e.delete(a+i,c+i);for(var u=0,d=n*r.width;u<r.width;u++,d++){var p=r.map[d];if(n>0&&p==r.map[d-r.width]){var f=o.nodeAt(p).attrs;e.setNodeMarkup(e.mapping.slice(l).map(p+i),null,x(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&p==r.map[d+r.width]){var h=o.nodeAt(p),m=h.type.create(x(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),v=r.positionAt(n+1,u,o);e.insert(e.mapping.slice(l).map(i+v),m),u+=h.attrs.colspan-1}}}function re(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function oe(e){return function(t,n){var r,o,i=t.selection;if(i instanceof C){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;o=b(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],c=a.colwidth;a.rowspan>1&&(a=x(a,"rowspan",1)),a.colspan>1&&(a=x(a,"colspan",1));for(var l,u=Z(t),d=t.tr,p=0;p<u.right-u.left;p++)s.push(c?x(a,"colwidth",c&&c[p]?[c[p]]:null):a);for(var f=u.top;f<u.bottom;f++){var h=u.map.positionAt(f,u.left,u.table);f==u.top&&(h+=r.nodeSize);for(var m=u.left,v=0;m<u.right;m++,v++)m==u.left&&f==u.top||d.insert(l=d.mapping.map(h+u.tableStart,1),e({node:r,row:f,col:m}).createAndFill(s[v]))}d.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),s[0]),i instanceof C&&d.setSelection(new C(d.doc.resolve(i.$anchorCell.pos),l&&d.doc.resolve(l))),n(d)}return!0}}function ie(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function ae(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!g(t))return!1;if(n){for(var r=R(t.schema),o=Z(t),i=t.tr,a=o.map.cellsInRect("column"==e?new f(o.left,0,o.right,o.map.height):"row"==e?new f(0,o.top,o.map.width,o.bottom):o),s=a.map((function(e){return o.table.nodeAt(e)})),c=0;c<a.length;c++)s[c].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[c],r.cell,s[c].attrs);if(0==i.steps.length)for(var l=0;l<a.length;l++)i.setNodeMarkup(o.tableStart+a[l],r.header_cell,s[l].attrs);n(i)}return!0}}(e):function(t,n){if(!g(t))return!1;if(n){var r=R(t.schema),o=Z(t),i=t.tr,a=ie("row",o,r),s=ie("column",o,r),c=("column"===e?a:"row"===e&&s)?1:0,l="column"==e?new f(0,c,1,o.map.height):"row"==e?new f(c,0,o.map.width,1):o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(l).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)})),n(i)}return!0}}var se=ae("row",{useDeprecatedLogic:!0}),ce=ae("column",{useDeprecatedLogic:!0}),le=ae("cell",{useDeprecatedLogic:!0});var ue=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),de(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function de(e,t,n,r,o,i){for(var a=0,s=!0,c=t.firstChild,l=e.firstChild,u=0,d=0;u<l.childCount;u++)for(var p=l.child(u).attrs,f=p.colspan,h=p.colwidth,m=0;m<f;m++,d++){var v=o==d?i:h&&h[m],b=v?v+"px":"";a+=v||r,v||(s=!1),c?(c.style.width!=b&&(c.style.width=b),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=b}for(;c;){var g=c.nextSibling;c.parentNode.removeChild(c),c=g}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}ue.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,de(e,this.colgroup,this.table,this.cellMinWidth),!0)},ue.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var pe=new i.PluginKey("tableColumnResizing");var fe=function(e,t){this.activeHandle=e,this.dragging=t};function he(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY}).pos,o=b(e.state.doc.resolve(r));if(!o)return-1;if("right"==n)return o.pos;var i=h.get(o.node(-1)),a=o.start(-1),s=i.map.indexOf(o.pos-a);return s%i.width==0?-1:a+i.map[s-1]}function me(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function ve(e,t){e.dispatch(e.state.tr.setMeta(pe,{setHandle:t}))}function be(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}fe.prototype.apply=function(e){var t=this,n=e.getMeta(pe);if(n&&null!=n.setHandle)return new fe(n.setHandle,null);if(n&&void 0!==n.setDragging)return new fe(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);O(e.doc.resolve(r))||(r=null),t=new fe(r,t.dragging)}return t},t.tableEditing=function(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new i.Plugin({key:v,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(v);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:j,handleDOMEvents:{mousedown:G},createSelectionBetween:function(e){if(null!=v.getState(e.state))return e.state.selection},handleTripleClick:K,handleKeyDown:z,handlePaste:V},appendTransaction:function(e,n,r){return function(e,t,n){var r,o,a=(t||e).selection,s=(t||e).doc;if(a instanceof i.NodeSelection&&(o=a.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=C.create(s,a.from);else if("row"==o){var c=s.resolve(a.from+1);r=C.rowSelection(c,c)}else if(!n){var l=h.get(a.node),u=a.from+1,d=u+l.map[l.width*l.height-1];r=C.create(s,u+1,d)}}else a instanceof i.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(a)?r=i.TextSelection.create(s,a.from):a instanceof i.TextSelection&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=o.depth;s>0;s--){var c=o.node(s);if("cell"===c.type.spec.tableRole||"header_cell"===c.type.spec.tableRole){n=c;break}}return t!==n&&0===o.parentOffset}(a)&&(r=i.TextSelection.create(s,a.$from.start(),a.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}(r,J(r,n),t)}})},t.fixTables=J,t.handlePaste=V,t.fixTablesKey=X,t.tableEditingKey=v,t.cellAround=b,t.isInTable=g,t.selectionCell=y,t.moveCellForward=w,t.inSameTable=E,t.findCell=function(e){return h.get(e.node(-1)).findCell(e.pos-e.start(-1))},t.colCount=function(e){return h.get(e.node(-1)).colCount(e.pos-e.start(-1))},t.nextCell=k,t.tableNodes=function(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return M(e,t)}}],toDOM:function(e){return["td",A(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return M(e,t)}}],toDOM:function(e){return["th",A(e,t),0]}}}},t.CellSelection=C,t.TableMap=h,t.columnResizing=function(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=ue);var o=e.lastColumnResizable;return void 0===o&&(o=!0),new i.Plugin({key:pe,state:{init:function(e,t){return this.spec.props.nodeViews[R(t.schema).table.name]=function(e,t){return new r(e,n,t)},new fe(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return pe.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,r,o){var i=pe.getState(e.state);if(!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var c=a.getBoundingClientRect(),l=c.left,u=c.right;t.clientX-l<=n?s=he(e,t,"left"):u-t.clientX<=n&&(s=he(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var d=e.state.doc.resolve(s),p=d.node(-1),f=h.get(p),m=d.start(-1);if(f.colCount(d.pos-m)+d.nodeAfter.attrs.colspan-1==f.width-1)return}ve(e,s)}}}(e,n,t,0,o)},mouseleave:function(e){!function(e){var t=pe.getState(e.state);t.activeHandle>-1&&!t.dragging&&ve(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var r=pe.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,c=r;if(o)for(var l=0;l<r;l++)o[l]&&(s-=o[l],c--);return s/c}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=pe.getState(e.state);r.dragging&&(!function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=h.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=e.state.tr,l=0;l<i.height;l++){var u=l*i.width+s;if(!l||i.map[u]!=i.map[u-i.width]){var d=i.map[u],p=o.nodeAt(d).attrs,f=1==p.colspan?0:s-i.colCount(d);if(!p.colwidth||p.colwidth[f]!=n){var m=p.colwidth?p.colwidth.slice():be(p.colspan);m[f]=n,c.setNodeMarkup(a+d,null,x(p,"colwidth",m))}}}c.docChanged&&e.dispatch(c)}(e,r.activeHandle,me(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(pe,{setDragging:null})))}function s(t){if(!t.which)return a(t);var r=pe.getState(e.state),o=me(r.dragging,t,n);!function(e,t,n,r){var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=h.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=e.domAtPos(o.start(-1)).node;for(;"TABLE"!=c.nodeName;)c=c.parentNode;de(i,c.firstChild,c,r,s,n)}(e,r.activeHandle,o,n)}e.dispatch(e.state.tr.setMeta(pe,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=pe.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=h.get(o),s=r.start(-1),c=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var u=c+l*i.width-1;if(!(c!=i.width&&i.map[u]==i.map[u+1]||0!=l&&i.map[u-1]==i.map[u-1-i.width])){var d=i.map[u],p=s+d+o.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(a.Decoration.widget(p,f))}}return a.DecorationSet.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})},t.columnResizingPluginKey=pe,t.updateColumnsOnResize=de,t.__pastedCells=N,t.__insertCells=B,t.__clipCells=P,t.addColumn=Q,t.addColumnBefore=function(e,t){if(!g(e))return!1;if(t){var n=Z(e);t(Q(e.tr,n,n.left))}return!0},t.addColumnAfter=function(e,t){if(!g(e))return!1;if(t){var n=Z(e);t(Q(e.tr,n,n.right))}return!0},t.removeColumn=ee,t.deleteColumn=function(e,t){if(!g(e))return!1;if(t){var n=Z(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;ee(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=h.get(n.table);t(r)}return!0},t.addRow=te,t.addRowBefore=function(e,t){if(!g(e))return!1;if(t){var n=Z(e);t(te(e.tr,n,n.top))}return!0},t.addRowAfter=function(e,t){if(!g(e))return!1;if(t){var n=Z(e);t(te(e.tr,n,n.bottom))}return!0},t.removeRow=ne,t.deleteRow=function(e,t){if(!g(e))return!1;if(t){var n=Z(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;ne(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=h.get(n.table);t(r)}return!0},t.mergeCells=function(e,t){var n=e.selection;if(!(n instanceof C)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=Z(e),o=r.map;if(function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&o[a]==o[a-1]||t.right<n&&o[c]==o[c+1])return!0;a+=n,c+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}(o,r))return!1;if(t){for(var i,a,c=e.tr,l={},u=s.Fragment.empty,d=r.top;d<r.bottom;d++)for(var p=r.left;p<r.right;p++){var f=o.map[d*o.width+p],h=r.table.nodeAt(f);if(!l[f])if(l[f]=!0,null==i)i=f,a=h;else{re(h)||(u=u.append(h.content));var m=c.mapping.map(f+r.tableStart);c.delete(m,m+h.nodeSize)}}if(c.setNodeMarkup(i+r.tableStart,null,x(T(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var v=i+1+a.content.size,b=re(a)?i+1:v;c.replaceWith(b+r.tableStart,v+r.tableStart,u)}c.setSelection(new C(c.doc.resolve(i+r.tableStart))),t(c)}return!0},t.splitCell=function(e,t){var n=R(e.schema);return oe((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)},t.splitCellWithType=oe,t.setCellAttr=function(e,t){return function(n,r){if(!g(n))return!1;var o=y(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof C?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,x(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,x(o.nodeAfter.attrs,e,t)),r(i)}return!0}},t.toggleHeader=ae,t.toggleHeaderRow=se,t.toggleHeaderColumn=ce,t.toggleHeaderCell=le,t.goToNextCell=function(e){return function(t,n){if(!g(t))return!1;var r=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),c=e.after();s<a.childCount;s++){var l=a.child(s);if(l.childCount)return c+1;c+=l.nodeSize}}}(y(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(i.TextSelection.between(o,w(o))).scrollIntoView())}return!0}}},t.deleteTable=function(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}},"0OuX":function(e,t,n){"use strict";var r,o,i,a=n("ERkP"),s=n.n(a),c=n("r84s"),l=n("XoQQ"),u=n("MVoQ"),d=n("D57K"),p=n("L21V"),f=n("PLaw"),h=n.n(f),m=n("Rr/J"),v=n("/sMe"),b=n("s3oS"),g=n.n(b),y=n("N01o"),O=n("jwaM"),w=n("9O50"),E=n("cvKH"),k=n("jERE"),x=n("VN5P"),_=n("4KTy"),T=n.n(_),C=function(){return s.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"}))},S=function(){return s.a.createElement(T.a,{glyph:C,label:"Text color icon"})},j=n("KsTJ"),M=n("RZTm"),A=n("dDc+"),R=j.default.div(r||(r=Object(d.__makeTemplateObject)(["\n  display: flex;\n  margin-top: ","px;\n  padding: ","px;\n  padding-bottom: 0;\n  border-top: 1px solid #dfe1e6;\n\n  > button {\n    flex-grow: 1;\n  }\n"],["\n  display: flex;\n  margin-top: ","px;\n  padding: ","px;\n  padding-bottom: 0;\n  border-top: 1px solid #dfe1e6;\n\n  > button {\n    flex-grow: 1;\n  }\n"])),Object(M.l)()/2,Object(M.l)()/2),N=j.default.div(o||(o=Object(d.__makeTemplateObject)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),I=j.default.div(i||(i=Object(d.__makeTemplateObject)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n\n  ",";\n"],["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n\n  ",";\n"])),Object(M.f)()+"px",(function(e){var t=e.gradientColors,n=e.selectedColor;return n?"background: "+n:"background: "+t})),P=function(e){return"\n    linear-gradient(\n      to right,\n      "+e.map((function(t,n){var r=100/e.length,o=n+1;return 0===n?t+" "+o*r+"%,":n===e.length-1?t+" "+(o-1)*r+"%":"\n            "+t+" "+(o-1)*r+"%,\n            "+t+" "+o*r+"%,\n          "})).join("\n")+"\n    );\n    "},D=P([A.colors.P300,A.colors.T300,A.colors.Y400,A.colors.R400]),L=P([A.colors.N80,A.colors.N60,A.colors.N40,A.colors.N60]),B=n("A+BJ"),z=n("WlQb"),H=Object(p.g)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""},moreColors:{id:"fabric.editor.textColor.moreColors",defaultMessage:"More colors",description:"More colors"},lessColors:{id:"fabric.editor.textColor.lessColors",defaultMessage:"Less colors",description:"Less colors"}}),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,isShowingMoreColors:!1},t.changeColor=function(e){return x.a(e)(t.props.editorView.state,t.props.editorView.dispatch)},t.changeTextColor=Object(O.a)("atlassian.editor.format.textcolor.button",(function(e,n){if(!n){var r=t.props.pluginState,o=r.palette,i=r.paletteExpanded,a=r.defaultColor,s=t.state.isShowingMoreColors,c=(i||o).find((function(t){return t.value===e})),l=e!==a&&!z.b.some((function(t){return t.value===e}));return t.dispatchAnalyticsEvent(t.buildExperimentalAnalyticsSelectColor({color:(c?c.label:e).toLowerCase(),isShowingMoreColors:s,isNewColor:l})),t.handleOpenChange({isOpen:!1,logCloseEvent:!1}),t.changeColor(e)}return!1})),t.toggleOpen=function(){t.handleOpenChange({isOpen:!t.state.isOpen,logCloseEvent:!0})},t.handleOpenChange=function(e){var n=e.isOpen,r=e.logCloseEvent,o=t.props.pluginState,i=o.palette,a=o.color,s=t.state.isShowingMoreColors,c=!i.find((function(e){return e.value===a}));t.setState({isOpen:n,isShowingMoreColors:c||s}),r&&t.dispatchAnalyticsEvent(t.buildExperimentalAnalyticsPalette(n?y.a.OPENED:y.a.CLOSED,{isShowingMoreColors:c||s,noSelect:!1===n}))},t.hide=function(){var e=t.state,n=e.isOpen,r=e.isShowingMoreColors;!0===n&&(t.dispatchAnalyticsEvent(t.buildExperimentalAnalyticsPalette(y.a.CLOSED,{isShowingMoreColors:r,noSelect:!0})),t.setState({isOpen:!1}))},t.handleShowMoreToggle=function(){t.setState((function(e){return t.dispatchAnalyticsEvent(t.buildExperimentalAnalyticsShowMore(e.isShowingMoreColors?y.a.CLOSED:y.a.OPENED,{showMoreButton:!e.isShowingMoreColors,showLessButton:e.isShowingMoreColors})),{isShowingMoreColors:!e.isShowingMoreColors}}))},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.isOpen,r=t.isShowingMoreColors,o=this.props,i=o.popupsMountPoint,s=o.popupsBoundariesElement,c=o.popupsScrollableElement,l=o.isReducedSpacing,u=o.pluginState,d=o.pluginState.paletteExpanded,p=o.intl.formatMessage,f=o.showMoreColorsToggle,b=p(H.textColor),y=r&&d?d:u.palette;return a.createElement(B.e,null,a.createElement(k.a,{mountTo:i,boundariesElement:s,scrollableElement:c,isOpen:n&&!u.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:242,fitHeight:80,zIndex:m.p,trigger:a.createElement(w.a,{spacing:l?"none":"default",disabled:u.disabled,selected:n,"aria-label":b,title:b,onClick:this.toggleOpen,iconBefore:a.createElement(B.h,null,a.createElement(N,null,a.createElement(S,null),a.createElement(I,{selectedColor:u.color!==u.defaultColor&&u.color,gradientColors:u.disabled?L:D})),a.createElement(B.d,null,a.createElement(h.a,{label:b})))})},a.createElement(E.a,{palette:y,onClick:function(t){return e.changeTextColor(t,u.disabled)},selectedColor:u.color}),f&&a.createElement(R,null,a.createElement(v.a,{appearance:"subtle",onClick:this.handleShowMoreToggle,iconBefore:a.createElement(g.a,{label:""})},p(r?H.lessColors:H.moreColors)))),a.createElement(B.f,null))},t.prototype.getCommonExperimentalAnalyticsAttributes=function(){return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:this.props.showMoreColorsToggle?"subject":"control"}},t.prototype.buildExperimentalAnalyticsPalette=function(e,t){return{action:e,actionSubject:y.b.TOOLBAR,actionSubjectId:y.c.FORMAT_COLOR,eventType:y.d.TRACK,attributes:Object(d.__assign)(Object(d.__assign)({},this.getCommonExperimentalAnalyticsAttributes()),t)}},t.prototype.buildExperimentalAnalyticsShowMore=function(e,t){return{action:e,actionSubject:y.b.TOOLBAR,actionSubjectId:y.c.FORMAT_COLOR,eventType:y.d.TRACK,attributes:Object(d.__assign)(Object(d.__assign)({},this.getCommonExperimentalAnalyticsAttributes()),t)}},t.prototype.buildExperimentalAnalyticsSelectColor=function(e){return{action:y.a.FORMATTED,actionSubject:y.b.TEXT,actionSubjectId:y.c.FORMAT_COLOR,eventType:y.d.TRACK,attributes:Object(d.__assign)(Object(d.__assign)({},this.getCommonExperimentalAnalyticsAttributes()),e)}},t.prototype.dispatchAnalyticsEvent=function(e){var t=this.props.dispatchAnalyticsEvent;t&&t(e)},t}(a.Component),U=Object(p.h)(F),W=function(e){if(e&&"boolean"!=typeof e)return e};t.a=function(e){return{name:"textColor",marks:function(){return[{name:"textColor",mark:c.c}]},pmPlugins:function(){return[{name:"textColor",plugin:function(t){var n=t.dispatch;return Object(u.c)(n,W(e))}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,i=t.popupsScrollableElement,s=t.isToolbarReducedSpacing,c=t.dispatchAnalyticsEvent,d=W(e),p=d&&d.EXPERIMENTAL_allowMoreTextColors;return a.createElement(l.a,{plugins:{textColor:u.d},render:function(e){var t=e.textColor;return a.createElement(U,{pluginState:t,isReducedSpacing:s,editorView:n,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:i,showMoreColorsToggle:p,dispatchAnalyticsEvent:c})}})}}}},"0dje":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12.654 8.764a.858.858 0 0 1-1.213-1.213l1.214-1.214a3.717 3.717 0 0 1 5.257 0 3.714 3.714 0 0 1 .001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 0 1-5.263.005.858.858 0 0 1 1.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 0 0-.001-2.831 2 2 0 0 0-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 0 1 1.213 1.213l-1.214 1.214a3.717 3.717 0 0 1-5.257 0 3.714 3.714 0 0 1-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 0 1 5.263-.005.858.858 0 0 1-1.214 1.214 2.005 2.005 0 0 0-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 0 0 .001 2.831 2 2 0 0 0 2.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e))};s.displayName="EditorLinkIcon";var c=s;t.default=c},1798:function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},"17eC":function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("7nmT"),a=n("U6Bd"),s=n("Rr/J"),c=n("hdUu"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={overflowScrollParent:!1,validPosition:!0},t.placement=["",""],t.handleRef=function(e){e&&t.initPopup(e)},t.scheduledUpdatePosition=Object(a.a)((function(e){return t.updatePosition(e)})),t.onResize=function(){return t.scheduledUpdatePosition()},t}return Object(r.__extends)(t,e),t.prototype.updatePosition=function(e,t){void 0===e&&(e=this.props),void 0===t&&(t=this.state);var n=e.target,r=e.fitHeight,o=e.fitWidth,i=e.boundariesElement,a=e.offset,s=e.onPositionCalculated,l=e.onPlacementChanged,u=e.alignX,d=e.alignY,p=e.stick,f=e.forcePlacement,h=e.allowOutOfBounds,m=e.rect,v=t.popup;if(n&&v){var b=Object(c.a)(n,i||document.body,o,r,u,d,f);l&&this.placement.join("")!==b.join("")&&(l(b),this.placement=b);var g=Object(c.b)({placement:b,popup:v,target:n,stick:p,offset:a,allowOutOfBounds:h,rect:m});g=s?s(g):g,this.setState({position:g,validPosition:Object(c.d)(n)})}},t.prototype.cannotSetPopup=function(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)},t.prototype.initPopup=function(e){var t=this.props.target,n=Object(c.c)(e);this.cannotSetPopup(e,t,n)||this.setState({popup:e,overflowScrollParent:n},this.scheduledUpdatePosition)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.scheduledUpdatePosition(e)},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize);var e=this.props.stick;this.scrollElement=e?Object(c.c)(this.props.target):this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scheduledUpdatePosition.cancel()},t.prototype.renderPopup=function(){var e=this.state.position,t=this.props.shouldRenderPopup;return t&&!t(e||{})?null:o.createElement("div",{ref:this.handleRef,style:Object(r.__assign)({position:"absolute",zIndex:this.props.zIndex||s.i},e),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)},t.prototype.render=function(){var e=this.props,t=e.target,n=e.mountTo,r=this.state.validPosition;return t&&r?n?Object(i.createPortal)(this.renderPopup(),n):this.renderPopup():null},t.defaultProps={offset:[0,0],allowOutOfBound:!1},t}(o.Component);t.a=l},"1ioG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 0 1 0-1.407 1.01 1.01 0 0 1 1.419 0l2.965 2.94a1.09 1.09 0 0 1 0 1.548l-2.955 2.93a1.01 1.01 0 0 1-1.42 0 .988.988 0 0 1 0-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e))};s.displayName="ChevronRightCircleIcon";var c=s;t.default=c},"20jC":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},"238x":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("L21V"),o=Object(r.g)({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste link or search recently viewed",description:"Paste link or search recently viewed"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"}});t.a=Object(r.g)({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"}})},"25wM":function(e,t,n){"use strict";n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"b",(function(){return w}));var r=n("D57K"),o=n("I9T1"),i=n("Dsue"),a=n("0Hbo"),s=n("kbCE"),c=n("fjMk"),l=n("N01o");function u(){return function(){return!0}}var d=Object(c.e)({action:l.a.INSERTED,actionSubject:l.b.TEXT,actionSubjectId:l.c.LINE_BREAK,eventType:l.d.TRACK})((function(e,t){var n=e.selection.$from.parent,r=e.schema.nodes.hardBreak;if(r){var a=r.createChecked();if(n&&n.type.validContent(o.Fragment.from(a)))return t&&t(e.tr.replaceSelectionWith(a,!1)),!0}return e.selection instanceof i.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)}));function p(){return function(e,t){var n=e.selection.to,r=e.schema.nodes.rule;if(r){var o=r.create();return t&&t(e.tr.insert(n+1,o)),!0}return!1}}var f=function(e,t){return!(Object(s.h)(e)||!m(e))&&(v(!1)(e,t),!0)},h=function(e,t){return!(Object(s.g)(e)||!m(e))&&(v(!0)(e,t),!0)};function m(e){var t=e.selection.$from,n=t.node(t.depth),r=!!n&&n.type===e.schema.nodes.codeBlock,o=e.selection instanceof i.NodeSelection;return t.depth>1||o||r}function v(e){return void 0===e&&(e=!0),function(t,n){var r,o=t.schema.nodes.paragraph;if(!o)return!1;if(t.selection instanceof i.TextSelection){if(function(e){var t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}(t))return!1;r=function(e,t){var n,r=e.selection,o=r.$from,i=r.$to;n=t?i.end(0):o.start(0);return n}(t,e)}else r=function(e,t){var n,r=e.selection,o=r.$from,a=r.$to,s=e.selection instanceof i.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),c=s&&"mediaGroup"===s.type.name;t?(n=a.end(a.depth),n=a.depth>0&&!c?n+1:n):(n=o.start(o.depth),n=o.depth>0&&!c?n-1:n);return n}(t,e);var a=t.tr.insert(r,o.createAndFill());return a.setSelection(i.TextSelection.create(a.doc,r+1)),n&&n(a),!0}}function b(){return function(e,t){var n=e.doc,r=e.tr,o=e.schema.nodes;return!n.lastChild||n.lastChild.type===o.paragraph&&0===n.lastChild.content.size||r.insert(n.content.size,o.paragraph.createAndFill()),r.setSelection(i.TextSelection.create(r.doc,r.doc.content.size-1)),r.scrollIntoView(),t&&t(r),!0}}var g=function(e){return function(t,n){var o=t.selection,i=o.from,a=o.to,s=t.tr;return t.doc.nodesBetween(i,a,(function(n,o){n.type===t.schema.nodes.mediaSingle&&s.setNodeMarkup(o,void 0,Object(r.__assign)(Object(r.__assign)({},n.attrs),{layout:"center"===e?"center":"align-"+e}))})),!(!s.docChanged||!n)&&(n(s.scrollIntoView()),!0)}},y=function(e,t,n){return function(r,o,i,a){var s=!1;return a.doc.nodesBetween(r,o,(function(r,o,c){if(!r.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(r.type)>-1:n(a.schema,r,c)))&&c.type.allowsMarkType(e)){var l=r.marks.filter((function(t){return t.type===e})),u=l.length?l[0].attrs:void 0,d=t(u,r);void 0!==d&&(i.setNodeMarkup(o,r.type,r.attrs,r.marks.filter((function(t){return!e.excludes(t.type)})).concat(!1===d?[]:e.create(d))),s=!0)}})),s}},O=function(e,t,n){return function(r,o){var i=!1,s=r.tr,c=y(e,t,n);if(r.selection instanceof a.CellSelection)r.selection.forEachCell((function(e,t){i=c(t,t+e.nodeSize,s,r)}));else{var l=r.selection,u=l.from,d=l.to;i=c(u,d,s,r)}return!(!i||!s.docChanged)&&(o&&o(s.scrollIntoView()),!0)}},w=function(e,t){var n=e.tr;return n.replace(0,e.doc.nodeSize-2),n.setSelection(i.Selection.atStart(n.doc)),!!t&&(t(n),!0)}},"2B38":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r,o=n("aGmo"),i=n("Dsue"),a=n("m23B"),s=new i.PluginKey("decorationPlugin");!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(r||(r={}));var c=function(e,t,n){return void 0===n&&(n="danger"),function(c,l){var u,d;if(c.selection instanceof i.NodeSelection){if(u=c.selection.node,(Array.isArray(e)?e:[e]).indexOf(u.type)<0)return!1;d=c.selection.from}else{var p=Object(a.findParentNodeOfType)(e)(c.selection);if(!p)return!1;d=p.pos,u=p.node}return!!u&&(l&&l(c.tr.setMeta(s,{action:t?r.DECORATION_ADD:r.DECORATION_REMOVE,data:o.Decoration.node(d,d+u.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)}};t.a=function(){return new i.Plugin({key:s,state:{init:function(){return{decoration:void 0}},apply:function(e,t){t.decoration&&(e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0}));var n=e.getMeta(s);if(!n)return t;switch(n.action){case r.DECORATION_ADD:return{decoration:n.data};case r.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations:function(e){var t=e.doc,n=s.getState(e).decoration;return n?o.DecorationSet.create(t,[n]):null}}})}},"2Hc1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("m23B"),o=n("0Hbo"),i=function(e){var t=Object(r.findTable)(e.selection);if(!t)return[];var n=o.TableMap.get(t.node),i=new Set,a=[];return n.map.forEach((function(e){i.has(e)?a.push(e):i.add(e)})),a}},"2PCG":function(e,t,n){"use strict";function r(e){var t,n,r,o=e.clipboardData;return!!o&&(t=o.types,n="Files",!(r=t).indexOf&&r.contains?t.contains(n):t.indexOf(n)>-1)}n.d(t,"a",(function(){return r}))},"2d0V":function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,s,c,l,u,d=!1,p=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(c=p,(i=(p=e.skipChars(p,o))-c)<3)return!1;if(u=e.src.slice(c,p),a=e.src.slice(p,f),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(s=t;!(++s>=n)&&!((p=c=e.bMarks[s]+e.tShift[s])<(f=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[s]-e.blkIndent>=4||(p=e.skipChars(p,o))-c<i||(p=e.skipSpaces(p))<f)){d=!0;break}return i=e.sCount[t],e.line=s+(d?1:0),(l=e.push("fence","code",0)).info=a,l.content=e.getLines(t+1,s,i,!0),l.markup=u,l.map=[t,e.line],!0}},"2hRq":function(e,t,n){"use strict";n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return C})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return j}));var r=n("D57K"),o=n("I9T1"),i=n("m23B"),a=n("Rr/J"),s=n("6hX7"),c=n("kbCE"),l=n("BH7h"),u=n("QIdE"),d=n("/Xcd"),p=n("KdrV"),f=n("r1DZ"),h=n("N01o"),m=n("fjMk"),v=n("GcKS"),b=n("uS5U"),g=["wrap-left","wrap-right","align-end","align-start"],y=["center","wide","full-width"],O=function(e,t){return{action:h.a.INSERTED,actionSubject:h.b.DOCUMENT,actionSubjectId:h.c.MEDIA,attributes:{inputMethod:e,fileExtension:t},eventType:h.d.TRACK}};function w(e){return Object(c.c)(e)&&!Object(c.i)(e.selection,e.doc,l.g)}function E(e,t){return void 0===t&&(t={}),function(n,r){var i=n.tr,a=n.schema.nodes.paragraph,s=t.inputMethod,c=t.fileExtension,l=0;return w(n)&&(e.push(a.create()),l=1),i.replaceSelection(new o.Slice(o.Fragment.from(e),0,l)),s&&Object(m.a)(n,i,O(s,c)),r&&r(i),!0}}var k=function(e,t){return!!e.nodes.mediaSingle&&Object(c.u)(t)},x=function(e,t,n){var r=e.state,o=e.dispatch,i=r.schema.nodes,a=i.mediaSingle,s=i.media;return!!a&&(!(t.type!==s||!Object(c.u)(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)&&E([a.create({},t)],{inputMethod:n,fileExtension:t.attrs.__fileMimeType})(r,o))},_=function(e,t,n,r){if(void 0===r)return!1;var a,s=e.state,c=e.dispatch,l=s.selection.$from.node(-1),u=T(s.schema,r)(t),d=l&&l.type.validContent(o.Fragment.from(u));if(t.fileName){var p=t.fileName.lastIndexOf(".");a=p>=0?t.fileName.substring(p+1):void 0}if(d)E([u],{fileExtension:a,inputMethod:n})(s,c);else{var f=null;if(Object(b.b)(e.state).newInsertionBehaviour&&(f=Object(v.a)(u,s.selection.from)(s.tr)),!f){var h=w(e.state)?o.Fragment.fromArray([u,s.schema.nodes.paragraph.create()]):u;f=Object(i.safeInsert)(h,void 0,!0)(s.tr)}n&&(f=Object(m.a)(s,f,O(n,a))),c(f)}return!0},T=function(e,t){return function(n){var r=n.id,o=n.dimensions,i=n.contextId,a=n.scaleFactor,s=void 0===a?1:a,c=o||{height:void 0,width:void 0},l=c.width,d=c.height,p=e.nodes,f=p.media,h=p.mediaSingle,m=f.create({id:r,type:"file",collection:t,contextId:i,width:l&&Math.round(l/s),height:d&&Math.round(d/s)});return Object(u.a)(n,m),h.createChecked({},m)}};function C(e,t){var n=t.nodes,o=n.mediaSingle,a=n.layoutSection,s=n.table,c=n.bulletList,l=n.orderedList,u=n.media,p=n.expand;return function(t){var n=e;return Object(i.hasParentNodeOfType)([a,s,c,l,p])(t)&&(n=Object(d.e)(n,(function(e){return"mediaSingle"===e.type.name?o.createChecked({},e.content,e.marks):e}))),n=Object(d.e)(n,(function(e){return"media"===e.type.name&&"external"===e.attrs.type?u.createChecked(Object(r.__assign)(Object(r.__assign)({},e.attrs),{__external:!0}),e.content,e.marks):e}))}}var S=function(e,t,n){void 0===n&&(n=12);var o=t.width,i=t.layout;if(-1===g.indexOf(i)&&g.indexOf(e)>-1)(!o||o>=100||["full-width","wide"].indexOf(i)>-1)&&(o=50);else if(e!==i&&["full-width","wide"].indexOf(i)>-1)o=void 0;else if(o){var a=Math.round(o/100*n),s=a;g.indexOf(i)>-1&&y.indexOf(e)>-1?(s=2*Math.floor(s/2),o=void 0):y.indexOf(i)>-1&&g.indexOf(e)>-1&&(a<=1?s=2:a>=n&&(s=10)),s!==a&&(o=s/n*100)}return Object(r.__assign)(Object(r.__assign)({},t),{layout:e,width:o})},j=function(e){var t=e.origWidth,n=e.origHeight,r=e.layout,o=e.pctWidth,i=e.containerWidth,s=e.isFullWidthModeEnabled,c=e.pos,l=e.state,u=e.resizedPctWidth,d=i.width,h=i.lineLength,m=Object(p.a)(c,l,i,s),v=M(i,o,t,n),b=M(i,u,t,n);if(m)return Math.min(v||t,m);if("wide"===r){if(h){var y=Math.ceil(h*a.J);return y>d?h:y}}else{if("full-width"===r)return d-a.b;if(v)return g.indexOf(r)>-1?b?u<50?b:v:Math.min(v,t):b||v;if("center"===r)return b||Math.min(t,h||d);if(r&&-1!==f.a.indexOf(r)){var O=Math.ceil((h||d)/2);return t<=O?t:O}}return t},M=function(e,t,n,r){return t&&n&&r&&Math.ceil(Object(s.d)(t/100,e.lineLength||e.width))}},"2suc":function(e,t,n){"use strict";var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),a=n.n(i),s=n("N+ot"),c=n.n(s),l=n("AuHH"),u=n.n(l),d=n("1Pcy"),p=n.n(d),f=n("5Yy7"),h=n.n(f),m=n("KEM+"),v=n.n(m),b=n("ERkP"),g=n.n(b),y=n("mJDO"),O=n.n(y),w=n("KsTJ"),E=n("RZTm"),k=n("3GHw"),x=w.default.div.withConfig({displayName:"ItemGroup__GroupTitle",componentId:"ofbfv9-0"})(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: 1 1 auto;\n  ",";\n"],(function(e){var t=e.theme;return Object(k.c)(t[k.e],"secondaryText","default")}),(function(e){var t=e.isCompact,n=e.theme,r=t?"compact":"default",o=Object(k.c)(n[k.e],r,"padding"),i=o.bottom,a=void 0===i?0:i,s=o.left,c=void 0===s?0:s,l=o.right,u=void 0===l?0:l,d=o.top,p=void 0===d?0:d;return Object(w.css)(["\n    padding: ","px ","px ","px ","px;\n  "],p,u,a,c)}));x.displayName="ItemGroupTitle";var _=w.default.div.withConfig({displayName:"ItemGroup__GroupTitleAfter",componentId:"ofbfv9-1"})(["\n  flex: 0 0 auto;\n  margin-right: -","px;\n"],k.d/2);_.displayName="ItemGroupTitleAfter";var T=w.default.div.withConfig({displayName:"ItemGroup__GroupTitleText",componentId:"ofbfv9-2"})(["\n  flex: 1 1 auto;\n  font-size: ","px;\n  line-height: 1;\n  text-transform: uppercase;\n  /* Required for children to truncate */\n  min-width: 0;\n"],E.k);T.displayName="ItemGroupTitleText",n.d(t,"a",(function(){return C}));var C=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),v()(p()(n),"headingAfterElement",void 0),n}return h()(t,e),a()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.elemAfter,o=t.isCompact,i=t.title,a=t.label,s=t.innerRef,c=t.role,l=a?O()(a):i?O()(i):"";return g.a.createElement("div",{"aria-label":l,role:c,ref:s},i?g.a.createElement(x,{"aria-hidden":"true",isCompact:o},g.a.createElement(T,null,i),r?g.a.createElement(_,{innerRef:function(t){e.headingAfterElement=t}},r):null):null,n)}}]),t}(b.Component);v()(C,"defaultProps",{role:"group"})},"36MB":function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},"3QpL":function(e,t,n){"use strict";function r(e,t){return Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}var o=function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace("#","").match(/.{2}/g);for(var a=0;a<n.length;a++)n[a]=parseInt(n[a],16);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return o.convert({conversions:r,operations:o,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},c={hex:{test:function(e){return"string"==typeof e&&"#"===e.slice(0,1)},convert:o},rgb:{test:function(e){return r(e,["r","g","b"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"hex":return 1==(y=Math.round(n.r).toString(16)).length&&(y="0"+y),1==(O=Math.round(n.g).toString(16)).length&&(O="0"+O),1==(w=Math.round(n.b).toString(16)).length&&(w="0"+w),"#"+y+O+w;case"cssrgb":return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")";case"hsl":var s=[y=n.r/255,O=n.g/255,w=n.b/255].sort(),c=(s[0]+s[2])/2*100;return s[0]==s[2]?(g=0,b=0):(g=c>=50?(s[2]-s[0])/(2-s[2]-s[0])*100:(s[2]-s[0])/(s[2]+s[0])*100,(b=s[2]==y?(O-w)/(s[2]-s[0])*60:s[2]==O?60*(2+(w-y)/(s[2]-s[0])):60*(4+(y-O)/(s[2]-s[0])))<0?b+=360:b>360&&(b%=360)),{h:b,s:g,l:c};case"csshsl":var l=o.convert({conversions:r,helpers:i},"hsl",n);return"hsl("+Math.round(l.h)+","+Math.round(l.s)+"%,"+Math.round(l.l)+"%)";case"cmyk":var u=n.r/255,d=n.g/255,p=n.b/255,f=1-Math.max(u,d,p);if(1!=f)var h=(1-u-f)/(1-f),m=(1-d-f)/(1-f),v=(1-p-f)/(1-f);else h=0,m=0,v=0;return{c:h,m:m,y:v,k:f};case"hsv":var b,g,y=n.r/255,O=n.g/255,w=n.b/255,E=Math.min(y,O,w),k=Math.max(y,O,w),x=k-E;if(0==x)b=0,g=0;else{g=x/k;var _=((k-y)/6+x/2)/x,T=((k-O)/6+x/2)/x,C=((k-w)/6+x/2)/x;y==k?b=C-T:O==k?b=1/3+_-C:w==k&&(b=2/3+T-_),b<0&&(b+=1),b>1&&(b-=1)}return{h:360*b,s:100*g,v:100*k};case"yiq":v=n.r/255*.299+n.g/255*.587+n.b/255*.114;var S=n.r/255*.596+n.g/255*-.274+n.b/255*-.322,j=n.r/255*.211+n.g/255*-.523+n.b/255*.312;return{y:v,i:S=i.bounded(S,[-.5957,.5957]),q:j=i.bounded(j,[-.5226,.5226])};case"XYZ":var M=[n.r,n.g,n.b].map((function(e){return e/255})).map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),A=i.getTransform("SRGB_XYZ").map((function(e){return M.reduce((function(t,n,r){return e[r]*n+t}),0)})).map((function(e){return 100*e})),R=a(A,3);return{X:R[0],Y:R[1],Z:R[2]};case"lms":case"cielab":case"cieluv":case"xyY":var N=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,N);case"cielch":var I=o.convert({conversions:r,operations:o,helpers:i},"cieluv",n);return o.convert({conversions:r,operations:o,helpers:i},t,I);case"hsluv":var P=o.convert({conversions:r,operations:o,helpers:i},"cielch",n);return o.convert({conversions:r,operations:o,helpers:i},t,P)}}},cssrgb:{test:function(e){return"string"==typeof e&&"rgb("===e.slice(0,4)},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace(/((rgb\(|\))|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return o.convert({conversions:r,operations:o,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}}},hsl:{test:function(e){return r(e,["h","s","l"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":if(0==n.s){var a=n.l/100*255;return{r:a,g:a,b:a}}var s,c,l;s=n.l>=50?n.l/100+n.s/100-n.l/100*(n.s/100):n.l/100*(1+n.s/100),c=n.l/100*2-s;var u,d,p,f=(.333+(l=n.h/360))%1,h=l,m=i.negMod(l-.333,1);return(u=6*f<1?c+6*(s-c)*f:2*f<1?s:3*f<2?c+6*(.666-f)*(s-c):c)<0&&(u=0),(d=6*h<1?c+6*(s-c)*h:2*h<1?s:3*h<2?c+6*(.666-h)*(s-c):c)<0&&(d=0),(p=6*m<1?c+6*(s-c)*m:2*m<1?s:3*m<2?c+6*(.666-m)*(s-c):c)<0&&(p=0),{r:255*u,g:255*d,b:255*p};case"csshsl":return"hsl("+Math.round(n.h)+","+Math.round(n.s)+"%,"+Math.round(n.l)+"%)";case"hsv":n.s=n.s/100,n.l=n.l/100;var v=n.s*(n.l<.5?n.l:1-n.l);return{h:n.h,s:2*v/(n.l+v)*100,v:100*(n.l+v)};default:var b=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,b)}}},csshsl:{test:function(e){return"string"==typeof e&&"hsl("===e.slice(0,4)},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);switch(t){case"hsl":return{h:n[0],s:n[1],l:n[2]};default:return o.convert({conversions:r,operations:o,helpers:i},t,{h:n[0],s:n[1],l:n[2]})}}},hsv:{test:function(e){return r(e,["h","s","v"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":n.h=n.h/360,n.s=n.s/100,n.v=n.v/100;var a=6*n.h;6==a&&(a=0);var s,c,l,u=Math.round(a),d=n.v*(1-n.s),p=n.v*(1-n.s*(a-u)),f=n.v*(1-n.s*(1-(a-u)));return 0==u?(s=n.v,c=f,l=d):1==u?(s=p,c=n.v,l=d):2==u?(s=d,c=n.v,l=f):3==u?(s=d,c=p,l=n.v):4==u?(s=f,c=d,l=n.v):(s=n.v,c=d,l=p),{r:255*s,g:255*c,b:255*l};case"hsl":return n.h=n.h/360,n.s=n.s/100,n.v=n.v/100,{h:360*n.h,s:100*((2-n.s)*n.v<1?n.s*n.v/((2-n.s)*n.v):n.s*n.v/(2-(2-n.s)*n.v)),l:(2-n.s)*n.v/2*100};default:var h=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,h)}}},cmyk:{test:function(e){return r(e,["c","m","y","k"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":return{r:a=255*(1-n.c)*(1-n.k),g:s=255*(1-n.m)*(1-n.k),b:c=255*(1-n.y)*(1-n.k)};case"cssrgb":var a=255*(1-n.c)*(1-n.k),s=255*(1-n.m)*(1-n.k),c=255*(1-n.y)*(1-n.k);return"rgb("+Math.round(a)+","+Math.round(s)+","+Math.round(c)+")";default:var l=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,l)}}},yiq:{test:function(e){return r(e,["y","i","q"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(n.i=i.bounded(n.i,[-.5957,.5957]),n.q=i.bounded(n.q,[-.5226,.5226]),t){case"rgb":var a=255*(n.y+.956*n.i+.621*n.q),s=255*(n.y+-.272*n.i+-.647*n.q),c=255*(n.y+-1.106*n.i+-1.703*n.q);return{r:a=i.bounded(a,[0,255]),g:s=i.bounded(s,[0,255]),b:c=i.bounded(c,[0,255])};default:var l=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,l)}}},XYZ:{test:function(e){return r(e,["X","Y","Z"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers,s=i.getIlluminant("D65");switch(t){case"rgb":var c=[n.X,n.Y,n.Z].map((function(e){return e/100})),l=i.getTransform("INVERSE_SRGB_XYZ").map((function(e){return c.reduce((function(t,n,r){return e[r]*n+t}),0)})).map((function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})).map((function(e){return 255*e})),u=a(l,3),d=u[0],p=u[1],f=u[2];return i.boundedRgb({r:d,g:p,b:f});case"lms":var h=[n.X,n.Y,n.Z].map((function(e){return e/100})),m=i.getTransform("BRADFORD").map((function(e){return h.reduce((function(t,n,r){return e[r]*n+t}),0)}));return{rho:m[0],gamma:m[1],beta:m[2]};case"cielab":var v=n.X/s.X,b=n.Y/s.Y,g=n.Z/s.Z,y=function(e){return e>.008856?i.cbrt(e):(903.3*e+16)/116},O=y(v),w=y(b);return{L:116*w-16,a:500*(O-w),b:200*(w-y(g))};case"cieluv":var E=n.Y/s.Y,k=E>.008856?116*i.cbrt(E)-16:903.3*E,x=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)},_=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)};return{L:k,u:13*k*(x(n)-x(s)),v:13*k*(_(n)-_(s))};case"xyY":return{x:n.X/(n.X+n.Y+n.Z),y:n.Y/(n.X+n.Y+n.Z),Y:n.Y};default:var T=i.boundedRgb(o.convert({conversions:r,operations:o,helpers:i},"rgb",n));return o.convert({conversions:r,operations:o,helpers:i},t,T)}}},xyY:{test:function(e){return r(e,["x","y","Y"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=n.Y/n.y*n.x,s=n.Y/n.y*(1-n.x-n.y);return{X:a,Y:n.Y,Z:s};default:var c=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,c)}}},lms:{test:function(e){return r(e,["rho","gamma","beta"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=[n.rho,n.gamma,n.beta],s=i.getTransform("INVERSE_BRADFORD").map((function(e){return a.reduce((function(t,n,r){return e[r]*n+t}),0)}));return{X:100*s[0],Y:100*s[1],Z:100*s[2]};default:var c=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,c)}}},cielab:{test:function(e){return r(e,["L","a","b"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),s=(n.L+16)/116,c=n.a/500+s,l=s-n.b/200,u=function(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(116*e-16)/903.3},d=u(c),p=u(l),f=n.L>903.3*.008856?Math.pow(s,3):n.L/903.3;return{X:d*a.X,Y:f*a.Y,Z:p*a.Z};default:var h=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,h)}}},cieluv:{test:function(e){return r(e,["L","u","v"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),s=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)}(a),c=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)}(a),l=1/3*(52*n.L/(n.u+13*n.L*s)-1),u=n.L>903.3*.008856?Math.pow((n.L+16)/116,3):n.L/903.3,d=-5*u,p=(u*(39*n.L/(n.v+13*n.L*c)-5)-d)/(l- -1/3);return{X:100*p,Y:100*u,Z:100*(p*l+d)};case"cielch":var f=Math.sqrt(Math.pow(n.u,2)+Math.pow(n.v,2)),h=Math.atan2(n.v,n.u);return h<0&&(h+=2*Math.PI),h=i.toDeg(h),{L:n.L,C:f,h:h};default:var m=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,m)}}},cielch:{test:function(e){return r(e,["L","C","h"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"cieluv":var a=i.toRad(n.h),s=n.C*Math.cos(a),c=n.C*Math.sin(a);return{L:n.L,u:s,v:c};case"hsluv":if(n.L>99.9999999)return{hu:n.h,s:0,l:100};if(n.L<1e-8)return{hu:n.h,s:0,l:0};for(var l=(n.L+16)/1560896,u=l>.008856?l:n.L/903.3,d=i.getTransform("INVERSE_SRGB_XYZ"),p=[],f=0;f<3;f++)for(var h=d[f][0],m=d[f][1],v=d[f][2],b=0;b<2;b++){var g=(284517*h-94839*v)*u,y=(838422*v+769860*m+731718*h)*n.L*u-769860*b*n.L,O=(632260*v-126452*m)*u+126452*b;p.push({m:g/O,b:y/O})}var w=Number.MAX_VALUE,E=i.toRad(n.h);p.forEach((function(e){var t=e.b/(Math.sin(E)-e.m*Math.cos(E));t>=0&&(w=Math.min(w,t))}));var k=w;return{hu:n.h,s:n.C/k*100,l:n.L};default:var x=o.convert({conversions:r,operations:o,helpers:i},"cieluv",n);return o.convert({conversions:r,operations:o,helpers:i},t,x)}}},hsluv:{test:function(e){return r(e,["hu","s","l"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"cielch":if(n.L>99.9999999)return{L:100,C:0,h:n.hu};if(n.L<1e-8)return{L:0,C:0,h:n.hu};for(var a=(n.l+16)/1560896,s=a>.008856?a:n.l/903.3,c=i.getTransform("INVERSE_SRGB_XYZ"),l=[],u=0;u<3;u++)for(var d=c[u][0],p=c[u][1],f=c[u][2],h=0;h<2;h++){var m=(284517*d-94839*f)*s,v=(838422*f+769860*p+731718*d)*n.l*s-769860*h*n.l,b=(632260*f-126452*p)*s+126452*h;l.push({m:m/b,b:v/b})}var g=Number.MAX_VALUE,y=i.toRad(n.hu);l.forEach((function(e){var t=e.b/(Math.sin(y)-e.m*Math.cos(y));t>=0&&(g=Math.min(g,t))}));var O=g;return{L:n.l,C:O/100*n.s,h:n.hu};default:var w=o.convert({conversions:r,operations:o,helpers:i},"cielch",n);return o.convert({conversions:r,operations:o,helpers:i},t,w)}}}},l={adapt:function(e,t,n,r){var o=e.operations.convert(e,"XYZ",t),i=e.operations.convert(e,"lms",n);if(r)a=e.operations.convert(e,"lms",r);else var a=e.operations.convert(e,"lms",e.helpers.getIlluminant("D65"));var s=e.helpers.getTransform("BRADFORD"),c=e.helpers.getTransform("INVERSE_BRADFORD"),l=[[i.rho/a.rho,0,0],[0,i.gamma/a.gamma,0],[0,0,i.beta/a.beta]],u=e.helpers.matrixMultiply(c,l),d=e.helpers.matrixMultiply(u,s),p=[[o.X],[o.Y],[o.Z]],f=e.helpers.matrixMultiply(d,p),h={X:f[0][0],Y:f[1][0],Z:f[2][0]};return e.helpers.ready(e,h)},adjacent:function(e,t,n,r){for(var o=e.operations.convert(e,"hsl",r),i=[{h:o.h,s:o.s,l:o.l}],a=0;a<n-1;a++)o.h=e.helpers.negMod(o.h+t,360),i.push({h:o.h,s:o.s,l:o.l});return e.helpers.ready(e,i)},brightness:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.l+=t,r.l<0?r.l=0:r.l>100&&(r.l=100),e.helpers.ready(e,r)},complementary:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.h=(n.h+180)%360,e.helpers.ready(e,n)},contrast:function(e,t,n){var r=e.operations.convert(e,"rgb",n);return r.r=255*((r.r/255-.5)*t+.5),r.r<0?r.r=0:r.r>255&&(r.r=255),r.g=255*((r.g/255-.5)*t+.5),r.g<0?r.g=0:r.g>255&&(r.g=255),r.b=255*((r.b/255-.5)*t+.5),r.b<0?r.b=0:r.b>255&&(r.b=255),e.helpers.ready(e,r)},contrastRatio:function(e,t){var n=e.operations.convert(e,"rgb",t);return n=(299*n.r+587*n.g+114*n.b)/1e3>=128?{r:0,g:0,b:0}:{r:255,g:255,b:255},e.helpers.ready(e,n)},convert:function(e,t,n){if(Object.keys(e.conversions).indexOf(t)>-1){n.colour?n=n.colour:n.colours&&(n=n.colours);var r=e.helpers.determineMode(n);return r!=t?e.conversions[r].convert(e,t,n):n}return e.helpers.ready(e,t)},difference:function(e,t,n,r,o){r=r||1,o=o||1;var i=e.operations.convert(e,"cielab",t),a=e.operations.convert(e,"cielab",n),s=Math.sqrt(Math.pow(i.a,2)+Math.pow(i.b,2)),c=s-Math.sqrt(Math.pow(a.a,2)+Math.pow(a.b,2)),l=i.L-a.L,u=i.a-a.a,d=i.b-a.b,p=Math.sqrt(Math.pow(u,2)+Math.pow(d,2)-Math.pow(c,2)),f=i.L<16?.511:.040975*i.L/(1.01765*i.L),h=.0638*s/(1.0131*s),m=Math.atan2(i.b,i.a),v=m>=0?m:m+360,b=164<=v&&v<=345?.56+Math.abs(.2*Math.cos(e.helpers.toRad(v+168))):.36+Math.abs(.4*Math.cos(e.helpers.toRad(v+35))),g=Math.pow(s,4)/(Math.pow(s,4)+1900),y=h*(g*b+1-g),O=Math.pow(l/(r*f),2);return Math.pow(c/(o*h),2),Math.pow(p/y,2),Math.sqrt(O+O+O)},fade:function(e,t,n,r){var o=e.operations.convert(e,"rgb",n),i=e.operations.convert(e,"rgb",r),a=[o];t-=1;for(var s=(i.r-o.r)/t,c=(i.g-o.g)/t,l=(i.b-o.b)/t,u={r:o.r,g:o.g,b:o.b},d=0;d<t-1;d++)u.r=e.helpers.slopeMod(u.r+s,255),u.g=e.helpers.slopeMod(u.g+c,255),u.b=e.helpers.slopeMod(u.b+l,255),a.push({r:u.r,g:u.g,b:u.b});return a.push(i),e.helpers.ready(e,a)},greyscale:function(e,t){var n=e.operations.convert(e,"rgb",t),r=(n.r+n.g+n.b)/3;return n={r:r,g:r,b:r},e.helpers.ready(e,n)},hue:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.h=e.helpers.negMod(r.h+t,360),e.helpers.ready(e,r)},invert:function(e,t){var n=e.operations.convert(e,"rgb",t);return n.r=e.helpers.negMod(255-n.r,255),n.g=e.helpers.negMod(255-n.g,255),n.b=e.helpers.negMod(255-n.b,255),e.helpers.ready(e,n)},invertLightness:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.l=100-n.l,e.helpers.ready(e,n)},mid:function(e,t,n){var r=e.operations.convert(e,"hsl",t),o=e.operations.convert(e,"hsl",n),i={h:(r.h+o.h)/2,s:(r.s+o.s)/2,l:(r.l+o.l)/2};return e.helpers.ready(e,i)},multiply:function(e,t,n){var r=e.operations.convert(e,"hsl",t),o=e.operations.convert(e,"hsl",n),i={h:r.h,s:r.s,l:r.l/100*(o.l/100)*100};return i.l=i.l>100?100:i.l,i.l=i.l<0?0:i.l,e.helpers.ready(e,i)},saturation:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.s+=t,r.s<0?r.s=0:r.s>100&&(r.s=100),e.helpers.ready(e,r)},sepia:function(e,t){var n=e.operations.convert(e,"rgb",t),r={};return r.r=.393*n.r+.769*n.g+.189*n.b,r.g=.349*n.r+.686*n.g+.168*n.b,r.b=.272*n.r+.534*n.g+.131*n.b,e.helpers.ready(e,r)},shade:function(e,t,n){var r=e.operations.convert(e,"hsv",n);return r.v+=t,r.v<0?r.v=0:r.v>100&&(r.v=100),e.helpers.ready(e,r)},temperature:function(e,t){var n=e.operations.convert(e,"xyY",t),r=(n.x-.332)/(n.y-.1858);return-449*Math.pow(r,3)+3525*Math.pow(r,2)-6823.3*r+5520.33},tetrad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),r=[{h:n.h,s:n.s,l:n.l}],o=0;o<3;o++)n.h=(n.h+90)%360,r.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,r)},triad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),r=[{h:n.h,s:n.s,l:n.l}],o=0;o<2;o++)n.h=(n.h+120)%360,r.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,r)}},u={ILLUMINANTS:{A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}},TRANSFORMS:{BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]}},d=function(e,t,n){var r=Object.keys(e.operations).reduce((function(t,r){var o=e.operations[r];return t[r]=function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var c=r.slice(0).map((function(e){return"object"===(void 0===e?"undefined":i(e))?Object.assign({},e):e}));return n&&n.colours?function t(n){var r=n.map((function(n){if(Array.isArray(n)){var r=t(n);return r.colours||r.colour}var a=o.apply(void 0,[e].concat(s(c),[n]));return"object"===(void 0===a?"undefined":i(a))?a.colours||a.colour:a}));return"number"!=typeof r[0]?e.helpers.ready(e,r):r}(n.colours):o.apply(void 0,[e].concat(s(c),[n?n.colour:void 0]))},t}),{});return n||(r=Object.assign(r,t)),r},p={getIlluminant:function(e){return u.ILLUMINANTS[e]},getTransform:function(e){return u.TRANSFORMS[e]},matrixMultiply:function(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var o=0;o<t[0].length;o++){for(var i=0,a=0;a<e[0].length;a++)i+=e[r][a]*t[a][o];n[r][o]=i}}return n},cbrt:function(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},toRad:function(e){return e*(Math.PI/180)},toDeg:function(e){return e*(180/Math.PI)},negMod:function(e,t){return(e%t+t)%t},slopeMod:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return e>2*t?slopeMod(e-2*t,t):e>t?2*t-e:e<0?slopeMod(e+2*t,t):e})),bounded:function(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e},boundedRgb:function(e){var t=this,n=function(e){return t.bounded(e,[0,255])};return{r:n(e.r),g:n(e.g),b:n(e.b)}},determineMode:function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].test(e))return t;return null},ready:function(e,t){var n=e.conversions,r=e.operations,o=e.helpers,i={};switch(Object.prototype.toString.call(t)){case"[object Object]":case"[object String]":for(var a in i.colour=t,n)n.hasOwnProperty(a)&&function(e){Object.defineProperty(i,e,{get:function(){return o.determineMode(t),r.convert({conversions:n,operations:r,helpers:o},e,t)},enumerable:!0})}(a);return Object.assign(i,d({conversions:n,operations:r,helpers:o},u,i));case"[object Array]":for(var s in i.colours=t,n)n.hasOwnProperty(s)&&function(e){Object.defineProperty(i,e,{get:function(){return function t(i){return i.map((function(i){return Array.isArray(i)?t(i):r.convert({conversions:n,operations:r,helpers:o},e,i)}))}(t)},enumerable:!0})}(s);return Object.assign(i,d({conversions:n,operations:r,helpers:o},u,i));default:return null}}},f=d({conversions:c,operations:l,helpers:p},u);t.a=f},"45E7":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},"4fYq":function(e){e.exports=JSON.parse('{"a":"@atlaskit/editor-core","b":"116.2.1"}')},"58MS":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n("7bKp"),o=n("N01o"),i=n("fjMk"),a=["heading","codeBlock","blockquote"],s=["em","code","strike","strong","underline","textColor","subsup"],c={em:o.c.FORMAT_ITALIC,code:o.c.FORMAT_CODE,strike:o.c.FORMAT_STRIKE,strong:o.c.FORMAT_STRONG,underline:o.c.FORMAT_UNDERLINE,textColor:o.c.FORMAT_COLOR,subsup:"subsup"};function l(e){return function(e){return function(t,n){var l=t.tr,u=[];return s.forEach((function(e){var n=l.selection,r=n.from,o=n.to,i=t.schema.marks[e];i&&t.doc.rangeHasMark(r,o,i)&&(u.push(c[e]),l.removeMark(r,o,i))})),a.forEach((function(e){var n=t.schema.nodes[e],o=l.selection,i=o.$from,a=o.$to;l.doc.nodesBetween(i.pos,a.pos,(function(o,i){if(o.type===n){if(n.isTextblock)return l.setNodeMarkup(i,t.schema.nodes.paragraph),u.push(e),!1;var a=l.doc.resolve(i+1),s=l.doc.resolve(i+o.nodeSize-1),c=a.blockRange(s);if(c){var d=Object(r.liftTarget)(c);(d||0===d)&&(u.push(e),l.lift(c,d))}}return!0}))})),l.setStoredMarks([]),u.length&&e&&Object(i.a)(t,l,{action:o.a.FORMATTED,eventType:o.d.TRACK,actionSubject:o.b.TEXT,actionSubjectId:o.c.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:u}}),n&&n(l),!0}}(e)}},"5akD":function(e,t,n){"use strict";var r=n("T1Ll").isSpace;e.exports=function(e,t,n,o){var i,a,s,c,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(l))||l>=u)return!1;for(a=1,i=e.src.charCodeAt(++l);35===i&&l<u&&a<=6;)a++,i=e.src.charCodeAt(++l);return!(a>6||l<u&&!r(i))&&(!!o||(u=e.skipSpacesBack(u,l),(s=e.skipCharsBack(u,35,l))>l&&r(e.src.charCodeAt(s-1))&&(u=s),e.line=t+1,(c=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),c.map=[t,e.line],(c=e.push("inline","",0)).content=e.src.slice(l,u).trim(),c.map=[t,e.line],c.children=[],(c=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a),!0))}},"5bgo":function(e,t,n){"use strict";var r,o,i=n("D57K"),a=n("ERkP"),s=n.n(a),c=n("KsTJ"),l=n("KP4G"),u=n("c3Dk"),d=n("bz/o"),p=n("RZTm"),f=n("m7kQ"),h=n("uIEB"),m=Object(p.l)()/2,v=m+"px",b=c.default.div(r||(r=Object(i.__makeTemplateObject)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  line-height: 1;\n  margin-left: -",";\n  margin-right: -",";\n\n  > * {\n    margin-bottom: ",";\n    padding-left: ",";\n    padding-right: ",";\n  }\n"],["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  line-height: 1;\n  margin-left: -",";\n  margin-right: -",";\n\n  > * {\n    margin-bottom: ",";\n    padding-left: ",";\n    padding-right: ",";\n  }\n"])),v,v,p.l,v,v),g=c.default.div(o||(o=Object(i.__makeTemplateObject)(["\n  display: flex;\n  line-height: 1;\n  /* Balance the negative margin of the children */\n  margin-right: ","px;\n\n  > * {\n    margin-right: -","px;\n  }\n"],["\n  display: flex;\n  line-height: 1;\n  /* Balance the negative margin of the children */\n  margin-right: ","px;\n\n  > * {\n    margin-right: -","px;\n  }\n"])),(function(e){return 2*h.c[e.size]+m}),(function(e){return 2*h.c[e.size]+m}));var y,O,w,E=n("IlJF"),k=n("w0+x"),x=n("rkXF"),_=n("+3hD"),T=n("lIPb"),C={xsmall:10,small:10,medium:11,large:12,xlarge:16,xxlarge:16},S=Object(x.a)(c.default.button(y||(y=Object(i.__makeTemplateObject)(["\n  "," background: 0;\n"],["\n  "," background: 0;\n"])),T.b)),j=Object(x.a)(c.default.span(O||(O=Object(i.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ",";\n  align-items: center;\n  box-shadow: 0 0 0\n    ","\n    ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  flex-basis: 100%;\n  flex-grow: 1;\n  font-size: ","px;\n  justify-content: center;\n  transition: box-shadow 200ms;\n"],["\n  background-color: ",";\n  border-radius: ",";\n  align-items: center;\n  box-shadow: 0 0 0\n    ","\n    ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  flex-basis: 100%;\n  flex-grow: 1;\n  font-size: ","px;\n  justify-content: center;\n  transition: box-shadow 200ms;\n"])),Object(_.a)({light:f.N40,dark:f.DN70}),T.a,(function(e){return e.isFocus&&!e.isActive?h.c[e.size]+"px":0}),f.B200,Object(_.a)({light:f.N500,dark:f.DN400}),(function(e){return C[e.size||"medium"]}))),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(E.a)(this),t=this.props,n=t.appearance,r=t.isActive,o=t.isFocus,a=t.isHover,c=t.size,l=t.count,u=l>99?99:l;return s.a.createElement(S,Object(i.__assign)({},e,{isInteractive:!0}),s.a.createElement(j,{appearance:n,isActive:r,isFocus:o,isHover:a,size:c},"+",u))},t.defaultProps={count:0,appearance:"circle",size:"medium"},t}(a.Component),A=Object(k.a)(M),R=n("3GHw"),N=n("hd9Z"),I={bottom:1,left:Object(N.multiply)(p.l,1.5),right:Object(N.multiply)(p.l,1.5),top:1},P={borderRadius:"0px",default:{background:f.backgroundOnLayer,text:f.N900},active:{text:f.N900,background:f.backgroundActive},padding:{default:I,compact:I}},D=((w={})[R.e]=P,w),L=n("1esp"),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.avatar,n=e.onAvatarClick,r=t.href,o=Object(i.__rest)(t,["href"]),a=Object(E.a)(this);return s.a.createElement(L.a,Object(i.__assign)({isInteractive:!0},a,{elemBefore:s.a.createElement(d.a,Object(i.__assign)({},o,{borderColor:"transparent",enableTooltip:!1,size:"small"})),href:r,onClick:function(e){"function"==typeof n&&n({event:e,item:t})},rel:t.target?"noopener noreferrer":null,target:t.target}),t.name)},t}(a.Component),z=Object(k.a)(B),H={grid:b,stack:g},F={grid:11,stack:5},U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.renderMoreDropdown=function(e,t){var n=this.props,r=n.appearance,o=n.data,a=n.borderColor,d=n.onMoreClick,p=n.showMoreButtonProps,f=n.onAvatarClick,h=n.size,m=n.boundariesElement;if(t<=e)return null;var v=function(n){return s.a.createElement(A,Object(i.__assign)({},p,{borderColor:a,count:t-e,isStack:"stack"===r,size:h},n))};if("function"==typeof d)return s.a.createElement(v,{onClick:d});var b=o.slice(e).map((function(e,t){return s.a.createElement(z,{avatar:e,key:t,onAvatarClick:f})}));return s.a.createElement(l.a,{trigger:s.a.createElement(v,null),position:"bottom right",boundariesElement:m,shouldFlip:!0},s.a.createElement(c.ThemeProvider,{theme:D},s.a.createElement(u.a,null,b)))},t.prototype.render=function(){var e=this.props,t=e.avatar,n=e.appearance,r=e.borderColor,o=e.data,a=e.maxCount,c=e.onAvatarClick,l=e.size,u=0===a?F[n]:a,d=o.length,p=H[n],f=d>u?u-1:u,h=o.slice(0,f).map((function(e,o){return s.a.createElement(t,Object(i.__assign)({},e,{borderColor:r,groupAppearance:n,key:o,onClick:e.onClick||c,size:l,stackIndex:u-o}))}));return s.a.createElement(p,{size:l},h,this.renderMoreDropdown(+f,d))},t.defaultProps={appearance:"stack",avatar:d.a,maxCount:0,showMoreButtonProps:{},size:"medium"},t}(a.Component);t.a=U},"5hiN":function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},"5ipG":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("MVoQ"),o=function(e){var t,n=e.selection,o=n.$from,i=n.$to,a=n.$cursor,s=e.schema.marks.textColor,c=[];a?c.push(s.isInSet(e.storedMarks||a.marks())||void 0):e.doc.nodesBetween(o.pos,i.pos,(function(e){if(e.isLeaf){var t=s.isInSet(e.marks)||void 0;return c.push(t),!t}return!0}));var l=(c=c.filter((function(e){return(!e||!t||e.attrs.color!==t.attrs.color)&&(t=e,!0)}))).filter((function(e){return!!e}));return l.length>1||1===l.length&&c.length>1?null:l.length?l[0].attrs.color:r.b.color}},"5kDT":function(e,t,n){var r=n("pFVA");e.exports=function(e,t){var n=r(e),o=r(t),i=n.getTime()-6e4*n.getTimezoneOffset(),a=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-a)/864e5)}},"5z8k":function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},"6Fy/":function(e,t,n){var r=n("c06F");e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){l[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}})),{formatters:l,formattingTokensRegExp:r(l)}}},"6T+A":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 5h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm0 12h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zM4 9h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaWideIcon";var c=s;t.default=c},"6ZUl":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("m23B"),o=n("kbCE"),i=function(e,t){void 0===t&&(t=!1);var n=e.schema.nodes,o=n.inlineExtension,i=[n.extension,n.bodiedExtension,o];return Object(r.findSelectedNodeOfType)(i)(e.selection)||t&&Object(r.findParentNodeOfType)(i)(e.selection)||void 0},a=function(e){var t=e.schema,n=e.selection,o=t.nodes,i=o.inlineExtension,a=o.extension;return Object(r.findSelectedNodeOfType)([i,a])(n)},s=function(e,t,n){void 0===n&&(n=!1);var i=t&&Object(r.findDomRefAtPos)(t.pos,e);return t&&i.querySelector?n?i.querySelector(".extension-container")||i:Object(o.j)(i,".extension-container")||i.querySelector(".extension-container")||i:void 0}},"6zfK":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return f}));var r=n("Dsue"),o=n("aGmo"),i=n("dDc+"),a=n("A5BR"),s=n("kbCE"),c=n("BH7h"),l=[i.colors.R100,i.colors.R300,i.colors.R500,i.colors.Y100,i.colors.Y300,i.colors.Y500,i.colors.G100,i.colors.G300,i.colors.G500,i.colors.T100,i.colors.T300,i.colors.T500,i.colors.B100,i.colors.B300,i.colors.B500,i.colors.P100,i.colors.P300,i.colors.P500,i.colors.N70,i.colors.N200,i.colors.N800].map((function(e){return{solid:e,selection:Object(a.J)(e,.2)}})),u=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;var r=Math.abs(t)%l.length;return{index:r,color:l[r]}},d=function(e,t){return t.find().reduce((function(t,n){return n.spec.pointer.sessionId===e?t.concat(n):t}),[])};var p=function(e,t,n,r,i){var a=[],c=u(n),l=c.index.toString();if(r){var d="telepointer color-"+l+" telepointer-selection";a.push(o.Decoration.inline(e,t,{class:d,"data-initial":i},{pointer:{sessionId:n}}))}var p=document.createElement("span");return p.textContent=s.a,p.className="telepointer color-"+l+" telepointer-selection-badge",p.style.cssText=function(e){var t=e&&e.color||"black";return"border-left: 1px solid "+t+"; border-right: 1px solid "+t+"; margin-right: -2px;"}({color:c.color.solid})+";",p.setAttribute("data-initial",i),a.concat(o.Decoration.widget(t,p,{pointer:{sessionId:n},key:"telepointer-"+n}))},f=function(e,t,n,o,i,a){var s,l,u=t.schema,d=t.tr;if(o&&o.allowUnsupportedContent?l=!!(s=Object(c.l)(t.schema,e,i,a)):(s=(e.content||[]).map((function(e){return u.nodeFromJSON(e)})),l=Array.isArray(s)?!!s.length:!!s),l&&(d.setMeta("addToHistory",!1),d.replaceWith(0,t.doc.nodeSize-2,s),d.setSelection(r.Selection.atStart(d.doc)),void 0!==typeof n&&o&&o.useNativePlugin)){var p={version:n,unconfirmed:[]};d.setMeta("collab$",p)}return d}},"72zh":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"79mQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h}));var r,o,i=n("D57K"),a=n("Dsue"),s=n("kbCE");!function(e){e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(r||(r={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(o||(o={}));var c=function(e,t){return function(n){if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){var r=n.doc.resolve(e),o=n.doc.resolve(t),i=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(i)){var a=!0;return n.doc.nodesBetween(e,t,(function(e){return a=a&&!e.marks.some((function(e){return e.type.excludes(i)}))})),a}}return!1}},l=function(e,t){if(e){if(e.type===o.EDIT_LINK_TOOLBAR||e.type===o.EDIT_INSERTED_TOOLBAR){var n=t.mapping.mapResult(e.pos,1),r=n.pos,a=n.deleted,s=t.doc.nodeAt(r);return!a&&s.type.schema.marks.link.isInSet(s.marks)?s===e.node&&r===e.pos?e:Object(i.__assign)(Object(i.__assign)({},e),{pos:r,node:s}):void 0}return e.type===o.INSERT_LINK_TOOLBAR?Object(i.__assign)(Object(i.__assign)({},e),{from:t.mapping.map(e.from),to:t.mapping.map(e.to)}):void 0}},u=function(e,t,n){if(!e)switch(t){case r.SHOW_INSERT_TOOLBAR:var a=n.selection,s=a.from,l=a.to;return c(s,l)(n)?{type:o.INSERT_LINK_TOOLBAR,from:s,to:l}:void 0;case r.SELECTION_CHANGE:return(p=d(n))?Object(i.__assign)(Object(i.__assign)({},p),{type:o.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===o.EDIT_LINK_TOOLBAR)switch(t){case r.EDIT_INSERTED_TOOLBAR:var u=d(n);return u?u.pos===e.pos&&u.node===e.node?Object(i.__assign)(Object(i.__assign)({},e),{type:o.EDIT_INSERTED_TOOLBAR}):Object(i.__assign)(Object(i.__assign)({},u),{type:o.EDIT_INSERTED_TOOLBAR}):void 0;case r.SELECTION_CHANGE:var p;return(p=d(n))?p.pos===e.pos&&p.node===e.node?e:Object(i.__assign)(Object(i.__assign)({},p),{type:o.EDIT_LINK_TOOLBAR}):void 0;case r.HIDE_TOOLBAR:return;default:return e}if(e.type===o.INSERT_LINK_TOOLBAR)switch(t){case r.SELECTION_CHANGE:case r.HIDE_TOOLBAR:return;default:return e}},d=function(e){var t=e.selection.$from;if(function(e){return!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks())}(e)||function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.nodeAfter;return!!o&&0===n.textOffset&&r.pos-n.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)}(e)){var n=t.pos-t.textOffset,r=e.doc.nodeAt(n);return r&&r.isText?{node:r,pos:n}:void 0}},p=function(e){var t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof a.TextSelection?t.content.firstChild.textContent:void 0},f=new a.PluginKey("hyperlinkPlugin"),h=function(e){return new a.Plugin({state:{init:function(e,t){var n=c(t.selection.from,t.selection.to)(t);return{activeText:p(t.selection),canInsertLink:n,activeLinkMark:u(void 0,r.SELECTION_CHANGE,t)}},apply:function(t,n,o,i){var a=n,d=t.getMeta(f)&&t.getMeta(f).type;return t.docChanged&&(a={activeText:a.activeText,canInsertLink:c(i.selection.from,i.selection.to)(i),activeLinkMark:l(a.activeLinkMark,t)}),d&&(a={activeText:a.activeText,canInsertLink:a.canInsertLink,activeLinkMark:u(a.activeLinkMark,d,i)}),t.selectionSet&&(a={activeText:p(i.selection),canInsertLink:c(i.selection.from,i.selection.to)(i),activeLinkMark:u(a.activeLinkMark,r.SELECTION_CHANGE,i)}),Object(s.I)(a,n)||e(f,a),a}},key:f})}},"7T0k":function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("fN3Q"),a=n.n(i),s=n("I9T1"),c=n("Dsue"),l=n("L+HE"),u=n("cDcQ"),d=n("Bq3e"),p=n("Uo4y"),f=n("Yhtg"),h=n("Hjkb"),m=n("dM4l"),v=n("mu0/"),b=n("XoQQ"),g=n("CBOu"),y=n("lMAd"),O=n("QsAB"),w=n.n(O),E=n("jwaM"),k=n("9O50"),x=n("gROO"),_=n("N01o"),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInsertMention=Object(E.a)("atlassian.fabric.mention.picker.trigger.button",(function(){return!!t.props.editorView&&(Object(x.a)(_.e.TOOLBAR)(t.props.editorView.state,t.props.editorView.dispatch),!0)})),t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(k.a,{spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:"Mention @",iconBefore:o.createElement(w.a,{label:"Mention"})})},t}(o.PureComponent),C=n("lGHY"),S=n("ROar"),j=n("+i8T"),M=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,i=t.accessLevel,a=t.eventHandlers,s=t.id,c=t.text,l=e.mentionProvider,u={};return["onClick","onMouseEnter","onMouseLeave"].forEach((function(e){u[e]=a&&a[e]||function(){}})),o.createElement(C.a,Object(r.__assign)({id:s,text:c,accessLevel:i,mentionProvider:l},u))},n.providerFactory=t.providers||new S.a,n}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return o.createElement(j.a,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t.displayName="Mention",t}(o.PureComponent),A=n("RLFc"),R=n("sgQ3"),N=n("kbCE"),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.createDomRef=function(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(R.a)():e.prototype.createDomRef.call(this)},t.prototype.render=function(e){var t=e.providerFactory,n=e.options,r=this.node.attrs,i=r.id,a=r.text,s=r.accessLevel;return o.createElement(R.b,{useInlineWrapper:n&&n.useInlineWrapper},o.createElement(M,{id:i,text:a,accessLevel:s,providers:t}),n&&n.allowZeroWidthSpaceAfter&&N.a)},t}(A.b);function P(e,t,n){return function(r,o,i){return new I(r,o,i,e,{providerFactory:t,options:n}).init()}}var D=n("NV3J"),L=n("4fYq"),B=function(e){return"TEAM"===e},z=function(e,t,n,o,i){return void 0===i&&(i={}),{action:t,actionSubject:e,eventType:n,attributes:Object(r.__assign)({packageName:L.a,packageVersion:L.b,componentName:"mention",sessionId:o},i)}},H={queryLength:0,spaceInQuery:!1},F=function(e){return e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:H},U=function(e,t){if(e){var n=e.findIndex((function(e){return e.id===t.id}));return-1===n?void 0:n}},W=function(e){return"selected"===e},K=n("fjMk"),V=n("A/E9"),G=n("lt2v");n.d(t,"b",(function(){return Z}));t.a=function(e){var t=a()(),n=function(n){e&&e.createAnalyticsEvent&&(n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),e.createAnalyticsEvent(n).fire(l.a))};return{name:"mention",nodes:function(){return[{name:"mention",node:m.a}]},pmPlugins:function(){return[{name:"mention",plugin:function(t){var o=t.providerFactory;return function(e,t,n,o,i){var a;return new c.Plugin({key:Z,state:{init:function(){return{}},apply:function(t,n){var o=t.getMeta(Z)||{action:null,params:null},i=o.action,a=o.params,s=n;switch(i){case q:return s=Object(r.__assign)(Object(r.__assign)({},n),{mentionProvider:a.provider}),e(Z,s),s;case $:return s=Object(r.__assign)(Object(r.__assign)({},n),{mentions:a.results}),e(Z,s),s;case Y:return s=Object(r.__assign)(Object(r.__assign)({},n),{contextIdentifierProvider:a.context}),e(Z,s),s}return s}},props:{nodeViews:{mention:P(n,t,i)}},view:function(e){var n=function(t,n){switch(t){case"mentionProvider":if(!n)return X(void 0)(e.state,e.dispatch);n.then((function(t){a&&a.unsubscribe("mentionPlugin"),a=t,X(t)(e.state,e.dispatch),t.subscribe("mentionPlugin",(function(t,n,r){var i;(i=t,function(e,t){return t&&t(e.tr.setMeta(Z,{action:$,params:{results:i}})),!0})(e.state,e.dispatch);var a,s=0,c=null,l=null;!(a=r)||isNaN(a.teamMentionDuration)?(s=r&&r.duration,l=null,c=t.map((function(e){return B(e.userType)?null:e.id})).filter((function(e){return!!e}))):(s=r&&r.teamMentionDuration,c=null,l=t.map((function(e){return B(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null})).filter((function(e){return!!e})));var u=function(e,t,n,r){var o=F(n),i=o.queryLength,a=o.spaceInQuery;return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:D.OPERATIONAL_EVENT_TYPE,attributes:{packageName:L.a,packageVersion:L.b,componentName:"mention",duration:e,userIds:t,teams:r,queryLength:i,spaceInQuery:a}}}(s,c,n||"",l);o(u)}))})).catch((function(){return X(void 0)(e.state,e.dispatch)}));break;case"contextIdentifierProvider":if(!n)return J(void 0)(e.state,e.dispatch);n.then((function(t){J(t)(e.state,e.dispatch)}))}};return t.subscribe("mentionProvider",n),t.subscribe("contextIdentifierProvider",n),{destroy:function(){t&&(t.unsubscribe("mentionProvider",n),t.unsubscribe("contextIdentifierProvider",n)),a&&a.unsubscribe("mentionPlugin")}}}})}(t.dispatch,o,t.portalProviderAPI,n,e)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return o.createElement(b.a,{editorView:t,plugins:{typeAheadState:g.d,mentionState:Z},render:function(e){var r=e.typeAheadState,i=void 0===r?Object(g.b)():r,a=e.mentionState;return(void 0===a?{}:a).mentionProvider?o.createElement(T,{editorView:t,isDisabled:n||!i.isAllowed}):null}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(y.b.mention),description:t(y.b.mentionDescription),priority:400,keyshortcut:"@",icon:function(){return o.createElement(G.o,{label:t(y.b.mention)})},action:function(e,t){var n=t.schema.mark("typeAheadQuery",{trigger:"@"}),r=e(t.schema.text("@",[n]));return Object(K.a)(t,r,{action:_.a.INVOKED,actionSubject:_.b.TYPEAHEAD,actionSubjectId:_.c.TYPEAHEAD_MENTION,attributes:{inputMethod:_.e.QUICK_INSERT},eventType:_.d.UI})}}]},typeAhead:{trigger:"@",customRegex:"\\(?(@)",getHighlight:function(e){var t=Q(e).mentionProvider;if(t){var n=t;if(ee(n)&&n.mentionTypeaheadHighlightEnabled())return o.createElement(p.a,{createTeamLink:n.mentionTypeaheadCreateTeamPath(),onClose:function(){return f.a.registerClosed()}})}return null},getItems:function(e,n,i,a,s,c){var l=a.prevActive,u=a.queryChanged;!l&&u&&(v.a.trackEvent("atlassian.fabric.mention.picker.trigger.shortcut"),s.getMeta(V.b)||c(V.a,{payload:{action:_.a.INVOKED,actionSubject:_.b.TYPEAHEAD,actionSubjectId:_.c.TYPEAHEAD_MENTION,attributes:{inputMethod:_.e.KEYBOARD},eventType:_.d.UI}}));var d=Q(n),p=!l&&u?[]:d.mentions||[],f=Object(r.__assign)(Object(r.__assign)({},d.contextIdentifierProvider),{sessionId:t});return u&&d.mentionProvider&&d.mentionProvider.filter(e||"",f),p.map((function(e){return{title:e.id,render:function(t){var n=t.isSelected,r=t.onClick,i=t.onHover;return o.createElement(h.a,{mention:e,selected:n,onMouseEnter:i,onSelection:r})},mention:e}}))},selectItem:function(o,i,c,l){var p=l.mode,h=e&&e.sanitizePrivateContent,m=e&&e.mentionInsertDisplayName,b=o.schema,y=Q(o),O=y.mentionProvider,w=i.mention,E=w.id,k=w.name,x=w.nickname,_=w.accessLevel,T=w.userType,C=x&&x.startsWith("@")?x.slice(1):x,S=m||!C?k:C,j=g.d.getState(o),M=Object(r.__assign)(Object(r.__assign)({},y.contextIdentifierProvider),{sessionId:t});O&&O.recordMentionSelection(i.mention,M);var A=j.queryStarted?Date.now()-j.queryStarted:0;if(v.a.trackEvent("atlassian.fabric.mention.picker.insert",Object(r.__assign)({mode:p,isSpecial:Object(u.h)(i.mention)||!1,accessLevel:_||"",mentionee:E,duration:A,queryLength:(j.query||"").length},y.contextIdentifierProvider)),n(function(e,t,n,r,o,i,a,s){var c=F(s),l=c.queryLength,d=c.spaceInQuery;return z("mentionTypeahead",W(o)?"clicked":"pressed",D.UI_EVENT_TYPE,r,{duration:e,position:U(a,i),keyboardKey:W(o)?void 0:o,queryLength:l,spaceInQuery:d,isSpecial:Object(u.h)(i),accessLevel:i.accessLevel||"",userType:i.userType,userId:i.id,upKeyCount:t,downKeyCount:n,memberCount:B(i.userType)&&i.context?i.context.memberCount:null,includesYou:B(i.userType)&&i.context?i.context.includesYou:null})}(A,j.upKeyCount,j.downKeyCount,t,p,i.mention,y.mentions,j.query||"")),t=a()(),O&&B(T))return f.a.registerTeamMention(),c(function(e,t,n,r){var o=e.nodes,i=e.marks,a=t.name,c=t.id,l=t.accessLevel,u=t.context,p=window.location.origin+"/people/team/"+c,f=u&&u.teamLink?u.teamLink:p,h=e.text(a,[i.link.create({href:f})]),m=e.text("("),v=e.text(")"),b=e.text(" "),g=[h,b,m],y=u&&u.members?u.members:[];return y.forEach((function(e,t){var i=e.name,a=e.id,s=r?"":"@"+i;r&&Object(d.d)(n)&&n.cacheMentionName(a,i);var c=o.mention.createChecked({text:s,id:e.id,accessLevel:l,userType:"DEFAULT"});g.push(c),t!==y.length-1&&g.push(b)})),g.push(v),s.Fragment.fromArray(g)}(b,i.mention,O,h));var R=h?"":"@"+S;return h&&Object(d.d)(O)&&O.cacheMentionName(E,S),c(b.nodes.mention.createChecked({text:R,id:E,accessLevel:_,userType:"DEFAULT"===T?null:T}))},dismiss:function(e){var r=g.d.getState(e),o=r.queryStarted?Date.now()-r.queryStarted:0;n(function(e,t,n,r,o){var i=F(o),a=i.queryLength,s=i.spaceInQuery;return z("mentionTypeahead","cancelled",D.UI_EVENT_TYPE,r,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:a,spaceInQuery:s})}(o,r.upKeyCount,r.downKeyCount,t,r.query||"")),t=a()()}}}}};var q="SET_PROVIDER",$="SET_RESULTS",Y="SET_CONTEXT",X=function(e){return function(t,n){return n&&n(t.tr.setMeta(Z,{action:q,params:{provider:e}})),!0}},J=function(e){return function(t,n){return n&&n(t.tr.setMeta(Z,{action:Y,params:{context:e}})),!0}},Z=new c.PluginKey("mentionPlugin");function Q(e){return Z.getState(e)}var ee=function(e){return!(!e.mentionTypeaheadHighlightEnabled||!e.mentionTypeaheadCreateTeamPath)}},"7bKp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("I9T1"),o=Math.pow(2,16);function i(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},s=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};s.prototype.recover=function(e){var t=0,n=i(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/o}(e)},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},s.prototype._map=function(e,t,n){for(var r=0,i=this.inverted?2:1,s=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var l=this.ranges[c]-(this.inverted?r:0);if(l>e)break;var u=this.ranges[c+i],d=this.ranges[c+s],p=l+u;if(e<=p){var f=l+r+((u?e==l?-1:e==p?1:t:t)<0?0:d);if(n)return f;var h=c/3+(e-l)*o;return new a(f,t<0?e!=l:e!=p,h)}r+=d-u}return n?e+r:new a(e+r)},s.prototype.touches=function(e,t){for(var n=0,r=i(t),o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var c=this.ranges[s]-(this.inverted?n:0);if(c>e)break;var l=this.ranges[s+o];if(e<=c+l&&s==3*r)return!0;n+=this.ranges[s+a]-l}return!1},s.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),c=this.ranges[r+t],l=this.ranges[r+n];e(a,a+c,s,s+l),o+=l-c}},s.prototype.invert=function(){return new s(this.ranges,!this.inverted)},s.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},s.offset=function(e){return 0==e?s.empty:new s(e<0?[0,-e,0]:[0,0,e])},s.empty=new s([]);var c=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function l(e){var t=Error.call(this,e);return t.__proto__=l.prototype,t}c.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new c(this.maps,this.mirror,e,t)},c.prototype.copy=function(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},c.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},c.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},c.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},c.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},c.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},c.prototype.invert=function(){var e=new c;return e.appendMappingInverted(this),e},c.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype._map=function(e,t,n){for(var r=!1,o=null,i=this.from;i<this.to;i++){var s=this.maps[i],c=o&&o[i];if(null!=c&&s.touches(e,c))e=s.recover(c);else{var l=s.mapResult(e,t);if(null!=l.recover){var u=this.getMirror(i);if(null!=u&&u>i&&u<this.to){if(l.deleted){i=u,e=this.maps[u].recover(l.recover);continue}(o||(o=Object.create(null)))[u]=l.recover}}l.deleted&&(r=!0),e=l.pos}}return n?e:new a(e,r)},l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.name="TransformError";var u=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new c},d={before:{},docChanged:{}};function p(){throw new Error("Override me")}d.before.get=function(){return this.docs.length?this.docs[0]:this.doc},u.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new l(t.failed);return this},u.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},d.docChanged.get=function(){return this.steps.length>0},u.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(u.prototype,d);var f=Object.create(null),h=function(){};h.prototype.apply=function(e){return p()},h.prototype.getMap=function(){return s.empty},h.prototype.invert=function(e){return p()},h.prototype.map=function(e){return p()},h.prototype.merge=function(e){return null},h.prototype.toJSON=function(){return p()},h.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=f[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},h.jsonID=function(e,t){if(e in f)throw new RangeError("Duplicate use of step JSON ID "+e);return f[e]=t,t.prototype.jsonID=e,t};var m=function(e,t){this.doc=e,this.failed=t};m.ok=function(e){return new m(e,null)},m.fail=function(e){return new m(null,e)},m.fromReplace=function(e,t,n,o){try{return m.ok(e.replace(t,n,o))}catch(e){if(e instanceof r.ReplaceError)return m.fail(e.message);throw e}};var v=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&g(e,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new s([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,r.Slice.fromJSON(e,n.slice),!!n.structure)},t}(h);h.jsonID("replace",v);var b=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(g(e,this.from,this.gapFrom)||g(e,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?m.fromReplace(e,this.from,this.to,n):m.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,r.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(h);function g(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function y(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function O(e){return{type:e,attrs:null}}function w(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function E(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function k(e,t,n){for(var o=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(k(a.content,t,a))),a.isInline&&(a=t(a,n,i)),o.push(a)}return r.Fragment.fromArray(o)}h.jsonID("replaceAround",b),u.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,i=e.depth,a=n.before(i+1),s=o.after(i+1),c=a,l=s,u=r.Fragment.empty,d=0,p=i,f=!1;p>t;p--)f||n.index(p)>0?(f=!0,u=r.Fragment.from(n.node(p).copy(u)),d++):c--;for(var h=r.Fragment.empty,m=0,v=i,g=!1;v>t;v--)g||o.after(v+1)<o.end(v)?(g=!0,h=r.Fragment.from(o.node(v).copy(h)),m++):l++;return this.step(new b(c,l,a,s,new r.Slice(u.append(h),d,m),u.size-d,!0))},u.prototype.wrap=function(e,t){for(var n=r.Fragment.empty,o=t.length-1;o>=0;o--)n=r.Fragment.from(t[o].type.create(t[o].attrs,n));var i=e.start,a=e.end;return this.step(new b(i,a,i,a,new r.Slice(n,0,0),t.length,!0))},u.prototype.setBlockType=function(e,t,n,o){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var s=i.mapping.slice(a),c=s.map(t,1),l=s.map(t+e.nodeSize,1);return i.step(new b(c,l,c+1,l-1,new r.Slice(r.Fragment.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}})),this},u.prototype.setNodeMarkup=function(e,t,n,o){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new b(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new r.Slice(r.Fragment.from(a),0,0),1,!0))},u.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),i=r.Fragment.empty,a=r.Fragment.empty,s=o.depth,c=o.depth-t,l=t-1;s>c;s--,l--){i=r.Fragment.from(o.node(s).copy(i));var u=n&&n[l];a=r.Fragment.from(u?u.type.create(u.attrs,a):o.node(s).copy(a))}return this.step(new v(e,e,new r.Slice(i.append(a),t,t),!0))},u.prototype.join=function(e,t){void 0===t&&(t=1);var n=new v(e-t,e+t,r.Slice.empty,!0);return this.step(n)};var x=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),i=o.node(o.sharedDepth(this.to)),a=new r.Slice(k(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new _(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);h.jsonID("addMark",x);var _=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new r.Slice(k(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new x(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);function T(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=r.Slice.empty),t==n&&!o.size)return null;var i=e.resolve(t),a=e.resolve(n);if(j(i,a,o))return new v(t,n,o);var s=function(e,t){var n=function e(t,n,o,i){var a=r.Fragment.empty,s=0,c=o[n];if(t.depth>n){var l=e(t,n+1,o,i||c);s=l.openEnd+1,a=r.Fragment.from(t.node(n+1).copy(l.content))}c&&(a=a.append(c.content),s=c.openEnd);i&&(a=a.append(t.node(n).contentMatchAt(t.indexAfter(n)).fillBefore(r.Fragment.empty,!0)),s=0);return{content:a,openEnd:s}}(e,0,t,!1),o=n.content,i=n.openEnd;return new r.Slice(o,e.depth,i||0)}(i,function(e,t){for(var n=new M(e),r=1;t.size&&r<=3;r++){var o=n.placeSlice(t.content,t.openStart,t.openEnd,r);3==r&&o!=t&&o.size&&(r=0),t=o}for(;n.open.length;)n.closeNode();return n.placed}(i,o)),c=S(i,a,s);if(!c)return null;if(s.size!=c.size&&function(e,t,n){if(!t.parent.isTextblock)return!1;var r,o=n.openEnd?function(e,t){for(var n=1;n<t;n++)e=e.lastChild.content;return e.lastChild}(n.content,n.openEnd):e.node(e.depth-(n.openStart-n.openEnd));if(!o.isTextblock)return!1;for(var i=t.index();i<t.parent.childCount;i++)if(!o.type.allowsMarks(t.parent.child(i).marks))return!1;n.openEnd?r=o.contentMatchAt(o.childCount):(r=o.contentMatchAt(o.childCount),n.size&&(r=r.matchFragment(n.content,n.openStart?1:0)));return(r=r.matchFragment(t.parent.content,t.index()))&&r.validEnd}(i,a,s)){for(var l=a.depth,u=a.after(l);l>1&&u==a.end(--l);)++u;var d=S(i,e.resolve(u),s);if(d)return new b(t,u,n,a.end(),d,s.size)}return c.size||t!=n?new v(t,n,c):null}function C(e,t,n,o,i,a,s){var c,l=e.childCount,u=l-(s>0?1:0),d=a<0?t:n.node(i);c=a<0?d.contentMatchAt(u):1==l&&s>0?d.contentMatchAt(a?n.index(i):n.indexAfter(i)):d.contentMatchAt(n.indexAfter(i)).matchFragment(e,l>0&&a?1:0,u);var p=o.node(i);if(s>0&&i<o.depth){var f=p.content.cutByIndex(o.indexAfter(i)).addToStart(e.lastChild),h=c.fillBefore(f,!0);if(h&&h.size&&a>0&&1==l&&(h=null),h){var m=C(e.lastChild.content,e.lastChild,n,o,i+1,1==l?a-1:-1,s-1);if(m){var v=e.lastChild.copy(m);return h.size?e.cutByIndex(0,l-1).append(h).addToEnd(v):e.replaceChild(l-1,v)}}}s>0&&(c=c.matchType((1==l&&a>0?n.node(i+1):e.lastChild).type));var b=o.index(i);if(b==p.childCount&&!p.type.compatibleContent(t.type))return null;for(var g=c.fillBefore(p.content,!0,b),y=b;g&&y<p.content.childCount;y++)d.type.allowsMarks(p.content.child(y).marks)||(g=null);if(!g)return null;if(s>0){var O=function e(t,n,o,i,a){var s,c=t.content,l=c.childCount;s=a>=0?o.node(i).contentMatchAt(o.indexAfter(i)).matchFragment(c,a>0?1:0,l):t.contentMatchAt(l);if(n>0){var u=e(c.lastChild,n-1,o,i+1,1==l?a-1:-1);c=c.replaceChild(l-1,u)}return t.copy(c.append(s.fillBefore(r.Fragment.empty,!0)))}(e.lastChild,s-1,n,i+1,1==l?a-1:-1);e=e.replaceChild(l-1,O)}return e=e.append(g),o.depth>i&&(e=e.addToEnd(function e(t,n){var r=t.node(n),o=r.contentMatchAt(0).fillBefore(r.content,!0,t.index(n));t.depth>n&&(o=o.addToEnd(e(t,n+1)));return r.copy(o)}(o,i+1))),e}function S(e,t,n){var o=C(n.content,e.node(0),e,t,0,n.openStart,n.openEnd);return o?function(e,t,n){for(;t>0&&n>0&&1==e.childCount;)e=e.firstChild.content,t--,n--;return new r.Slice(e,t,n)}(o,n.openStart,t.depth):null}function j(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}h.jsonID("removeMark",_),u.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,c,l){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var d=Math.max(c,e),p=Math.min(c+r.nodeSize,t),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=p:o.push(a=new _(d,p,u[h])));s&&s.to==d?s.to=p:i.push(s=new x(d,p,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},u.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(o,s){if(o.isInline){a++;var c=null;if(n instanceof r.MarkType){var l=n.isInSet(o.marks);l&&(c=[l])}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length)for(var u=Math.min(s+o.nodeSize,t),d=0;d<c.length;d++){for(var p=c[d],f=void 0,h=0;h<i.length;h++){var m=i[h];m.step==a-1&&p.eq(i[h].style)&&(f=m)}f?(f.to=u,f.step=a):i.push({style:p,from:Math.max(s,e),to:u,step:a})}}})),i.forEach((function(e){return o.step(new _(e.from,e.to,e.style))})),this},u.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var o=this.doc.nodeAt(e),i=[],a=e+1,s=0;s<o.childCount;s++){var c=o.child(s),l=a+c.nodeSize,u=n.matchType(c.type,c.attrs);if(u){n=u;for(var d=0;d<c.marks.length;d++)t.allowsMarkType(c.marks[d].type)||this.step(new _(a,l,c.marks[d]))}else i.push(new v(a,l,r.Slice.empty));a=l}if(!n.validEnd){var p=n.fillBefore(r.Fragment.empty,!0);this.replace(a,a,new r.Slice(p,0,0))}for(var f=i.length-1;f>=0;f--)this.step(i[f]);return this},u.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=r.Slice.empty);var o=T(this.doc,e,t,n);return o&&this.step(o),this},u.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new r.Slice(r.Fragment.from(n),0,0))},u.prototype.delete=function(e,t){return this.replace(e,t,r.Slice.empty)},u.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var M=function(e){this.open=[];for(var t=0;t<=e.depth;t++){var n=e.node(t),o=n.contentMatchAt(e.indexAfter(t));this.open.push({parent:n,match:o,content:r.Fragment.empty,wrapper:!1,openEnd:0,depth:t})}this.placed=[]};function A(e,t,n){var r=e.content;if(t>1){var o=A(e.firstChild,t-1,1==e.childCount?n-1:0);r=e.content.replaceChild(0,o)}var i=e.type.contentMatch.fillBefore(r,0==n);return e.copy(i.append(r))}function R(e,t,n,o,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(R(a.content,t+1,n,o,a)))}if(t>o){var s=i.contentMatchAt(0),c=s.fillBefore(e).append(e);e=c.append(s.matchFragment(c).fillBefore(r.Fragment.empty,!0))}return e}function N(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}M.prototype.placeSlice=function(e,t,n,o,i){if(t>0){var a=e.firstChild,s=this.placeSlice(a.content,Math.max(0,t-1),n&&1==e.childCount?n-1:0,o,a);s.content!=a.content&&(s.content.size?(e=e.replaceChild(0,a.copy(s.content)),t=s.openStart+1):(1==e.childCount&&(n=0),e=e.cutByIndex(1),t=0))}var c=this.placeContent(e,t,n,o,i);if(o>2&&c.size&&0==t){var l=c.content.firstChild,u=1==c.content.childCount;this.placeContent(l.content,0,n&&u?n-1:0,o,l),c=u?r.Fragment.empty:new r.Slice(c.content.cutByIndex(1),0,n)}return c},M.prototype.placeContent=function(e,t,n,o,i){for(var a=0;a<e.childCount;a++){for(var s=e.child(a),c=!1,l=a==e.childCount-1,u=this.open.length-1;u>=0;u--){var d=this.open[u],p=void 0;if(o>1&&(p=d.match.findWrapping(s.type))&&(!i||!p.length||p[p.length-1]!=i.type)){for(;this.open.length-1>u;)this.closeNode();for(var f=0;f<p.length;f++)d.match=d.match.matchType(p[f]),u++,d={parent:p[f].create(),match:p[f].contentMatch,content:r.Fragment.empty,wrapper:!0,openEnd:0,depth:u+f},this.open.push(d)}var h=d.match.matchType(s.type);if(!h){var m=d.match.fillBefore(r.Fragment.from(s));if(!m){if(i&&d.match.matchType(i.type))break;continue}for(var v=0;v<m.childCount;v++){var b=m.child(v);this.addNode(d,b,0),h=d.match.matchFragment(b)}}for(;this.open.length-1>u;)this.closeNode();s=s.mark(d.parent.type.allowedMarks(s.marks)),t&&(s=A(s,t,l?n:0),t=0),this.addNode(d,s,l?n:0),d.match=h,l&&(n=0),c=!0;break}if(!c)break}return this.open.length>1&&(a>0&&a==e.childCount||i&&this.open[this.open.length-1].parent.type==i.type)&&this.closeNode(),new r.Slice(e.cutByIndex(a),t,n)},M.prototype.addNode=function(e,t,n){var o,i;e.content=(o=e.content,i=e.openEnd,i?o.replaceChild(o.childCount-1,function e(t,n){var o=t.content;if(n>1){var i=e(t.lastChild,n-1);o=t.content.replaceChild(t.childCount-1,i)}var a=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(o.append(a))}(o.lastChild,i)):o).addToEnd(t),e.openEnd=n},M.prototype.closeNode=function(){var e=this.open.pop();0==e.content.size||(e.wrapper?this.addNode(this.open[this.open.length-1],e.parent.copy(e.content),e.openEnd+1):this.placed[e.depth]={depth:e.depth,content:e.content,openEnd:e.openEnd})},u.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),i=this.doc.resolve(t);if(j(o,i,n))return this.step(new v(e,t,n));var a=N(o,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(o.depth+1);a.unshift(s);for(var c=o.depth,l=o.pos-1;c>0;c--,l--){var u=o.node(c).type.spec;if(u.defining||u.isolating)break;a.indexOf(c)>-1?s=c:o.before(c)==l&&a.splice(1,0,-c)}for(var d=a.indexOf(s),p=[],f=n.openStart,h=n.content,m=0;;m++){var b=h.firstChild;if(p.push(b),m==n.openStart)break;h=b.content}f>0&&p[f-1].type.spec.defining&&o.node(d).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&o.node(d).type!=p[f-2].type&&(f-=2);for(var g=n.openStart;g>=0;g--){var y=(g+f+1)%(n.openStart+1),O=p[y];if(O)for(var w=0;w<a.length;w++){var E=a[(w+d)%a.length],k=!0;E<0&&(k=!1,E=-E);var x=o.node(E-1),_=o.index(E-1);if(x.canReplaceWith(_,_,O.type,O.marks))return this.replace(o.before(E),k?i.after(E):t,new r.Slice(R(n.content,0,n.openStart,y),y,n.openEnd))}}for(var T=this.steps.length,C=a.length-1;C>=0&&(this.replace(e,t,n),!(this.steps.length>T));C--){var S=a[C];C<0||(e=o.before(S),t=i.after(S))}return this},u.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=E(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new r.Slice(r.Fragment.from(n),0,0))},u.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=N(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var c=1;c<=n.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&r.end(c)-t!=r.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)},t.Transform=u,t.TransformError=l,t.Step=h,t.StepResult=m,t.joinPoint=function(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0;if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),a=r.node(o).maybeChild(r.index(o)+1)):(i=r.node(o).maybeChild(r.index(o)-1),a=r.node(o+1)),i&&!i.isTextblock&&w(i,a))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}},t.canJoin=function(e,t){var n=e.resolve(t),r=n.index();return w(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},t.canSplit=function(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,c=n-2;s>i;s--,c--){var l=o.node(s),u=o.index(s);if(l.type.spec.isolating)return!1;var d=l.content.cutByIndex(u,l.childCount),p=r&&r[c]||l;if(p!=l&&(d=d.replaceChild(0,p.type.create(p.attrs))),!l.canReplace(u+1,l.childCount)||!p.type.validContent(d))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)},t.insertPoint=E,t.dropPoint=function(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(c>0?1:0);if(1==a?r.node(s).canReplace(l,l,o):r.node(s).contentMatchAt(l).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(s+1):r.after(s+1)}return null},t.liftTarget=function(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!y(r,o,i))break}},t.findWrapping=function(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,c=r;s&&c<o;c++)s=s.matchType(n.child(c).type);if(!s||!s.validEnd)return null;return a}(r,t);return i?o.map(O).concat({type:t,attrs:n}).concat(i.map(O)):null},t.StepMap=s,t.MapResult=a,t.Mapping=c,t.AddMarkStep=x,t.RemoveMarkStep=_,t.ReplaceStep=v,t.ReplaceAroundStep=b,t.replaceStep=T},"98cI":function(e,t,n){"use strict";var r=n("T1Ll").isSpace;function o(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,o=e.length,i=0,a=0,s=!1,c=0;for(t=e.charCodeAt(r);r<o;)96===t?s?(s=!1,c=r):i%2==0&&(s=!0,c=r):124!==t||i%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&s&&(s=!1,r=c+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,n,a){var s,c,l,u,d,p,f,h,m,v,b,g;if(t+2>n)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((l=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[d];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!r(s))return!1;l++}for(p=(c=o(e,t+1)).split("|"),m=[],u=0;u<p.length;u++){if(!(v=p[u].trim())){if(0===u||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?m.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(c=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=(p=i(c.replace(/^\||\|$/g,""))).length)>m.length)return!1;if(a)return!0;for((h=e.push("table_open","table",1)).map=b=[t,0],(h=e.push("thead_open","thead",1)).map=[t,t+1],(h=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<p.length;u++)(h=e.push("th_open","th",1)).map=[t,t+1],m[u]&&(h.attrs=[["style","text-align:"+m[u]]]),(h=e.push("inline","",0)).content=p[u].trim(),h.map=[t,t+1],h.children=[],h=e.push("th_close","th",-1);for(h=e.push("tr_close","tr",-1),h=e.push("thead_close","thead",-1),(h=e.push("tbody_open","tbody",1)).map=g=[t+2,0],d=t+2;d<n&&!(e.sCount[d]<e.blkIndent)&&-1!==(c=o(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){for(p=i(c.replace(/^\||\|$/g,"")),h=e.push("tr_open","tr",1),u=0;u<f;u++)h=e.push("td_open","td",1),m[u]&&(h.attrs=[["style","text-align:"+m[u]]]),(h=e.push("inline","",0)).content=p[u]?p[u].trim():"",h.children=[],h=e.push("td_close","td",-1);h=e.push("tr_close","tr",-1)}return h=e.push("tbody_close","tbody",-1),h=e.push("table_close","table",-1),b[1]=g[1]=d,e.line=d,!0}},"9O50":function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("IJlJ"),a=n("/sMe"),s=function(e){return o.createElement(a.a,Object(r.__assign)({},e,{theme:function(t,n){var o=t(n),i=o.buttonStyles,a=Object(r.__rest)(o,["buttonStyles"]);return Object(r.__assign)({buttonStyles:Object(r.__assign)(Object(r.__assign)({},i),{lineHeight:0,justifyContent:"center","> span":{margin:"0 "+("none"===e.spacing?"0":"-2px")},"& + &":{marginLeft:"none"===e.spacing?"4px":"0px"},"&[disabled]":{pointerEvents:"none"}})},a)}}))},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props,r=n.disabled,o=n.onClick;!r&&o&&o(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=o.createElement(s,{appearance:"subtle","aria-haspopup":!0,className:this.props.className,href:this.props.href,"aria-label":this.props["aria-label"],iconAfter:this.props.iconAfter,iconBefore:this.props.iconBefore,isDisabled:this.props.disabled,isSelected:this.props.selected,onClick:this.handleClick,spacing:this.props.spacing||"default",target:this.props.target,theme:this.props.theme,shouldFitContainer:!0},this.props.children),t=this.props.hideTooltip?null:this.props.title;return this.props.title?o.createElement(i.a,{content:t,hideTooltipOnClick:!0,position:this.props.titlePosition},e):e},t.defaultProps={className:"",titlePosition:"top"},t}(o.PureComponent);t.a=c},"9eQ7":function(e,t,n){"use strict";function r(e){var t=e.doc,n=e.schema.marks.typeAheadQuery,r=e.selection;return function(e,t,n,r){var o={start:-1,end:-1};return t.nodesBetween(n,r,(function(t,n){-1===o.start&&e.isInSet(t.marks)&&(o={start:n,end:n+Math.max(t.textContent.length,1)})})),o}(n,t,r.from-1,r.to)}n.d(t,"a",(function(){return r}))},"A+BJ":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"h",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return _})),n.d(t,"g",(function(){return T})),n.d(t,"c",(function(){return C}));var r,o,i,a,s,c,l,u,d,p=n("D57K"),f=n("KsTJ"),h=n("RZTm"),m=n("dDc+"),v=Object(h.l)()+"px",b=f.default.span(r||(r=Object(p.__makeTemplateObject)(["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"],["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"]))),g=f.default.span(o||(o=Object(p.__makeTemplateObject)(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),m.colors.N30),y=f.default.span(i||(i=Object(p.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n  margin-left: ","px;\n  min-width: ",";\n"],["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n  margin-left: ","px;\n  min-width: ",";\n"])),(function(e){return e.isSmall?4:0}),(function(e){return e.isSmall?"40px":"auto"})),O=f.default.span(a||(a=Object(p.__makeTemplateObject)(["\n  margin-left: -8px;\n"],["\n  margin-left: -8px;\n"]))),w=f.default.div(s||(s=Object(p.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),E=y,k=f.default.span(c||(c=Object(p.__makeTemplateObject)(["\n  display: flex;\n  min-width: 80px;\n  height: 24px;\n  line-height: 24px;\n  align-items: center;\n  padding: ",";\n  flex-direction: column;\n"],["\n  display: flex;\n  min-width: 80px;\n  height: 24px;\n  line-height: 24px;\n  align-items: center;\n  padding: ",";\n  flex-direction: column;\n"])),(function(e){return e.width?0:"0 8px"})),x=Object(f.css)(l||(l=Object(p.__makeTemplateObject)(["\n  box-shadow: 0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25);\n"],["\n  box-shadow: 0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25);\n"]))),_="\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: "+v+";\n    width: "+v+";\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: "+v+";\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n",T=f.default.div(u||(u=Object(p.__makeTemplateObject)(["\n  background-color: rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: 11.67px;\n  align-self: flex-end;\n"],["\n  background-color: rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: 11.67px;\n  align-self: flex-end;\n"])),m.colors.N100,Object(h.f)()),C=f.default.span(d||(d=Object(p.__makeTemplateObject)(["\n  user-select: all;\n"],["\n  user-select: all;\n"])))},"A/E9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("Vvhb"),o=n("hz1Q"),i="EDITOR_ANALYTICS_EVENT",a=o.a.editor,s=r.a;t.c=r.b},AFCn:function(e,t,n){"use strict";var r=n("D57K"),o=n("Dsue"),i=n("aGmo"),a=n("7bKp"),s=n("0Hbo"),c=n("lSUb"),l=n("yvY0"),u=n("6zfK"),d=function(e,t,n,o){if(e&&e.length){var i,s=n.state,c=n.state.schema,u=e.map((function(e){return a.Step.fromJSON(c,e)}));if(o&&o.useNativePlugin&&t?i=Object(l.receiveTransaction)(s,u,t):(i=s.tr,u.forEach((function(e){return i.step(e)}))),i){i.setMeta("addToHistory",!1),i.setMeta("isRemote",!0);var d=s.selection,p=d.from,f=d.to,h=Object(r.__read)(e,1)[0];p===h.from&&f===h.to&&i.setSelection(s.selection.map(i.doc,i.mapping));var m=s.apply(i);n.updateState(m)}}};function p(e){return e instanceof o.AllSelection}function f(e){return e instanceof o.NodeSelection}var h=function(){function e(e){void 0===e&&(e=new Map),this.participants=e}return e.prototype.add=function(t){var n=new Map(this.participants);return t.forEach((function(e){n.set(e.sessionId,e)})),new e(n)},e.prototype.remove=function(t){var n=new Map(this.participants);return t.forEach((function(e){n.delete(e)})),new e(n)},e.prototype.update=function(t,n){var o=new Map(this.participants),i=o.get(t);return i?(o.set(t,Object(r.__assign)(Object(r.__assign)({},i),{lastActive:n})),new e(o)):this},e.prototype.toArray=function(){return Array.from(this.participants.values())},e.prototype.get=function(e){return this.participants.get(e)},e.prototype.eq=function(e){return this.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")===e.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")},e}();n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var m=new o.PluginKey("collabEditPlugin"),v=function(e){["init","connected","data","presence","telepointer","local-steps","error"].forEach((function(t){e.unsubscribeAll(t)}))},b=Object(c.a)((function(e,t){e.initialize((function(){return t.state}),(function(e){return a.Step.fromJSON(t.state.schema,e)}))})),g=function(e,t,n,i){var a,c=0;return new o.Plugin({key:m,state:{init:function(e){return w.init(e)},apply:function(t,n,r,o){var i=n.apply(t),l=t.getMeta(s.fixTablesKey);!a||!0===t.getMeta("isRemote")||l&&l.fixTables||!i.isReady||a.send(t,r,o);var u=n.activeParticipants,d=i.activeParticipants,h=i.sessionId;if(a){var v=!r.selection.eq(o.selection),b=!u.eq(d);if(h&&v&&!t.docChanged||h&&b){var g={type:"telepointer",selection:function(e){return{type:"textSelection",anchor:e.anchor,head:p(e)||f(e)?e.head-1:e.head}}(o.selection),sessionId:h},y=a.sendMessage.bind(a);clearTimeout(c),c=window.setTimeout((function(e){return y(e)}),0,g)}}return e(m,{activeParticipants:d,sessionId:h}),i}},props:{decorations:function(e){return this.getState(e).decorations}},filterTransaction:function(e,t){var n=m.getState(t);return!(e.getMeta("collabInitialised")&&!n.isReady&&e.docChanged)},view:function(e){var o=this;return t.subscribe("collabEditProvider",(function(s,c){return Object(r.__awaiter)(o,void 0,void 0,(function(){var o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return c?(o=m.getState(e.state),[4,c]):[3,2];case 1:return a=r.sent(),o.isReady&&v(a),a.on("init",(function(r){e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),function(e,t,n,r,o){var i=e.doc,a=e.json,s=e.version;if(i){var c=t.state,l=Object(u.e)(i,c,s,n,r,o);l.setMeta("isRemote",!0);var p=c.apply(l);t.updateState(p)}else a&&d(a,void 0,t)}(r,e,n,t,i)})).on("connected",(function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("sessionId",e))}(t,e)})).on("data",(function(t){return function(e,t,n){var r=e.json,o=e.newState,i=e.userIds;r?d(r,void 0===i?[]:i,t,n):o&&t.updateState(o)}(t,e,n)})).on("presence",(function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("presence",e))}(t,e)})).on("telepointer",(function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("telepointer",e))}(t,e)})).on("local-steps",(function(t){var n=t.steps,r=e.state,o=r.tr;n.forEach((function(e){return o.step(e)}));var i=r.apply(o);e.updateState(i)})).on("error",(function(){})),b(a,e),[3,3];case 2:a=null,r.label=3;case 3:return[2]}}))}))})),{destroy:function(){t.unsubscribeAll("collabEditProvider"),a&&v(a),a=null,clearTimeout(c)}}}})},y=function(e){return e instanceof a.ReplaceStep},O=function(e,t){var n=e.doc.resolve(t),r=o.Selection.findFrom(n,-1,!0),i=o.Selection.findFrom(n,1,!0);return r?r.from:i?i.from:t},w=function(){function e(e,t,n,r){void 0===r&&(r=!1),this.decorationSet=e,this.participants=t,this.sid=n,this.isReady=r}return Object.defineProperty(e.prototype,"decorations",{get:function(){return this.decorationSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeParticipants",{get:function(){return this.participants},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.sid},enumerable:!0,configurable:!0}),e.prototype.getInitial=function(e){var t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"},e.prototype.apply=function(t){var n=this,r=this.decorationSet,o=this.participants,i=this.sid,a=this.isReady,s=t.getMeta("presence"),c=t.getMeta("telepointer"),l=t.getMeta("sessionId"),d=t.getMeta("collabInitialised");"boolean"!=typeof d&&(d=a),l&&(i=l.sid);var p=[],f=[];if(s){var h=s.joined,m=void 0===h?[]:h,v=s.left,b=void 0===v?[]:v;o=(o=o.remove(b.map((function(e){return e.sessionId})))).add(m),b.forEach((function(e){var t=Object(u.c)(e.sessionId,r);t&&(f=f.concat(t))}))}if(c){var g=c.sessionId;if(o.get(g)&&g!==i){var w=Object(u.c)(c.sessionId,r);w&&(f=f.concat(w));var E=c.selection,k=E.anchor,x=E.head,_=k<x?k:x,T=k>=x?k:x,C=T-_>0,S=1,j=1;try{S=O(t,C?Math.max(_-1,0):_),j=C?O(t,T):S}catch(e){}p=p.concat(Object(u.b)(S,j,g,C,this.getInitial(g)))}}if(t.docChanged){try{r=r.map(t.mapping,t.doc,{onRemove:function(e){if(e.pointer&&e.pointer.sessionId){var r=t.steps.filter(y)[0];if(r){var o=e.pointer.sessionId,i=r,a=i.slice.content.size,s=i.from,c=O(t,a?Math.min(s+a,t.doc.nodeSize-3):Math.max(s,1));p=p.concat(Object(u.b)(c,c,o,!1,n.getInitial(o)))}}}})}catch(e){}t.steps.filter(y).forEach((function(e){var t=e,n=t.from,o=t.to;r.find(n,o).forEach((function(e){e.from!==e.to&&f.push(e)}))}))}var M=t.selection;return r.find().forEach((function(e){e.type.toDOM&&(e.from===M.from&&e.to===M.to?(e.type.toDOM.classList.add("telepointer-dim"),e.type.side=-1):(e.type.toDOM.classList.remove("telepointer-dim"),e.type.side=0))})),f.length&&(r=r.remove(f)),p.length&&(r=r.add(t.doc,p)),new e(r,o,i,d)},e.init=function(t){var n=t.doc;return new e(i.DecorationSet.create(n,[]),new h)},e}()},AXp1:function(e,t,n){"use strict";var r=n("T1Ll").isWhiteSpace,o=n("T1Ll").isPunctChar,i=n("T1Ll").isMdAsciiPunct,a=/['"]/,s=/['"]/g;function c(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function l(e,t){var n,a,l,u,d,p,f,h,m,v,b,g,y,O,w,E,k,x,_,T,C;for(_=[],n=0;n<e.length;n++){for(a=e[n],f=e[n].level,k=_.length-1;k>=0&&!(_[k].level<=f);k--);if(_.length=k+1,"text"===a.type){d=0,p=(l=a.content).length;e:for(;d<p&&(s.lastIndex=d,u=s.exec(l));){if(w=E=!0,d=u.index+1,x="'"===u[0],m=32,u.index-1>=0)m=l.charCodeAt(u.index-1);else for(k=n-1;k>=0&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k--)if("text"===e[k].type){m=e[k].content.charCodeAt(e[k].content.length-1);break}if(v=32,d<p)v=l.charCodeAt(d);else for(k=n+1;k<e.length&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k++)if("text"===e[k].type){v=e[k].content.charCodeAt(0);break}if(b=i(m)||o(String.fromCharCode(m)),g=i(v)||o(String.fromCharCode(v)),y=r(m),(O=r(v))?w=!1:g&&(y||b||(w=!1)),y?E=!1:b&&(O||g||(E=!1)),34===v&&'"'===u[0]&&m>=48&&m<=57&&(E=w=!1),w&&E&&(w=!1,E=g),w||E){if(E)for(k=_.length-1;k>=0&&(h=_[k],!(_[k].level<f));k--)if(h.single===x&&_[k].level===f){h=_[k],x?(T=t.md.options.quotes[2],C=t.md.options.quotes[3]):(T=t.md.options.quotes[0],C=t.md.options.quotes[1]),a.content=c(a.content,u.index,C),e[h.token].content=c(e[h.token].content,h.pos,T),d+=C.length-1,h.token===n&&(d+=T.length-1),p=(l=a.content).length,_.length=k;continue e}w?_.push({token:n,pos:u.index,single:x,level:f}):E&&x&&(a.content=c(a.content,u.index,"’"))}else x&&(a.content=c(a.content,u.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},AbX1:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("JxnG"),o=n("Dsue"),i=n("kbCE"),a=n("gdUu"),s=n("xqwH"),c=n("Wtp3"),l=new o.PluginKey("textFormatting"),u=function(e){var t=e.schema.marks,n=t.em,o=t.code,i=t.strike,s=t.strong,c=t.subsup,l=t.underline,u={};if(o&&(u.codeActive=Object(a.a)(e,o.create()),u.codeDisabled=!Object(r.toggleMark)(o)(e)),n&&(u.emActive=Object(a.a)(e,n),u.emDisabled=!!u.codeActive||!Object(r.toggleMark)(n)(e)),i&&(u.strikeActive=Object(a.a)(e,i),u.strikeDisabled=!!u.codeActive||!Object(r.toggleMark)(i)(e)),s&&(u.strongActive=Object(a.a)(e,s),u.strongDisabled=!!u.codeActive||!Object(r.toggleMark)(s)(e)),c){var d=c.create({type:"sub"}),p=c.create({type:"sup"});u.subscriptActive=Object(a.a)(e,d),u.subscriptDisabled=!!u.codeActive||!Object(r.toggleMark)(c,{type:"sub"})(e),u.superscriptActive=Object(a.a)(e,p),u.superscriptDisabled=!!u.codeActive||!Object(r.toggleMark)(c,{type:"sup"})(e)}return l&&(u.underlineActive=Object(a.a)(e,l),u.underlineDisabled=!!u.codeActive||!Object(r.toggleMark)(l)(e)),u},d=function(e){return new o.Plugin({state:{init:function(e,t){return u(t)},apply:function(t,n,r,o){var a=u(o);return Object(i.I)(n,a)?n:(e(l,a),a)}},key:l,props:{handleKeyDown:function(e,t){var n=e.state,r=e.dispatch;return t.key===c.moveRight.common?s.c()(n,r):t.key===c.moveLeft.common&&s.b()(n,r)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch;return Object(s.a)(t,n,r)(o,i)}}})}},AsbT:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,s=-1,c=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<c;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=l,-1}return o&&(s=e.pos),e.pos=l,s}},AvUA:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("0Hbo"),o=n("m23B");function i(e){var t,n=0,i=0,a=Object(o.findTable)(e);return a&&(n=(t=r.TableMap.get(a.node)).height,i=t.width),{table:a,map:t,totalRowCount:n,totalColumnCount:i}}function a(e){var t=1,n=1,r=1,a=i(e),s=a.table,c=a.map,l=a.totalRowCount,u=a.totalColumnCount;if(s&&c){var d=Object(o.getSelectionRect)(e);d&&(r=c.cellsInRect(d).length,t=d.right-d.left,n=d.bottom-d.top)}return{totalRowCount:l,totalColumnCount:u,horizontalCells:t,verticalCells:n,totalCells:r}}},Az3j:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("FHM0");function o(e,t,n,s){return void 0===n&&(n=[]),void 0===s&&(s=document.createElement("canvas")),function(e,t,n,s){for(var c=[],l=0,u=0;u<e.childNodes.length;u++){var d=e.childNodes[u];if(d.nodeType!==Node.COMMENT_NODE)if(d.nodeType===Node.TEXT_NODE){var p=d.parentNode,f=getComputedStyle(p),h=0;h="CODE"===p.nodeName||"PRE"===p.nodeName?a(n,p,d.textContent,f.font):i(n,d.textContent,f.font);var m=p.offsetLeft-t.offsetLeft;c.push(l),l+=h+m,"nowrap"===f.whiteSpace&&s.push(p.offsetWidth+3)}else{var v=getComputedStyle(d);v.minWidth&&v.minWidth.endsWith("px")&&"0px"!==v.minWidth&&s.push(Object(r.e)(v.minWidth));var b=o(d,t,s,n).width;v.display&&v.display.indexOf("inline")>-1?l+=b:(c.push(l),l=b)}}return c.push(l),{minWidth:s.reduce((function(e,t){return Math.max(t,e)}),0),width:c.reduce((function(e,t){return Math.max(t,e)}),0)}}(e,t||e,s,n)}function i(e,t,n){var r=e.getContext("2d");return r?(n&&(r.font=n),Math.round(r.measureText(t||"").width)):0}function a(e,t,n,r){var o=t;"CODE"===t.nodeName&&(o=t.parentNode);var a=getComputedStyle(o);return n&&"pre"===a.whiteSpace?n.split("\n").reduce((function(t,n){return Math.max(i(e,n,r),t)}),0):i(e,n,r)}},B4K9:function(e,t,n){"use strict";var r=n("D57K"),o=n("Ydxy"),i=n("ERkP"),a=n("O94r"),s=n.n(a),c=n("L21V"),l=n("nYST"),u=n("/9an"),d=n("fRRa"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.title,o=e.className;return i.createElement("div",{id:t,"data-category-id":t,className:s()(o)},i.createElement("div",{className:d.e},Object(l.m)(n)?i.createElement(c.c,Object(r.__assign)({},u.a[n])):n))},t}(i.PureComponent),f=n("ZhrY"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.emojis,n=e.onSelected,r=e.onMouseMove,o=e.title,a=e.showDelete,s=e.onDelete;return i.createElement("div",{className:d.k},t.map((function(e){var t=e.shortName,c=e.id,l=c?c+"-"+o:t+"-"+o;return i.createElement("span",{className:d.f,key:l},i.createElement(f.a,{emoji:e,selectOnHover:!0,onSelected:n,onMouseMove:r,showDelete:a,onDelete:s,placeholderSize:24}))})))},t}(i.PureComponent),m=n("RGqr");n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return O}));var v=function(e,t){this.props=e,this.height=t},b=function(e){function t(t){var n=e.call(this,t,m.a.emojiRowHeight)||this;return n.renderItem=function(){return i.createElement(h,Object(r.__assign)({},n.props))},n}return Object(r.__extends)(t,e),t}(v),g=function(e){function t(){var t=e.call(this,{},m.a.loadingRowHeight)||this;return t.renderItem=function(){return i.createElement("div",{className:d.l},i.createElement("div",null,i.createElement(o.a,{size:"medium"})))},t}return Object(r.__extends)(t,e),t}(v),y=function(e){function t(t){var n=e.call(this,t,m.a.categoryHeadingHeight)||this;return n.renderItem=function(){return i.createElement(p,Object(r.__assign)({},n.props))},n}return Object(r.__extends)(t,e),t}(v),O=function(e,t){var n=t.index,r=t.key,o=t.style,a=e[n];return i.createElement("div",{style:o,key:r},a.renderItem(t))}},B9aC:function(e,t,n){"use strict";var r,o,i,a,s,c,l;n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),function(e){e.INFO="info",e.SUCCESS="success",e.NOTE="note",e.WARNING="warning",e.ERROR="error"}(r||(r={})),function(e){e.EDIT="edit",e.NEW="new"}(o||(o={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(i||(i={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(a||(a={})),function(e){e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(s||(s={})),function(e){e.CURSOR="cursor",e.RANGED="ranged",e.GAP_CURSOR="gapCursor",e.NODE="node",e.CELL="cell"}(c||(c={})),function(e){e.START="start",e.MIDDLE="middle",e.END="end",e.LEFT="left",e.RIGHT="right"}(l||(l={}))},BCq9:function(e,t,n){"use strict";var r=n("D57K"),o=n("/sMe"),i=n("nZDR"),a=n.n(i),s=n("O94r"),c=n.n(s),l=n("ERkP"),u=n("L21V"),d=n("ZhrY"),p=n("dHKo"),f=n("sdcR"),h=n("BtZz"),m=function(e){var t=e.emoji,n=e.selectOnHover,r=[p.l];return l.createElement("button",{className:c()(r),onMouseDown:function(t){!function(e,t){var n=e.onSelected;t.preventDefault(),n&&Object(h.a)(t)&&n()}(e,t)}},l.createElement(f.a,{emoji:t,selectOnHover:n}))},v=n("/9an"),b=n("2sr0"),g=n("sa74"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onToneSelectedHandler=function(e){(0,t.props.onToneSelected)(e);t.fireEvent(Object(g.k)({skinToneModifier:["default","light","mediumLight","medium","mediumDark","dark"][e]}))},t}return Object(r.__extends)(t,e),t.prototype.fireEvent=function(e){var t=this.props.createAnalyticsEvent;t&&Object(g.c)(e)(t)},t.prototype.UNSAFE_componentWillMount=function(){this.fireEvent(Object(g.m)({}))},t.prototype.render=function(){var e=this,t=function(e){return e.skinVariations?Object(r.__spread)([e],e.skinVariations):[e]}(this.props.emoji);return l.createElement("div",null,t.map((function(t,n){return l.createElement(m,{key:""+t.id,onSelected:function(){return e.onToneSelectedHandler(n)},emoji:t,selectOnHover:!0})})))},t}(l.PureComponent),O=Object(b.a)()(y),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectingTone:!1},t.onToneButtonClick=function(){t.setState({selectingTone:!0})},t.onToneSelected=function(e){t.setState({selectingTone:!1}),t.props.onToneSelected&&t.props.onToneSelected(e)},t.onMouseLeave=function(){var e=t.state.selectingTone,n=t.props.onToneSelectorCancelled;e&&n&&n(),t.setState({selectingTone:!1})},t}return Object(r.__extends)(t,e),t.prototype.renderTones=function(){var e=this,t=this.props,n=t.toneEmoji,r=t.selectedTone;if(!n)return null;if(this.state.selectingTone)return l.createElement("div",{className:p.H},l.createElement(O,{emoji:n,onToneSelected:this.onToneSelected}));var o=n;return r&&o.skinVariations&&(o=o.skinVariations[(r||1)-1]),l.createElement("div",{className:p.e},l.createElement(m,{emoji:o,onSelected:function(){return e.onToneButtonClick()},selectOnHover:!0}))},t.prototype.renderEmojiPreview=function(){var e,t,n=this.state.selectingTone,r=this.props,o=r.emoji,i=r.uploadEnabled;if(!o||n||i)return null;var a=c()(((e={})[p.z]=!0,e[p.S]=!!this.props.toneEmoji,e)),s=c()(((t={})[p.D]=!0,t[p.C]=!o.name,t));return l.createElement("div",{className:a},l.createElement("span",{className:p.B},l.createElement(d.a,{emoji:o})),l.createElement("div",{className:s},l.createElement("span",{className:p.w},o.name),l.createElement("span",{className:p.G},o.shortName)))},t.prototype.renderAddOwnEmoji=function(){var e=this.props,t=e.onOpenUpload,n=e.uploadEnabled,i=this.state.selectingTone;return!n||i?null:l.createElement("div",{className:p.a},l.createElement(u.c,Object(r.__assign)({},v.a.addCustomEmojiLabel),(function(e){return l.createElement(o.a,{onClick:t,iconBefore:l.createElement(a.a,{label:e,size:"small"}),appearance:"subtle",className:p.b+" emoji-picker-add-emoji"},e)})))},t.prototype.render=function(){var e=c()([p.q,p.s]);return l.createElement("div",{className:e,onMouseLeave:this.onMouseLeave},this.renderAddOwnEmoji(),this.renderEmojiPreview(),this.renderTones())},t}(l.PureComponent);t.a=w},BE5N:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("eZO1"),o=n("BHQE"),i=function(e){return function(t){return"problem"in e&&Object(o.a)(e),t.setMeta(r.e,e)}}},BH7h:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"em",(function(){return a})),n.d(r,"code",(function(){return s})),n.d(r,"strike",(function(){return c})),n.d(r,"strong",(function(){return l})),n.d(r,"underline",(function(){return u})),n.d(r,"link",(function(){return d})),n.d(r,"subsup",(function(){return p})),n.d(r,"textColor",(function(){return f})),n.d(r,"inline_comment_marker",(function(){return h})),n.d(r,"breakout",(function(){return m})),n.d(r,"alignment",(function(){return v})),n.d(r,"indentation",(function(){return b})),n.d(r,"annotation",(function(){return g})),n.d(r,"paragraph",(function(){return y})),n.d(r,"paragraph_with_no_marks",(function(){return O})),n.d(r,"paragraph_with_alignment",(function(){return w})),n.d(r,"paragraph_with_indentation",(function(){return E})),n.d(r,"bulletList",(function(){return k})),n.d(r,"media",(function(){return x})),n.d(r,"mediaSingle",(function(){return _})),n.d(r,"text",(function(){return T})),n.d(r,"codeBlock",(function(){return C})),n.d(r,"codeBlock_with_no_marks",(function(){return S})),n.d(r,"codeBlock_with_marks",(function(){return j})),n.d(r,"listItem",(function(){return M})),n.d(r,"orderedList",(function(){return A})),n.d(r,"heading",(function(){return R})),n.d(r,"heading_with_no_marks",(function(){return N})),n.d(r,"heading_with_alignment",(function(){return I})),n.d(r,"heading_with_indentation",(function(){return P})),n.d(r,"panel",(function(){return D})),n.d(r,"blockquote",(function(){return L})),n.d(r,"rule",(function(){return B})),n.d(r,"mediaGroup",(function(){return z})),n.d(r,"decisionItem",(function(){return H})),n.d(r,"decisionList",(function(){return F})),n.d(r,"taskItem",(function(){return U})),n.d(r,"taskList",(function(){return W})),n.d(r,"table",(function(){return K})),n.d(r,"tableRow",(function(){return V})),n.d(r,"tableCell",(function(){return G})),n.d(r,"tableHeader",(function(){return q})),n.d(r,"extension",(function(){return $})),n.d(r,"inlineExtension",(function(){return Y})),n.d(r,"bodiedExtension",(function(){return X})),n.d(r,"expand",(function(){return J})),n.d(r,"nestedExpand",(function(){return Z})),n.d(r,"hardBreak",(function(){return Q})),n.d(r,"mention",(function(){return ee})),n.d(r,"emoji",(function(){return te})),n.d(r,"date",(function(){return ne})),n.d(r,"status",(function(){return re})),n.d(r,"placeholder",(function(){return oe})),n.d(r,"blockCard",(function(){return ie})),n.d(r,"inlineCard",(function(){return ae})),n.d(r,"layoutColumn",(function(){return se})),n.d(r,"layoutSection",(function(){return ce})),n.d(r,"block_content",(function(){return le})),n.d(r,"tableCell_content",(function(){return ue})),n.d(r,"extension_content",(function(){return de})),n.d(r,"nestedExpand_content",(function(){return pe})),n.d(r,"formatted_text_inline",(function(){return fe})),n.d(r,"link_text_inline",(function(){return he})),n.d(r,"code_inline",(function(){return me})),n.d(r,"atomic_inline",(function(){return ve})),n.d(r,"inline",(function(){return be})),n.d(r,"doc",(function(){return ge}));var o=n("I9T1"),i=n("D57K"),a={props:{type:{type:"enum",values:["em"]}}},s={props:{type:{type:"enum",values:["code"]}}},c={props:{type:{type:"enum",values:["strike"]}}},l={props:{type:{type:"enum",values:["strong"]}}},u={props:{type:{type:"enum",values:["underline"]}}},d={props:{type:{type:"enum",values:["link"]},attrs:{props:{href:{type:"string"},title:{type:"string",optional:!0},id:{type:"string",optional:!0},collection:{type:"string",optional:!0},occurrenceKey:{type:"string",optional:!0}}}}},p={props:{type:{type:"enum",values:["subsup"]},attrs:{props:{type:{type:"enum",values:["sub","sup"]}}}}},f={props:{type:{type:"enum",values:["textColor"]},attrs:{props:{color:{type:"string",pattern:"^#[0-9a-fA-F]{6}$"}}}}},h={props:{type:{type:"enum",values:["confluenceInlineComment"]},attrs:{props:{reference:{type:"string"}}}}},m={props:{type:{type:"enum",values:["breakout"]},attrs:{props:{mode:{type:"enum",values:["wide","full-width"]}}}}},v={props:{type:{type:"enum",values:["alignment"]},attrs:{props:{align:{type:"enum",values:["center","end"]}}}}},b={props:{type:{type:"enum",values:["indentation"]},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},g={props:{type:{type:"enum",values:["annotation"]},attrs:{props:{id:{type:"string"},annotationType:{type:"enum",values:["inlineComment"]}}}}},y={props:{type:{type:"enum",values:["paragraph"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0}}},O=["paragraph",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],w=["paragraph",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],E=["paragraph",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],k={props:{type:{type:"enum",values:["bulletList"]},content:{type:"array",items:["listItem"],minItems:1}}},x={props:{type:{type:"enum",values:["media"]},attrs:[{props:{type:{type:"enum",values:["link","file"]},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},{props:{type:{type:"enum",values:["external"]},url:{type:"string"},width:{type:"number",optional:!0},height:{type:"number",optional:!0}}}]},required:["attrs"]},_={props:{type:{type:"enum",values:["mediaSingle"]},content:{type:"array",items:["media"],minItems:1,maxItems:1},attrs:{props:{width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}},optional:!0},marks:{type:"array",items:["link"],optional:!0}}},T={props:{type:{type:"enum",values:["text"]},text:{type:"string",minLength:1},marks:{type:"array",items:[],optional:!0}}},C={props:{type:{type:"enum",values:["codeBlock"]},content:{type:"array",items:[["text",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]],optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{language:{type:"string",optional:!0}},optional:!0}}},S=["codeBlock",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],j=["codeBlock",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],M={props:{type:{type:"enum",values:["listItem"]},content:{type:"array",items:[["paragraph_with_no_marks","mediaSingle","codeBlock_with_no_marks"],["paragraph_with_no_marks","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList"]],minItems:1}}},A={props:{type:{type:"enum",values:["orderedList"]},content:{type:"array",items:["listItem"],minItems:1},attrs:{props:{order:{type:"number",minimum:1}},optional:!0}}},R={props:{type:{type:"enum",values:["heading"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},N=["heading",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],I=["heading",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],P=["heading",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],D={props:{type:{type:"enum",values:["panel"]},attrs:{props:{panelType:{type:"enum",values:["info","note","tip","warning","error","success"]}}},content:{type:"array",items:[["paragraph_with_no_marks","bulletList","orderedList","heading_with_no_marks"]],minItems:1}}},L={props:{type:{type:"enum",values:["blockquote"]},content:{type:"array",items:["paragraph_with_no_marks"],minItems:1}}},B={props:{type:{type:"enum",values:["rule"]}}},z={props:{type:{type:"enum",values:["mediaGroup"]},content:{type:"array",items:["media"],minItems:1}}},H={props:{type:{type:"enum",values:["decisionItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"string"}}}}},F={props:{type:{type:"enum",values:["decisionList"]},content:{type:"array",items:["decisionItem"],minItems:1},attrs:{props:{localId:{type:"string"}}}}},U={props:{type:{type:"enum",values:["taskItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"enum",values:["TODO","DONE"]}}}}},W={props:{type:{type:"enum",values:["taskList"]},content:{type:"array",items:["taskItem",["taskItem","taskList"]],minItems:1},attrs:{props:{localId:{type:"string"}}}}},K={props:{type:{type:"enum",values:["table"]},attrs:{props:{isNumberColumnEnabled:{type:"boolean",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0}},optional:!0},content:{type:"array",items:["tableRow"],minItems:1}}},V={props:{type:{type:"enum",values:["tableRow"]},content:{type:"array",items:[["tableCell","tableHeader"]]}}},G={props:{type:{type:"enum",values:["tableCell"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},q={props:{type:{type:"enum",values:["tableHeader"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},$={props:{type:{type:"enum",values:["extension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0}}}}},Y={props:{type:{type:"enum",values:["inlineExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0}}}}},X={props:{type:{type:"enum",values:["bodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0}}},content:"extension_content"},required:["content"]},J={props:{type:{type:"enum",values:["expand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:"extension_content",marks:{type:"array",items:["breakout"],optional:!0}},required:["content"]},Z={props:{type:{type:"enum",values:["nestedExpand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:"nestedExpand_content"},required:["content"]},Q={props:{type:{type:"enum",values:["hardBreak"]},attrs:{props:{text:{type:"enum",values:["\n"],optional:!0}},optional:!0}}},ee={props:{type:{type:"enum",values:["mention"]},attrs:{props:{id:{type:"string"},text:{type:"string",optional:!0},userType:{type:"enum",values:["DEFAULT","SPECIAL","APP"],optional:!0},accessLevel:{type:"string",optional:!0}}}}},te={props:{type:{type:"enum",values:["emoji"]},attrs:{props:{id:{type:"string",optional:!0},shortName:{type:"string"},text:{type:"string",optional:!0}}}}},ne={props:{type:{type:"enum",values:["date"]},attrs:{props:{timestamp:{type:"string",minLength:1}}}}},re={props:{type:{type:"enum",values:["status"]},attrs:{props:{text:{type:"string",minLength:1},color:{type:"enum",values:["neutral","purple","blue","red","yellow","green"]},localId:{type:"string",optional:!0},style:{type:"string",optional:!0}}}}},oe={props:{type:{type:"enum",values:["placeholder"]},attrs:{props:{text:{type:"string"}}}}},ie={props:{type:{type:"enum",values:["blockCard"]},attrs:[{props:{url:{type:"string"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},ae={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},se={props:{type:{type:"enum",values:["layoutColumn"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100}}},content:{type:"array",items:["block_content"],minItems:1}}},ce={props:{type:{type:"enum",values:["layoutSection"]},content:{type:"array",items:["layoutColumn"],minItems:2,maxItems:3},marks:{type:"array",items:["breakout"],optional:!0}}},le=["paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","table","extension","bodiedExtension","expand","blockCard"],ue={type:"array",items:[["paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension","nestedExpand","blockCard"]],minItems:1,allowUnsupportedBlock:!0},de={type:"array",items:[["paragraph_with_no_marks","bulletList","mediaSingle","codeBlock_with_no_marks","orderedList","heading_with_no_marks","panel","blockquote","rule","mediaGroup","decisionList","taskList","table","extension","blockCard"]],minItems:1,allowUnsupportedBlock:!0},pe={type:"array",items:[["paragraph_with_no_marks","mediaSingle","heading_with_no_marks","mediaGroup"]],minItems:1,allowUnsupportedBlock:!0},fe=["text",{props:{marks:{type:"array",items:[["em","strike","strong","underline","link","subsup","textColor","annotation"]],optional:!0}}}],he=["text",{props:{marks:{type:"array",items:["link"],optional:!0}}}],me=["text",{props:{marks:{type:"array",items:[["code","link","annotation"]],optional:!0}}}],ve=["inlineExtension","hardBreak","mention","emoji","date","status","placeholder","inlineCard"],be=["inlineExtension","hardBreak","mention","emoji","date","status","placeholder","inlineCard","formatted_text_inline","code_inline"],ge={props:{version:{type:"enum",values:[1]},type:{type:"enum",values:["doc"]},content:{type:"array",items:[["paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle","codeBlock_with_no_marks","codeBlock_with_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","table","extension","bodiedExtension","expand","blockCard","layoutSection"]],allowUnsupportedBlock:!0}}},ye=function(e){return null!=e},Oe=function(e){return"string"==typeof e||e instanceof String},we=function(e,t,n){return t[n]=e[n],t};function Ee(e){return ye(e.forceContentValidation)}function ke(e,t){void 0===t&&(t=function(e){return e});var n=e.props.marks,r=n.items,o=Object(i.__rest)(n,["items"]);return Object(i.__assign)(Object(i.__assign)({},e),{props:Object(i.__assign)(Object(i.__assign)({},e.props),{marks:Object(i.__assign)(Object(i.__assign)({},o),{items:r.length?Array.isArray(r[0])?r.map(t):[t(r)]:[[]]})})})}var xe=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r,e[r],e)?0:1].push(r),n}),[[],[]])};function _e(e,t){if(!ye(e.type))return!!e.optional;if(!ye(t))return!!e.optional;switch(e.type){case"boolean":return!0===(o=t)||!1===o||"[object Boolean]"===toString.call(o);case"number":return function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}(t)&&(!ye(e.minimum)||e.minimum<=t)&&(!ye(e.maximum)||e.maximum>=t);case"integer":return function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(t)&&(!ye(e.minimum)||e.minimum<=t)&&(!ye(e.maximum)||e.maximum>=t);case"string":return Oe(t)&&(!ye(e.minLength)||e.minLength<=t.length)&&(!e.pattern||new RegExp(e.pattern).test(t));case"object":return function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}(t);case"array":if(!Ee(e)){var n=e.items,r=n.length-1;if(Array.isArray(t))return t.every((function(e,t){return _e(n[Math.min(t,r)],e)}))}return!1;case"enum":return Oe(t)&&e.values.indexOf(t)>-1}var o;return!1}var Te=function(e){if(e&&e.props&&e.props.content){var t=e.props.content;return{allowUnsupportedBlock:t.allowUnsupportedBlock,allowUnsupportedInline:t.allowUnsupportedInline}}return{}},Ce=function(e,t,n){var r=e.type+": invalid content.";if(t)return t(Object(i.__assign)({},e),{code:"INVALID_CONTENT",message:r},Te(n));throw new Error(r)};function Se(e,t,n){var o=function(e,t){return Object.keys(r).reduce((function(n,o){var a=Object(i.__assign)({},r[o]);return a.props&&(a.props=Object(i.__assign)({},a.props),Oe(a.props.content)&&(a.props.content=r[a.props.content]),a.props.content&&(a.props.content.items?a.props.content=Object(i.__assign)({},a.props.content):a.props.content={type:"array",items:(a.props.content||[]).map((function(e){return e.items}))},a.props.content.items=a.props.content.items.map((function(e){return Oe(e)?Array.isArray(r[e])?r[e]:[e]:e})).map((function(n){return n.map((function(e){return Array.isArray(r[e])?r[e]:Oe(e)?e:["text",e]})).filter((function(t){return!e||e.indexOf(Array.isArray(t)?t[0]:t)>-1})).map((function(e){return Array.isArray(e)&&t?[e[0],ke(e[1])]:e}))})))),n[o]=a,n}),{})}(e,t),a=n||{},s=a.mode,c=void 0===s?"strict":s,l=a.allowPrivateAttributes,u=void 0!==l&&l,d=function(e,n,r,a){var s=e.type,l=Object(i.__assign)({},e),p=function(e,t,r){var o=s+": "+t+".";if(n)return{valid:!1,entity:n(l,{code:e,message:o,meta:r},Te(a))};throw new Error(o)};if(!s)return p("INVALID_TYPE","ProseMirror Node/Mark should contain a `type`");var f=function(e,t){var n;if(!t)return{};for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a,c={};if(Array.isArray(a)&&(s=(n=Object(i.__read)(a,2))[0],c=n[1]),s===e)return c}return!1}(s,r);if(!1===f)return p("INVALID_TYPE","type not allowed here");var h=o[s];if(!h)return p("INVALID_TYPE",s+": No validation spec found for type!");var m,v=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},h),f),h.props?{props:Object(i.__assign)(Object(i.__assign)({},h.props),f.props||{})}:{});if(v){if(v.required&&!v.required.every((function(t){return ye(e[t])})))return p("MISSING_PROPERTIES","required prop missing");if(v.props){if(v.props.text&&ye(e.text)&&!_e(v.props.text,e.text))return p("INVALID_TEXT","'text' validation failed");if(v.props.content&&ye(v.props.content.minItems)&&e.content){var b=e.content.length;if(v.props.content.minItems>b)return p("INVALID_CONTENT_LENGTH","'content' should have more than "+v.props.content.minItems+" child",{length:b})}var g=Object(i.__read)(xe(v.props,(function(t,n){return n.optional||!!e[t]})),2)[1];if(g.length)return p("MISSING_PROPERTIES","required prop missing",{props:g});var y={};if(v.props.attrs&&e.attrs){for(var O=(m=v.props.attrs,Array.isArray(m)?m:[m]),w=[],E=0,k=O.length;E<k;++E){var x=O[E];if(!(w=Object(i.__read)(xe(x.props,(function(t,r){if(Ee(r)&&r.forceContentValidation){for(var o=e.attrs[t]||[],a=[],s=r.items.reduce((function(e,t){return e.concat(t)})),c=0;c<o.length;c++){var u=d(o[c],n,s,v);!u.valid&&u.entity&&a.push(u.entity)}return l.attrs=Object(i.__assign)({},l.attrs),l.attrs[t]=a,!0}return _e(r,e.attrs[t])})),2)[1]).length){y=x;break}}if(w.length)return p("INVALID_ATTRIBUTES","'attrs' validation failed",{attrs:w})}var _=Object(i.__read)(xe(e,(function(e){return ye(v.props[e])})),2),T=_[0],C=_[1];if(C.length){if("loose"!==c)return p("REDUNDANT_PROPERTIES","redundant props found: "+C.join(", "),{props:C});l={type:s},T.reduce((function(t,n){return we(e,t,n)}),l)}if(e.attrs){var S=Object.keys(e.attrs).filter((function(e){return!(u&&e.startsWith("__"))}));if(!y||!S.every((function(e){return!!y.props[e]}))){if("loose"!==c){var j=S.filter((function(e){return!y.props[e]}));return p("REDUNDANT_ATTRIBUTES","redundant attributes found: "+j.join(", "),{attrs:j})}l.attrs={},S.filter((function(e){return!!y.props[e]})).reduce((function(t,n){return we(e.attrs||{},t,n)}),l.attrs)}}if(v.props.content)if(e.content)l.content=e.content.map((function(e,t){var r=v.props.content.items.filter((function(t){return"listItem"===s||t.some((function(t){return(Array.isArray(t)?t[0]:t)===e.type}))}));if(r.length){var o=r[r.length>1?Math.min(t,r.length-1):0].filter((function(t){return(Array.isArray(t)?t[0]:t)===e.type}));if(0===o.length)return Ce(e,n,v);for(var i=void 0,a=void 0,c=0,l=o.length;c<l;c++)try{var u=d(e,n,[o[c]],v),p=u.valid,f=u.entity;if(p)return f;a=a||f}catch(e){i=i||e}if(n)return a;throw i}return Ce(e,n,v)})).filter(Boolean);else if(!v.props.content.optional)return p("MISSING_PROPERTIES","missing `content` prop");if(e.marks){if(!v.props.marks)return p("REDUNDANT_MARKS","redundant marks",{marks:Object.keys(e.marks)});var M=v.props.marks.items,A=M.length?Array.isArray(M[0])?M[0]:M:[],R=e.marks.filter((function(e){return"strict"!==c||!t||t.indexOf(e.type)>-1})).map((function(e){return d(e,n,A,v).entity})).filter(Boolean);if(!R.length)return delete l.marks,{valid:!1,entity:l};l.marks=R}}else{var N=Object.keys(e);if(N.length>1)return p("REDUNDANT_PROPERTIES","redundant props found: "+Object.keys(e).join(", "),{props:N})}}return{valid:!0,entity:l}};return d}var je=n("mu0/"),Me=n("i1+U"),Ae=n("Bq3e");n.d(t,"g",(function(){return Ne})),n.d(t,"e",(function(){return Ie})),n.d(t,"i",(function(){return Pe})),n.d(t,"f",(function(){return De})),n.d(t,"h",(function(){return Be})),n.d(t,"a",(function(){return ze})),n.d(t,"l",(function(){return Ue})),n.d(t,"d",(function(){return Ke})),n.d(t,"b",(function(){return Ve})),n.d(t,"j",(function(){return Ge})),n.d(t,"k",(function(){return qe})),n.d(t,"c",(function(){return $e}));var Re=["code","alignment","indentation"];function Ne(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function Ie(e){var t;if(e.isInline)return(t=e).isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(var n=0;n<e.childCount;n++){if(Ie(e.child(n)))return!0}return!1}function Pe(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&Ne(e.firstChild))return!0;var t=[],n=[];return e.forEach((function(e){e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((function(e){return!!e.childCount&&!(1===e.childCount&&Ne(e.firstChild))||e.isAtom})).length}function De(e){var t=e.content.firstChild;return!(1!==e.childCount||!t)&&Ne(t)}function Le(e){return 1===e.depth}function Be(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.node();return!!o&&(Ne(o)&&Le(r))}function ze(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.nodeBefore;return!!o&&("text"===o.type.name&&"{"===o.text&&(0===r.node().marks.length&&Le(r)))}function He(e,t){return void 0===t&&(t="block"),{type:"unsupported"+("block"===t?"Block":"Inline"),attrs:{originalValue:e}}}function Fe(e,t,n){void 0===n&&(n="block");var r=t.code,o=t.meta;je.a.trackEvent("atlassian.editor.unsupported",{name:e.type||"unknown",type:n,errorCode:r,meta:o&&JSON.stringify(o)})}function Ue(e,t,n,r){if(t){var i;if("string"==typeof t)try{i=JSON.parse(t)}catch(e){return void console.error("Error processing value: "+t+" isn't a valid JSON")}else i=t;if(Array.isArray(i))console.error("Error processing value: "+i+" is an array, but it must be an object.");else try{var a=Object.keys(e.nodes),s=Object.keys(e.marks),c=Se(a,s,{allowPrivateAttributes:!0});"doc"===i.type&&(Array.isArray(i.content)&&0===i.content.length&&i.content.push({type:"paragraph",content:[]}),i.version||(i.version=1));var l=c(i,(function(e,t,n){if(!(s.indexOf(e.type)>-1))return"MISSING_PROPERTIES"===t.code&&"paragraph"===e.type?{type:"paragraph",content:[]}:"INVALID_CONTENT_LENGTH"===t.code?e:n.allowUnsupportedBlock?(Fe(e,t),He(e)):n.allowUnsupportedInline?(Fe(e,t,"inline"),He(e,"inline")):e;"INVALID_TYPE"===t.code&&Re.indexOf(e.type)>-1||Fe(e,t,"mark")})).entity,u=We(void 0===l?{type:"doc",content:[]}:l,n,r),d=o.Node.fromJSON(e,u);return d.check(),d}catch(e){return void console.error("Error processing document:\n"+e.message+"\n\n",JSON.stringify(i))}}}var We=function(e,t,n){return n&&t?function(e,t){var n=new Map,r=!1,o=Object(Me.a)(e,{mention:function(e){if(e.attrs&&e.attrs.text){r=!0;var t=e.attrs.text,o=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,o)}return Object(i.__assign)(Object(i.__assign)({},e),{attrs:Object(i.__assign)(Object(i.__assign)({},e.attrs),{text:""})})}});if(r&&t){var a=function(e,r){r&&r.then((function(e){Object(Ae.d)(e)&&(n.forEach((function(t,n){e.cacheMentionName(n,t)})),n.clear(),t.unsubscribe("mentionProvider",a))}))};t.subscribe("mentionProvider",a)}return o}(e,t):e},Ke=function(e){var t=-1,n=-1;return e.steps.forEach((function(e){e.getMap().forEach((function(e,r,o,i){t=o<t||-1===t?o:t,n=i<n||-1===n?i:n}))})),-1!==t?{from:t,to:n}:null},Ve=function(e){return function(t){for(var n=null,r=t.depth;r>0;r--){var o=t.node(r);e(o)&&(n={pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:o})}return n}},Ge=function(e){return e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end()};function qe(e,t,n){var r=Ke(e);r&&e.doc.nodesBetween(r.from,r.to,t,n)}function $e(e){var t={};return e.nodesBetween(0,e.nodeSize-2,(function(e){t[e.type.name]=(t[e.type.name]||0)+1})),t}},BHQE:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n("D57K"),o=n("Rr/J"),i=n("NFZB"),a=n("C2nh"),s=n("FHM0"),c=n("Az3j"),l=n("RNoV"),u=function(e){return void 0===e&&(e={}),Object(l.a)({events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]})},d=function(e){var t=!1;if(e.doc.descendants((function(n,o){"table"===n.type.name&&(t=function(e,t,n){var o=!1;return n=h(n,e,t,(function(e){var t=e.attrs,n=t.colwidth,i=t.colspan;return n&&n.length>i?(o=!0,e.type.createChecked(Object(r.__assign)(Object(r.__assign)({},e.attrs),{colwidth:n.slice(0,i)}),e.content,e.marks)):e})),!!o&&(u({message:"removeExtraneousColumnWidths"}),!0)}(n,e.mapping.map(o),e))})),t)return e},p=function(e,t,n,o,l){var u=e.state.tr,d=function(e,t,n,r){var o=r.querySelector("tr");if(!o)return[];for(var a=[],l=0;l<o.childElementCount;l++)for(var u=o.children[l],d=Number(u.getAttribute("colspan")||1),p=0;p<d;p++){var f=l+p,h=Object(s.b)(f,t,n,e),m=Object(s.a)(h,(function(e,t){return Object(c.a)(t,r).width}));a[f]=Math.max(m,i.d)}return a}(e.domAtPos.bind(e),t,o+1,n),p=d.reduce((function(e,t){return e+t}),0),m=f(p),v=Object(a.b)(m,l.containerWidth,{dynamicTextSizing:l.dynamicTextSizing}),b=1;p!==v&&(b=v/p);var g=d.map((function(e){return Math.floor(e*b)}));return(u=h(u,t,o,(function(e,t,n){var o=g.slice(n,n+e.attrs.colspan);return e.type.createChecked(Object(r.__assign)(Object(r.__assign)({},e.attrs),{colwidth:o.length?o:null}),e.content,e.marks)}))).setNodeMarkup(o,void 0,Object(r.__assign)(Object(r.__assign)({},t.attrs),{layout:m,__autoSize:!1})).setMeta("addToHistory",!1)},f=function(e){return e>o.F?"full-width":e>o.c&&e<o.F?"wide":"default"};var h=function(e,t,n,r){for(var o=[],i=0,a=0;a<t.childCount;a++){for(var s=t.child(a),c=[],l=0;l<s.childCount;l++){var u=s.child(l),d=r(u,a,l);!1===d.sameMarkup(u)&&i++,c.push(d)}c.length&&o.push(s.type.createChecked(s.attrs,c,s.marks))}if(o.length&&0!==i){var p=t.type.createChecked(t.attrs,o,t.marks);return e.replaceWith(n,n+t.nodeSize,p)}return e}},BXYS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r,o=n("D57K"),i=n("FHM0"),a=n("I3Dr"),s=function(e,t,n,r){if(!e.cols[t+1])return e;var o=u(e,t+1,t,n),i=n-o.amount,s=o.state;return i>0&&(s=d(s,t,i).state),r?Object(a.b)(s,r,t):s},c=function(e,t,n,r){var o=u(e,t,t+1,-n),i=o.state,s=Object(a.e)(i)>i.maxSize;if(!i.cols[t+1]&&!s)return i;var c=n+o.amount;return c<0&&(i=d(i,t+1,c).state),r?Object(a.b)(i,r,t):i};function l(e,t,n){void 0===n&&(n=[]);for(var r=t,a=function(){var t=e.cols.filter((function(e){return Object(i.d)(e)&&-1===n.indexOf(e.index)}));if(0===t.length)return"break";var a=Math.floor(r/t.length);if(0===a)return"break";t.forEach((function(t){var n=t.width-a;if(n<t.minWidth){var i=t.minWidth-n;n=t.minWidth,r=r-a+i}else r-=a;e=Object(o.__assign)(Object(o.__assign)({},e),{cols:Object(o.__spread)(e.cols.slice(0,t.index),[Object(o.__assign)(Object(o.__assign)({},t),{width:n})],e.cols.slice(t.index+1))})}))};r>0;){if("break"===a())break}return e}function u(e,t,n,s,c){void 0===c&&(c=!0);var l=e.cols[t],u=e.cols[n];if(c){var d=Object(i.d)(l);p(r.DEST)(s)>d&&(s=s>0?d:-d)}p(r.SOURCE)(s)<0&&f(r.SOURCE)(s,l,u)<l.minWidth&&(s=l.width-l.minWidth);var h=u?Object(o.__assign)(Object(o.__assign)({},u),{width:f(r.DEST)(s,l,u)}):void 0;if(!h&&p(r.SOURCE)(s)<0){var m=Object(a.e)(e);m-l.width+f(r.SOURCE)(s,l,u)<e.maxSize&&(s=e.maxSize-(m-l.width)-l.width-1)}var v=Object(o.__assign)(Object(o.__assign)({},l),{width:f(r.SOURCE)(s,l,u)}),b=e.cols.map((function(e,r){return r===t?v:r===n?h:e})).filter(Boolean);return{state:Object(o.__assign)(Object(o.__assign)({},e),{cols:b}),amount:s}}function d(e,t,n){for(var r=function(e,t,n){var r=e.cols;return n<0?r.slice(0,t):r.slice(t+1)}(e,t,n),a=function(){var a=function(e,t){if(0===e.length)return-1;"left"==(t<0?"left":"right")&&(e=e.slice().reverse());var n=-1;if(e.forEach((function(e){Object(i.d)(e)&&-1===n&&(n=e.index)})),-1===n)return-1;return n}(r,n);if(-1===a)return n>0?{value:{state:Object(o.__assign)(Object(o.__assign)({},e),{cols:Object(o.__spread)(e.cols.slice(0,t),[Object(o.__assign)(Object(o.__assign)({},e.cols[t]),{width:e.cols[t].width+n})],e.cols.slice(t+1))}),remaining:n}}:"break";var s=r.find((function(e){return e.index===a}));if(!s||Object(i.d)(s)<=0)return"break";var c=u(e,s.index,t,n);e=c.state,n-=c.amount,r=r.filter((function(e){return e.index!==a}))};r.length&&n;){var s=a();if("object"==typeof s)return s.value;if("break"===s)break}return{state:e,remaining:n}}function p(e){return function(t){return e===r.SOURCE?t>0?-t:t:t<0?-t:t}}function f(e){return function(t,n,o){return(e===r.SOURCE?n:o).width+p(e)(t)}}!function(e){e.SOURCE="src",e.DEST="dest"}(r||(r={}))},BYFu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 0 1-4.238.004 2.97 2.97 0 0 1 .002-4.21L13.339 7a1.75 1.75 0 0 1 2.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 0 1-.699-.007.488.488 0 0 1 0-.701l4.764-4.735a.74.74 0 0 0 0-1.052.752.752 0 0 0-1.058 0L8.93 12.785a1.97 1.97 0 0 0 0 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 0 0-.003-4.557 3.253 3.253 0 0 0-4.589.002l-5.466 5.433a4.451 4.451 0 0 0-.001 6.314 4.516 4.516 0 0 0 6.355-.004l5.113-5.081a.74.74 0 0 0 0-1.053.752.752 0 0 0-1.059 0z" fill="currentColor"/></svg>'},e))};s.displayName="EditorAttachmentIcon";var c=s;t.default=c},BmNk:function(e,t,n){"use strict";e.exports.encode=n("C8ig"),e.exports.decode=n("VMHS"),e.exports.format=n("vtGW"),e.exports.parse=n("ucQ5")},Bpyo:function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},BtZz:function(e,t,n){"use strict";function r(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return r}))},C2nh:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("Rr/J"),o=n("NFZB"),i=n("/3wP"),a=n("bLx2"),s=(n("C37w"),{default:r.c,wide:r.F,"full-width":r.k});function c(e,t,n){void 0===t&&(t=0);var c=n.dynamicTextSizing;if(n.isFullWidthModeEnabled)return t?Math.min(t-2*r.m,r.k):r.k;var l=Object(o.b)(e,t,!0);return l.endsWith("px")?parseInt(l,10):c&&"default"===e?function(e){return Object(i.b)(Object(a.d)(e))}(t):s[e]||t}function l(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function u(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t+1).node.offsetWidth,s=r||0;if(o)for(var c=0;c<(r||0);c++)o[c]&&(a-=o[c],s--);return a/s}},C37w:function(e,t,n){"use strict";function r(e,t){for(var n=e;n&&n.parentElement&&!t(n);)n=n.parentElement;return n}function o(e,t){var n=document.createDocumentFragment();Array.from(t.children).forEach((function(e){n.appendChild(e)})),e.replaceChild(n,t)}function i(e){for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){var t=e.parentElement;t.removeChild(e),e=t}}n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var a=function(e,t){return!!e&&(e.classList&&e.classList.contains?e.classList.contains(t):!!e.className&&-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t))}},C8ig:function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,s,c,l,u="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),l=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(s=e.charCodeAt(i),n&&37===s&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))u+=e.slice(i,i+3),i+=2;else if(s<128)u+=l[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a&&(c=e.charCodeAt(i+1))>=56320&&c<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[i]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},CBOu:function(e,t,n){"use strict";var r=n("D57K"),o=n("Dsue"),i=n("kbCE"),a=n("NXKY"),s=n("+FLw"),c=n("9eQ7");function l(e,t,n,r){var o=!1;return t.nodesBetween(n,r,(function(t){!o&&e.isInSet(t.marks)&&(o=!0)})),o}var u=n("Gn7r");n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var d=new o.PluginKey("typeAheadPlugin"),p={SELECT_PREV:"SELECT_PREV",SELECT_NEXT:"SELECT_NEXT",SELECT_CURRENT:"SELECT_CURRENT",SET_CURRENT_INDEX:"SET_CURRENT_INDEX",SET_QUERY:"SET_QUERY",ITEMS_LIST_UPDATED:"ITEMS_LIST_UPDATED"};function f(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),{isAllowed:t,active:!1,prevActiveState:e,query:null,trigger:null,typeAheadHandler:null,currentIndex:0,items:[],itemsLoader:null,queryMarkPos:null,queryStarted:0,upKeyCount:0,downKeyCount:0}}function h(e,t,n){return new o.Plugin({key:d,state:{init:function(){return f()},apply:function(o,i,a,s){var c=o.getMeta(d)||{},l=c.action,u=c.params;switch(l){case p.SET_CURRENT_INDEX:return function(e){var t=e.dispatch,n=e.pluginState,o=e.params;if(!o)return n;var i=Object(r.__assign)(Object(r.__assign)({},n),{currentIndex:o.currentIndex||0===o.currentIndex?o.currentIndex:n.currentIndex});return t(d,i),i}({dispatch:e,pluginState:i,tr:o,params:u});case p.SELECT_PREV:return function(e){var t=e.dispatch,n=e.pluginState,o=n.currentIndex-1,i=Object(r.__assign)(Object(r.__assign)({},n),{currentIndex:o<0?n.items.length-1:o,upKeyCount:++n.upKeyCount});return t(d,i),i}({dispatch:e,pluginState:i,tr:o});case p.SELECT_NEXT:return function(e){var t=e.dispatch,n=e.pluginState,o=n.currentIndex+1,i=Object(r.__assign)(Object(r.__assign)({},n),{currentIndex:o>n.items.length-1?0:o,downKeyCount:++n.downKeyCount});return t(d,i),i}({dispatch:e,pluginState:i,tr:o});case p.ITEMS_LIST_UPDATED:return function(e){var t=e.dispatch,n=e.pluginState,o=e.tr.getMeta(d).items,i=Object(r.__assign)(Object(r.__assign)({},n),{items:o,itemsLoader:null,currentIndex:0});return t(d,i),i}({dispatch:e,pluginState:i,tr:o});case p.SELECT_CURRENT:var h=o.selection,v=h.from,b=h.to,g=s.schema.marks.typeAheadQuery;return o.doc.rangeHasMark(v-1,b,g)?m({dispatch:e,reactContext:t,typeAhead:n,state:s,pluginState:i,tr:o}):function(e){var t=e.dispatch,n=f(!1);return t(d,n),n}({dispatch:e,pluginState:i,tr:o});case p.SET_QUERY:return function(e){var t=e.dispatch,n=e.pluginState,o=e.params;if(!o)return n;var i=Object(r.__assign)(Object(r.__assign)({},n),{query:"string"==typeof o.query?o.query:null});return t(d,i),i}({dispatch:e,pluginState:i,tr:o,params:u});default:return m({dispatch:e,reactContext:t,typeAhead:n,state:s,pluginState:i,tr:o})}}},view:function(){return{update:function(e){var t=d.getState(e.state);if(t){var n=e.state,r=e.dispatch,o=n.doc,i=n.selection,s=i.from,c=i.to,l=n.schema.marks.typeAheadQuery;!t.active||t.query||t.trigger?t.active&&0===(t.query||"").indexOf(" ")?Object(a.a)()(n,r):t.active||!t.prevActiveState||o.rangeHasMark(s-1,c,l)?t.active&&t.itemsLoader&&t.itemsLoader.promise.then((function(t){return function(e){return function(t,n){return n&&n(t.tr.setMeta(d,{action:p.ITEMS_LIST_UPDATED,items:e})),!0}}(t)(e.state,r)})):Object(a.a)()(n,r):Object(a.a)()(n,r)}}}},appendTransaction:function(e,t,n){var r,o=d.getState(n);return o.active&&o.query&&o.typeAheadHandler&&o.typeAheadHandler.forceSelect&&o.typeAheadHandler.forceSelect(o.query,o.items)?(Object(u.b)()(n,(function(e){return r=e})),r):null},props:{handleDOMEvents:{input:function(e,t){var n,r=e.state,i=e.dispatch,a=r.selection,s=r.schema;return!!(a instanceof o.TextSelection&&a.$cursor&&s.marks.typeAheadQuery.isInSet(a.$cursor.marks()))&&((n=t.data,function(e,t){var r=Object(c.a)(e),o=l(e.schema.marks.typeAheadQuery,e.doc,e.selection.from,e.selection.to);return null!==r&&!1!==o&&(t&&t(e.tr.setMeta(d,{action:p.SET_QUERY,params:{query:n}})),!0)})(r,i),!1)},compositionend:function(e,t){var r=e.state,i=e.dispatch,a=r.selection,c=r.schema;return!(!(-1!==n.map((function(e){return e.trigger})).indexOf(t.data)&&a instanceof o.TextSelection&&a.$cursor)||c.marks.typeAheadQuery.isInSet(a.$cursor.marks()))&&(Object(s.a)(t.data,!0)(r,i),!0)}}}})}function m(e){var t=e.dispatch,n=e.reactContext,o=e.typeAhead,a=e.pluginState,s=e.state,u=e.tr,p=s.schema.marks.typeAheadQuery,h=s.doc,m=s.selection,v=l(p,h,m.from-1,m.to),b=Object(i.x)(p,s);if(!b&&!v){if(a&&a.active===v&&a.isAllowed===b)return a;var g=f(a.active,b);return t(d,g),g}var y=m.$from.nodeBefore;if(!v||!y||!a){var O=f(!!a&&a.active);return a&&!a.active&&a.isAllowed||t(d,O),O}var w=p.isInSet(y.marks||[]);if(!w||!w.attrs.trigger)return a;var E=y.textContent||"",k=w.attrs.trigger.replace(/([^\x00-\xFF]|[\s\n])+/g,"");if(!E.includes(k)){var x=Object(r.__assign)(Object(r.__assign)({},f(!0)),{active:!0});return t(d,x),x}var _,T,C=E.replace(/^([^\x00-\xFF]|[\s\n])+/g,"").replace(k,""),S=o.find((function(e){return e.trigger===k})),j=[],M=null,A=null;try{var R=n().intl;j=S.getItems(C,s,R,{prevActive:a.prevActiveState,queryChanged:C!==a.query},u,t),S.getHighlight&&(A=S.getHighlight(s)),a.itemsLoader&&a.itemsLoader.cancel(),j.then&&(_=j,T=!1,M={promise:new Promise((function(e,t){_.then((function(t){return!T&&e(t)})).catch((function(e){return!T&&t(e)}))})),cancel:function(){T=!0}},j=a.items)}catch(e){}var N=Object(c.a)(s),I={isAllowed:b,query:C,trigger:k,typeAheadHandler:S,active:!0,prevActiveState:a.active,items:j,itemsLoader:M,currentIndex:a.currentIndex,queryMarkPos:null!==N?N.start:null,queryStarted:Date.now(),upKeyCount:0,downKeyCount:0,highlight:A};return t(d,I),I}},Cl5k:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n("D57K"),o=n("0Hbo"),i=n("m23B"),a=n("eZO1"),s=function(e){switch(e){case"default":return"wide";case"wide":return"full-width";case"full-width":default:return"default"}},c=function(e,t){return Object(o.toggleHeader)("row")(e,(function(n){return Object(a.a)({type:"TOGGLE_HEADER_ROW"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},l=function(e,t){return Object(o.toggleHeader)("column")(e,(function(n){return Object(a.a)({type:"TOGGLE_HEADER_COLUMN"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},u=function(e,t){var n=e.tr,o=Object(i.findTable)(e.selection),a=o.node,s=o.pos;return n.setNodeMarkup(s,e.schema.nodes.table,Object(r.__assign)(Object(r.__assign)({},a.attrs),{isNumberColumnEnabled:!a.attrs.isNumberColumnEnabled})),n.setMeta("scrollIntoView",!1),t&&t(n),!0},d=function(e,t){var n=Object(i.findTable)(e.selection);if(!n)return!1;var o=s(n.node.attrs.layout);return Object(a.a)({type:"SET_TABLE_LAYOUT",data:{layout:o}},(function(t){return t.setNodeMarkup(n.pos,e.schema.nodes.table,Object(r.__assign)(Object(r.__assign)({},n.node.attrs),{layout:o})),t.setMeta("scrollIntoView",!1)}))(e,t)},p=function(){return Object(a.a)({type:"TOGGLE_CONTEXTUAL_MENU"},(function(e){return e.setMeta("addToHistory",!1)}))}},DDxP:function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};function s(e,t){return a[t.toLowerCase()]}function c(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,s)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function l(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&c(e.tokens[t].children),r.test(e.tokens[t].content)&&l(e.tokens[t].children))}},DH0k:function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function o(e){var t,n=[],r=0,o=e.length,i=0,a=0,s=!1,c=0;for(t=e.charCodeAt(r);r<o;)96===t?s?(s=!1,c=r):i%2==0&&(s=!0,c=r):124!==t||i%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&s&&(s=!1,r=c+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,i,a){var s,c,l,u,d,p,f,h,m,v,b;if(t+2>i)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((l=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[d];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!n(s))return!1;l++}for(p=(c=r(e,t+1)).split("|"),h=[],u=0;u<p.length;u++){if(!(m=p[u].trim())){if(0===u||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?h.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(c=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=o(c.replace(/^\||\|$/g,""))).length>h.length)return!1;if(a)return!0;for((f=e.push("table_open","table",1)).map=v=[t,0],(f=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<p.length;u++)(f=e.push("th_open","th",1)).map=[t,t+1],h[u]&&(f.attrs=[["style","text-align:"+h[u]]]),f=e.push("paragraph_open","p",1),(f=e.push("inline","",0)).content=p[u].trim(),f.map=[t,t+1],f.children=[],f=e.push("paragraph_close","p",-1),f=e.push("th_close","th",-1);for((f=e.push("tr_close","tr",-1)).map=b=[t+2,0],d=t+2;d<i&&!(e.sCount[d]<e.blkIndent)&&-1!==(c=r(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){p=o(c.replace(/^\||\|$/g,"")),f=e.push("tr_open","tr",1);for(var g=0,y=1;g<p.length;g++){f=e.push("td_open","td",1),h[g]&&(f.attrs=[["style","text-align:"+h[g]]]);var O=" "===p[g][0]||/^(\d+\.|\*|-)$/.test(p[g].trim())?1:0;e.bMarks[d]+=y+O,y=(p[g]||"").length+(O?0:1),e.eMarks[d]=e.bMarks[d]+y-1,e.lineMax=1,e.md.block.tokenize(e,d,d+1),f=e.push("td_close","td",-1)}f=e.push("tr_close","tr",-1)}return f=e.push("table_close","table",-1),v[1]=b[1]=d,e.line=d,!0}},DIje:function(e,t,n){"use strict";var r=n("JzjW"),o=n("T1Ll").has,i=n("T1Ll").isValidEntityCode,a=n("T1Ll").fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,l,u=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(u))return!1;if(u+1<d)if(35===e.src.charCodeAt(u+1)){if(l=e.src.slice(u).match(s))return t||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=l[0].length,!0}else if((l=e.src.slice(u).match(c))&&o(r,l[1]))return t||(e.pending+=r[l[1]]),e.pos+=l[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},DJeL:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o=n("D57K"),i=n("ERkP"),a=n("KsTJ"),s=n("dDc+"),c=n("RZTm"),l=a.default.div(r||(r=Object(o.__makeTemplateObject)(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: block;\n  font-size: ","px;\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  user-select: all;\n  min-width: 120px;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: block;\n  font-size: ","px;\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  user-select: all;\n  min-width: 120px;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"])),s.colors.N30,s.colors.N50,Object(c.f)(),Object(c.j)(),s.colors.N50);function u(){return i.createElement(l,null,"Unsupported content")}},DLwO:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("7bKp"),o=function(e,t){var n=t.selection,o=n.$from,i=n.$to,a=o.blockRange(i);return!!a&&!!Object(r.findWrapping)(a,e)},i=function(e,t){for(var n=t.depth,r=e.nodes,o=r.bulletList,i=r.orderedList,a=r.listItem,s=t.depth;s>0;s--){var c=t.node(s);if(c.type!==o&&c.type!==i||(n=s),c.type!==o&&c.type!==i&&c.type!==a)break}return n-1}},DPCN:function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n("XLvf"),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function u(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=b,p=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(i.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function h(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!i.isFunction(e))return i.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,o){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function b(e,t){e||v(e,!0,t,"==",d.ok)}function g(e,t,n,a){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var c=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=y(e),a=y(t);if(o&&!a||!o&&a)return!1;if(o)return e=s.call(e),t=s.call(t),g(e,t,n);var c,l,u=E(e),d=E(t);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),l=u.length-1;l>=0;l--)if(u[l]!==d[l])return!1;for(l=u.length-1;l>=0;l--)if(c=u[l],!g(e[c],t[c],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function O(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&v(o,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&o&&!n;if((!e&&i.isError(o)&&a&&O(o,n)||s)&&v(o,n,"Got unwanted exception"+r),e&&o&&n&&!O(o,n)||!e&&o)throw o}d.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=h(m((t=this).actual),128)+" "+t.operator+" "+h(m(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=f(n),a=o.indexOf("\n"+i);if(a>=0){var s=o.indexOf("\n",a+1);o=o.substring(s+1)}this.stack=o}}},i.inherits(d.AssertionError,Error),d.fail=v,d.ok=b,d.equal=function(e,t,n){e!=t&&v(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){g(e,t,!1)||v(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){g(e,t,!0)||v(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){g(e,t,!1)&&v(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){g(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){w(!0,e,t,n)},d.doesNotThrow=function(e,t,n){w(!1,e,t,n)},d.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n("fRV1"))},DSoh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("m23B"),o=n("I9T1"),i=n("/Xcd"),a=function(e,t){var n=e.schema.nodes,o=n.expand,i=n.nestedExpand;return Object(r.findSelectedNodeOfType)([o,i])(t||e.selection)||Object(r.findParentNodeOfType)([o,i])(t||e.selection)},s=function(e,t){var n=t.nodes,r=n.expand,a=n.nestedExpand,s=[];return Object(i.c)(e.content,(function(e){e.type===a?s.push(r.createChecked(e.attrs,e.content,e.marks)):s.push(e)})),new o.Slice(o.Fragment.fromArray(s),e.openStart,e.openEnd)}},Dezw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0-4h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignImageLeftIcon";var c=s;t.default=c},DqMX:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var r=n("D57K"),o=n("Dsue"),i=n("qp5z"),a=n("Mtm3"),s=n("kbCE"),c=n("Wtp3"),l=n("oISN"),u=n("N01o"),d=function(e,t){switch(e){case a.k:return!!t.schema.nodes.paragraph;case a.e:case a.f:case a.g:case a.h:case a.i:case a.j:return!!t.schema.nodes.heading;case a.a:return!!t.schema.nodes.blockquote;case a.b:return!!t.schema.nodes.codeBlock;case a.m:return!!t.schema.nodes.panel}},p=function(e,t){if(!t.selection)return a.k;var n,r=t.selection,o=r.$from,i=r.$to;return t.doc.nodesBetween(o.pos,i.pos,(function(r){var o=e.filter((function(e){return e===function(e,t){if(e.type===t.nodes.heading){var n=a.c[e.attrs.level];if(n)return n}else if(e.type===t.nodes.paragraph)return a.k;return a.l}(r,t.schema)}));o.length>0&&(n?n!==a.l&&n!==o[0]&&(n=a.l):n=o[0])})),n||a.l},f=function(e,t){return 0===e?Object(l.g)(u.e.FORMATTING)(t.state,t.dispatch):Object(l.f)(e,u.e.FORMATTING)(t.state,t.dispatch),!0},h=new o.PluginKey("blockTypePlugin"),m=function(e,t){var n=0;return new o.Plugin({appendTransaction:function(e,n,r){if(t){var o=r.doc.resolve(r.doc.content.size-1).node(1),i=r.schema.nodes.paragraph;if(o&&o.isBlock&&o.type!==i)return r.tr.insert(r.doc.content.size,r.schema.nodes.paragraph.create())}},state:{init:function(e,t){var n=a.n.filter((function(e){return d(e,t)})),r=a.o.filter((function(e){return d(e,t)}));return{currentBlockType:p(n,t),blockTypesDisabled:Object(s.b)(t),availableBlockTypes:n,availableWrapperBlockTypes:r}},apply:function(t,n,o,i){var a=Object(r.__assign)(Object(r.__assign)({},n),{currentBlockType:p(n.availableBlockTypes,i),blockTypesDisabled:Object(s.b)(i)});return a.currentBlockType===n.currentBlockType&&a.blockTypesDisabled===n.blockTypesDisabled||e(h,a),a}},key:h,props:{handleKeyDown:function(e,t){var r=c.HEADING_KEYS.indexOf(t.keyCode);if(r>-1&&t.altKey){if(i.a.mac&&t.metaKey)return f(r,e);if(!i.a.mac&&t.ctrlKey&&n!==t.DOM_KEY_LOCATION_RIGHT)return f(r,e)}else"Alt"===t.key?n=t.location:t.altKey||(n=0);return!1}}})}},Dsb4:function(e,t,n){"use strict";var r=/\r\n?|\n/g,o=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,"�"),e.src=t}},Dsue:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("I9T1"),o=n("7bKp"),i=Object.create(null),a=function(e,t,n){this.ranges=n||[new c(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},s={anchor:{},head:{},from:{},to:{},$from:{},$to:{},empty:{}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=r.Slice.empty);for(var n=t.content.lastChild,o=null,i=0;i<t.openEnd;i++)o=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,c=0;c<s.length;c++){var l=s[c],u=l.$from,d=l.$to,p=e.mapping.slice(a);e.replaceRange(p.map(u.pos),p.map(d.pos),c?r.Slice.empty:t),0==c&&v(e,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,c=e.mapping.slice(n),l=c.map(a.pos),u=c.map(s.pos);o?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),v(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var r=e.parent.inlineContent?new l(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?m(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):m(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new f(e.node(0))},a.atStart=function(e){return m(e,e,0,0,1)||new f(e)},a.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new f(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return l.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var c=function(e,t){this.$from=e,this.$to=t},l=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),e.prototype.replace.call(this,t,n),n==r.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new u(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i?n=r:(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0&&(n=r)),new t(n,r)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",l);var u=function(e,t){this.anchor=e,this.head=t};u.prototype.map=function(e){return new u(e.map(this.anchor),e.map(this.head))},u.prototype.resolve=function(e){return l.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new r.Slice(r.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new p(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);d.prototype.visible=!1,a.jsonID("node",d);var p=function(e){this.anchor=e};p.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new u(r,r):new p(r)},p.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):a.near(t)};var f=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return h},t}(a);a.jsonID("all",f);var h={map:function(){return this},resolve:function(e){return new f(e)}};function m(e,t,n,r,o,i){if(t.inlineContent)return l.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&d.isSelectable(s))return d.create(e,n-(o<0?s.nodeSize:0))}else{var c=m(e,s,n+o,o<0?s.childCount:0,o,i);if(c)return c}n+=s.nodeSize*o}}function v(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,s=e.steps[r];if(s instanceof o.ReplaceStep||s instanceof o.ReplaceAroundStep)e.mapping.maps[r].forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(a.near(e.doc.resolve(i),n))}}var b=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{},selectionSet:{},storedMarksSet:{},isGeneric:{},scrolledIntoView:{}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o))},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(o.Transform);function g(e,t){return t&&e?e.bind(t):e}var y=function(e,t,n){this.name=e,this.init=g(t.init,n),this.apply=g(t.apply,n)},O=[new y("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new y("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new y("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new y("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],w=function(e,t){var n=this;this.schema=e,this.fields=O.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new y(e.key,e.spec.state,e))}))},E=function(e){this.config=e},k={schema:{},plugins:{},tr:{}};k.schema.get=function(){return this.config.schema},k.plugins.get=function(){return this.config.plugins},E.prototype.apply=function(e){return this.applyTransaction(e).state},E.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},E.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,c=r?r[i].state:this,l=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,c,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(l),n=n.applyInner(l),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},E.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new E(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<x.length;i++)x[i](this,e,t);return t},k.tr.get=function(){return new b(this)},E.create=function(e){for(var t=new w(e.schema||e.doc.type.schema,e.plugins),n=new E(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},E.prototype.reconfigure=function(e){for(var t=new w(e.schema||this.schema,e.plugins),n=t.fields,r=new E(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},E.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},E.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new w(e.schema,e.plugins),i=new E(o);return o.fields.forEach((function(o){if("doc"==o.name)i.doc=r.Node.fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=a.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var c=n[s],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(i[o.name]=l.fromJSON.call(c,e,t[s],i))}i[o.name]=o.init(e,i)}})),i},E.addApplyListener=function(e){x.push(e)},E.removeApplyListener=function(e){var t=x.indexOf(e);t>-1&&x.splice(t,1)},Object.defineProperties(E.prototype,k);var x=[];var _=function(e){this.props={},e.props&&function e(t,n,r){for(var o in t){var i=t[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=e(i,n,{})),r[o]=i}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:C("plugin")};_.prototype.getState=function(e){return e[this.key]};var T=Object.create(null);function C(e){return e in T?e+"$"+ ++T[e]:(T[e]=0,e+"$")}var S=function(e){void 0===e&&(e="key"),this.key=C(e)};S.prototype.get=function(e){return e.config.pluginsByKey[this.key]},S.prototype.getState=function(e){return e[this.key]},t.Selection=a,t.SelectionRange=c,t.TextSelection=l,t.NodeSelection=d,t.AllSelection=f,t.Transaction=b,t.EditorState=E,t.Plugin=_,t.PluginKey=S},Dv3j:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("D57K"),o=n("NJOB"),i=n("iBxf"),a=n("mu0/"),s=n("CBOu"),c="";function l(e,t){var n=t.map((function(e){return e.customRegex||e.trigger})).join("|");if(n.length){var l=new RegExp("(^|[.!?\\s"+i.c+"])("+n+")$"),u=Object(i.a)(l,(function(t,n){var o=s.d.getState(t),i=n[3]||n[2];if(!o.isAllowed||!i)return null;var c=e.mark("typeAheadQuery",{trigger:i}),l=t.tr,u=t.selection.$from.marks();return a.a.trackEvent("atlassian.editor.typeahead.trigger",{trigger:i}),l.replaceSelectionWith(e.text(i,Object(r.__spread)([c],u)),!1)})),d=Object(o.inputRules)({rules:[u]});return c=d.key,d}}},EEFo:function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.DELETED="deleted",e.CLEARED="cleared",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn",e.SORTED_COLUMN="sortedColumn"}(r||(r={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(o||(o={}))},EFtY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 0 0 2 0V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 1 0-1.414-1.414l-8 8a1 1 0 0 0 1.414 1.414z"/></g></svg>'},e))};s.displayName="ShortcutIcon";var c=s;t.default=c},"EOR/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 0 1-.5-.5v-11zM9.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorImageIcon";var c=s;t.default=c},EPLb:function(e,t,n){"use strict";var r,o=n("Dsue"),i=n("m23B"),a=n("LzaW"),s=n("D57K"),c=n("ERkP"),l=n.n(c),u=n("7nmT"),d=n("L21V"),p=n("/sMe"),f=n("0+8W"),h=n("Rr/J"),m=n("5ypJ"),v=n.n(m),b=n("dDc+"),g=n("IJlJ"),y=n("aspk"),O=function(e){var t=e.label,n=e.allowInteractiveExpand,r=Object(c.useCallback)((function(t,n){var r=t(n),o=r.buttonStyles,i=Object(s.__rest)(r,["buttonStyles"]);return Object(s.__assign)({buttonStyles:Object(s.__assign)(Object(s.__assign)({},o),{height:"100%","& svg":{transform:e.expanded?"transform: rotate(90deg);":"tranform: rotate(0deg);",transition:"transform 0.2s "+h.v+";"}})},i)}),[e]);return l.a.createElement(p.a,{appearance:"subtle",className:y.a.iconContainer,iconBefore:l.a.createElement(v.a,{label:t,primaryColor:b.colors.N80A}),shouldFitContainer:!0,theme:r,isDisabled:!n})},w=(r=O,function(e){function t(t){return e.call(this,t)||this}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this.props.label;return l.a.createElement(g.a,{content:e,position:"top",tag:f.b},l.a.createElement(r,Object(s.__assign)({},this.props)))},t}(l.a.Component)),E=O,k=function(e){var t=e.expanded,n=e.intl,r=t?f.c.collapseNode:f.c.expandNode,o=n&&n.formatMessage(r)||r.defaultMessage;return e.allowInteractiveExpand?l.a.createElement(w,Object(s.__assign)({label:o},e)):l.a.createElement(f.b,null,l.a.createElement(E,Object(s.__assign)({label:o},e)))},x=n("T+Sf"),_=n("I9T1"),T=n("kbCE"),C=n("qsl+"),S=n("KU7H"),j=n("uS5U"),M=Object(d.g)(Object(s.__assign)(Object(s.__assign)({},f.c),{expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",description:"Placeholder text for an expand node title input field"}}));var A=function(){function e(e,t,n,r){var i=this;this.allowInteractiveExpand=!0,this.focusTitle=function(){i.input&&i.input.focus()},this.handleIconKeyDown=function(e){switch(Object(x.keyName)(e)){case"Tab":e.preventDefault(),i.focusTitle();break;case"Enter":e.preventDefault(),i.handleClick(e)}},this.isAllowInteractiveExpandEnabled=function(){var e=i.view.state,t=Object(j.b)(e);return t&&!!t.interactiveExpand},this.handleClick=function(e){var t=e.target;if(Object(T.j)(t,"."+y.a.icon)){if(!i.isAllowInteractiveExpandEnabled())return;e.stopPropagation();var n=i.view,r=n.state,o=n.dispatch;return i.view.dom instanceof HTMLElement&&i.view.dom.blur(),void Object(C.g)(i.getPos(),i.node.type)(r,o)}if(t!==i.dom);else{e.stopPropagation();var a=i.view;r=a.state,o=a.dispatch;Object(C.e)(i.getPos())(r,o)}},this.handleInput=function(e){var t=e.target;if(t===i.input){e.stopPropagation();var n=i.view,r=n.state,o=n.dispatch;Object(C.h)(t.value,i.getPos(),i.node.type)(r,o)}},this.handleFocus=function(e){e.stopImmediatePropagation()},this.handleTitleKeydown=function(e){switch(Object(x.keyName)(e)){case"Enter":i.toggleExpand();break;case"Tab":case"ArrowDown":i.moveToOutsideOfTitle(e);break;case"ArrowRight":i.setRightGapCursor(e);break;case"ArrowLeft":case"ArrowUp":i.setLeftGapCursor(e);break;case"Backspace":i.deleteExpand(e)}},this.deleteExpand=function(e){if(i.input){var t=i.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){var r=i.view.state,o=i.node;o&&Object(T.t)(r.schema)(o)&&Object(C.c)(i.getPos(),o)(r,i.view.dispatch)}}},this.toggleExpand=function(){if(i.isAllowInteractiveExpandEnabled()){var e=i.view,t=e.state,n=e.dispatch;Object(C.g)(i.getPos(),i.node.type)(t,n)}},this.moveToOutsideOfTitle=function(e){e.preventDefault();var t=i.view,n=t.state,r=t.dispatch,a=i.getPos();if("number"==typeof a){var s=a;i.isCollapsed()&&(s=a+i.node.nodeSize);var c=n.doc.resolve(s);if(c){if(i.isCollapsed()&&c.nodeAfter&&["expand","nestedExpand"].indexOf(c.nodeAfter.type.name)>-1)return i.setRightGapCursor(e);var l=o.Selection.findFrom(c,1,!0);l&&(i.view.focus(),r(n.tr.setSelection(l)))}}},this.isCollapsed=function(){return!i.node.attrs.__expanded},this.setRightGapCursor=function(e){if(i.input){var t=i.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){var o=i.view,a=o.state,s=o.dispatch;e.preventDefault(),i.view.focus(),s(a.tr.setSelection(new S.a(a.doc.resolve(i.node.nodeSize+i.getPos()),S.c.RIGHT)))}}},this.setLeftGapCursor=function(e){if(i.input){var t=i.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=i.view,o=r.state,a=r.dispatch;i.view.focus(),a(o.tr.setSelection(new S.a(o.doc.resolve(i.getPos()),S.c.LEFT)))}}},this.reactContext=r()||{};var a=_.DOMSerializer.renderSpec(document,function(e,t){return["div",{class:(n=e.type.name,r=e.attrs.__expanded,y.a.prefix+" "+y.a.type(n)+" "+(r?y.a.expanded:"")),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:y.a.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:y.a.icon}],["div",{class:y.a.inputContainer},["input",{class:y.a.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(M.expandPlaceholderText)||M.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:y.a.content},0]];var n,r}(e,this.reactContext.intl)),s=a.dom,c=a.contentDOM;this.getPos=n,this.pos=n(),this.view=t,this.node=e,this.view=t,this.dom=s,this.contentDOM=c,this.icon=this.dom.querySelector("."+y.a.icon),this.input=this.dom.querySelector("."+y.a.titleInput),this.titleContainer=this.dom.querySelector("."+y.a.titleContainer),this.content=this.dom.querySelector("."+y.a.content),this.renderIcon(this.reactContext.intl),this.initHandlers()}return e.prototype.initHandlers=function(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)},e.prototype.renderIcon=function(e,t){if(this.icon){var n=(t&&t.attrs||this.node.attrs).__expanded;u.render(c.createElement(k,{allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:n}),this.icon)}},e.prototype.stopEvent=function(e){var t=e.target;return t===this.input||t===this.icon||!!Object(T.j)(t,"."+y.a.icon)},e.prototype.ignoreMutation=function(){return!0},e.prototype.update=function(e,t){var n=this;return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(y.a.expanded),this.renderIcon(this.reactContext&&this.reactContext.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((function(){n.input&&n.node.attrs.title!==n.input.value&&(n.input.value=n.node.attrs.title)})),this.node=e,!0)},e.prototype.destroy=function(){this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),u.unmountComponentAtNode(this.icon)),this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0},e}(),R=function(e){return function(t,n,r){return new A(t,n,r,e)}},N=n("DSoh");n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return z}));var I=new o.PluginKey("expandPlugin");function P(e,t){return!!e&&e.classList.contains(t)}var D=Object(a.a)(I,(function(e,t){switch(t.type){case"SET_EXPAND_REF":return Object(s.__assign)(Object(s.__assign)({},e),{expandRef:t.data.ref});default:return e}})),L=D.createPluginState,B=D.createCommand,z=D.getPluginState,H=function(e,t){var n=L(e,(function(){return{}}));return new o.Plugin({state:n,key:I,props:{nodeViews:{expand:R(t),nestedExpand:R(t)},handleKeyDown:function(e,t){return P(t.target,y.a.titleContainer)},handleKeyPress:function(e,t){return P(t.target,y.a.titleContainer)}},filterTransaction:function(e){return!(P(document.activeElement,y.a.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric))},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n=e.state,r=e.dispatch,o=Object(N.a)(n);if(o){var a=Object(i.findDomRefAtPos)(o.pos,t);z(n).expandRef!==a&&Object(C.f)(a)(n,r)}}}}})}},EVi6:function(e,t,n){"use strict";var r=n("D57K"),o=n("Dsue"),i=n("X9xp"),a=n("ERkP"),s=n("L21V"),c=n("bgyO"),l=Object(s.g)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision…",description:"Placeholder description for an empty decision in the editor"}}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.contentRef,n=e.showPlaceholder,r=(0,e.intl.formatMessage)(l.placeholder);return a.createElement(c.a,{contentRef:t,placeholder:r,showPlaceholder:n})},t.displayName="Decision",t}(a.Component),d=Object(s.h)(u),p=n("RLFc"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.isContentEmpty=function(e){return 0===e.content.childCount},t.prototype.createDomRef=function(){var e=document.createElement("li");return e.style["list-style-type"]="none",e},t.prototype.getContentDOM=function(){return{dom:document.createElement("div")}},t.prototype.render=function(e,t){return a.createElement(d,{contentRef:t,showPlaceholder:this.isContentEmpty(this.node)})},t.prototype.viewShouldUpdate=function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount},t.prototype.update=function(t,n){var r=this;return e.prototype.update.call(this,t,n,(function(e,t){return!r.isContentEmpty(t)}))},t}(p.b),h=function(e){return function(t,n,r){return new f(t,n,r,e,{}).init()}},m=n("i5KH"),v=n("ROar"),b=n("+i8T"),g=n("pz3b"),y=n("Vutt"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={resolvedContextProvider:void 0},t.mounted=!1,t}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)},t.prototype.updateContextIdentifierProvider=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:if(!e.contextIdentifierProvider)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.contextIdentifierProvider];case 2:return t=n.sent(),this.mounted&&this.setState({resolvedContextProvider:t}),[3,4];case 3:return n.sent(),this.mounted&&this.setState({resolvedContextProvider:void 0}),[3,4];case 4:return[3,6];case 5:this.setState({resolvedContextProvider:void 0}),n.label=6;case 6:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=(e.contextIdentifierProvider,Object(r.__rest)(e,["contextIdentifierProvider"])),n=(this.state.resolvedContextProvider||{}).objectId,o=n?"edit":"new";return a.createElement(y.e,{data:{userContext:o}},a.createElement(g.a,Object(r.__assign)({},t,{objectAri:n})))},t.displayName="TaskItemWithProviders",t}(a.Component),w=Object(s.g)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}}),E=function(e){function t(t){var n=e.call(this,t)||this;return n.renderWithProvider=function(e){var t=n.props,o=(t.providers,t.intl.formatMessage),i=Object(r.__rest)(t,["providers","intl"]),s=e.taskDecisionProvider,c=e.contextIdentifierProvider,l=o(w.placeholder);return a.createElement(O,Object(r.__assign)({},i,{placeholder:l,taskDecisionProvider:s,contextIdentifierProvider:c}))},n.providerFactory=t.providers||new v.a,n}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.providers||this.providerFactory.destroy()},t.prototype.render=function(){return a.createElement(b.a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})},t.displayName="TaskItem",t}(a.PureComponent),k=Object(s.h)(E),x=n("XoQQ"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnChange=function(e,n){var r=t.view.state.tr,o=t.getPos();r.setNodeMarkup(o,void 0,{state:n?"DONE":"TODO",localId:e}),t.view.dispatch(r)},t.addListAnalyticsData=function(e){try{var n=t.view.state.doc.resolve(t.getPos()),o=n.index(),i=n.parent.childCount,a=n.parent.attrs.localId;e.update((function(e){var t=e.attributes,n=void 0===t?{}:t;return"action"!==e.actionSubject?e:Object(r.__assign)(Object(r.__assign)({},e),{attributes:Object(r.__assign)(Object(r.__assign)({},n),{position:o,listSize:i,listLocalId:a})})}))}catch(e){}},t}return Object(r.__extends)(t,e),t.prototype.isContentEmpty=function(e){return 0===e.content.childCount},t.prototype.createDomRef=function(){var e=document.createElement("div");return e.style["list-style-type"]="none",e},t.prototype.getContentDOM=function(){return{dom:document.createElement("div")}},t.prototype.render=function(e,t){var n=this,r=this.node.attrs,o=r.localId,i=r.state;return a.createElement(m.a,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},a.createElement(x.a,{plugins:{taskDecisionPlugin:j},render:function(){return a.createElement(k,{taskId:o,contentRef:t,isDone:"DONE"===i,onChange:n.handleOnChange,showPlaceholder:n.isContentEmpty(n.node),providers:e.providerFactory})}}))},t.prototype.viewShouldUpdate=function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount},t.prototype.update=function(t,n){var r=this;return e.prototype.update.call(this,t,n,(function(e,t){return!(r.isContentEmpty(t)||e.attrs.state!==t.attrs.state)}))},t}(p.b);function T(e,t){return function(n,r,o){return new _(n,r,o,e,{providerFactory:t}).init()}}var C=n("BH7h");n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return A}));var S,j=new o.PluginKey("tasksAndDecisionsPlugin");!function(e){e[e.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER"}(S||(S={}));var M=function(e){return function(t,n){return n&&n(t.tr.setMeta(j,{action:S.SET_CONTEXT_PROVIDER,data:e})),!0}};function A(e,t,n){return new o.Plugin({props:{nodeViews:{taskItem:T(e,t),decisionItem:h(e)}},state:{init:function(){return{insideTaskDecisionItem:!1}},apply:function(e,t){var o=e.getMeta(j)||{action:null,data:null},i=o.action,a=o.data,s=t;switch(i){case S.SET_CONTEXT_PROVIDER:s=Object(r.__assign)(Object(r.__assign)({},t),{contextIdentifierProvider:a})}return n(j,s),s}},view:function(e){return t.subscribe("contextIdentifierProvider",(function(t,n){"contextIdentifierProvider"===t&&(n?n.then((function(t){M(t)(e.state,e.dispatch)})):M(void 0)(e.state,e.dispatch))})),{}},key:j,appendTransaction:function(e,t,n){var o=n.tr,a=!1;if(e.forEach((function(e){e.docChanged&&Object(C.k)(e,(function(e,t){var s=n.schema.nodes,c=s.decisionList,l=s.decisionItem,u=s.taskList,d=s.taskItem;if(e.type&&(e.type===c||e.type===l||e.type===u||e.type===d)){var p=e.attrs,f=p.localId,h=Object(r.__rest)(p,["localId"]);null!=f&&""!==f||(o.setNodeMarkup(t,void 0,Object(r.__assign)({localId:i.b.generate()},h)),a=!0)}}))})),a)return o}})}},"EZ+e":function(e,t,n){var r=n("kidG");e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()<o.getTime()}},F1Zg:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h}));var r,o=n("D57K"),i=n("KsTJ"),a=n("RZTm"),s=n("dDc+"),c=n("SaJh"),l=n("Rr/J"),u=n("mGva"),d=n("gON+"),p=Object(a.l)()-2,f=1.5*Object(a.l)(),h=Object(i.css)(r||(r=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    "," [data-layout-section] {\n      position: relative;\n      margin: ","px -","px 0;\n      transition: border-color 0.3s ",";\n\n      /* Inner cursor located 26px from left */\n      & > * {\n        flex: 1;\n        min-width: 0;\n        border: 1px solid ",";\n        border-radius: 4px;\n\n        > div {\n          padding: ","px;\n\n          > *:first-child {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child + span + * {\n            margin-top: 0;\n          }\n\n          > .mediaSingleView-content-wrap:first-child .media-single {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child\n            + .mediaSingleView-content-wrap\n            .media-single {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child\n            + span\n            + .mediaSingleView-content-wrap\n            .media-single {\n            margin-top: 0;\n          }\n        }\n      }\n\n      & > * + * {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        & > * + * {\n          margin-left: 0;\n        }\n      }\n\n      /**\n        * Border to show when node is selected\n        * Helps visualise when 'selectNodeBackwards' selects the node for deletion\n        */\n      &.ProseMirror-selectednode > * {\n        border-color: ",";\n      }\n      /* Shows the border when cursor is inside a layout */\n      &.selected > *,\n      &:hover > * {\n        border-color: ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border: ","px solid ",";\n      }\n    }\n  }\n\n  .fabric-editor--full-width-mode .ProseMirror {\n    [data-layout-section] {\n      ."," {\n        margin: 0 ","px;\n      }\n    }\n  }\n"],["\n  .ProseMirror {\n    "," [data-layout-section] {\n      position: relative;\n      margin: ","px -","px 0;\n      transition: border-color 0.3s ",";\n\n      /* Inner cursor located 26px from left */\n      & > * {\n        flex: 1;\n        min-width: 0;\n        border: 1px solid ",";\n        border-radius: 4px;\n\n        > div {\n          padding: ","px;\n\n          > *:first-child {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child + span + * {\n            margin-top: 0;\n          }\n\n          > .mediaSingleView-content-wrap:first-child .media-single {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child\n            + .mediaSingleView-content-wrap\n            .media-single {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child\n            + span\n            + .mediaSingleView-content-wrap\n            .media-single {\n            margin-top: 0;\n          }\n        }\n      }\n\n      & > * + * {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        & > * + * {\n          margin-left: 0;\n        }\n      }\n\n      /**\n        * Border to show when node is selected\n        * Helps visualise when 'selectNodeBackwards' selects the node for deletion\n        */\n      &.ProseMirror-selectednode > * {\n        border-color: ",";\n      }\n      /* Shows the border when cursor is inside a layout */\n      &.selected > *,\n      &:hover > * {\n        border-color: ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border: ","px solid ",";\n      }\n    }\n  }\n\n  .fabric-editor--full-width-mode .ProseMirror {\n    [data-layout-section] {\n      ."," {\n        margin: 0 ","px;\n      }\n    }\n  }\n"])),c.a,Object(a.l)()-1,l.G,l.v,s.colors.N40A,f,p,l.L,s.colors.B200,s.colors.N50A,l.d,l.t,l.e,u.c.TABLE_CONTAINER,d.j)},FHM0:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n("0Hbo"),o=n("m23B"),i=n("NFZB"),a=n("Az3j"),s=function(e,t,n){var r=u(e,p),o=r<n?i.g:u(e,function(e){return function(t,n,r){if(r&&r>1)return d(t.width);var o=Object(a.a)(n,n).minWidth;return Math.max(function(e,t){return e+d(t.paddingLeft)+d(t.paddingRight)}(o,t),o,e)}}(n));return{index:t,width:r<n?i.g:r,minWidth:o}},c=function(e){return Math.max(e.width-e.minWidth,0)},l=function(e,t,n,i){var a=r.TableMap.get(t),s=a.cellsInRect({left:e,right:e+1,top:0,bottom:a.height}),c=[];return s.forEach((function(e){var t=Object(o.findDomRefAtPos)(e+n,i);t&&c.push(t)})),c},u=function(e,t){var n=0,r=0;return e.forEach((function(e){var o=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)r=t(o,e,i);else if(o){var a=t(o,e,i);n=Math.max(a,n)}})),n||r},d=function(e){return e?parseInt(e,10):0};function p(e){return d(e.width)}},FY1L:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("D57K"),o=n("I9T1"),i=function(e,t,n,o){return e.reduce((function(e,a){return t.has(a.type)?a.content?e.push(Object(r.__assign)(Object(r.__assign)({},a),{content:i(a.content,t)})):"text"===a.type?function(e,t){var n=t.text;if(n&&"text"===t.type)n.split("\n").reduce((function(e,n,o){return o>0&&e.push({type:"hardBreak"}),e.push(Object(r.__assign)(Object(r.__assign)({},t),{text:n})),e}),e)}(e,a):e.push(a):a.content&&(o&&e.length>0&&function(e,t){if(!t)return!1;var n=t.nodes[e.type];return!!n&&n.isBlock}(a,n)&&e.push({type:"hardBreak"}),i(a.content,t).forEach((function(t){return e.push(t)}))),e}),[])},a=function(e,t,n,r){var o=e.content;return o?i(o,t,n,r):[]},s=function(e,t,n,r){var a=e.toJSON();if(!a)return e;var s=a.content,c=i(s,t,n,r);return o.Slice.fromJSON(n,{content:c,openStart:e.openStart,openEnd:e.openEnd})}},Ft3U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n("raEW"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("Dsue"),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function s(e){var t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var c=0;c<i.length-1;c++){var l=i[c];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);a?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function c(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function l(e){var t=function(e){var t=Object.create(null);for(var n in e)t[s(n)]=e[n];return t}(e);return function(e,n){var r,i=o(n),a=1==i.length&&" "!=i,s=t[c(i,n,!a)];if(s&&s(e.state,e.dispatch,e))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey)&&(r=o.base[n.keyCode])&&r!=i){var l=t[c(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}t.keymap=function(e){return new i.Plugin({props:{handleKeyDown:l(e)}})},t.keydownHandler=l},GBoc:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("Dsue"),o=function(){function e(){this.changeHandlers=[],this.changeHandlers=[]}return e.prototype.subscribe=function(e){this.changeHandlers.push(e)},e.prototype.unsubscribe=function(e){this.changeHandlers=this.changeHandlers.filter((function(t){return t!==e}))},e.prototype.notifyNewSelection=function(e,t){this.changeHandlers.forEach((function(n){return n(e,t)}))},e}(),i=new r.PluginKey("reactNodeView"),a=new r.Plugin({state:{init:function(){return new o},apply:function(e,t){return t}},key:i,view:function(e){var t=i.getState(e.state);return{update:function(e){var n=e.state.selection,r=n.from,o=n.to;t.notifyNewSelection(r,o)}}}})},GE5L:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p}));var r,o,i,a=n("D57K"),s=n("KsTJ"),c=420,l=360,u="\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n",d=s.default.div(r||(r=Object(a.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),u),p=s.default.div(i||(i=Object(a.__makeTemplateObject)(["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  ",";\n  line-height: 2;\n"],["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  ",";\n  line-height: 2;\n"])),c,(function(e){var t=e.provider;return Object(s.css)(o||(o=Object(a.__makeTemplateObject)(["\n      width: ","px;\n    "],["\n      width: ","px;\n    "])),t?c:360)}))},GGnZ:function(e,t,n){"use strict";t.a={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time"}},GK8u:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D57K"),o=n("ERkP"),i=n("7nmT");function a(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){var n=i.findDOMNode(e);(!n||t.target instanceof Node&&!n.contains(t.target))&&e.props.handleClickOutside(t)},e.handleKeydown=function(t){"Escape"===t.code&&e.props.handleEscapeKeydown?e.props.handleEscapeKeydown(t):"Enter"===t.code&&e.props.handleEnterKeydown&&e.props.handleEnterKeydown(t)},e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)},n.prototype.componentWillUnmount=function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)},n.prototype.render=function(){return o.createElement(e,Object(r.__assign)({},this.props))},n}(o.PureComponent)}},GKbP:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,s,c,l,u,d,p,f=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";f<n&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(c=e.bMarks[f]+e.tShift[f])<(l=e.eMarks[f])&&(45===(d=e.src.charCodeAt(c))||61===d)&&(c=e.skipChars(c,d),(c=e.skipSpaces(c))>=l)){u=61===d?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,f,n,!0)){o=!0;break}if(o)break}}return!!u&&(r=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,(s=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),s.map=[t,e.line],(s=e.push("inline","",0)).content=r,s.map=[t,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},GMOd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-8h4a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0 4h4a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm8-4h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaWrapRightIcon";var c=s;t.default=c},GcKS:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o=n("m23B"),i=n("I9T1"),a=n("7bKp"),s=n("BH7h"),c=n("KU7H");!function(e){e.Before="before",e.After="after"}(r||(r={}));var l=function(e,t){return t.resolve(e.after()).node().lastChild===e.node()},u=function(e,t){return t.resolve(e.before()).node().firstChild===e.node()},d=function(e,t,n,o,i){return u(o,e.doc)&&t===r.Before||l(o,e.doc)&&t===r.After?e.insert(n[t](),i):e.insert(o[t](),i)},p=function(e,t){return function(n){var a=n.doc.type.schema.nodes,c=[a.rule,a.mediaSingle];if(e instanceof i.Fragment||!c.includes(e.type)||function(e){var t=e.doc.type.schema.nodes;return Object(o.hasParentNodeOfType)([t.orderedList,t.bulletList])(e.selection)}(n))return null;if(!n.selection.empty||Object(o.isNodeSelection)(n.selection))return null;var p,h=n.selection.$from,m=t?n.doc.resolve(t):Object(o.isNodeSelection)(n.selection)?n.doc.resolve(h.pos+1):h,v=m.end(),b=m.start();if(Object(s.g)(m.parent)?l(m,n.doc)?p=r.After:u(m,n.doc)&&(p=r.Before):m.pos===v?p=r.After:m.pos===b&&(p=r.Before),!p)return null;if(Object(s.g)(m.parent)&&Object(o.canInsert)(n.doc.resolve(m[p]()),e))return f(n.replaceWith(m.before(),m.after(),e),-1);for(var g,y,O=m;O.depth>0;){var w=n.doc.resolve(O[p]()),E=w.node();if(Object(o.canInsert)(O,e))return f(n.insert(O.pos,e),e.nodeSize);if(g=E.type,[(y=n.doc.type.schema.nodes).bulletList,y.orderedList,y.panel].includes(g))return f(d(n,p,w,O,e),e.nodeSize);O=w}return f(n.insert(O.pos,e),e.nodeSize)}},f=function(e,t){var n=e.steps[e.steps.length-1];if(!(n instanceof a.ReplaceStep||n instanceof a.ReplaceAroundStep))return null;var r=n.to+n.slice.openStart+t;return e.setSelection(new c.a(e.doc.resolve(r),c.c.RIGHT)).scrollIntoView()}},Gn7r:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n("Dsue"),o=n("I9T1"),i=n("m23B"),a=n("mu0/"),s=n("kbCE"),c=n("CBOu"),l=n("9eQ7"),u=n("NXKY"),d=function(e){return void 0===e&&(e="selected"),function(t,n){var r=c.d.getState(t),o=r.active,i=r.currentIndex,a=r.items,s=r.typeAheadHandler;return!(!o||!s)&&(s.selectItem&&a[i]?h(s,a[i],e)(t,n):v(t,(function(e,r){return m(e,r)(t,n)})))}},p=function(e){return void 0===e&&(e="selected"),function(t,n){var r=c.d.getState(t),o=r.active,i=r.items,a=r.typeAheadHandler;return!!(o&&a&&a.selectItem)&&(1===i.length?h(a,i[0],e)(t,n):(!i||0===i.length)&&(Object(u.a)()(t,n),!1))}},f=function(e){return function(t,n){var r=c.d.getState(t),o=r.active,i=r.items,a=r.typeAheadHandler;return!!(o&&a&&a.selectItem&&i[e])&&h(a,i[e])(t,n)}},h=function(e,t,n){return void 0===n&&(n="selected"),function(l,u){return v(l,(function(d,p){a.a.trackEvent("atlassian.editor.typeahead.select",{mode:n});var f=e.selectItem(l,t,(function(e,t){void 0===t&&(t={});var n=l.tr;if(n=n.setMeta(c.d,{action:c.a.SELECT_CURRENT}).replaceWith(d,p,o.Fragment.empty),!e)return n;var a,u=e instanceof o.Fragment;try{a=e instanceof o.Node||u?e:"string"==typeof e?l.schema.text(e):o.Node.fromJSON(l.schema,e)}catch(e){return console.error(e),n}if(a.isText)n=n.replaceWith(d,d,a);else if(a.isBlock)n=Object(i.safeInsert)(Object(s.E)(l,a))(n);else if(a.isInline||u){var f=u?a:o.Fragment.fromArray([a,l.schema.text(" ")]);if(n=n.replaceWith(d,d,f),s.r){var h=document.getSelection();h&&h.empty()}n=t.selectInlineNode?n.setSelection(r.NodeSelection.create(n.doc,d)):n.setSelection(r.Selection.near(n.doc.resolve(d+f.size)))}return n}),{mode:n});return!1===f?m(d,p)(l,u):(u&&u(f),!0)}))}},m=function(e,t){return function(n,r){var o=c.d.getState(n),i=o.query,a=o.trigger,s=n.schema.text(a+i);return r&&r(n.tr.replaceWith(e,t,s)),!0}},v=function(e,t){var n=Object(l.a)(e);return!(!n||-1===n.start)&&t(n.start,n.end)}},H6wx:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("D57K"),o=n("ERkP");function i(e,t){return void 0===e&&(e=0),void 0===t&&(t=function(e){}),{width:e,broadcastWidth:t}}var a=o.createContext(i()),s=a.Provider,c=a.Consumer,l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:0},n.broadcastSidebarWidth=function(e){e!==n.state.width&&n.setState({width:e})},n}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(s,{value:i(this.state.width,this.broadcastSidebarWidth)},this.props.children)},t}(o.Component)},HRp0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M18 5h1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zM5 5h9a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutTwoRightSidebarIcon";var c=s;t.default=c},HbsM:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("ERkP")),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:r({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},HlfJ:function(e,t,n){"use strict";var r=n("T1Ll").arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,s,c,l,u,d,p,f,h,m,v,b,g,y,O,w=e.tokens;if(e.md.options.linkify)for(n=0,i=w.length;n<i;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(m=0,t=(a=w[n].children).length-1;t>=0;t--)if("link_close"!==(c=a[t]).type){if("html_inline"===c.type&&(O=c.content,/^<a[>\s]/i.test(O)&&m>0&&m--,o(c.content)&&m++),!(m>0)&&"text"===c.type&&e.md.linkify.test(c.content)){for(d=c.content,y=e.md.linkify.match(d),l=[],h=c.level,f=0,u=0;u<y.length;u++)v=y[u].url,b=e.md.normalizeLink(v),e.md.validateLink(b)&&(g=y[u].text,g=y[u].schema?"mailto:"!==y[u].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),(p=y[u].index)>f&&((s=new e.Token("text","",0)).content=d.slice(f,p),s.level=h,l.push(s)),(s=new e.Token("link_open","a",1)).attrs=[["href",b]],s.level=h++,s.markup="linkify",s.info="auto",l.push(s),(s=new e.Token("text","",0)).content=g,s.level=h,l.push(s),(s=new e.Token("link_close","a",-1)).level=--h,s.markup="linkify",s.info="auto",l.push(s),f=y[u].lastIndex);f<d.length&&((s=new e.Token("text","",0)).content=d.slice(f),s.level=h,l.push(s)),w[n].children=a=r(a,t,l)}}else for(t--;a[t].level!==c.level&&"link_open"!==a[t].type;)t--}},HsCG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5a1 1 0 0 1 1 1v12a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1zm4 0h6a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm10 0a1 1 0 0 1 1 1v12a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutThreeWithSidebarsIcon";var c=s;t.default=c},HwzR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),o=n("ERkP"),i=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={imageStatus:"loading"},e.onLoad=function(){e.setState({imageStatus:"complete"});var t=e.props.onExternalImageLoaded;t&&e.img&&t({width:e.img.naturalWidth,height:e.img.naturalHeight})},e.onError=function(){e.setState({imageStatus:"error"})},e}return Object(r.__extends)(n,t),n.prototype.componentDidMount=function(){this.fetchImage(this.props)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))},n.prototype.componentWillUnmount=function(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)},n.prototype.fetchImage=function(e){var t=e.url;t&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=t)},n.prototype.render=function(){var t=this.state.imageStatus;return o.createElement(e,Object(r.__assign)({},this.props,{imageStatus:t}))},n}(o.Component)}},"I+gj":function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,s,c,l,u={},d=t.length;for(n=0;n<d;n++)if((o=t[n]).length=o.length||0,o.close){for(u.hasOwnProperty(o.marker)||(u[o.marker]=[-1,-1,-1]),a=u[o.marker][o.length%3],s=-1,r=n-o.jump-1;r>a;r-=i.jump+1)if((i=t[r]).marker===o.marker&&(-1===s&&(s=r),i.open&&i.end<0&&i.level===o.level&&(c=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(c=!0)),!c))){l=r>0&&!t[r-1].open?t[r-1].jump+1:0,o.jump=n-r+l,o.open=!1,i.end=n,i.jump=l,i.close=!1,s=-1;break}-1!==s&&(u[o.marker][(o.length||0)%3]=s)}}e.exports=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(0,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(0,n[t].delimiters)}},I3Dr:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n("D57K"),o=n("wiy/"),i=n("NFZB"),a=n("BXYS"),s=n("FHM0"),c=n("ch/M"),l=function(e){var t=e.minWidth,n=e.maxSize,r=e.table,a=e.tableRef,l=e.start,u=e.domAtPos;if(Object(c.b)(r))return{cols:Object(o.a)(r).map((function(e,n){return{width:0===e?i.g:e,minWidth:0===e?i.g:t,index:n}})),maxSize:n};var d=Object(c.c)(a,r);return{cols:Array.from(d).map((function(e,n){var o=Object(s.b)(n,r,l,u);return Object(s.c)(o,n,t)})),maxSize:n}},u=function(e,t,n,r,o){var i=n>0?Object(a.a)(e,t,n,o):n<0?Object(a.c)(e,t,n,o):e;return d(i,r),i},d=function(e,t){var n=t.querySelectorAll("col");e.cols.filter((function(e){return e&&!!e.width})).forEach((function(e,t){n[t]&&(n[t].style.width=e.width+"px")}))},p=function(e){return e.cols.reduce((function(e,t){return e+t.width}),0)},f=function(e,t){var n=t-p(e);if(n>0||n<0&&Math.abs(n)<i.d){var o=!1;return Object(r.__assign)(Object(r.__assign)({},e),{cols:e.cols.map((function(e){return!o&&e.width+n>e.minWidth?(o=!0,Object(r.__assign)(Object(r.__assign)({},e),{width:e.width+n})):e}))})}return e},h=function(e){var t=p(e),n=Math.floor(t/e.cols.length),o=e.cols.map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{width:n})}));return f(Object(r.__assign)(Object(r.__assign)({},e),{cols:o}),t)},m=function(e,t,n){var o=p(e),i=t.indexOf(n)>-1?n:n+1,a=e.cols[i],s={},c=[],l=e.cols.map((function(e){if(t.indexOf(e.index)>-1){var n=e.width-a.width;return 0!==n&&c.push(n),Object(r.__assign)(Object(r.__assign)({},e),{width:a.width})}return e})),u=Object(r.__assign)(Object(r.__assign)({},e),{cols:l.map((function(e){if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<i)return e;for(;c.length;){var o=c.shift()||0,a=s[e.index]||e,l=a.width+o;if(!(l>a.minWidth)){c.push(l-a.minWidth),s[a.index]=Object(r.__assign)(Object(r.__assign)({},a),{width:a.minWidth});break}s[a.index]=Object(r.__assign)(Object(r.__assign)({},a),{width:l})}return s[e.index]||e}))}),d=e.maxSize,h=p(u);if(t.length===e.cols.length&&h<d){if(o===d)return e;var m=Math.floor((d-a.width)/(u.cols.length-1));u=Object(r.__assign)(Object(r.__assign)({},e),{cols:u.cols.map((function(e){return e.index===a.index?e:Object(r.__assign)(Object(r.__assign)({},e),{width:m})}))})}return f(u,e.maxSize)}},IYLv:function(e,t,n){"use strict";var r=n("1798"),o=[["table",n("98cI"),["paragraph","reference"]],["code",n("u+Vw")],["fence",n("2d0V"),["paragraph","reference","blockquote","list"]],["blockquote",n("/NnR"),["paragraph","reference","blockquote","list"]],["hr",n("htpI"),["paragraph","reference","blockquote","list"]],["list",n("jyDn"),["paragraph","reference","blockquote"]],["reference",n("eR5l")],["heading",n("5akD"),["paragraph","reference","blockquote"]],["lheading",n("GKbP")],["html_block",n("ssre"),["paragraph","reference","blockquote"]],["paragraph",n("Vt6h")]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,s=!1,c=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=c){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<n&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n("XHA8"),e.exports=i},Iacv:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("Dsue"),o=new r.PluginKey("maxContentSizePlugin");t.a=function(e){return{name:"maxContentSize",pmPlugins:function(){return[{name:"maxContentSize",plugin:function(t){return function(e,t){if(t){var n=!1;return new r.Plugin({filterTransaction:function(r){var i=r.doc&&r.doc.nodeSize>t;return(i||i!==n)&&e(o,{maxContentSizeReached:i}),n=i,!i}})}}(t.dispatch,e)}}]}}}},ImOC:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("4fYq"),o=function(){return[Number(r.b.split(".")[0])+1,0,0].join(".")}},J4Cj:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return y}));var r=n("aGmo"),o=n("m23B"),i=n("0Hbo"),a=n("mGva"),s=n("eZO1"),c=n("kbCE"),l=function(e,t){return t.find(void 0,void 0,(function(t){return t.key.indexOf(e)>-1}))},u=function(e){return l(a.d.COLUMN_SELECTED,e)},d=function(e){return l(a.d.ALL_CONTROLS_HOVER,e)},p=function(e,t){return e.map((function(e){return r.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:a.c.HOVERED_CELL_WARNING},{key:a.d.CELL_CONTROLS_HOVER})}))},f=function(e,t,n){return e.map((function(e){var o,i=[a.c.HOVERED_CELL];switch(n&&i.push(a.c.HOVERED_CELL_IN_DANGER),i.push("column"===t?a.c.HOVERED_COLUMN:"row"===t?a.c.HOVERED_ROW:a.c.HOVERED_TABLE),t){case"row":o=a.d.ROW_CONTROLS_HOVER;break;case"column":o=a.d.COLUMN_CONTROLS_HOVER;break;default:o=a.d.TABLE_CONTROLS_HOVER}return r.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:i.join(" ")},{key:o})}))},h=function(e){var t=e.selection,n=e.doc,s=Object(o.findTable)(t),c=Object(o.getSelectionRect)(t);return s&&c?i.TableMap.get(s.node).cellsInRect(c).map((function(e,t){var o=n.nodeAt(e+s.start);return r.Decoration.node(e+s.start,e+s.start+o.nodeSize,{class:a.c.COLUMN_SELECTED},{key:a.d.COLUMN_SELECTED+"_"+t})})):[]},m=function(e){var t=Object(o.getCellsInRow)(0)(e)||[],n=0;return t.map((function(e){var t=e.node.attrs.colspan||1,o=document.createElement("div");return o.classList.add(a.c.COLUMN_CONTROLS_DECORATIONS),o.dataset.startIndex=""+n,n+=t,o.dataset.endIndex=""+n,r.Decoration.widget(e.pos+1,o,{key:a.d.COLUMN_CONTROLS_DECORATIONS+"_"+n,side:-100})}))},v=function(e,t,n,r){var o=l(r,t);return t.remove(o).add(e,n)},b=function(e,t,n){return v(e.doc,Object(s.d)(e).decorationSet||r.DecorationSet.empty,t,n)},g=function(e,t){var n=[[],[]],s=Object(o.findTable)(e.selection);if(!s||!s.node)return n;var l=i.TableMap.get(s.node);if(!l.width)return n;for(var u=function(e,t,n,o,i){var s=document.createElement("div");s.classList.add(a.c.RESIZE_HANDLE_DECORATION),s.dataset.startIndex=""+e.left,s.dataset.endIndex=""+e.right;var c=o+i.nodeSize-1;return r.Decoration.widget(c,s,{key:a.d.COLUMN_RESIZING_HANDLE+"_"+n+"_"+t})},d=function(e,t,n){var o;return n.forEach((function(e,r,i){if(i===n.childCount-1){var a=r+t+1;o={from:a,to:a+e.nodeSize}}})),o?r.Decoration.node(o.from,o.to,{class:a.c.LAST_ITEM_IN_CELL},{key:a.d.LAST_CELL_ELEMENT+"_"+e.left+"_"+e.right}):null},p=[],f=[],h=0;h<l.height;h++)for(var m={},v=0;v<l.width;v++){var b=l.map[l.width*h+v];if(!m[b]){m[b]=!0;var g=s.start+b,y=e.doc.nodeAt(g);if(y){var O=v,w=(y.attrs.colspan||1)+O;if(w===t.right){var E=u({left:O,right:w},v,h,g,y),k=d({left:O,right:w},g,y);p.push(E),f.push(k)}}}}return[p,f.filter(c.D)]},y=function(e,t){var n=Object(o.findTable)(e);if(!n||null===t.right)return[];var s,l=t.right-1,u=i.TableMap.get(n.node);return(s=u.height,Array.from(Array(s).keys())).map((function(e){return u.map[u.width*e+l]})).filter((function(e,t){return l===u.width||e!==u.map[u.width*t+l+1]})).map((function(e){return{pos:e+n.start,node:n.node.nodeAt(e)}})).map((function(e,n){if(e&&e.node)return r.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:a.c.WITH_RESIZE_LINE},{key:a.d.COLUMN_RESIZING_HANDLE_LINE+"_"+t.right+"_"+n})})).filter(c.D)}},J7oP:function(e,t,n){"use strict";var r,o,i=n("D57K"),a=n("m23B"),s=n("I9T1"),c=n("jsQI"),l=n("Dsue"),u=n("/Xcd"),d=n("BH7h"),p=n("fjMk"),f=n("N01o");!function(e){e.INFO="info",e.SUCCESS="success",e.NOTE="note",e.WARNING="warning",e.ERROR="error"}(r||(r={})),function(e){e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(o||(o={})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return j}));var h=["two_equal","two_left_sidebar","two_right_sidebar"],m=["three_equal","three_with_sidebars"],v=function(e){switch(e){case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},b=function(e){switch(Object(u.c)(e,(function(e){return e.attrs.width})).join(",")){case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},g=function(e,t){return e&&b(e)&&b(e)||t},y=function(e){var t=e.schema.nodes,n=t.layoutSection,r=t.layoutColumn,o=s.Fragment.fromArray([r.createAndFill({width:50}),r.createAndFill({width:50})]);return n.createAndFill(void 0,o)},O=function(e,t){return t&&t(Object(a.safeInsert)(y(e))(e.tr)),!0},w=function(e){return Object(p.e)({action:f.a.INSERTED,actionSubject:f.b.DOCUMENT,actionSubjectId:f.c.LAYOUT,attributes:{inputMethod:e},eventType:f.d.TRACK})(O)};function E(e,t,n){var r=t.nodes.layoutColumn,o=n.map((function(e){return Number(e.toFixed(2))}));return Object(u.a)(e.content,(function(e,t){return r.create(Object(i.__assign)(Object(i.__assign)({},e.attrs),{width:o[t]}),e.content,e.marks)}))}function k(e,t,n,r){var o=function(e,t,n,r){var o=e.tr,i=n+t.nodeSize-1,a=t.childCount;if(h.indexOf(r)>=0&&3===a){var c=t.content.child(2),l=i-c.nodeSize;Object(d.f)(c)?o.replaceRange(o.mapping.map(l-1),o.mapping.map(i),s.Slice.empty):o.replaceRange(o.mapping.map(l-1),o.mapping.map(l+1),s.Slice.empty)}else m.indexOf(r)>=0&&2===a&&o.replaceWith(o.mapping.map(i),o.mapping.map(i),e.schema.nodes.layoutColumn.createAndFill());return o}(e,t,n,r),i=o.selection;return(o=function(e,t,n,r){var o=t.doc.nodeAt(n);return o?t.replaceWith(n+1,n+o.nodeSize-1,E(o,e.schema,v(r))):t}(e,o,n,r)).setSelection(new l.TextSelection(o.doc.resolve(i.$from.pos)))}var x=function(e){return function(t,n){var r=c.b.getState(t),o=r.pos,i=r.selectedLayout;if(i===e||null===o)return!1;var a=t.doc.nodeAt(o);if(!a)return!1;var s=k(t,a,o,e);return!!s&&((s=Object(p.a)(t,s,{action:f.a.CHANGED_LAYOUT,actionSubject:f.b.LAYOUT,attributes:{previousLayout:M(i),newLayout:M(e)},eventType:f.d.TRACK})).setMeta("scrollIntoView",!1),n&&n(s),!0)}};function _(e){return!b(e)}function T(e,t,n){if(e.type===n.nodes.layoutSection){if(!_(e))return;var r=2===e.childCount?"two_equal":"three_equal",o=E(e,n,v(r));return{from:t+1,to:t+e.nodeSize-1,slice:new s.Slice(o,0,0)}}}var C=function(e,t){var n,r=t.schema.nodes.layoutSection,o=Object(d.d)(e);if(o){e.doc.nodesBetween(o.from,o.to,(function(e,o){return e.type!==r||(_(e)&&(n=T(e,o,t.schema)),!1)}));var i=e.doc.resolve(o.to);if(i.depth>0){var a=i.after(),s=e.doc.nodeAt(a);s&&s.type===r&&_(s)&&(n=T(s,a,t.schema))}return n}},S=function(e){var t=c.b.getState(e),n=t.pos,r=t.selectedLayout;if(null!==n&&r){var o=e.doc.nodeAt(n);if(o&&o.childCount!==v(r).length)return k(e,o,n,r)}},j=function(e,t){var n=c.b.getState(e),r=n.pos,o=n.selectedLayout;if(null!==r){var i=e.doc.nodeAt(r);if(t){var a=e.tr.delete(r,r+i.nodeSize);t(a=Object(p.a)(e,a,{action:f.a.DELETED,actionSubject:f.b.LAYOUT,attributes:{layout:M(o)},eventType:f.d.TRACK}))}return!0}return!1},M=function(e){switch(e){case"two_equal":return o.TWO_COLS_EQUAL;case"three_equal":return o.THREE_COLS_EQUAL;case"two_left_sidebar":return o.LEFT_SIDEBAR;case"two_right_sidebar":return o.RIGHT_SIDEBAR;case"three_with_sidebars":return o.THREE_WITH_SIDEBARS}}},JTea:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return j}));var r=n("I9T1"),o=n("Dsue"),i=n("7bKp"),a=n("JxnG"),s=n("TU61"),c=n("m23B"),l=n("BH7h"),u=n("QQ6y"),d=n("kbCE"),p=n("ljjB"),f=n("+Dky"),h=n("KU7H"),m=n("N01o"),v=n("fjMk"),b=n("zGF/"),g=function(e){var t=e.selection.$from,n=e.schema.nodes,r=n.listItem,o=n.paragraph;return e.selection instanceof h.a?t.parent.type===r:Object(c.hasParentNodeOfType)(r)(e.selection)&&t.parent.type===o},y=function(e,t){var n,o=e.selection;if(o.empty){var i=o.$from,a=e.schema.nodes,s=a.listItem,u=a.codeBlock,d=i.node(i.depth),p=i.node(i.depth-1);if(p&&p.type===s){var f=Object(l.e)(p);if(Object(l.i)(d)&&!f)return w(m.e.KEYBOARD)(e,t);if(!Object(c.hasParentNodeOfType)(u)(o))return(n=s,function(e,t){var o=e.selection,i=o.$from,a=o.$to,s=o.node;if(s&&s.isBlock||i.depth<2||!i.sameParent(a))return!1;var c=i.node(-1);if(c.type!==n)return!1;if(c.content.content.length<=1&&0===i.parent.content.size&&0!==c.content.size){if(2===i.depth||i.node(-3).type!==n||i.index(-2)!==i.node(-2).childCount-1)return!1;if(t){for(var l=r.Fragment.empty,u=i.index(-1)>0,d=i.depth-(u?1:2);d>=i.depth-3;d--)l=r.Fragment.from(i.node(d).copy(l));l=l.append(r.Fragment.from(n.createAndFill()));var p=e.tr.replace(i.before(u?void 0:-1),i.after(-3),new r.Slice(l,u?3:2,2));p.setSelection(e.selection.constructor.near(p.doc.resolve(i.pos+(u?3:2)))),t(p.scrollIntoView())}return!0}var f=a.pos===i.end()?c.contentMatchAt(0).defaultType:void 0,h=e.tr.delete(i.pos,a.pos),m=f&&[void 0,{type:f}];return t&&t(h.split(i.pos,2,m).scrollIntoView()),!0})(e,t)}}return!1},O=a.chainCommands(Object(u.b)([u.e,u.f,function(e){var t=e.selection.$from.parent,n=e.schema.nodes,r=n.listItem,o=n.paragraph;return e.selection instanceof h.a?t.type===r:t.type===o&&Object(c.hasParentNodeOfType)(r)(e.selection)}],a.chainCommands((function(e,t){var n=e.selection.$from,r=e.schema.nodes.listItem,o=Object(u.c)(n);if(!o||!o.nodeBefore||o.nodeBefore.type!==r)return!1;if(1===o.nodeBefore.childCount&&o.nodeBefore.firstChild.nodeSize<=2){var i=e.tr;return t&&t(i.delete(o.pos-o.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1}),w(m.e.KEYBOARD))),Object(u.b)([u.e,function(e){var t=e.selection.$from,n=e.schema.nodes,r=n.bulletList,o=n.orderedList,i=e.doc.resolve(t.pos-1),a=i?i.nodeBefore:null;return e.selection instanceof h.a&&(a=t.nodeBefore),!!a&&[r,o].indexOf(a.type)>-1}],(function(e,t){var n=e.selection.$from,o=e.schema.nodes,a=o.paragraph,s=o.listItem,l=o.codeBlock,d=o.bulletList,p=o.orderedList,f=e.selection instanceof h.a,m=f?e.doc.resolve(n.pos+1):n,v=Object(u.c)(m);if(!v)return!1;if(v.nodeBefore&&[d,p].indexOf(v.nodeBefore.type)>-1&&v.nodeAfter&&(v.nodeAfter.type===a||v.nodeAfter.type===l)){for(var b=v.doc.resolve(v.pos-1);b.parent.type!==a;)b=e.doc.resolve(b.pos-1);var g=e.tr;if(f){var y=Object(c.findPositionOfNodeBefore)(g.selection);if("number"!=typeof y)return!1;var O=v.nodeBefore.copy(v.nodeBefore.content.append(r.Fragment.from(s.createChecked({},v.nodeAfter))));g.replaceWith(y,n.pos+v.nodeAfter.nodeSize,O)}else g=e.tr.step(new i.ReplaceAroundStep(b.pos,v.pos+v.nodeAfter.nodeSize,v.pos+1,v.pos+v.nodeAfter.nodeSize-1,e.tr.doc.slice(b.pos,v.pos),0,!0));var w=g.doc.resolve(g.mapping.map(v.pos+v.nodeAfter.nodeSize));return w.nodeBefore&&w.nodeAfter&&w.nodeBefore.type===w.nodeAfter.type&&[d,p].indexOf(w.nodeBefore.type)>-1&&(g=g.join(w.pos)),t&&t(g.scrollIntoView()),!0}return!1})));function w(e){return void 0===e&&(e=m.e.KEYBOARD),function(t,n){var r=t.schema.nodes.listItem,o=t.selection,i=o.$from,a=o.$to;if(g(t)){var c=i.blockRange(a,(function(e){return e.childCount>0&&e.firstChild.type===r}));if(!c)return!1;var l=x(t.selection.$from,t.schema.nodes);return Object(d.k)(Object(v.e)({action:m.a.FORMATTED,actionSubject:m.b.TEXT,actionSubjectId:m.c.FORMAT_INDENT,eventType:m.d.TRACK,attributes:{inputMethod:e,previousIndentationLevel:l,newIndentLevel:l-1,direction:b.a.OUTDENT,indentType:b.b.LIST}}),function(e,t){return function(n){return function(r,o){return n(r,(function(n){var i=r.doc.resolve(t.start),a=r.doc.resolve(t.end),s=n.doc.resolve(n.mapping.map(t.end-1));s.nodeBefore&&s.nodeAfter&&s.nodeBefore.type===s.nodeAfter.type&&a.nodeAfter&&a.nodeAfter.type===e&&a.parent.type===i.parent.type&&n.join(s.pos),o&&o(n.scrollIntoView())}))}}}(r,c),s.liftListItem)(r)(t,n)}return!1}}function E(e){return void 0===e&&(e=m.e.KEYBOARD),function(t,n){var r=t.schema.nodes.listItem;if(g(t)){var o=x(t.selection.$from,t.schema.nodes);return function(e,t){var n,r=t.tr.selection.$to.pos;do{var o=t.doc.resolve(r);if((n=x(o,t.schema.nodes))>5)return!1;r++}while(n>=e);return!0}(o,t)&&Object(d.k)(Object(v.e)({action:m.a.FORMATTED,actionSubject:m.b.TEXT,actionSubjectId:m.c.FORMAT_INDENT,eventType:m.d.TRACK,attributes:{inputMethod:e,previousIndentationLevel:o,newIndentLevel:o+1,direction:b.a.INDENT,indentType:b.b.LIST}}),s.sinkListItem)(r)(t,n),!0}return!1}}function k(){return function(e,t){var n=e.tr,r=e.selection,a=r.$from,s=r.$to;return n.doc.nodesBetween(a.pos,s.pos,(function(t,r){if(t.isTextblock){var a=new o.NodeSelection(n.doc.resolve(n.mapping.map(r))),s=a.$from.blockRange(a.$to);if(!s||a.$from.parent.type!==e.schema.nodes.listItem)return!1;var c=s&&Object(i.liftTarget)(s);if(null==c)return!1;n.lift(s,c)}})),t&&t(n),!0}}var x=function(e,t){for(var n=t.bulletList,r=t.orderedList,o=0,i=e.depth-1;i>0;i--){var a=e.node(i);a.type!==n&&a.type!==r||(o+=1)}return o},_=function(e,t,n,r,o){var i=e.selection,a=i.$from.node(i.$from.depth-2),s=i.$to.node(i.$to.depth-2);if(a&&a.type.name===r&&s&&s.type.name===r){var c=function(e,t){for(var n,r=t.bulletList,o=t.orderedList,i=t.listItem,a=e.depth-1;a>0;a--){var s=e.node(a);if(s.type!==r&&s.type!==o||(n=a),s.type!==r&&s.type!==o&&s.type!==i)break}return n}(i.$to,e.schema.nodes),l=Object(f.a)(e,i.$to.pos,i.$to.end(c),c||0,e.tr);return l=Object(f.b)(e,l),t(l=Object(v.a)(e,l,{action:m.a.FORMATTED,actionSubject:m.b.TEXT,actionSubjectId:"bulletList"===r?m.c.FORMAT_LIST_BULLET:m.c.FORMAT_LIST_NUMBER,eventType:m.d.TRACK,attributes:{inputMethod:o}})),!0}return C(o,r)(e,t,n)};function T(e){return function(t,n,r){if(n&&n(t.tr.setSelection(function(e,t){var n=t.$from,r=t.$to,i=n.pos===r.pos,a=n.pos,s=r.pos;if(i&&a===e.nodeSize-3)return t;if(n.nodeBefore&&!i){a++;for(var c=e.nodeAt(a);!c||c&&!c.isText;)a++,c=e.nodeAt(a)}return s===a?new o.TextSelection(e.resolve(a)):new o.TextSelection(e.resolve(a),e.resolve(s))}(t.doc,t.selection))),!r)return!1;var i=(t=r.state).selection,c=i.$from,l=i.$to,u=Object(d.y)(t.doc,c,l,t.schema.nodes[e]);if(function(e,t){var n=e.selection.$from,r=n.node(-2),o=n.node(-3);return r&&r.type===e.schema.nodes[t]||o&&o.type===e.schema.nodes[t]}(t,e)&&u)return k()(t,n);u||(k()(t,n),t=r.state);var f,h=Object(p.d)(t,t.schema.nodes[e]);return h&&n&&(n(h),t=r.state),(f=t.schema.nodes[e],a.autoJoin(s.wrapInList(f),(function(e,t){return e.type===t.type&&e.type===f})))(t,n)}}var C=function(e,t){var n={bulletList:m.c.FORMAT_LIST_BULLET,orderedList:m.c.FORMAT_LIST_NUMBER};return function(r,o,i){return!!T(t)(r,o,i)&&(i&&o&&o(Object(v.a)(r,i.state.tr,{action:m.a.FORMATTED,actionSubject:m.b.TEXT,actionSubjectId:n[t],eventType:m.d.TRACK,attributes:{inputMethod:e}})),!0)}};function S(e,t){return void 0===t&&(t=m.e.TOOLBAR),_(e.state,e.dispatch,e,"bulletList",t)}function j(e,t){return void 0===t&&(t=m.e.TOOLBAR),_(e.state,e.dispatch,e,"orderedList",t)}},JWdr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm6 0h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm6 0h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutThreeEqualIcon";var c=s;t.default=c},JXy6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zm3.072 8.838l.143.154a.5.5 0 0 0 .769-.042l.13-.175 3.733-5.045a.8.8 0 0 0-.11-1.064.665.665 0 0 0-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 0 0-.99 0 .801.801 0 0 0 0 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorTaskIcon";var c=s;t.default=c},JxnG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7bKp"),o=n("I9T1"),i=n("Dsue");function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function s(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;var a=u(o);if(!a){var s=o.blockRange(),l=s&&r.liftTarget(s);return null!=l&&(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var d=a.nodeBefore;if(!d.type.spec.isolating&&O(e,a,t))return!0;if(0==o.parent.content.size&&(c(d,"end")||i.NodeSelection.isSelectable(d))){if(t){var p=e.tr.deleteRange(o.before(),o.after());p.setSelection(c(d,"end")?i.Selection.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):i.NodeSelection.create(p.doc,a.pos-d.nodeSize)),t(p.scrollIntoView())}return!0}return!(!d.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos-d.nodeSize,a.pos).scrollIntoView()),!0)}function c(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function l(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=u(r),a=o&&o.nodeBefore;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)}function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=f(r);if(!o)return!1;var a=o.nodeAfter;if(O(e,o,t))return!0;if(0==r.parent.content.size&&(c(a,"start")||i.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(c(a,"start")?i.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):i.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)}function p(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=f(r),a=o&&o.nodeAfter;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,o.pos)).scrollIntoView()),!0)}function f(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function h(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function m(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var a=r.node(-1),s=r.indexAfter(-1),c=a.contentMatchAt(s).defaultType;if(!a.canReplaceWith(s,s,c))return!1;if(t){var l=r.after(),u=e.tr.replaceWith(l,l,c.createAndFill());u.setSelection(i.Selection.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0}function v(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var a=r.parent.contentMatchAt(o.indexAfter()).defaultType;if(!a||!a.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=e.tr.insert(s,a.createAndFill());c.setSelection(i.TextSelection.create(c.doc,s+1)),t(c.scrollIntoView())}return!0}function b(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(r.canSplit(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var i=n.blockRange(),a=i&&r.liftTarget(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}function g(e,t){var n=e.selection,a=n.$from,s=n.$to;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!a.parentOffset||!r.canSplit(e.doc,a.pos))&&(t&&t(e.tr.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(t){var c=s.parentOffset==s.parent.content.size,l=e.tr;e.selection instanceof i.TextSelection&&l.deleteSelection();var u=0==a.depth?null:a.node(-1).contentMatchAt(a.indexAfter(-1)).defaultType,d=c&&u?[{type:u}]:null,p=r.canSplit(l.doc,a.pos,1,d);d||p||!r.canSplit(l.doc,l.mapping.map(a.pos),1,u&&[{type:u}])||(d=[{type:u}],p=!0),p&&(l.split(l.mapping.map(a.pos),1,d),c||a.parentOffset||a.parent.type==u||!a.node(-1).canReplace(a.index(-1),a.indexAfter(-1),o.Fragment.from(u.create(),a.parent))||l.setNodeMarkup(l.mapping.map(a.before()),u)),t(l.scrollIntoView())}return!0}function y(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}function O(e,t,n){var a,s,c=t.nodeBefore,l=t.nodeAfter;if(c.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){var o=t.nodeBefore,i=t.nodeAfter,a=t.index();return!!(o&&i&&o.type.compatibleContent(i.type))&&(!o.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(a,a+1)||!i.isTextblock&&!r.canJoin(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(a=(s=c.contentMatchAt(c.childCount)).findWrapping(l.type))&&s.matchType(a[0]||l.type).validEnd){if(n){for(var u=t.pos+l.nodeSize,d=o.Fragment.empty,p=a.length-1;p>=0;p--)d=o.Fragment.from(a[p].create(null,d));d=o.Fragment.from(c.copy(d));var f=e.tr.step(new r.ReplaceAroundStep(t.pos-1,u,t.pos,u,new o.Slice(d,1,0),a.length,!0)),h=u+2*a.length;r.canJoin(f.doc,h)&&f.join(h),n(f.scrollIntoView())}return!0}var m=i.Selection.findFrom(t,1),v=m&&m.$from.blockRange(m.$to),b=v&&r.liftTarget(v);return null!=b&&b>=t.depth&&(n&&n(e.tr.lift(v,b).scrollIntoView()),!0)}function w(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var E=w(a,s,l),k=w(a,d,p),x={Enter:w(h,v,b,g),"Mod-Enter":m,Backspace:E,"Mod-Backspace":E,Delete:k,"Mod-Delete":k,"Mod-a":y},_={"Ctrl-h":x.Backspace,"Alt-Backspace":x["Mod-Backspace"],"Ctrl-d":x.Delete,"Ctrl-Alt-Backspace":x["Mod-Delete"],"Alt-Delete":x["Mod-Delete"],"Alt-d":x["Mod-Delete"]};for(var T in x)_[T]=x[T];var C=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?_:x;t.deleteSelection=a,t.joinBackward=s,t.selectNodeBackward=l,t.joinForward=d,t.selectNodeForward=p,t.joinUp=function(e,t){var n,o=e.selection,a=o instanceof i.NodeSelection;if(a){if(o.node.isTextblock||!r.canJoin(e.doc,o.from))return!1;n=o.from}else if(null==(n=r.joinPoint(e.doc,o.from,-1)))return!1;if(t){var s=e.tr.join(n);a&&s.setSelection(i.NodeSelection.create(s.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},t.joinDown=function(e,t){var n,o=e.selection;if(o instanceof i.NodeSelection){if(o.node.isTextblock||!r.canJoin(e.doc,o.to))return!1;n=o.to}else if(null==(n=r.joinPoint(e.doc,o.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.lift=function(e,t){var n=e.selection,o=n.$from,i=n.$to,a=o.blockRange(i),s=a&&r.liftTarget(a);return null!=s&&(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)},t.newlineInCode=h,t.exitCode=m,t.createParagraphNear=v,t.liftEmptyBlock=b,t.splitBlock=g,t.splitBlockKeepMarks=function(e,t){return g(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})},t.selectParentNode=function(e,t){var n,r=e.selection,o=r.$from,a=r.to,s=o.sharedDepth(a);return 0!=s&&(n=o.before(s),t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,n))),!0)},t.selectAll=y,t.wrapIn=function(e,t){return function(n,o){var i=n.selection,a=i.$from,s=i.$to,c=a.blockRange(s),l=c&&r.findWrapping(c,e,t);return!!l&&(o&&o(n.tr.wrap(c,l).scrollIntoView()),!0)}},t.setBlockType=function(e,t){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,(function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(i,a,e,t).scrollIntoView()),!0)}},t.toggleMark=function(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<s.length;u++){var d=s[u],p=d.$from,f=d.$to;c=n.doc.rangeHasMark(p.pos,f.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],v=m.$from,b=m.$to;c?l.removeMark(v.pos,b.pos,e):l.addMark(v.pos,b.pos,e.create(t))}r(l.scrollIntoView())}return!0}},t.autoJoin=function(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,o){return e(n,o&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var o=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],s=0;s<o.length;s++)o[s]=a.map(o[s]);a.forEach((function(e,t,n,r){return o.push(n,r)}))}for(var c=[],l=0;l<o.length;l+=2)for(var u=o[l],d=o[l+1],p=n.doc.resolve(u),f=p.sharedDepth(d),h=p.node(f),m=p.indexAfter(f),v=p.after(f+1);v<=d;++m){var b=h.maybeChild(m);if(!b)break;if(m&&-1==c.indexOf(v)){var g=h.child(m-1);g.type==b.type&&t(g,b)&&c.push(v)}v+=b.nodeSize}c.sort((function(e,t){return e-t}));for(var y=c.length-1;y>=0;y--)r.canJoin(n.doc,c[y])&&n.join(c[y]);e(n)}}(o,t))}},t.chainCommands=w,t.pcBaseKeymap=x,t.macBaseKeymap=_,t.baseKeymap=C},JzjW:function(e,t,n){"use strict";e.exports=n("5hiN")},KR5a:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n("dDc+"),o=n("RZTm"),i=(r.colors.B100,r.colors.B400,r.colors.B50,r.colors.N0,r.colors.N20,r.colors.N30,r.colors.N40),a=r.colors.N100,s=(r.colors.N500,r.colors.N700,r.colors.N900,Object(o.g)()),c=i,l="12px",u=a,d=2},KU7H:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r,o=n("D57K"),i=n("Dsue"),a=n("I9T1"),s=n("lY9u");!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={}));var c="gapcursor",l=function(e){function t(t,n){void 0===n&&(n=r.LEFT);var o=e.call(this,t,t)||this;return o.side=n,o.visible=!1,o}return Object(o.__extends)(t,e),t.valid=function(e){var t=e.parent,n=e.nodeBefore,r=e.nodeAfter;if(!(Object(s.a)(n)?n:Object(s.a)(r)?r:null)||t.isTextblock)return!1;var o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock},t.findFrom=function(e,n,o){void 0===o&&(o=!1);var i=1===n?r.RIGHT:r.LEFT;if(!o&&t.valid(e))return new t(e,i);for(var a=e.pos,s=null,c=e.depth;;c--){var l=e.node(c);if(i===r.RIGHT?e.indexAfter(c)<l.childCount:e.index(c)>0){s=l.maybeChild(i===r.RIGHT?e.indexAfter(c):e.index(c)-1);break}if(0===c)return null;a+=n;var u=e.doc.resolve(a);if(t.valid(u))return new t(u,i)}for(;null!==(s=i===r.RIGHT?s.firstChild:s.lastChild);){a+=n;u=e.doc.resolve(a);if(t.valid(u))return new t(u,i)}return null},t.fromJSON=function(e,n){return new t(e.resolve(n.pos))},t.prototype.map=function(e,n){var r=e.resolve(n.map(this.head));return t.valid(r)?new t(r,this.side):i.Selection.near(r)},t.prototype.eq=function(e){return e instanceof t&&e.head===this.head},t.prototype.content=function(){return a.Slice.empty},t.prototype.getBookmark=function(){return new u(this.anchor)},t.prototype.toJSON=function(){return{pos:this.head,type:c}},t}(i.Selection);i.Selection.jsonID(c,l);var u=function(){function e(e){this.pos=e}return e.prototype.map=function(t){return new e(t.map(this.pos))},e.prototype.resolve=function(e){var t=e.resolve(this.pos);return l.valid(t)?new l(t):i.Selection.near(t)},e}()},KVxf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("N01o"),o=n("z4jD");function i(e,t){return{action:r.a.INSERTED,actionSubject:r.b.DOCUMENT,actionSubjectId:r.c.LINK,attributes:{inputMethod:e},eventType:r.d.TRACK,nonPrivacySafeAttributes:{linkDomain:Object(o.b)(t)}}}},KdrV:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("m23B"),o=n("Rr/J"),i=n("9VoA"),a=n("F1Zg"),s=n("ba8h"),c=function(e,t,n,i){if(e){var c=l(e,t);if(c){var d=c.attrs.layout||"default",p=t.schema,f=p.marks.breakout&&p.marks.breakout.isInSet(c.marks);f&&f.attrs.mode&&(d=f.attrs.mode);var h=u(d,n,i);if(c.type===p.nodes.layoutSection&&(h+=2*o.G,n.width>o.L)){h-=(a.b+2)*(c.childCount-1);var m=t.doc.resolve(e),v=Object(r.findParentNodeOfTypeClosestToPos)(m,[t.schema.nodes.layoutColumn]);v&&v.node&&!isNaN(v.node.attrs.width)&&(h=Math.round(h*v.node.attrs.width*.01))}return c.type===p.nodes.layoutSection?h-=2*a.a:c.type===p.nodes.bodiedExtension&&(h-=2*s.a),h-=2}}},l=function(e,t){if(void 0===e)return null;var n=t.doc.resolve(e),o=Object(r.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return o?o.node:null},u=function(e,t,n){return n?Math.min(t.lineLength,o.k):Object(i.a)(e,t.width)}},KqIV:function(e,t,n){"use strict";var r,o,i,a,s,c,l,u,d,p=n("D57K"),f=n("ERkP"),h=n("Ydxy"),m=n("KsTJ"),v=n("dDc+"),b=m.default.li(r||(r=Object(p.__makeTemplateObject)(["\n  background-color: ",";\n  padding: 5px 8px;\n  cursor: pointer;\n  display: flex;\n"],["\n  background-color: ",";\n  padding: 5px 8px;\n  cursor: pointer;\n  display: flex;\n"])),(function(e){return e.selected?v.colors.N20:"transparent"})),g=m.default.span(o||(o=Object(p.__makeTemplateObject)(["\n  overflow: hidden;\n"],["\n  overflow: hidden;\n"]))),y=m.default.div(i||(i=Object(p.__makeTemplateObject)(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),v.colors.N800),O=m.default.div(a||(a=Object(p.__makeTemplateObject)(["\n  color: ",";\n  font-size: 12px;\n"],["\n  color: ",";\n  font-size: 12px;\n"])),v.colors.N100),w=m.default.span(s||(s=Object(p.__makeTemplateObject)(["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 8px;\n"],["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 8px;\n"]))),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelect=function(e){e.preventDefault();var n=t.props,r=n.item;(0,n.onSelect)(r.url,r.name)},t.handleMouseMove=function(){var e=t.props;(0,e.onMouseMove)(e.item.objectId)},t}return Object(p.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.selected;return f.createElement(b,{selected:n,onMouseMove:this.handleMouseMove,onMouseDown:this.handleSelect},f.createElement(w,null,f.createElement("img",{src:t.iconUrl})),f.createElement(g,null,f.createElement(y,null,t.name),f.createElement(O,null,t.container)))},t}(f.PureComponent),k=m.default.div(c||(c=Object(p.__makeTemplateObject)(["\n  padding-top: 10px;\n"],["\n  padding-top: 10px;\n"]))),x=m.default.div(l||(l=Object(p.__makeTemplateObject)(["\n  padding-top: 0;\n"],["\n  padding-top: 0;\n"]))),_=m.default.div(u||(u=Object(p.__makeTemplateObject)(["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"],["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"]))),T=m.default.ul(d||(d=Object(p.__makeTemplateObject)(["\n  padding: 0;\n  list-style: none;\n"],["\n  padding: 0;\n  list-style: none;\n"]))),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(p.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.onMouseMove,r=e.items,o=e.selectedIndex;return e.isLoading?f.createElement(k,null,f.createElement(_,null,f.createElement(h.a,{invertColor:!0,size:"medium"}))):r&&0!==r.length?f.createElement(x,null,f.createElement(T,null,r.map((function(e,r){return f.createElement(E,{item:e,selected:o===r,onMouseMove:n,onSelect:t,key:e.objectId})})))):null},t}(f.PureComponent);t.a=C},"Kv+2":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("D57K"),o=n("Dsue"),i=n("aGmo"),a=n("I9T1"),s=function(){function e(e){this.pos=void 0,this.visible=!1,this.pos=e}return e.prototype.map=function(t){return new e(t.map(this.pos))},e.prototype.resolve=function(e){var t=e.resolve(this.pos);return o.Selection.near(t)},e}(),c=function(e){function t(t){return e.call(this,t,t)||this}return Object(r.__extends)(t,e),t.prototype.map=function(e,n){return new t(e.resolve(n.map(this.$head.pos)))},t.content=function(){return a.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head===this.head},t.prototype.toJSON=function(){return{type:"Cursor",pos:this.head}},t.fromJSON=function(e,n){return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new s(this.anchor)},t}(o.Selection);o.Selection.jsonID("fake-text-cursor",c);var l=function(e){if(!(e.selection instanceof c))return null;var t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",i.DecorationSet.create(e.doc,[i.Decoration.widget(e.selection.head,t,{key:"Cursor"})])}},LbML:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("XbFG"),a=n("2sr0"),s=n("S1UJ"),c=function(e){return function(t){var n=Object(r.__assign)(Object(r.__assign)({},t),{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=s.a,n.attributes.packageVersion=s.b,n.attributes.componentName="status";var o=e(n);return o.fire("fabric-elements"),o}},l=n("xZ8S"),u={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverStartTime=0,t.handleMouseEnter=function(e){t.hoverStartTime=Date.now()},t.handleMouseLeave=function(e){var n=t.props.onHover;Date.now()-t.hoverStartTime>=l.a&&n&&n(),t.hoverStartTime=0},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.hoverStartTime=0},t.prototype.render=function(){var e=this.props,t=e.text,n=e.color,r=e.style,a=e.onClick;if(0===t.trim().length)return null;var s=u[n]||"default";return o.createElement("span",{className:"status-lozenge-span",title:t,onClick:a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":n,"data-style":r},o.createElement(i.a,{appearance:s,maxWidth:200},t))},t.displayName="StatusInternal",t}(o.PureComponent),p=Object(a.a)({onClick:function(e,t){var n=t.localId;return c(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:function(e,t){var n=t.localId;return c(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(d);n.d(t,"a",(function(){return p}))},Lc0o:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n("D57K"),o=n("ERkP"),i=n("O94r"),a=n.n(i),s=n("KsTJ"),c=n("Dsue"),l=n("Rr/J"),u=n("uJU4"),d=n("XoQQ"),p=n("+ELd"),f=new c.PluginKey("gridPlugin"),h=function(e){var t=Object(p.b)(e);return function(e,n,r){return void 0===r&&(r=[]),t(f,{visible:e,gridType:n,highlight:r})}},m=function(e){return"wrap-left"===e||"wrap-right"===e?"wrapped":"full"},v=["left","right"],b=function(e,t,n,r){if(!e.length)return!1;var o=e.reduce((function(e,t){return Math.min(e,t)})),i=e.reduce((function(e,t){return Math.max(e,t)}));return"left"===t?o<0&&o<=-n&&("number"!=typeof r||o>=-(n+r)):i>12&&i>=12+n&&("number"!=typeof r||i<=12+r)},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.highlight,n=e.shouldCalcBreakoutGridLines,i=e.theme,s=e.containerElement,c=e.editorWidth,u=e.gridType,d=e.visible,p=i.layoutMaxWidth,f=Object(r.__spread)(function(e){for(var t=[],n=0;n<=12;n++){var r={paddingLeft:100/12+"%"};t.push(o.createElement("div",{key:n,className:a()("gridLine",e.indexOf(n)>-1?"highlight":""),style:n<12?r:void 0}))}return t}(t),function(e,t,n,r){var i=[];if(!r)return i;var s=(e*l.J-e)/2;return v.forEach((function(r){var c,u;i.push(o.createElement("div",{key:r,className:a()("gridLine",b(n,r,0,4)?"highlight":""),style:(c={position:"absolute"},c[r]="-"+s+"px",c)})),i.push(o.createElement("div",{key:r+"-bk",className:a()("gridLine",n.indexOf("full-width")>-1?"highlight":""),style:(u={position:"absolute"},u[r]="-"+(t-e-l.b)/2+"px",u)}))})),i}(p,c,t,n));return o.createElement("div",{className:"gridParent"},o.createElement("div",{className:a()("gridContainer",u,d?"":"hidden"),style:{height:s.scrollHeight+"px"}},f))},t}(o.Component),y=Object(s.withTheme)(g);t.b=function(e){return{name:"grid",contentComponent:function(t){var n=t.editorView;return o.createElement(d.a,{plugins:{grid:f,widthState:u.b},render:function(t){var i=t.grid,a=t.widthState,s=void 0===a?{width:l.j}:a;return i?o.createElement(y,Object(r.__assign)({shouldCalcBreakoutGridLines:e&&e.shouldCalcBreakoutGridLines,editorWidth:s.width,containerElement:n.dom},i)):null}})}}}},LrSM:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return v}));var r=n("0Hbo"),o=n("m23B"),i=n("eZO1"),a=n("2Hc1"),s=n("J4Cj"),c=n("mGva"),l=function(e){return Array.from(Array(e).keys())},u=function(){return Object(i.a)((function(e){var t=Object(a.a)(e.tr);if(!t.length)return!1;var n=Object(o.findTable)(e.tr.selection);if(!n)return!1;var r=t.map((function(e){return{pos:e+n.start,start:e+n.start+1,node:n.node.nodeAt(e)}})),i=Object(s.a)(r,"warning");return{type:"HOVER_CELLS",data:{decorationSet:Object(s.j)(e,i,c.d.CELL_CONTROLS_HOVER)}}}),(function(e){return e.setMeta("addToHistory",!1)}))},d=function(e,t){return Object(i.a)((function(n){var r=Object(o.getCellsInColumn)(e)(n.selection);if(!r)return!1;var i=Object(s.e)(r,"column",t);return{type:"HOVER_COLUMNS",data:{decorationSet:Object(s.j)(n,i,c.d.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},p=function(e,t){return Object(i.a)((function(n){var r=Object(o.getCellsInRow)(e)(n.selection);if(!r)return!1;var i=Object(s.e)(r,"row",t);return{type:"HOVER_ROWS",data:{decorationSet:Object(s.j)(n,i,c.d.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},f=function(e){return Object(i.a)((function(t){var n=Object(o.findTable)(t.selection);if(!n)return!1;var i=r.TableMap.get(n.node),a=l(i.width),u=l(i.height),d=Object(o.getCellsInRow)(u)(t.selection);if(!d)return!1;var p=Object(s.e)(d,"table",e);return{type:"HOVER_TABLE",data:{decorationSet:Object(s.j)(t,p,c.d.TABLE_CONTROLS_HOVER),hoveredColumns:a,hoveredRows:u,isInDanger:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},h=function(){return Object(i.a)((function(e){return{type:"CLEAR_HOVER_SELECTION",data:{decorationSet:Object(s.j)(e,[],c.d.ALL_CONTROLS_HOVER)}}}))},m=function(e){return Object(i.a)((function(t){return{type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:Object(s.j)(t,Object(s.c)(t.selection,e),c.d.COLUMN_RESIZING_HANDLE_LINE)}}}))},v=function(){return Object(i.a)((function(e){return{type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:Object(s.j)(e,[],c.d.COLUMN_RESIZING_HANDLE_LINE)}}}))}},LzaW:function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n={});var r=n.mapping,o=n.onDocChanged,i=n.onSelectionChanged;return{createPluginState:function(n,a){return{init:function(e,t){return a(t)},apply:function(a,s){var c=r?r(a,s):s,l=c,u=a.getMeta(e);return u&&(l=t(c,u)),o&&a.docChanged?l=o(a,l):i&&a.selectionSet&&(l=i(a,l)),l!==c&&n(e,l),l}}},createCommand:function(t,n){return function(r,o){if(o){var i=n?n(r.tr,r):r.tr,a="function"==typeof t?t(r):t;if(!i||!a)return!1;o(i.setMeta(e,a))}return!0}},getPluginState:function(t){return e.getState(t)}}}n.d(t,"a",(function(){return r}))},M2Sh:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m}));var r=n("X9xp"),o=n("Dsue"),i=n("JxnG"),a=n("m23B"),s=n("KU7H"),c=n("B9aC"),l=n("N01o"),u=n("fjMk"),d=n("EVi6"),p=function(e,t){var n=t.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return"taskList"===e?{list:i,item:a}:{list:r,item:o}},f=function(e,t,n,r,a){void 0===n&&(n=l.e.TOOLBAR);var s=e.state,c=s.schema,u=h(s,t,n,(function(e){var t=e.tr,n=e.list,r=e.item,o=e.listLocalId,i=e.itemLocalId;return v(t,n,r,c,s,o,i)}),(function(e){var t=e.state,n=e.tr,r=e.item,i=e.itemLocalId,a=t.selection.$to,s=a.end(a.depth);return n.split(s,1,[{type:r,attrs:{localId:i}}]).setSelection(new o.TextSelection(n.doc.resolve(s+a.depth)))}),r,a);return Object(i.autoJoin)((function(e,t){return!!u&&(t&&t(u),!0)}),["taskList","decisionList"])},h=function(e,t,n,o,i,s,f){var h,m,v,b=e.schema,g=p(t,b),y=g.list,O=g.item,w=e.tr,E=e.selection.$to,k=Object(a.findParentNodeOfType)(y)(e.selection),x=function(e){void 0===e&&(e={});var t=e.objectId;return{objectId:t,containerId:e.containerId,userContext:t?c.d.EDIT:c.d.NEW}}(d.b.getState(e).contextIdentifierProvider);if(k){if(E.node().textContent.length>=0){v=k.node.childCount+1,s=s||k.node.attrs.localId;var _=Object(a.findParentNodeOfType)(O)(e.selection);m=_?e.doc.resolve(_.pos).index()+1:0,h=i||o}}else m=0,v=1,h=o;if(s=s||r.b.generate(),f=f||r.b.generate(),h){var T=h({state:e,tr:w,list:y,item:O,listLocalId:s,itemLocalId:f});return T&&(T=Object(u.a)(e,T,function(e,t,n,r,o,i,a){var s,c,u;return t&&(s=t.containerId,c=t.objectId,u=t.userContext),{action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,actionSubjectId:"taskList"===e?l.c.ACTION:l.c.DECISION,eventType:l.d.TRACK,attributes:{inputMethod:n,containerAri:s,objectAri:c,userContext:u,localId:r,listLocalId:o,position:i,listSize:a}}}(t,x,n,f,s,m||0,v||0))),T}return null},m=function(e,t){return t.depth-e.depth},v=function(e,t,n,i,c,l,u){void 0===l&&(l=r.b.generate()),void 0===u&&(u=r.b.generate());var d=c.selection,p=d.$from,f=d.$to;if(p.parent!==f.parent)return null;var h=i.nodes,v=h.paragraph,b=h.blockquote,g=h.decisionList,y=h.taskList,O=h.decisionItem,w=h.taskItem,E=h.mediaGroup;if(p.parent.type===E)return null;var k=t.create({localId:l},[n.create({localId:u})]);if(d instanceof s.a)return Object(a.safeInsert)(k)(e);if(function(e,t){var n=e.nodes,r=n.paragraph,o=n.blockquote,i=n.decisionList,s=n.taskList;return Object(a.hasParentNodeOfType)([o,r,i,s])(t)}(i,d)){var x=d.$from.node(),_=x.type,T=x.childCount,C=t.create({localId:r.b.generate()},[n.create({localId:r.b.generate()},p.node(p.depth).content)]),S=Object(a.findParentNodeOfType)(y)(d)||Object(a.findParentNodeOfType)(g)(d),j=Object(a.findParentNodeOfType)(w)(d)||Object(a.findParentNodeOfType)(O)(d);if(S&&j){var M=void 0,A=void 0,R=d.from;return S.node.firstChild===j.node?(M=S.start-1,A=j.start+j.node.nodeSize,1===S.node.childCount&&(A=S.start+S.node.nodeSize-1)):(M=j.start-1,A=j.start+j.node.nodeSize,R+=2),e.replaceWith(M,A,C),e=Object(a.setTextSelection)(R)(e)}var N=[b];_===v&&T>0&&N.push(v);var I;I=Object(a.replaceParentNodeOfType)(N,C)(e);var P=m(f,I.selection.$to);if(I!==(e=e.setSelection(new o.TextSelection(e.doc.resolve(f.pos+P)))))return e}return Object(a.safeInsert)(k)(e)}},MH0m:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("ERkP"),a=n.n(i),s=n("aWzz"),c=n("KsTJ"),l=n("L21V"),u=n("4fYq"),d=n("bLx2"),p=n("ROar"),f=n("6b1U");!function(e){e.FULFILLED="fulfilled",e.FAILED="failed"}(r||(r={}));var h=function(e){return e.status===r.FULFILLED},m=function(e){return{status:r.FULFILLED,value:e}},v=function(e){return{status:r.FAILED,reason:e}},b=function(e){return Promise.all(e.map((function(e){return e.then(m).catch(v)})))},g=function(e){var t=[];return new Promise((function(n,r){e.forEach((function(o){return o.then((function(e){if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((function(n){t.push(n),t.length===e.length&&r(n)}))}))}))},y=function(e){return e.filter(h).map((function(e){return e.value}))},O=function(e){var t;return(t=[]).concat.apply(t,Object(o.__spread)(e))},w=function(e){if(0===e.length)throw new Error("At least one provider must be provided");var t=function(t){return Object(o.__awaiter)(void 0,void 0,void 0,(function(){return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,Object(o.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return[4,b(e.map((function(e){return Promise.resolve(e)})))];case 1:return t=n.sent(),[2,y(t)]}}))}))];case 1:return[2,n.sent().map((function(e){return t(e)}))]}}))}))},n=function(e,t){return function(n){var r=n[e];if("function"==typeof r)return r.apply(n,t);throw new Error('"'+e+"\" isn't a function of the provider")}};return{invokeSingle:function(e,r){return Object(o.__awaiter)(void 0,void 0,void 0,(function(){var i,a;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return i=n(e,r),a=g,[4,t(i)];case 1:return[2,a.apply(void 0,[o.sent()])]}}))}))},invokeList:function(e,r){return Object(o.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,c;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return i=n(e,r),s=b,[4,t(i)];case 1:return[4,s.apply(void 0,[o.sent()])];case 2:return a=o.sent(),c=y(a),[2,O(c).filter((function(e){return e}))]}}))}))}}},E=n("C5WR"),k=n("CHtZ"),x=n("/3wP"),_=n("vdYO"),T=n("Vutt"),C=n("dDc+"),S=n("Rr/J"),j=n("/Hsb"),M=n("+yzr"),A=n("bz/o"),R=n("5bgo"),N=n("RZTm"),I=n("MtlP"),P=n.n(I),D=n("XoQQ"),L=n("AFCn"),B=n("6zfK"),z=n("9O50"),H=n("238x"),F=c.default.div(G||(G=Object(o.__makeTemplateObject)(["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"],["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"])),Object(N.l)()),U=c.default.div(q||(q=Object(o.__makeTemplateObject)(["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"],["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"])),C.colors.N20,4*Object(N.l)(),Object(N.l)()/2),W=Object(c.keyframes)($||($=Object(o.__makeTemplateObject)(["\n0% {\n  transform: scale(0);\n}\n\n50% {\n  transform: scale(1.1);\n}\n\n100% {\n  transform: scale(1);\n}\n"],["\n0% {\n  transform: scale(0);\n}\n\n50% {\n  transform: scale(1.1);\n}\n\n100% {\n  transform: scale(1);\n}\n"]))),K=c.default.div(Y||(Y=Object(o.__makeTemplateObject)(["\n  position: relative;\n  align-self: center;\n\n  ","\n\n  &::before {\n    content: '","';\n    display: block;\n    position: absolute;\n    right: -1px;\n    bottom: -1px;\n    width: 13px;\n    height: 13px;\n    z-index: ",";\n    border-radius: 3px;\n    background: ",";\n    color: #fff;\n    font-size: 9px;\n    line-height: 0;\n    padding-top: 7px;\n    text-align: center;\n    box-shadow: 0 0 1px #fff;\n    box-sizing: border-box;\n\n    ","\n  }\n"],["\n  position: relative;\n  align-self: center;\n\n  ","\n\n  &::before {\n    content: '","';\n    display: block;\n    position: absolute;\n    right: -1px;\n    bottom: -1px;\n    width: 13px;\n    height: 13px;\n    z-index: ",";\n    border-radius: 3px;\n    background: ",";\n    color: #fff;\n    font-size: 9px;\n    line-height: 0;\n    padding-top: 7px;\n    text-align: center;\n    box-shadow: 0 0 1px #fff;\n    box-sizing: border-box;\n\n    ","\n  }\n"])),(function(e){if(e.shouldAnimate)return"\n    & > div {\n      animation: "+W+" 500ms 1;\n      animation-fill-mode: both;\n    }\n  "}),(function(e){return e.avatar}),S.u,(function(e){return e.badgeColor}),(function(e){if(e.shouldAnimate)return"\n    animation: "+W+" 250ms 1;\n    animation-fill-mode: both;\n    animation-delay: 400ms;\n  "}));function V(e){var t=Object(B.d)(e.sessionId).color.solid,n=e.name.substr(0,1).toUpperCase(),r=(e.children,e.theme,Object(o.__rest)(e,["children","theme"]));return i.createElement(K,{badgeColor:t,avatar:n,shouldAnimate:e.isInteractive},i.createElement(A.a,Object(o.__assign)({},r)))}var G,q,$,Y,X,J,Z,Q,ee,te,ne,re,oe,ie,ae,se,ce,le,ue,de,pe,fe,he,me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAvatarClick=function(){},t.renderInviteToEditButton=function(){var e=t.props,n=e.inviteToEditComponent,r=e.inviteToEditHandler,o=e.isInviteToEditButtonSelected,a=e.intl.formatMessage,s=i.createElement(z.a,{className:"invite-to-edit",onClick:r,selected:o,title:a(H.a.inviteToEditButtonTitle),titlePosition:"bottom",iconBefore:i.createElement(P.a,{label:a(H.a.inviteToEditButtonTitle)})});return n?i.createElement(U,null,i.createElement(n,null,s)):r?i.createElement(U,null,s):null},t.renderAvatars=function(e){if(!e.data)return null;var n=e.data,r=n.sessionId,o=n.activeParticipants.toArray().map((function(e){return{email:e.email,key:e.sessionId,name:e.name,src:e.avatar,sessionId:e.sessionId,size:"medium",component:V}})).sort((function(e){return e.sessionId===r?-1:1}));return o.length?i.createElement(F,null,i.createElement(R.a,{appearance:"stack",size:"medium",data:o,onAvatarClick:t.onAvatarClick}),t.renderInviteToEditButton()):null},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return i.createElement(D.a,{plugins:{data:L.b},render:this.renderAvatars,editorView:this.props.editorView})},t}(i.Component),ve=Object(l.h)(me),be=n("kbCE"),ge=c.default.div(X||(X=Object(o.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transitionEvent=Object(be.M)(),t.forceComponentUpdate=function(e){e.propertyName.includes("width")&&t.forceUpdate()},t.removeModeChangeListener=function(e){e&&t.transitionEvent&&e.removeEventListener(t.transitionEvent,t.forceComponentUpdate)},t.addModeChangeListener=function(e){e&&t.transitionEvent&&e.addEventListener(t.transitionEvent,t.forceComponentUpdate)},t}return Object(o.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.editorView,r=t.editorActions,o=t.items,i=t.providerFactory,a=t.eventDispatcher,s=t.popupsMountPoint,c=t.popupsBoundariesElement,l=t.popupsScrollableElement,u=t.containerElement,d=t.disabled;return!(e.editorView===n&&e.editorActions===r&&e.items===o&&e.providerFactory===i&&e.eventDispatcher===a&&e.popupsMountPoint===s&&e.popupsBoundariesElement===c&&e.popupsScrollableElement===l&&e.containerElement===u&&e.disabled===d)},t.prototype.componentDidMount=function(){this.addModeChangeListener(this.props.contentArea)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))},t.prototype.componentWillUnmount=function(){this.removeModeChangeListener(this.props.contentArea)},t.prototype.render=function(){var e=this.props,t=e.items,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,a=e.providerFactory,s=e.appearance,c=e.popupsMountPoint,l=e.popupsBoundariesElement,u=e.popupsScrollableElement,d=e.containerElement,p=e.disabled,f=e.dispatchAnalyticsEvent;return t&&n?i.createElement(ge,null,t.map((function(e,t){var h={key:t},m=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:a,dispatchAnalyticsEvent:f,appearance:s,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:u,containerElement:d,disabled:p});return m&&i.cloneElement(m,h)}))):null},t.displayName="PluginSlot",t}(i.Component),Oe=n("TXYc"),we=n("ThPp"),Ee=n("9hCw"),ke=n("WSum"),xe=n("jpV0"),_e=n("LvS1"),Te=Object(c.css)(J||(J=Object(o.__makeTemplateObject)(["\n  .inline-node--mobile {\n    display: inline-block !important;\n  }\n"],["\n  .inline-node--mobile {\n    display: inline-block !important;\n  }\n"]))),Ce=n("t8RR"),Se=n("P5Ao"),je=n("kiYx"),Me=Object(c.css)(Z||(Z=Object(o.__makeTemplateObject)(["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: 9px;\n      padding: 2px;\n      color: white;\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &.telepointer-dim {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"],["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: 9px;\n      padding: 2px;\n      color: white;\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &.telepointer-dim {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"])),B.a.map((function(e,t){return function(e,t){return"\n  &.color-"+t+" {\n    background-color: "+e.selection+";\n    &::after {\n      background-color: "+e.solid+";\n      color: #fff;\n      border-color: "+e.solid+";\n    }\n  }\n"}(e,t)}))),Ae=".ProseMirror-gapcursor",Re='[layout="wrap-left"]',Ne='[layout="wrap-right"]',Ie="\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    "+Ae+" {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1s "+Object(c.keyframes)(Q||(Q=Object(o.__makeTemplateObject)(["\n  from, to {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n"],["\n  from, to {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n"])))+" step-end infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &"+Ne+" {\n        float: right;\n      }\n\n      /* fix vertical alighment of gap cursor */\n      &:first-child + ul,\n      &:first-child + span + ul,\n      &:first-child + ol,\n      &:first-child + span + ol,\n      &:first-child + pre,\n      &:first-child + span + pre,\n      &:first-child + blockquote,\n      &:first-child + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused "+Ae+" {\n      display: block;\n      border-color: transparent;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  "+Ae+Re+" + span + "+Re+",\n  "+Ae+Ne+" + span + "+Ne+",\n  "+Ae+" + "+Re+" + "+Ne+",\n  "+Ae+" + "+Re+" + span + "+Ne+",\n  "+Ae+" + "+Ne+" + "+Re+",\n  "+Ae+" + "+Ne+" + span + "+Re+",\n  "+Re+" + "+Ae+" + "+Ne+",\n  "+Re+" + "+Ae+" + span "+Ne+",\n  "+Ne+" + "+Ae+" + "+Re+",\n  "+Ne+" + "+Ae+" + span + "+Re+" {\n    clear: none;\n  }\n\n  "+Re+" + "+Ae+" + "+Ne+" > div,\n  "+Re+" + "+Ae+" + span + "+Ne+" > div,\n  "+Ne+" + "+Ae+" + "+Re+" > div,\n  "+Ne+" + "+Ae+" + span + "+Re+" > div,\n  "+Ae+" + "+Ne+" + "+Re+" > div,\n  "+Ae+" + "+Ne+" + span + "+Re+" > div,\n  "+Ae+" + "+Re+" + "+Ne+" > div,\n  "+Ae+" + "+Re+" + span + "+Ne+" > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  "+Re+" + "+Ae+",\n  "+Ne+" + "+Ae+" {\n    float: left;\n  }\n\n  "+Ae+" + "+Re+" + span + "+Ne+"::after,\n  "+Ae+" + "+Ne+" + span + "+Re+"::after,\n  "+Re+" + "+Ae+" + "+Ne+"::after,\n  "+Re+" + "+Ae+" + span + "+Ne+"::after,\n  "+Ne+" + "+Ae+" + "+Re+"::after,\n  "+Ne+" + "+Ae+" + span + "+Re+"::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  "+Re+" + "+Ae+" + "+Ne+" + *,\n  "+Re+" + "+Ae+" + "+Ne+" + span + *,\n  "+Ne+" + "+Ae+" + "+Re+" + *,\n  "+Ne+" + "+Ae+" + "+Re+" + span + *,\n  "+Re+" + "+Ae+" + span + "+Ne+" + *,\n  "+Ne+" + "+Ae+" + span + "+Re+" + *,\n  "+Ae+" + "+Re+" + span + "+Ne+" + *,\n  "+Ae+" + "+Ne+" + span + "+Re+" + *,\n  "+Re+" + "+Ae+" + "+Ne+" + * > *,\n  "+Re+" + "+Ae+" + "+Ne+" + span + * > *,\n  "+Ne+" + "+Ae+" + "+Re+" + * > *,\n  "+Ne+" + "+Ae+" + "+Re+" + span + * > *,\n  "+Re+" + "+Ae+" + span + "+Ne+" + * > *,\n  "+Ne+" + "+Ae+" + span + "+Re+" + * > *,\n  "+Ae+" + "+Re+" + span + "+Ne+" + * > *,\n  "+Ae+" + "+Ne+" + span + "+Re+" + * > *,\n  .ProseMirror-widget + "+Ae+" + *,\n  .ProseMirror-widget + "+Ae+" + span + * {\n    margin-top: 0;\n  }\n",Pe=n("gON+"),De=n("l52v"),Le=n("GUx0"),Be=n("yEUy"),ze=Object(c.css)(ee||(ee=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"],["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"])),Le.a,Be.a),He=n("+3hD"),Fe=n("KR5a"),Ue=Object(c.css)(te||(te=Object(o.__makeTemplateObject)(["\n  .ProseMirror .code-block {\n    background: ",";\n    font-family: ",";\n    border: ","px solid transparent;\n    border-radius: ","px;\n    font-size: 14px;\n    line-height: 24px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n      text-align: right;\n      user-select: none;\n      padding: "," 8px;\n      border-radius: ","px;\n      font-size: 12px;\n      line-height: 24px;\n\n      span {\n        display: block;\n\n        &::before {\n          counter-increment: line;\n          content: counter(line);\n          display: inline-block;\n        }\n      }\n    }\n\n    .code-content {\n      color: ",";\n      border-radius: ","px;\n      padding: "," 16px;\n      overflow: auto;\n      display: flex;\n      flex: 1;\n\n      pre {\n        width: 100%;\n      }\n      code {\n        display: inline-block;\n        min-width: 100%;\n        tab-size: 4;\n      }\n    }\n\n    /* We render this as a basic box in IE11 because it can't handle scrolling */\n    &.ie11 {\n      display: block;\n      .line-number-gutter {\n        display: none;\n      }\n      .code-content {\n        display: block;\n        overflow: visible;\n\n        pre {\n          width: auto;\n        }\n        code {\n          display: inline;\n        }\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    border: ","px solid ",";\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    .line-number-gutter {\n      background-color: rgba(255, 143, 115, 0.5);\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n      background-color: rgba(255, 189, 173, 0.5);\n    }\n  }\n"],["\n  .ProseMirror .code-block {\n    background: ",";\n    font-family: ",";\n    border: ","px solid transparent;\n    border-radius: ","px;\n    font-size: 14px;\n    line-height: 24px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n      text-align: right;\n      user-select: none;\n      padding: "," 8px;\n      border-radius: ","px;\n      font-size: 12px;\n      line-height: 24px;\n\n      span {\n        display: block;\n\n        &::before {\n          counter-increment: line;\n          content: counter(line);\n          display: inline-block;\n        }\n      }\n    }\n\n    .code-content {\n      color: ",";\n      border-radius: ","px;\n      padding: "," 16px;\n      overflow: auto;\n      display: flex;\n      flex: 1;\n\n      pre {\n        width: 100%;\n      }\n      code {\n        display: inline-block;\n        min-width: 100%;\n        tab-size: 4;\n      }\n    }\n\n    /* We render this as a basic box in IE11 because it can't handle scrolling */\n    &.ie11 {\n      display: block;\n      .line-number-gutter {\n        display: none;\n      }\n      .code-content {\n        display: block;\n        overflow: visible;\n\n        pre {\n          width: auto;\n        }\n        code {\n          display: inline;\n        }\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    border: ","px solid ",";\n    .line-number-gutter {\n      background-color: ",";\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    .line-number-gutter {\n      background-color: rgba(255, 143, 115, 0.5);\n      color: ",";\n    }\n\n    .code-content {\n      background-color: ",";\n      background-color: rgba(255, 189, 173, 0.5);\n    }\n  }\n"])),Object(He.a)({light:C.colors.N20,dark:C.colors.DN50}),Fe.b,S.t,Object(N.f)(),S.I,S.y,Object(He.a)({light:"rgba(9, 30, 66, 0.04)",dark:C.colors.DN40}),C.colors.N300,Fe.a,Object(N.f)(),Object(He.a)({light:C.colors.N800,dark:C.colors.DN500}),Object(N.f)(),Fe.a,S.t,S.e,C.colors.R75,S.f,S.d,S.f,S.d),We=Object(c.css)(ne||(ne=Object(o.__makeTemplateObject)(["\n  .ProseMirror li {\n    position: relative;\n\n    > p:not(:first-child) {\n      margin: 4px 0 0 0;\n    }\n  }\n\n  /* Make sure li selections wrap around markers */\n  li.ProseMirror-selectednode {\n    outline: none;\n  }\n\n  li.ProseMirror-selectednode::after {\n    content: '';\n    position: absolute;\n    left: -32px;\n    right: -2px;\n    top: -2px;\n    bottom: -2px;\n    border: 2px solid #8cf;\n    pointer-events: none;\n  }\n"],["\n  .ProseMirror li {\n    position: relative;\n\n    > p:not(:first-child) {\n      margin: 4px 0 0 0;\n    }\n  }\n\n  /* Make sure li selections wrap around markers */\n  li.ProseMirror-selectednode {\n    outline: none;\n  }\n\n  li.ProseMirror-selectednode::after {\n    content: '';\n    position: absolute;\n    left: -32px;\n    right: -2px;\n    top: -2px;\n    bottom: -2px;\n    border: 2px solid #8cf;\n    pointer-events: none;\n  }\n"]))),Ke=n("FpU6"),Ve=Object(c.css)(re||(re=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    ",";\n  }\n"],["\n  .ProseMirror {\n    ",";\n  }\n"])),Ke.a),Ge=n("+Kok"),qe=Object(c.css)(oe||(oe=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    "," & [layout='full-width'] .",",\n    & [layout='wide'] ."," {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & ."," {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n\n    /* Larger margins for resize handlers when at depth 0 of the document */\n    & > .mediaSingleView-content-wrap {\n      .mediaSingle-resize-handle-right {\n        margin-right: -","px;\n      }\n      .mediaSingle-resize-handle-left {\n        margin-left: -","px;\n      }\n    }\n  }\n\n  .mediaSingle-resize-handle-right,\n  .mediaSingle-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .mediaSingle-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -","px;\n  }\n\n  .mediaSingle-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -","px;\n  }\n\n  .mediaSingle-resize-handle-right::after,\n  .mediaSingle-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .",":hover .mediaSingle-resize-handle-left::after,\n  .",":hover .mediaSingle-resize-handle-right::after {\n    background: ",";\n  }\n\n  .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n  .mediaSingle-selected .mediaSingle-resize-handle-left::after,\n  ."," .mediaSingle-resize-handle-right:hover::after,\n  ."," .mediaSingle-resize-handle-left:hover::after,\n  .",".is-resizing .mediaSingle-resize-handle-right::after,\n  .",".is-resizing .mediaSingle-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s;\n    transition: box-shadow 0s;\n  }\n\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    ."," div div div::after {\n      border: ","px solid ",";\n    }\n\n    .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n    .mediaSingle-selected .mediaSingle-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"],["\n  .ProseMirror {\n    "," & [layout='full-width'] .",",\n    & [layout='wide'] ."," {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & ."," {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n\n    /* Larger margins for resize handlers when at depth 0 of the document */\n    & > .mediaSingleView-content-wrap {\n      .mediaSingle-resize-handle-right {\n        margin-right: -","px;\n      }\n      .mediaSingle-resize-handle-left {\n        margin-left: -","px;\n      }\n    }\n  }\n\n  .mediaSingle-resize-handle-right,\n  .mediaSingle-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .mediaSingle-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -","px;\n  }\n\n  .mediaSingle-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -","px;\n  }\n\n  .mediaSingle-resize-handle-right::after,\n  .mediaSingle-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .",":hover .mediaSingle-resize-handle-left::after,\n  .",":hover .mediaSingle-resize-handle-right::after {\n    background: ",";\n  }\n\n  .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n  .mediaSingle-selected .mediaSingle-resize-handle-left::after,\n  ."," .mediaSingle-resize-handle-right:hover::after,\n  ."," .mediaSingle-resize-handle-left:hover::after,\n  .",".is-resizing .mediaSingle-resize-handle-right::after,\n  .",".is-resizing .mediaSingle-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s;\n    transition: box-shadow 0s;\n  }\n\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    ."," div div div::after {\n      border: ","px solid ",";\n    }\n\n    .mediaSingle-selected .mediaSingle-resize-handle-right::after,\n    .mediaSingle-selected .mediaSingle-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"])),Ge.b,Ge.a,Ge.a,Ge.a,S.o,S.o,S.n,S.n,Ge.a,Ge.a,C.colors.N60,Ge.a,Ge.a,Ge.a,Ge.a,C.colors.B200,S.d,S.s,S.e,Ge.a,S.s,S.e,S.e),$e=n("F1Zg"),Ye=n("LlWW"),Xe=Object(c.css)(ie||(ie=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    ",";\n  }\n"],["\n  .ProseMirror {\n    ",";\n  }\n"])),Ye.a),Je=Object(c.css)(ae||(ae=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      border-right: 1px solid rgba(0, 0, 0, 0.4);\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"],["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      border-right: 1px solid rgba(0, 0, 0, 0.4);\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"])),C.colors.B75),Ze=Object(c.css)(se||(se=Object(o.__makeTemplateObject)(["\n  .ProseMirror-selectednode .ak-mention {\n    background: ",";\n  }\n"],["\n  .ProseMirror-selectednode .ak-mention {\n    background: ",";\n  }\n"])),Fe.c),Qe=n("kR/0"),et=Object(c.css)(ce||(ce=Object(o.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),Qe.a),tt=Object(c.css)(le||(le=Object(o.__makeTemplateObject)(["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n  }\n"],["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n  }\n"])),C.colors.N300),nt=n("a9uR"),rt=Object(c.css)(ue||(ue=Object(o.__makeTemplateObject)(["\n  a.blockLink {\n    display: block;\n  }\n"],["\n  a.blockLink {\n    display: block;\n  }\n"]))),ot=Object(c.css)(de||(de=Object(o.__makeTemplateObject)(["\n  .ProseMirror {\n    ","\n  }\n"],["\n  .ProseMirror {\n    ","\n  }\n"])),rt),it=Object(c.css)(pe||(pe=Object(o.__makeTemplateObject)(["\n  .extensionView-content-wrap,\n  .bodiedExtensionView-content-wrap {\n    margin: "," 0;\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    &.ProseMirror-selectednode:not(.danger) .extension-container {\n      border-radius: ","px;\n      box-shadow: 0 0 0 ","px\n        ",";\n    }\n  }\n\n  .extensionView-content-wrap .extension-container {\n    overflow: hidden;\n  }\n"],["\n  .extensionView-content-wrap,\n  .bodiedExtensionView-content-wrap {\n    margin: "," 0;\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    &.ProseMirror-selectednode:not(.danger) .extension-container {\n      border-radius: ","px;\n      box-shadow: 0 0 0 ","px\n        ",";\n    }\n  }\n\n  .extensionView-content-wrap .extension-container {\n    overflow: hidden;\n  }\n"])),S.I,N.f,S.s,S.r),at=n("0+8W"),st=n("aspk"),ct=n("NY/I"),lt=Object(c.css)(fe||(fe=Object(o.__makeTemplateObject)(["\n  ."," > div {\n    display: flex;\n  }\n\n  ."," {\n    ","\n    overflow: hidden;\n    cursor: pointer;\n    box-sizing: border-box;\n\n    td > & {\n      margin-top: 0;\n    }\n\n    ."," svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  .ProseMirror > .",", ."," > ."," {\n    margin-left: -","px;\n    margin-right: -","px;\n  }\n\n  ."," {\n    ","\n    cursor: text;\n    padding-top: 0px;\n  }\n\n  ."," {\n    ","\n  }\n\n  ."," {\n    ",";\n    overflow: visible;\n  }\n\n  ."," {\n    background: ",";\n    border-color: ",";\n\n    ."," {\n      padding-top: ","px;\n    }\n  }\n\n  ."," {\n    width: 100%;\n  }\n\n  .",":not(.",") {\n    .ak-editor-expand__content {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n      clip: rect(1px, 1px, 1px, 1px);\n      white-space: nowrap;\n    }\n\n    ."," svg {\n      transform: rotate(0deg);\n    }\n\n    &:not(.ProseMirror-selectednode):not(.danger) {\n      background: transparent;\n      border-color: transparent;\n\n      &:hover {\n        border-color: ",";\n        background: ",";\n      }\n    }\n  }\n"],["\n  ."," > div {\n    display: flex;\n  }\n\n  ."," {\n    ","\n    overflow: hidden;\n    cursor: pointer;\n    box-sizing: border-box;\n\n    td > & {\n      margin-top: 0;\n    }\n\n    ."," svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  .ProseMirror > .",", ."," > ."," {\n    margin-left: -","px;\n    margin-right: -","px;\n  }\n\n  ."," {\n    ","\n    cursor: text;\n    padding-top: 0px;\n  }\n\n  ."," {\n    ","\n  }\n\n  ."," {\n    ",";\n    overflow: visible;\n  }\n\n  ."," {\n    background: ",";\n    border-color: ",";\n\n    ."," {\n      padding-top: ","px;\n    }\n  }\n\n  ."," {\n    width: 100%;\n  }\n\n  .",":not(.",") {\n    .ak-editor-expand__content {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n      clip: rect(1px, 1px, 1px, 1px);\n      white-space: nowrap;\n    }\n\n    ."," svg {\n      transform: rotate(0deg);\n    }\n\n    &:not(.ProseMirror-selectednode):not(.danger) {\n      background: transparent;\n      border-color: transparent;\n\n      &:hover {\n        border-color: ",";\n        background: ",";\n      }\n    }\n  }\n"])),st.a.icon,st.a.prefix,at.d.ContainerStyles,st.a.iconContainer,st.a.type("expand"),ct.a.BREAKOUT_MARK_DOM,st.a.type("expand"),S.G,S.G,st.a.content,at.d.ContentStyles,st.a.titleInput,at.d.TitleInputStyles,st.a.titleContainer,at.d.TitleContainerStyles,st.a.expanded,"rgba(255, 255, 255, 0.6)",C.colors.N40A,st.a.content,N.l,st.a.inputContainer,st.a.prefix,st.a.expanded,st.a.iconContainer,C.colors.N50A,"rgba(255, 255, 255, 0.6)"),ut=n("ktYr"),dt=n("v/9i"),pt=c.default.div(he||(he=Object(o.__makeTemplateObject)(["\n  /* Hack for ie11 that is being used in code block.\n   * https://bitbucket.org/atlassian/atlaskit/src/ad09f6361109ece1aab316c8cbd8116ffb7963ef/packages/editor-core/src/schema/nodes/code-block.ts?fileviewer=file-view-default#code-block.ts-110\n   */\n  & .ie11 {\n    overflow: visible;\n    word-wrap: break-word;\n  }\n\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror[contenteditable=false] .taskItemView-content-wrap {\n    pointer-events: none;\n    opacity: 0.7;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid #8cf;\n  }\n\n  .inlineCardView-content-wrap {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n  }\n\n  .inlineCardView-content-wrap .card {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n\n  .blockCardView-content-wrap {\n    display: inline-block;\n  }\n\n  /* fix cursor alignment */\n  .ProseMirror .emoji-common-node {\n    display: inline;\n    vertical-align: baseline;\n\n    img {\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  /** Global selector for extensions, as .danger tag is assigned to root level node which is unaccessible from triggered child node **/\n  /* Danger when nested node */\n  .danger .extension-container {\n    background: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n    transition: opacity 0s;\n  }\n\n  /* Danger when top level node */\n  .danger > span > .extension-container {\n    background: ",";\n    box-shadow: 0 0 0 ","px ",";\n  }\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .hyperlink-floating-toolbar, ."," {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package\n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n\n"],["\n  /* Hack for ie11 that is being used in code block.\n   * https://bitbucket.org/atlassian/atlaskit/src/ad09f6361109ece1aab316c8cbd8116ffb7963ef/packages/editor-core/src/schema/nodes/code-block.ts?fileviewer=file-view-default#code-block.ts-110\n   */\n  & .ie11 {\n    overflow: visible;\n    word-wrap: break-word;\n  }\n\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror[contenteditable=false] .taskItemView-content-wrap {\n    pointer-events: none;\n    opacity: 0.7;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid #8cf;\n  }\n\n  .inlineCardView-content-wrap {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n  }\n\n  .inlineCardView-content-wrap .card {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n\n  .blockCardView-content-wrap {\n    display: inline-block;\n  }\n\n  /* fix cursor alignment */\n  .ProseMirror .emoji-common-node {\n    display: inline;\n    vertical-align: baseline;\n\n    img {\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  /** Global selector for extensions, as .danger tag is assigned to root level node which is unaccessible from triggered child node **/\n  /* Danger when nested node */\n  .danger .extension-container {\n    background: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n    transition: opacity 0s;\n  }\n\n  /* Danger when top level node */\n  .danger > span > .extension-container {\n    background: ",";\n    box-shadow: 0 0 0 ","px ",";\n  }\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .hyperlink-floating-toolbar, ."," {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package\n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n\n"])),S.K,we.a,Ee.a,ke.a,xe.a,_e.a,Te,ze,et,tt,De.b,Ue,We,Ve,qe,$e.c,Me,Ie,Pe.l,Xe,Je,Ze,Ce.a,nt.b,ot,Se.a,je.b,it,lt,dt.a,S.d,S.s,S.e,ut.a.FLOATING_TOOLBAR_COMPONENT),ft=n("25wM"),ht=n("qYTr"),mt=c.default.div(vt||(vt=Object(o.__makeTemplateObject)(["\n  flex-grow: 1;\n  height: 100%;\n"],["\n  flex-grow: 1;\n  height: 100%;\n"])));mt.displayName="ClickWrapper";var vt,bt=function(e){for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1},gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=t.props.editorView,r=e.currentTarget.querySelector(".ak-editor-content-area"),o=!(!n||!n.hasFocus()),i=e.target,a="INPUT"===i.nodeName,s=!!Object(be.j)(i,"[data-editor-popup]"),c="TEXTAREA"===i.nodeName;if((!r||!bt(i.parentNode)||!1===o)&&!a&&!c&&!s&&n){var l=n.dispatch,u=n.dom,d=!!(e.clientY>u.getBoundingClientRect().bottom)&&Object(ft.e)()(n.state,l),p=Object(ht.c)(e,u,n.posAtCoords.bind(n),o)(n.state,l);(d||p)&&(n.focus(),e.stopPropagation())}},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return i.createElement(mt,{onClick:this.handleClick},this.props.children)},t}(i.Component),yt=n("U6Bd"),Ot=n("A+BJ"),wt=n("uJU4"),Et=n("H6wx"),kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.debounce=null,t.broadcastWidth=function(e){var n=t.props.editorView;return n&&(t.debounce&&window.clearTimeout(t.debounce),t.debounce=window.setTimeout((function(){var r=t.props.contentArea?t.props.contentArea.querySelector(".ProseMirror"):void 0,o=n.state.tr.setMeta(wt.b,{width:e,lineLength:r?r.clientWidth:void 0});n.dispatch(o),t.debounce=null}),10)),null},t}return Object(o.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.debounce&&window.clearTimeout(this.debounce)},t.prototype.render=function(){var e=this;return i.createElement(Et.a,null,(function(t){var n=t.width;return i.createElement(d.b,null,(function(t){var r=t.width;return e.broadcastWidth(r-n)}))}))},t.displayName="WidthEmitter",t}(i.Component),xt="0.5s "+S.v,_t=2*S.m,Tt=c.default.div(Nt||(Nt=Object(o.__makeTemplateObject)(["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"],["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"])));Tt.displayName="FullPageEditorWrapper";var Ct=Object(c.default)(pt)(It||(It=Object(o.__makeTemplateObject)(["\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"],["\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"])),Ot.k);Ct.displayName="ScrollContainer";var St=c.default.div(Pt||(Pt=Object(o.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 80px);\n  box-sizing: border-box;\n"],["\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 80px);\n  box-sizing: border-box;\n"])));St.displayName="ContentArea";var jt=c.default.div(Dt||(Dt=Object(o.__makeTemplateObject)(["\n  height: 100%;\n  box-sizing: border-box;\n  align-self: flex-end;\n"],["\n  height: 100%;\n  box-sizing: border-box;\n  align-self: flex-end;\n"])));jt.displayName="SidebarArea";var Mt=c.default.div(Lt||(Lt=Object(o.__makeTemplateObject)(["\n  line-height: 24px;\n  padding-top: 50px;\n  padding-bottom: 55px;\n  height: calc(\n    100% - 105px\n  ); /* fill the viewport: 100% - (padding top & bottom) */\n  width: 100%;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n\n  max-width: ","px;\n  transition: max-width ",";\n\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    /* Prevent horizontal scroll on page in full width mode */\n    ","\n  }\n"],["\n  line-height: 24px;\n  padding-top: 50px;\n  padding-bottom: 55px;\n  height: calc(\n    100% - 105px\n  ); /* fill the viewport: 100% - (padding top & bottom) */\n  width: 100%;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n\n  max-width: ","px;\n  transition: max-width ",";\n\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    /* Prevent horizontal scroll on page in full width mode */\n    ","\n  }\n"])),(function(e){var t=e.theme;return(e.fullWidthMode?S.k:t.layoutMaxWidth)+_t}),xt,j.b,M.b,Pe.g,(function(e){var t=e.containerWidth;return t?"\n        .pm-table-container,\n        .code-block,\n        .extension-container {\n          max-width: "+(t-_t-2*Pe.j)+"px;\n        }\n\n        [data-layout-section] {\n          max-width: "+(t-_t+2*S.G)+"px;\n        }\n      ":"\n          .pm-table-container,\n          .code-block,\n          .extension-container {\n            display: none;\n          }\n        "}));Mt.displayName="EditorContentArea";var At=c.default.div(Bt||(Bt=Object(o.__makeTemplateObject)(["\n  position: relative;\n  align-items: center;\n  box-shadow: ",";\n  transition: box-shadow 200ms;\n  z-index: ",";\n  display: flex;\n  height: 80px;\n  flex-shrink: 0;\n\n  & object {\n    height: 0 !important;\n  }\n"],["\n  position: relative;\n  align-items: center;\n  box-shadow: ",";\n  transition: box-shadow 200ms;\n  z-index: ",";\n  display: flex;\n  height: 80px;\n  flex-shrink: 0;\n\n  & object {\n    height: 0 !important;\n  }\n"])),(function(e){return e.showKeyline?"0 "+Fe.e+"px 0 0 "+C.colors.N30:"none"}),S.p);At.displayName="MainToolbar";var Rt=c.default.div(zt||(zt=Object(o.__makeTemplateObject)(["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n"])));Rt.displayName="MainToolbar",c.default.div(Ht||(Ht=Object(o.__makeTemplateObject)(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  flex-shrink: 0;\n  display: flex;\n  padding: 24px 0;\n"],["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  flex-shrink: 0;\n  display: flex;\n  padding: 24px 0;\n"]))).displayName="SecondaryToolbar";var Nt,It,Pt,Dt,Lt,Bt,zt,Ht,Ft,Ut,Wt,Kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showKeyline:!1},t.appearance="full-page",t.scrollContainer=null,t.stopPropagation=function(e){return e.stopPropagation()},t.scrollContainerRef=function(e){var n=t.scrollContainer;n&&n.removeEventListener("scroll",t.scheduleUpdateToolbarKeyline),t.scrollContainer=e||null,t.scrollContainer&&(t.scrollContainer.addEventListener("scroll",t.scheduleUpdateToolbarKeyline,!1),t.updateToolbarKeyline())},t.updateToolbarKeyline=function(){if(!t.scrollContainer)return!1;var e=t.scrollContainer.scrollTop>Fe.e;return e!==t.state.showKeyline&&t.setState({showKeyline:e}),!1},t.scheduleUpdateToolbarKeyline=Object(yt.a)(t.updateToolbarKeyline),t.handleResize=function(){t.scheduledKeylineUpdate=t.scheduleUpdateToolbarKeyline()},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize),this.scheduledKeylineUpdate&&cancelAnimationFrame(this.scheduledKeylineUpdate)},t.prototype.render=function(){var e=this,t=this.props,n=t.appearance,r=t.editorDOMElement,o=t.editorView,a=t.editorActions,s=t.eventDispatcher,c=t.providerFactory,l=t.primaryToolbarComponents,u=t.contentComponents,p=t.customPrimaryToolbarComponents,f=t.customContentComponents,h=t.popupsMountPoint,m=t.popupsBoundariesElement,v=t.popupsScrollableElement,b=t.disabled,g=t.collabEdit,y=t.dispatchAnalyticsEvent,O=t.allowAnnotation,w=this.state.showKeyline;return i.createElement(Et.b,null,i.createElement(Tt,{className:"akEditor"},i.createElement(At,{showKeyline:w},i.createElement(Oe.b,{editorView:o,editorActions:a,eventDispatcher:s,providerFactory:c,appearance:this.appearance,items:l,popupsMountPoint:h,popupsBoundariesElement:m,popupsScrollableElement:v,disabled:!!b,dispatchAnalyticsEvent:y}),i.createElement(Rt,null,i.createElement(ve,{editorView:o,eventDispatcher:s,inviteToEditComponent:g&&g.inviteToEditComponent,inviteToEditHandler:g&&g.inviteToEditHandler,isInviteToEditButtonSelected:g&&g.isInviteToEditButtonSelected}),p)),i.createElement(St,null,i.createElement(Ct,{innerRef:this.scrollContainerRef,allowAnnotation:O,className:"fabric-editor-popup-scroll-parent"},i.createElement(gt,{editorView:o},i.createElement(d.b,null,(function(t){var l=t.width;return i.createElement(Mt,{fullWidthMode:"full-width"===n,innerRef:function(t){e.contentArea=t},containerWidth:l},i.createElement("div",{style:{padding:"0 "+S.m+"px",boxSizing:"border-box"},className:["ak-editor-content-area","full-width"===e.props.appearance?"fabric-editor--full-width-mode":""].join(" ")},f,i.createElement(ye,{editorView:o,editorActions:a,eventDispatcher:s,providerFactory:c,appearance:e.props.appearance||e.appearance,items:u,contentArea:e.contentArea,popupsMountPoint:h,popupsBoundariesElement:m,popupsScrollableElement:v,disabled:!!b,containerElement:e.scrollContainer,dispatchAnalyticsEvent:y}),r))})))),this.props.contextPanel&&i.createElement(jt,null,this.props.contextPanel),i.createElement(kt,{editorView:o,contentArea:this.scrollContainer}))))},t.displayName="FullPageEditor",t}(i.Component),Vt=n("Iacv"),Gt=Object(c.keyframes)(Ft||(Ft=Object(o.__makeTemplateObject)(["\n  50% {\n    background-color: ",";\n  }\n"],["\n  50% {\n    background-color: ",";\n  }\n"])),C.colors.R100),qt=Object(c.keyframes)(Ut||(Ut=Object(o.__makeTemplateObject)(["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"],["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"])),C.colors.R100,C.colors.R100),$t=c.default.div(Wt||(Wt=Object(o.__makeTemplateObject)(["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: ",";\n  }\n"],["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: ",";\n  }\n"])),qt,(function(e){return e.animate?".25s ease-in-out "+Gt:"none"})),Yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggle=!1,t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.animate,n=e.children;return this.toggle=t&&!this.toggle,i.createElement($t,{className:this.toggle?"-flash":"",animate:t},n)},t}(i.Component),Xt=c.default.div(Zt||(Zt=Object(o.__makeTemplateObject)(["\n  line-height: 20px;\n  height: auto;\n  min-height: 30px;\n  "," overflow-x: hidden;\n  overflow-y: auto;\n  "," max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"],["\n  line-height: 20px;\n  height: auto;\n  min-height: 30px;\n  "," overflow-x: hidden;\n  overflow-y: auto;\n  "," max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])),(function(e){return e.maxHeight?"max-height: "+e.maxHeight+"px;":""}),Ot.k);Xt.displayName="ChromelessEditor";var Jt=Object(c.default)(pt)(Qt||(Qt=Object(o.__makeTemplateObject)([""],[""])));Jt.displayName="ContentArea";var Zt,Qt,en=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appearance="chromeless",t.containerElement=null,t.renderChrome=function(e){var n=e.maxContentSize,r=t.props,o=r.editorDOMElement,a=r.editorView,s=r.editorActions,c=r.eventDispatcher,l=r.providerFactory,u=r.contentComponents,d=r.customContentComponents,p=r.maxHeight,f=r.popupsMountPoint,h=r.popupsBoundariesElement,m=r.popupsScrollableElement,v=r.disabled,b=r.dispatchAnalyticsEvent,g=n&&n.maxContentSizeReached;return i.createElement(Yt,{animate:g},i.createElement(Xt,{maxHeight:p,innerRef:function(e){return t.containerElement=e}},i.createElement(Jt,null,d,i.createElement(ye,{editorView:a,editorActions:s,eventDispatcher:c,providerFactory:l,appearance:t.appearance,items:u,popupsMountPoint:f,popupsBoundariesElement:h,popupsScrollableElement:m,containerElement:t.containerElement,disabled:!!v,dispatchAnalyticsEvent:b}),o)))},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return i.createElement(D.a,{plugins:{maxContentSize:Vt.b},render:this.renderChrome})},t.displayName="ChromelessEditorAppearance",t}(i.Component),tn=n("VPHB"),nn=n("/sMe"),rn=n("X0ma"),on=n("O94r"),an=n.n(on),sn=c.default.div(pn||(pn=Object(o.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Parahraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n  min-height: 150px;\n  height: auto;\n  "," background-color: white;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"],["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Parahraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n  min-height: 150px;\n  height: auto;\n  "," background-color: white;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"])),8,8,(function(e){return e.maxHeight?"max-height: "+e.maxHeight+"px;":""}),C.colors.N40,Object(N.f)());sn.displayName="CommentEditor";var cn=c.default.div(fn||(fn=Object(o.__makeTemplateObject)(["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n\n  padding-left: ","px;\n\n  & > div > *:first-child {\n    margin-left: 0;\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"],["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n\n  padding-left: ","px;\n\n  & > div > *:first-child {\n    margin-left: 0;\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"])),Object(N.l)(),Object(N.l)(),20);cn.displayName="MainToolbar";var ln=c.default.div(hn||(hn=Object(o.__makeTemplateObject)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"],["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"])),20);ln.displayName="MainToolbar";var un=Object(c.default)(pt)(mn||(mn=Object(o.__makeTemplateObject)(["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for tables controlls. Otherwise marging collapse and controlls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"],["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for tables controlls. Otherwise marging collapse and controlls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"])),14,14,14-nt.a,14-nt.a,14-nt.a,20,Pe.c);un.displayName="ContentArea";var dn=c.default.div(vn||(vn=Object(o.__makeTemplateObject)(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"],["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"])));dn.displayName="SecondaryToolbar";var pn,fn,hn,mn,vn,bn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appearance="comment",t.containerElement=null,t.handleSave=function(){t.props.editorView&&t.props.onSave&&t.props.onSave(t.props.editorView)},t.handleCancel=function(){t.props.editorView&&t.props.onCancel&&t.props.onCancel(t.props.editorView)},t.renderChrome=function(e){var n=e.maxContentSize,r=(e.mediaState,t.props),o=r.editorDOMElement,a=r.editorView,s=r.editorActions,c=r.eventDispatcher,l=r.providerFactory,u=r.contentComponents,p=r.customContentComponents,f=r.customPrimaryToolbarComponents,h=r.primaryToolbarComponents,m=r.customSecondaryToolbarComponents,v=r.popupsMountPoint,b=r.popupsBoundariesElement,g=r.popupsScrollableElement,y=r.maxHeight,O=r.onSave,w=r.onCancel,E=r.disabled,k=r.dispatchAnalyticsEvent,x=r.intl,_=n&&n.maxContentSizeReached;return i.createElement(Yt,{animate:_},i.createElement(sn,{maxHeight:y,className:"akEditor"},i.createElement(cn,null,i.createElement(Oe.b,{editorView:a,editorActions:s,eventDispatcher:c,providerFactory:l,appearance:t.appearance,items:h,popupsMountPoint:v,popupsBoundariesElement:b,popupsScrollableElement:g,disabled:!!E,dispatchAnalyticsEvent:k}),i.createElement(ln,null,f)),i.createElement(gt,{editorView:a},i.createElement(d.b,null,(function(e){var n=e.width;return i.createElement(un,{innerRef:function(e){return t.containerElement=e},className:an()("ak-editor-content-area",{"less-margin":n<S.q})},p,i.createElement(ye,{editorView:a,editorActions:s,eventDispatcher:c,dispatchAnalyticsEvent:k,providerFactory:l,appearance:t.appearance,items:u,popupsMountPoint:v,popupsBoundariesElement:b,popupsScrollableElement:g,containerElement:t.containerElement,disabled:!!E}),o)}))),i.createElement(kt,{editorView:a,contentArea:t.containerElement})),i.createElement(dn,null,i.createElement(tn.a,null,!!O&&i.createElement(nn.a,{appearance:"primary",onClick:t.handleSave,testId:"comment-save-button",isDisabled:E},x.formatMessage(H.a.saveButton)),!!w&&i.createElement(nn.a,{appearance:"subtle",onClick:t.handleCancel,isDisabled:E},x.formatMessage(H.a.cancelButton))),i.createElement("span",{style:{flexGrow:1}}),m))},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return i.createElement(D.a,{plugins:{maxContentSize:Vt.b,mediaState:rn.b},render:this.renderChrome})},t.displayName="CommentEditorAppearance",t}(i.Component),gn=Object(l.h)(bn),yn=c.default.div(On||(On=Object(o.__makeTemplateObject)(["\n  height: 100%;\n  min-height: 100vh;\n"],["\n  height: 100%;\n  min-height: 100vh;\n"])));yn.displayName="ClickWrapper";var On,wn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickElementRef=i.createRef(),t.handleClick=function(e){var n=t.props.editorView;n&&(e.clientY>n.dom.getBoundingClientRect().bottom&&(e.preventDefault(),e.stopPropagation(),n.focus(),Object(ft.e)()(n.state,n.dispatch),t.clickElementRef.current&&t.clickElementRef.current.scrollIntoView(!1)))},t}return Object(o.__extends)(t,e),t.prototype.render=function(){return i.createElement(yn,{className:"editor-click-wrapper",onClick:this.handleClick,innerRef:this.clickElementRef},this.props.children)},t}(i.Component),En=c.default.div(kn||(kn=Object(o.__makeTemplateObject)(["\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"],["\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])));En.displayName="MobileEditor";var kn,xn,_n=Object(c.default)(pt)(xn||(xn=Object(o.__makeTemplateObject)([""],[""])));function Tn(e){var t=e.editorView,n=e.maxHeight,r=e.children,o=Object(i.useCallback)((function(e){var o=e.maxContentSize,i=o&&o.maxContentSizeReached;return a.a.createElement(Yt,{animate:i},a.a.createElement(En,{isMaxContentSizeReached:i,maxHeight:n},a.a.createElement(wn,{editorView:t||void 0},a.a.createElement(_n,null,r))))}),[t,n,r]);return a.a.createElement(D.a,{plugins:{maxContentSize:Vt.b},render:o})}function Cn(e){var t=e.editorView,n=e.maxHeight,r=e.editorDOMElement;return i.createElement(Tn,{editorView:t||null,maxHeight:n},r)}_n.displayName="ContentArea";var Sn=n("njjQ"),jn=n("qRgY"),Mn=n("zirS"),An=n("Ye7c"),Rn=n("ImOC"),Nn=n("GGnZ"),In=n("x+QU"),Pn=n.n(In),Dn=n("BwRW"),Ln=function(e,t){return(e.modules[t]||[]).map((function(t){return function(e,t){var n=t.title||e.title,r=e.key+":"+t.key,o=Object(Dn.a)(t.action,e);if(!o)throw new Error("Couldn't find any action for "+n+" ("+r+")");return{key:r,title:n,description:t.description||e.description,icon:t.icon||e.icons[48],node:o}}(e,t)}))},Bn=function(e,t,n){var r=function(e,t){return e.reduce((function(e,n){var r,i,a=Ln(n,t);return Object(o.__assign)(Object(o.__assign)({},e),(r="key",i=function(e){return e},a.reduce((function(e,t){return e[i(t[r])]=t,e}),{})))}),{})}(e,t);return Object.keys(r).map((function(e,t){return n(r[e],t)}))};function zn(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n;return Object(o.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.getExtensions()];case 1:return n=r.sent(),[2,{getItems:function(){var e=Bn(n,"quickInsert",(function(e){var n=Pn()({loader:e.icon,loading:function(){return null}});return{title:e.title,description:e.description,icon:function(){return i.createElement(n,{label:e.title})},action:function(n){return"function"==typeof e.node?(Object(Dn.c)(e.node()).then((function(e){t.replaceSelection(e)})),n("")):n(e.node)}}}));return Promise.all(e)}}]}}))}))}var Hn,Fn,Un,Wn=n("fjMk"),Kn=n("N01o"),Vn=n("A/E9"),Gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:void 0},t.fireAnalytics=function(e){var n=t.props.createAnalyticsEvent;t.getProductName().then((function(t){n?n({action:Kn.a.EDITOR_CRASHED,actionSubject:Kn.b.EDITOR,eventType:Kn.d.OPERATIONAL,attributes:Object(o.__assign)({product:t,browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},e)}).fire(Vn.d):console.error("Editor Error Boundary: Missing `createAnalyticsEvent` prop.",{channel:Vn.d,product:t,error:e})})).catch((function(e){console.error("Failed to resolve product name from contextIdentifierProvider.",e)}))},t.getProductName=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(e=this.props.contextIdentifierProvider)?[4,e]:[3,2];case 1:if((t=n.sent()).product)return[2,t.product];n.label=2;case 2:return[2,"atlaskit"]}}))}))},t}return Object(o.__extends)(t,e),t.prototype.componentDidCatch=function(e,t){var n=this;this.fireAnalytics({error:e.toString(),errorInfo:t}),this.setState({error:e},(function(){if(n.props.rethrow)throw e}))},t.prototype.render=function(){return this.props.children},t.defaultProps={rethrow:!0},t}(i.Component),qn=(Hn={card:_.b},(Fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contextState={},t}return Object(o.__extends)(t,e),t.prototype.getChildContext=function(){return{contextAdapter:this.zipProvidersWithValues()}},t.prototype.zipProvidersWithValues=function(){var e=this;return Object.keys(Hn).reduce((function(t,n){return t[n]={Provider:Hn[n].Provider,Consumer:Hn[n].Consumer,value:e.contextState[n]},t}),{})},t.prototype.render=function(){var e=this,t=this.props.children,n=Object.keys(Hn).map((function(t,n){var r=Hn[t].Consumer;return i.createElement(r,{key:n},(function(n){return e.contextState[t]!==n&&(e.contextState[t]=n,e.forceUpdate()),null}))}));return i.createElement(i.Fragment,null,n,t)},t}(i.Component)).childContextTypes={contextAdapter:s.object},Fn),$n=Object(c.default)(d.c)(Un||(Un=Object(o.__makeTemplateObject)(["\n  height: 100%;\n"],["\n  height: 100%;\n"]))),Yn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.handleSave=function(e){if(r.props.onSave)return e.inDOMChange&&e.inDOMChange.finish(!0),r.props.onSave(e)},r.handleAnalyticsEvent=function(e){return Object(Wn.b)(r.createAnalyticsEvent)(e)},r.providerFactory=new p.a,r.deprecationWarnings(t),r.onEditorCreated=r.onEditorCreated.bind(r),r.onEditorDestroyed=r.onEditorDestroyed.bind(r),r.editorActions=(n||{}).editorActions||new Sn.a,Object(f.b)(Nn.a.EDITOR_MOUNTED),r}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(f.c)(Nn.a.EDITOR_MOUNTED,(function(t,n){e.createAnalyticsEvent&&Object(Wn.b)(e.createAnalyticsEvent)({payload:{action:Kn.a.EDITOR_MOUNTED,actionSubject:Kn.b.EDITOR,attributes:{duration:t,startTime:n},eventType:Kn.d.OPERATIONAL}})})),this.handleProviders(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.handleProviders(e)},t.prototype.componentWillUnmount=function(){this.unregisterEditorFromActions(),this.providerFactory.destroy(),Object(f.a)(Nn.a.EDITOR_MOUNTED)},t.prototype.onEditorCreated=function(e){this.registerEditorForActions(e.view,e.eventDispatcher,e.transformer),this.props.onEditorReady&&this.props.onEditorReady(this.editorActions)},t.prototype.deprecationWarnings=function(e){var t=Object(Rn.a)(),n={allowTasksAndDecisions:{message:"To allow tasks and decisions use taskDecisionProvider – <Editor taskDecisionProvider={{ provider }} />",type:"removed"},allowConfluenceInlineComment:{message:"To integrate inline comments use experimental annotationProvider – <Editor annotationProvider={{ provider }} />",type:"removed"},allowUnsupportedContent:{message:"Deprecated. Defaults to true.",type:"removed"}};Object.keys(n).forEach((function(r){if(e.hasOwnProperty(r)){var o=n[r],i=o.type||"enabled by default";console.warn(r+" property is deprecated. "+(o.message||"")+" [Will be "+i+" in editor-core@"+t+"]")}})),e.hasOwnProperty("quickInsert")&&"boolean"==typeof e.quickInsert&&console.warn("quickInsert property is deprecated. [Will be enabled by default in editor-core@"+t+"]"),!e.hasOwnProperty("allowTables")||"boolean"==typeof e.allowTables||e.allowTables&&e.allowTables.advanced||console.warn("Advanced table options are deprecated (except isHeaderRowRequired) to continue using advanced table features use - <Editor allowTables={{ advanced: true }} /> [Will be changed in editor-core@"+t+"]")},t.prototype.onEditorDestroyed=function(e){this.unregisterEditorFromActions()},t.prototype.registerEditorForActions=function(e,t,n){this.editorActions._privateRegisterEditor(e,t,n)},t.prototype.unregisterEditorFromActions=function(){this.editorActions&&this.editorActions._privateUnregisterEditor()},t.prototype.handleProviders=function(e){var t,n=e.emojiProvider,r=e.mentionProvider,i=e.taskDecisionProvider,a=e.contextIdentifierProvider,s=e.collabEditProvider,c=e.activityProvider,l=e.presenceProvider,u=e.macroProvider,d=e.legacyImageUploadProvider,p=e.media,f=e.collabEdit,h=e.quickInsert,m=e.autoformattingProvider,v=e.extensionProviders,b=e.UNSAFE_cards;if(this.providerFactory.setProvider("emojiProvider",n),this.providerFactory.setProvider("mentionProvider",r),this.providerFactory.setProvider("taskDecisionProvider",i),this.providerFactory.setProvider("contextIdentifierProvider",a),this.providerFactory.setProvider("mediaProvider",p&&p.provider),this.providerFactory.setProvider("imageUploadProvider",d),this.providerFactory.setProvider("collabEditProvider",f&&f.provider?f.provider:s),this.providerFactory.setProvider("activityProvider",c),this.providerFactory.setProvider("presenceProvider",l),this.providerFactory.setProvider("macroProvider",u),b&&b.provider&&this.providerFactory.setProvider("cardProvider",b.provider),this.providerFactory.setProvider("autoformattingProvider",m),v&&(t=function(e){var t=w(e),n=t.invokeSingle,r=t.invokeList;return{getExtensions:function(){return r("getExtensions")},getExtension:function(e,t){return n("getExtension",[e,t])},search:function(e){return r("search",[e])}}}(v),this.providerFactory.setProvider("extensionProvider",Promise.resolve(t))),h&&"boolean"!=typeof h){var g=t?function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(n){return t=w(e).invokeList,[2,{getItems:function(){return t("getItems")}}]}))}))}([h.provider,zn(t,this.editorActions)]):h.provider;this.providerFactory.setProvider("quickInsertProvider",g)}},t.prototype.render=function(){var e=this,t=function(e){switch(e=e||"comment"){case"full-page":case"full-width":return Kt;case"chromeless":return en;case"comment":return gn;case"mobile":return Cn;default:throw new Error("Appearance '"+e+"' is not supported by the editor.")}}(this.props.appearance),n=Object(o.__assign)(Object(o.__assign)({},this.props),{onSave:this.props.onSave?this.handleSave:void 0}),r=i.createElement(T.d,{data:{packageName:u.a,packageVersion:u.b,componentName:"editorCore",appearance:Object(E.a)(this.props.appearance)}},i.createElement(k.a,{render:function(r){return(e.createAnalyticsEvent=r)&&i.createElement(Gn,{createAnalyticsEvent:r,contextIdentifierProvider:e.props.contextIdentifierProvider},i.createElement($n,null,i.createElement(Mn.a,{editorActions:e.editorActions},i.createElement(qn,null,i.createElement(An.a,{onAnalyticsEvent:e.handleAnalyticsEvent,render:function(o){return i.createElement(i.Fragment,null,i.createElement(jn.a,{editorProps:n,createAnalyticsEvent:r,portalProviderAPI:o,providerFactory:e.providerFactory,onEditorCreated:e.onEditorCreated,onEditorDestroyed:e.onEditorDestroyed,allowAnalyticsGASV3:e.props.allowAnalyticsGASV3,disabled:e.props.disabled,render:function(n){var r=n.editor,o=n.view,a=n.eventDispatcher,s=n.config,c=n.dispatchAnalyticsEvent;return i.createElement(x.a,{dynamicTextSizing:e.props.allowDynamicTextSizing&&"full-width"!==e.props.appearance},i.createElement(t,{appearance:e.props.appearance,disabled:e.props.disabled,editorActions:e.editorActions,editorDOMElement:r,editorView:o,providerFactory:e.providerFactory,eventDispatcher:a,dispatchAnalyticsEvent:c,maxHeight:e.props.maxHeight,onSave:e.props.onSave?e.handleSave:void 0,onCancel:e.props.onCancel,popupsMountPoint:e.props.popupsMountPoint,popupsBoundariesElement:e.props.popupsBoundariesElement,popupsScrollableElement:e.props.popupsScrollableElement,contentComponents:s.contentComponents,primaryToolbarComponents:s.primaryToolbarComponents,secondaryToolbarComponents:s.secondaryToolbarComponents,insertMenuItems:e.props.insertMenuItems,customContentComponents:e.props.contentComponents,customPrimaryToolbarComponents:e.props.primaryToolbarComponents,customSecondaryToolbarComponents:e.props.secondaryToolbarComponents,contextPanel:e.props.contextPanel,collabEdit:e.props.collabEdit,allowAnnotation:!!e.props.annotationProvider}))}}),i.createElement(An.c,{portalProviderAPI:o}))}})))))}}));return this.context.intl?r:i.createElement(l.e,{locale:"en"},r)},t.defaultProps={appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0},t.contextTypes={editorActions:s.object,intl:l.i},t}(i.Component);t.a=Yn},MMa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="history$"},MVoQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p}));var r,o=n("D57K"),i=n("Dsue"),a=n("dDc+"),s=n("5ipG"),c=n("XG57"),l=n("WlQb"),u={color:a.colors.N800.toLowerCase(),label:"Dark gray"};!function(e){e[e.RESET_COLOR=0]="RESET_COLOR",e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(r||(r={}));var d=new i.PluginKey("textColorPlugin");function p(e,t){return new i.Plugin({key:d,state:{init:function(e,n){return function(e,t){var n=t&&t.defaultColor||u,r=t&&t.EXPERIMENTAL_allowMoreTextColors||!1,i=Object(o.__spread)([{value:n.color,label:n.label,border:l.a}],r?l.c:l.b),a={color:Object(s.a)(e),disabled:Object(c.a)(e),palette:i,defaultColor:n.color};if(r){var d=i.slice(0,7),p=i.slice(7,14),f=i.slice(14),h=p.concat(d).concat(f),m=h[0];return h[0]=h[7],h[7]=m,Object(o.__assign)(Object(o.__assign)({},a),{palette:d,paletteExpanded:h})}return a}(n,t)},apply:function(t,n,i,a){var l,u=t.getMeta(d)||{};switch(u.action){case r.RESET_COLOR:l=Object(o.__assign)(Object(o.__assign)({},n),{color:n.defaultColor});break;case r.SET_COLOR:l=Object(o.__assign)(Object(o.__assign)({},n),{color:u.color,disabled:!1});break;case r.DISABLE:l=Object(o.__assign)(Object(o.__assign)({},n),{disabled:!0});break;default:l=Object(o.__assign)(Object(o.__assign)({},n),{color:Object(s.a)(a),disabled:Object(c.a)(a)})}return n&&n.color!==l.color||n&&n.disabled!==l.disabled?(e(d,l),l):n}}})}},MWzK:function(e,t,n){"use strict";var r=n("PZQm"),o=n.n(r),i=n("0Hbo"),a=n("I9T1"),s=n("Dsue"),c=n("2fIf"),l=n("DH0k"),u=n.n(l),d=function(e,t){e.block.ruler.before("paragraph","table",u.a,{alt:["paragraph","reference"]})},p=new a.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){return{params:e.getAttribute("data-params")||""}}}],toDOM:function(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function(e){return{tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(e){return"italic"==e&&null}}],toDOM:function(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){return["a",e.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]}}}});var f=function(e,t){this.schema=e,this.stack=[{type:e.topNodeType,content:[]}],this.marks=a.Mark.none,this.tokenHandlers=t};function h(e,t){return e.getAttrs?e.getAttrs(t):e.attrs instanceof Function?e.attrs(t):e.attrs}function m(e){return"code_inline"==e||"code_block"==e||"fence"==e}function v(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function b(){}f.prototype.top=function(){return this.stack[this.stack.length-1]},f.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},f.prototype.addText=function(e){if(e){var t,n=this.top().content,r=n[n.length-1],o=this.schema.text(e,this.marks);r&&(t=function(e,t){if(e.isText&&t.isText&&a.Mark.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(r,o))?n[n.length-1]=t:n.push(o)}},f.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},f.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},f.prototype.parseTokens=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.tokenHandlers[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n)}},f.prototype.addNode=function(e,t,n){var r=e.createAndFill(t,n,this.marks);return r?(this.push(r),r):null},f.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},f.prototype.closeNode=function(){this.marks.length&&(this.marks=a.Mark.none);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)};var g=function(e,t,n){this.tokens=n,this.schema=e,this.tokenizer=t,this.tokenHandlers=function(e,t){var n=Object.create(null),r=function(r){var o=t[r];if(o.block){var i=e.nodeType(o.block);m(r)?n[r]=function(e,t){e.openNode(i,h(o,t)),e.addText(v(t.content)),e.closeNode()}:(n[r+"_open"]=function(e,t){return e.openNode(i,h(o,t))},n[r+"_close"]=function(e){return e.closeNode()})}else if(o.node){var a=e.nodeType(o.node);n[r]=function(e,t){return e.addNode(a,h(o,t))}}else if(o.mark){var s=e.marks[o.mark];m(r)?n[r]=function(e,t){e.openMark(s.create(h(o,t))),e.addText(v(t.content)),e.closeMark(s)}:(n[r+"_open"]=function(e,t){return e.openMark(s.create(h(o,t)))},n[r+"_close"]=function(e){return e.closeMark(s)})}else{if(!o.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o));m(r)?n[r]=b:(n[r+"_open"]=b,n[r+"_close"]=b)}};for(var o in t)r(o);return n.text=function(e,t){return e.addText(t.content)},n.inline=function(e,t){return e.parseTokens(t.children)},n.softbreak=n.softbreak||function(e){return e.addText("\n")},n}(e,n)};g.prototype.parse=function(e){var t,n=new f(this.schema,this.tokenHandlers);n.parseTokens(this.tokenizer.parse(e,{}));do{t=n.closeNode()}while(n.stack.length);return t};new g(p,o()("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function(e){return{order:+e.attrGet("order")||1}}},heading:{block:"heading",getAttrs:function(e){return{level:+e.tag.slice(1)}}},code_block:{block:"code_block"},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}}},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(e){return{src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},code_inline:{mark:"code"}});var y=function(e,t){this.nodes=e,this.marks=t};y.prototype.serialize=function(e,t){var n=new E(this.nodes,this.marks,t);return n.renderContent(e),n.out};new y({blockquote:function(e,t){e.wrapBlock("> ",null,t,(function(){return e.renderContent(t)}))},code_block:function(e,t){e.write("```"+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},heading:function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule:function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list:function(e,t){e.renderList(t,"  ",(function(){return(t.attrs.bullet||"*")+" "}))},ordered_list:function(e,t){var n=t.attrs.order||1,r=String(n+t.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,(function(t){var o=String(n+t);return e.repeat(" ",r-o.length)+o+". "}))},list_item:function(e,t){e.renderContent(t)},paragraph:function(e,t){e.renderInline(t),e.closeBlock(t)},image:function(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+e.esc(t.attrs.src)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")")},hard_break:function(e,t,n,r){for(var o=r+1;o<n.childCount;o++)if(n.child(o).type!=t.type)return void e.write("\\\n")},text:function(e,t){e.text(t.text)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:function(e,t,n,r){return w(t,n,r,1)?"<":"["},close:function(e,t,n,r){return w(t,n,r,-1)?">":"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}},code:{open:function(e,t,n,r){return O(n.child(r),-1)},close:function(e,t,n,r){return O(n.child(r-1),1)},escape:!1}});function O(e,t){var n,r=/`+/g,o=0;if(e.isText)for(;n=r.exec(e.text);)o=Math.max(o,n[0].length);for(var i=o>0&&t>0?" `":"`",a=0;a<o;a++)i+="`";return o>0&&t<0&&(i+=" "),i}function w(e,t,n,r){if(e.attrs.title)return!1;var o=t.child(n+(r<0?-1:0));if(!o.isText||o.text!=e.attrs.href||o.marks[o.marks.length-1]!=e)return!1;if(n==(r<0?1:t.childCount-1))return!0;var i=t.child(n+(r<0?-2:1));return!e.isInSet(i.marks)}var E=function(e,t,n){this.nodes=e,this.marks=t,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=n||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)};E.prototype.flushClose=function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;r<e;r++)this.out+=t+"\n"}this.closed=!1}},E.prototype.wrapBlock=function(e,t,n,r){var o=this.delim;this.write(t||e),this.delim+=e,r(),this.delim=o,this.closeBlock(n)},E.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)},E.prototype.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},E.prototype.write=function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)},E.prototype.closeBlock=function(e){this.closed=e},E.prototype.text=function(e,t){for(var n=e.split("\n"),r=0;r<n.length;r++){var o=this.atBlank()||this.closed;this.write(),this.out+=!1!==t?this.esc(n[r],o):n[r],r!=n.length-1&&(this.out+="\n")}},E.prototype.render=function(e,t,n){if("number"==typeof t)throw new Error("!");this.nodes[e.type.name](this,e,t,n)},E.prototype.renderContent=function(e){var t=this;e.forEach((function(n,r,o){return t.render(n,e,o)}))},E.prototype.renderInline=function(e){var t=this,n=[],r="",o=function(o,i,a){var s=o?o.marks:[];o&&"hard_break"===o.type.name&&(s=s.filter((function(t){if(a+1==e.childCount)return!1;var n=e.child(a+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));var c=r;if(r="",o&&o.isText&&s.some((function(e){var n=t.marks[e.type.name];return n&&n.expelEnclosingWhitespace}))){var l=/^(\s*)(.*?)(\s*)$/m.exec(o.text),u=(l[0],l[1]),d=l[2],p=l[3];c+=u,r=p,(u||p)&&((o=d?o.withText(d):null)||(s=n))}var f=s.length&&s[s.length-1],h=f&&!1===t.marks[f.type.name].escape,m=s.length-(h?1:0);e:for(var v=0;v<m;v++){var b=s[v];if(!t.marks[b.type.name].mixable)break;for(var g=0;g<n.length;g++){var y=n[g];if(!t.marks[y.type.name].mixable)break;if(b.eq(y)){v>g?s=s.slice(0,g).concat(b).concat(s.slice(g,v)).concat(s.slice(v+1,m)):g>v&&(s=s.slice(0,v).concat(s.slice(v+1,g)).concat(b).concat(s.slice(g,m)));continue e}}}for(var O=0;O<Math.min(n.length,m)&&s[O].eq(n[O]);)++O;for(;O<n.length;)t.text(t.markString(n.pop(),!1,e,a),!1);if(c&&t.text(c),o){for(;n.length<m;){var w=s[n.length];n.push(w),t.text(t.markString(w,!0,e,a),!1)}h&&o.isText?t.text(t.markString(f,!0,e,a)+o.text+t.markString(f,!1,e,a+1),!1):t.render(o,e,a)}};e.forEach(o),o(null,0,e.childCount)},E.prototype.renderList=function(e,t,n){var r=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var o=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=o,e.forEach((function(i,a,s){s&&o&&r.flushClose(1),r.wrapBlock(t,n(s),e,(function(){return r.render(i,e,s)}))})),this.inTightList=i},E.prototype.esc=function(e,t){return e=e.replace(/[`*\\~\[\]]/g,"\\$&"),t&&(e=e.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),e},E.prototype.quote=function(e){var t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]},E.prototype.repeat=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},E.prototype.markString=function(e,t,n,r){var o=this.marks[e.type.name],i=t?o.open:o.close;return"string"==typeof i?i:i(this,e,n,r)},E.prototype.getEnclosingWhitespace=function(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}};var k=n("D57K");function x(){var e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){var r=function(e){var t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){var r=n.md.normalizeLink(t.str);if(n.md.validateLink(r))return r}return""},o=function(e,t,r){if(!e||0===e.length)return[];var o=new n.Token("inline","",1);return o.content=e,o.children=[],Object(k.__spread)(t,[o],r)},i=[],a=n.tokens.reduce((function(a,s,c,l){if("inline"===s.type&&e.test(s.content)){for(var u=[],d=c-1,p=l[d],f=[];p&&p.level>0&&-1===t.indexOf(p.type);)u.unshift(p),p=l[--d];-1===t.indexOf(p.type)?u.unshift(p):d++;var h=u.map((function(e){return new n.Token(e.type.replace("_open","_close"),e.tag,-1)})).reverse(),m=s.content.match(e),v=s.content;m.forEach((function(e){var t=v.indexOf(e),i=v.substr(0,t);v=v.substr(t+e.length),f=Object(k.__spread)(f,o(i,u,h),function(e){var t=new n.Token("media_single_open","",1),o=new n.Token("media","",0);return o.attrs=[["url",r(e)],["type","external"]],[t,o,new n.Token("media_single_close","",-1)]}(e))})),v.length&&(f=Object(k.__spread)(f,o(v,u,h))),i=Object(k.__spread)(i,h.map((function(e){return e.type}))),a=Object(k.__spread)(a.slice(0,d),f)}else-1!==i.indexOf(s.type)?i.splice(i.indexOf(s.type),1):a.push(s);return a}),[]);return n.tokens=a,!0}}var _=function(e){e.core.ruler.before("inline","media",x())};var T={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},C={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},hr:{node:"rule"},heading:{block:"heading",attrs:function(e){return{level:+e.tag.slice(1)}}},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:function(e){return{order:+e.attrGet("order")||1}}},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:function(e){return{language:e.info&&e.info.trim()||null}}},media_single:{block:"mediaSingle",attrs:function(){return{}}},media:{node:"media",attrs:function(e){return{url:e.attrGet("url"),type:"external"}}},emoji:{node:"emoji",attrs:function(e){return{shortName:":"+e.markup+":",text:e.content}}},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},S=o()("zero",{html:!1,linkify:!0});S.enable(["entity","escape"]);var j=function(){function e(e,t){void 0===e&&(e=c.a),void 0===t&&(t=S),["nodes","marks"].forEach((function(n){for(var r in T[n])e[n][r]&&t.enable(T[n][r])})),e.nodes.table&&t.use(d),e.nodes.media&&e.nodes.mediaSingle&&t.use(_),this.markdownParser=new g(e,t,function(e,t){return Object.keys(t).reduce((function(n,r){var o=t[r],i=o.block||o.node,a=o.mark;return(i&&e.nodes[i]||a&&e.marks[a])&&(n[r]=o),n}),{})}(e,C))}return e.prototype.encode=function(e){throw new Error("This is not implemented yet")},e.prototype.parse=function(e){return this.markdownParser.parse(e)},e}(),M=n("2PCG"),A=n("2hRq"),R=n("mpTe"),N=n.n(R),I=n("z4jD"),P=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},D=function(e){return/^<\/a\s*>/i.test(e)},L=function(e){for(var t,n=e.tokens,r=new N.a,o=0,i=n.length;o<i;o++)if("inline"===n[o].type&&r.pretest(n[o].content))for(var a=n[o].children,s=0,c=a.length-1;c>=0;c--){var l=a[c];if("link_close"!==l.type){if("html_inline"===l.type&&(t=l.content,/^<a[>\s]/i.test(t)&&s>0&&s--,D(l.content)&&s++),!(s>0)&&"text"===l.type&&r.test(l.content)){var u=l.content,d=Object(I.e)(u);d.length||(d=r.match(u)||[]);for(var p=[],f=l.level,h=0,m=0;m<d.length;m++){var v=d[m].url,b=e.md.normalizeLink(v);if(e.md.validateLink(b)){var g=d[m].text;g=d[m].schema?"mailto:"!==d[m].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,"");var y,O=d[m].index;if(O>h){var w=new e.Token("text","",0);w.content=u.slice(h,O),w.level=f,p.push(w)}(y=new e.Token("link_open","a",1)).attrs=[["href",b]],y.level=f++,y.markup="linkify",y.info="auto",p.push(y),(y=new e.Token("text","",0)).content=g,y.level=f,p.push(y),(y=new e.Token("link_close","a",-1)).level=--f,y.markup="linkify",y.info="auto",p.push(y),h=d[m].lastIndex}}if(h<u.length)(y=new e.Token("text","",0)).content=u.slice(h),y.level=f,p.push(y);n[o].children=a=P(a,c,p)}}else for(c--;a[c].level!==l.level&&"link_open"!==a[c].type;)c--}};function B(e){var t=e.clipboardData.getData("text/html");return function(e){return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":function(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}(t)?"microsoft-word":function(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=!0;return t.content.descendants((function(t){return n=n&&e.indexOf(t.type)>-1})),n}}function H(e,t){return function(n){var r=e.marks,o=r.code,i=r.link;if(!Array.isArray(t)||0===t.length)return n;var s=a.Slice.fromJSON(e,n.toJSON()||{});return s.content.descendants((function(e,n,r){return!(e.isText&&r&&r.isBlock)||(e.marks=Object(k.__spread)(e.marks&&!o.isInSet(t)&&e.marks.filter((function(e){return e.type===i}))||[],r.type.allowedMarks(t).filter((function(e){return e.type!==i}))),!1)})),s}}var F=n("zTQz"),U=n("/Xcd");function W(e){var t=Object(U.d)(a.Fragment.from(e),(function(e){return function(e){return e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn}(e)?e.content:e})),n=[];return t.forEach((function(e){return n.push(e)})),n}function K(e,t){return 0===t?W(e):e}function V(e,t,n){return t===n.childCount-1?W(e):e}var G=n("eZO1"),q=n("DSoh"),$=n("m23B"),Y=function(e){var t=e.type.schema;if(e.type===t.nodes.table){var n=[],r=t.nodes,o=r.tableCell,i=r.tableHeader;return e.descendants((function(e){return e.type!==o&&e.type!==i||n.push.apply(n,Object(k.__spread)(Object($.flatten)(e,!1).map((function(e){return e.node})))),!0})),n}return e},X=function(e,t){return 0===t?Y(e):e},J=function(e,t,n){return t===n.childCount-1?Y(e):e},Z=n("gguW"),Q=n("FY1L"),ee=new Set(["text","emoji","mention","status","date","hardBreak","taskList","taskItem"]);function te(e){return function(t){return Object(Q.b)(t,ee,e,!0)}}var ne=n("YybV"),re=n("RLr3"),oe=n("WvVb"),ie=n("AbX1"),ae=n("kbCE"),se=n("BH7h"),ce=n("N01o"),le=n("KU7H");function ue(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks.code,a=r.nodes,c=a.decisionItem,l=a.decisionList,u=a.emoji,d=a.hardBreak,p=a.mention,f=a.paragraph,h=a.taskList,m=a.taskItem,v=a.text;if(!(c&&l&&h&&m&&Object($.hasParentNodeOfType)([c,m])(t.selection)))return!1;var b=[Object(I.d)(r),te(r)],g=o.$head.marks(),y=ie.b.getState(t);o instanceof s.TextSelection&&Array.isArray(g)&&g.length>0&&z(f,v,u,p,d)(e)&&(!i.isInSet(g)||y.codeActive)&&b.push(H(r,o.$head.marks()));var O=ae.k.apply(null,b)(e),w=Object(re.closeHistory)(t.tr).replaceSelection(O).scrollIntoView();return Object(oe.d)(t,w,ce.e.CLIPBOARD),n&&n(w),!0}}function de(e,t){return function(t,n,r){if(r&&r.shiftKey){var o=Object(re.closeHistory)(t.tr),i=o.selection;return o.replaceSelection(e),(t.storedMarks||[]).forEach((function(t){o.addMark(i.from,i.from+e.size,t)})),o.scrollIntoView(),n&&n(o),!0}return!1}}function pe(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks,a=i.code,c=i.link,l=r.nodes,u=l.bulletList,d=l.emoji,p=l.hardBreak,f=l.heading,h=l.listItem,m=l.mention,v=l.orderedList,b=l.paragraph,g=l.text;if(!(o instanceof s.TextSelection))return!1;var y=o.$head.marks();if(0===y.length)return!1;var O=ie.b.getState(t);if(a.isInSet(y)&&!O.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===b&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===g&&c.isInSet(y)&&1===y.length){var w=Object(re.closeHistory)(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(y).scrollIntoView();return Object(oe.d)(t,w,ce.e.CLIPBOARD),n&&n(w),!0}if(z(u,p,f,h,b,g,d,m,v)(e)){var E=H(r,y)(e);w=Object(re.closeHistory)(t.tr).replaceSelection(E).setStoredMarks(y).scrollIntoView();return Object(oe.d)(t,w,ce.e.CLIPBOARD),n&&n(w),!0}return!1}}function fe(e,t,n){if(n){var r=n.state.tr.selection,o=n.state.tr.replaceSelection(e),i=o.mapping.map(r.from,-1);return n.dispatch(o),n.dispatch(Object(re.closeHistory)(n.state.tr).replaceRangeWith(i,i+e.size,t).scrollIntoView()),!0}return!1}function he(e,t,n){return function(r,o,i){var a=Object(ne.b)(r,e);return a?n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length?n.resolveBeforeMacros.indexOf(a.attrs.extensionKey)<0?fe(t,a,i):(function(e,t,n){return Object(k.__awaiter)(this,void 0,void 0,(function(){return Object(k.__generator)(this,(function(r){switch(r.label){case 0:return n.provider?[4,n.provider]:[2,!1];case 1:return[4,r.sent().resolve(e,t)];case 2:return[2,r.sent()]}}))}))}(e,"inline",n).then((function(e){if(!i)throw new Error("Missing view");var t=i.state,n=t.schema,r=t.tr,o=Object(se.l)(n,e);if(!o)throw new Error("Received invalid ADF from CardProvider");i.dispatch(Object(oe.c)(r,o,n))})).catch((function(){return fe(t,a,i)})),!0):fe(t,a,i):!!a}}function me(e){return function(t,n){var r=t.schema.nodes.codeBlock;if(e&&Object($.hasParentNodeOfType)(r)(t.selection)){var o=Object(re.closeHistory)(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}function ve(e){return function(t,n){if(!Object(ae.p)(t))return!1;var r=t.schema.nodes,o=r.expand,i=r.nestedExpand,s=t.tr,c=!1,l=Object(U.e)(e,(function(e){if(e.type===o){c=!0;try{return i.createChecked(e.attrs,e.content,e.marks)}catch(t){return s=Object($.safeInsert)(e,s.selection.$to.pos)(s),a.Fragment.empty}}return e}));return!(!c||!n)&&(e.openStart>1&&e.openEnd>1?n(s.replaceSelection(l)):n(Object($.safeInsert)(l.content)(s)),!0)}}function be(e){return function(t,n){var r=Object(re.closeHistory)(t.tr);return r.replaceSelection(e),Object(oe.d)(t,r,ce.e.CLIPBOARD),n&&n(r.scrollIntoView()),!0}}function ge(e,t){var n=e.nodes,r=n.bulletList,o=n.orderedList;return t&&(t.type===r||t.type===o)}function ye(e){return function(t,n){var r=t.schema.nodes,o=r.codeBlock,i=r.panel,c=t.tr;if(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((function(t){return t.type===e.schema.marks.code}))}(t,e)&&function(e){var t=e.selection,n=t.$from.nodeBefore,r=t.from;n&&n.isText&&n.text.endsWith("`")&&e.delete(r-1,r)}(c),function(e,t){var n=t.content.firstChild;return n&&Object(ae.p)(e)&&ge(e.schema,n)&&t.openStart>t.openEnd}(t,e)&&e.content.firstChild){var l=e.content.firstChild,u=[];!function e(t,n,r){var o=t.schema.nodes.listItem;n.content.forEach((function(n){ge(t.schema,n)||n.type===o&&ge(t.schema,n.firstChild)?e(t,n,r):r.push(n)}))}(t,l,u),e=new a.Slice(a.Fragment.from(l.type.createChecked(l.attrs,u)),e.openEnd,e.openEnd)}Object(re.closeHistory)(c);var d=Object($.findParentNodeOfType)(i)(c.selection);return c.selection.$from===c.selection.$to&&d&&!d.node.textContent?(c=Object($.safeInsert)(e.content,c.selection.$to.pos)(c),(d=Object($.findParentNodeOfType)(i)(c.selection))&&c.setSelection(s.TextSelection.near(c.doc.resolve(d.pos+d.node.nodeSize)))):c.replaceSelection(e),c.setStoredMarks([]),c.selection.empty&&c.selection.$from.parent.type===o&&c.setSelection(s.TextSelection.near(c.selection.$from,1)),c.scrollIntoView(),n&&n(Object(oe.d)(t,c,ce.e.CLIPBOARD)),!0}}function Oe(e){var t=[];return e.forEach((function(e){if(e.type===e.type.schema.nodes.codeBlock){var n=t[t.length-1];if(n&&n.type===e.type)return t.push((r=t.pop(),o=e,i=r.textContent+"\n"+o.textContent,r.type.create(r.attrs,r.type.schema.text(i))))}var r,o,i;return t.push(e)})),a.Fragment.from(t)}var we="richText",Ee="plain",ke="markdown",xe="binary",_e="text",Te="url",Ce="mediaSingle",Se="tableCells",je="table",Me="mixed",Ae="blockquote",Re="blockCard",Ne="bodiedExtension",Ie="bulletList",Pe="codeBlock",De="decisionList",Le="decisionItem",Be="extension",ze="heading",He="orderedList",Fe="panel",Ue="rule",We="tableHeader",Ke="tableRow",Ve="taskItem",Ge="uncategorized",qe=n("fjMk"),$e=n("mu0/");function Ye(e,t){return function(n){return function(r,o,i){return n(r,(function(n){o&&($e.a.trackEvent(e,t),o(n))}),i)}}}var Xe={url:Te,paragraph:_e,bulletList:Ie,orderedList:He,heading:ze,blockquote:Ae,codeBlock:Pe,panel:Fe,rule:Ue,mediaSingle:Ce,table:je,tableCells:Se,tableHeader:We,tableRow:Ke,decisionList:De,decisionItem:Le,taskList:Ve,extension:Be,bodiedExtension:Ne,blockCard:Re},Je={blockquote:ce.c.PASTE_BLOCKQUOTE,blockCard:ce.c.PASTE_BLOCK_CARD,bodiedExtension:ce.c.PASTE_BODIED_EXTENSION,bulletList:ce.c.PASTE_BULLET_LIST,codeBlock:ce.c.PASTE_CODE_BLOCK,decisionList:ce.c.PASTE_DECISION_LIST,extension:ce.c.PASTE_EXTENSION,heading:ce.c.PASTE_HEADING,mediaGroup:ce.c.PASTE_MEDIA_GROUP,mediaSingle:ce.c.PASTE_MEDIA_SINGLE,orderedList:ce.c.PASTE_ORDERED_LIST,panel:ce.c.PASTE_PANEL,rule:ce.c.PASTE_RULE,table:ce.c.PASTE_TABLE,tableCell:ce.c.PASTE_TABLE_CELL,tableHeader:ce.c.PASTE_TABLE_HEADER,tableRow:ce.c.PASTE_TABLE_ROW,taskList:ce.c.PASTE_TASK_LIST};function Ze(e,t,n){return Object(k.__assign)({action:ce.a.PASTED,actionSubject:ce.b.DOCUMENT,actionSubjectId:e,eventType:ce.d.TRACK,attributes:Object(k.__assign)({inputMethod:ce.e.KEYBOARD},t)},n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{})}function Qe(e,t,n,r){var o=t.clipboardData?t.clipboardData.getData("text/plain")||t.clipboardData.getData("text/uri-list"):"",i=function(e){var t=e.state,n=t.selection,r=t.schema.nodes,o=r.paragraph,i=r.listItem,a=r.taskItem,s=r.decisionItem,c=Object($.findParentNode)((function(e){return e.type!==o&&e.type!==i&&e.type!==a&&e.type!==s}))(n);if(!c)return ce.c.PASTE_PARAGRAPH;var l=c.node.type,u=Je[l.name];return u||ce.c.PASTE_PARAGRAPH}(e);if(r.asPlain)return function(e,t){return{action:ce.a.PASTED_AS_PLAIN,actionSubject:ce.b.DOCUMENT,actionSubjectId:e,eventType:ce.d.TRACK,attributes:{inputMethod:ce.e.KEYBOARD,pasteSize:t.length}}}(i,o);var a=B(t);if(r.type===Ee)return Ze(i,{pasteSize:o.length,type:r.type,content:_e,source:a});var s=n.size,c=function(e,t){var n=e.schema,r=n.nodes.paragraph,o=n.marks.link,i=new Set;if(t.content.forEach((function(e){e.type===r&&0===e.content.size||("text"===e.type.name&&o.isInSet(e.marks)?i.add("url"):e.type===r&&e.rangeHasMark(0,e.nodeSize-2,o)?i.add("url"):i.add(e.type.name))})),i.size>1)return Me;if(0===i.size)return Ge;var a=i.values().next().value,s=Xe[a];return s||Ge}(e.state,n),l=[];c!==Te&&c!==Me||Object(U.e)(n,(function(e){var t=e.marks.find((function(e){return"link"===e.type.name}));return t&&l.push(t.attrs.href),e}));var u=l.map(I.b);return Ze(i,{type:r.type,pasteSize:s,content:c,source:a},u)}function et(e,t,n,r){var o=Qe(e,t,n,r);e.dispatch(Object(qe.a)(e.state,e.state.tr,o))}function tt(e,t,n,r){return Object(qe.e)((function(){return Qe(e,t,n,r)}))}var nt=function(e,t,n,r){return Object(ae.F)((o=ce.e.CLIPBOARD,function(e){return function(t,n,r){if(r){if(function(e,t){var n=e.schema.nodes.media;return 1===t.content.childCount&&t.content.firstChild.type===n}(t,e))return Object(A.c)(r,e.content.firstChild,o);if(Object(ae.p)(t)&&function(e,t){var n=e.schema.nodes.mediaSingle;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(t,e)){var i=t.tr.replaceSelection(e),a=i.doc.resolve(i.mapping.map(t.selection.$from.pos));return n&&n(i.setSelection(new le.a(a,le.c.RIGHT))),!0}}return!1}}),Ye("atlassian.editor.paste",{source:B(t)}),tt(e,t,n,{type:r}))(n);var o},rt=function(e,t,n,r){var o=Ye("atlassian.editor.paste",{source:B(t)});return r===ke&&(o=Ye("atlassian.editor.markdown")),Object(ae.F)(pe,o,tt(e,t,n,{type:r}))(n)},ot=n("QIdE"),it=n("+Dky");n.d(t,"b",(function(){return st})),n.d(t,"a",(function(){return ct}));var at=new s.PluginKey("pastePlugin"),st=o()("zero",{html:!1});function ct(e,t,n){var r=new j(e,st);return new s.Plugin({key:at,props:{handlePaste:function(n,o,s){var c=o;if(!c.clipboardData)return!1;var l=c.clipboardData.getData("text/plain"),u=c.clipboardData.getData("text/html"),d=c.clipboardData.getData("text/uri-list");!d||l||u||(l=d,s=new a.Slice(a.Fragment.from(e.text(l)),1,1));var p=M.a(c),f=l&&!u,h=!!u;if(p){if(!u)return!0;c.stopPropagation()}var m,v=n.state,b=n.dispatch;return!!function(e,t,n){return Object(ae.F)(de,tt(e,t,n,{type:Ee,asPlain:!0}),Ye("atlassian.editor.paste.alt",{source:B(t)}))(n,t)}(n,c,s)(v,b,n)||(s=Object(A.f)(s,e)(v.selection),f&&(m=function(e,t,n){var o=r.parse(function(e){return e.replace(/(\[([^\]]+)\]\()?((https?|ftp):\/\/[^\s]+)/g,(function(e){return e.match(/^(https?|ftp):\/\/[^\s]+$/)?"<"+e+">":e}))}(e));if(o&&o.content)return new a.Slice(o.content,t,n)}(l,s.openStart,s.openEnd))&&he(l,m,t)(v,b,n)?(et(n,c,m,{type:ke}),!0):!!function(e,t,n,r){return Object(ae.F)(ue,Ye("atlassian.fabric.action-decision.editor.paste"),tt(e,t,n,{type:r}))(n)}(n,c,s,f?Ee:we)(v,b)||(!!function(e,t,n,r){return Object(ae.F)(me,tt(e,t,n,{type:Ee}))(r)}(n,c,s,l)(v,b)||(!!nt(n,c,s,p?xe:we)(v,b,n)||(f&&m?!!rt(n,c,m,ke)(v,b)||function(e,t,n){return Object(ae.F)(be,Ye("atlassian.editor.markdown"),tt(e,t,n,{type:ke}))(n)}(n,c,m)(v,b):!!h&&(he(l,s=Object(I.d)(v.schema)(s),t)(v,b,n)?(et(n,c,s,{type:we}),!0):(!Object(ae.p)(v)&&function(e){var t=Object(G.d)(e);return t&&t.pluginConfig.isHeaderRowRequired}(v)&&(s=Object(Z.q)(s,v.schema)),function(e){var t=Object(G.d)(e);return t&&t.pluginConfig.allowColumnResizing}(v)||(s=Object(Z.r)(s,v.schema)),function(e){var t=Object(G.d)(e);return t&&t.pluginConfig.allowBackgroundColor}(v)||(s=Object(Z.p)(s,v.schema)),Object(i.handlePaste)(n,null,s)?(et(n,c,s,{type:we}),!0):!!rt(n,c,s,we)(v,b)||(!!function(e,t,n){return Object(ae.F)(ve,Ye("atlassian.editor.paste",{source:B(t)}),tt(e,t,n,{type:we}))(n)}(n,c,s)(v,b)||(Object(ae.p)(v)||(s=Object(q.b)(s,v.schema)),function(e,t,n){return Object(ae.F)(ye,Ye("atlassian.editor.paste",{source:B(t)}),tt(e,t,n,{type:we}))(n)}(n,c,s)(v,b)))))))))},transformPasted:function(t){return n&&(t=function(e,t){return Object(U.e)(e,(function(e){if(e.type.name===t.nodes.mention.name){var n=e.attrs,r=Object(k.__assign)(Object(k.__assign)({},n),{text:""});return t.nodes.mention.create(r,e.content,e.marks)}return e}))}(t,e)),t=function(e,t){return e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection?new a.Slice(Object(U.a)(e.content,K),e.openStart-2,e.openEnd-2):(e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new a.Slice(Object(U.a)(e.content,K),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new a.Slice(Object(U.a)(e.content,V),e.openStart,e.openEnd-2)),e)}(t=function(e,t){return e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table?new a.Slice(Object(U.a)(e.content,Y),e.openStart-3,e.openEnd-3):e.openStart>=4&&e.content.firstChild.type===t.nodes.table?new a.Slice(Object(U.a)(e.content,X),e.openStart-3,e.openEnd):e.openEnd>=4&&e.content.lastChild.type===t.nodes.table?new a.Slice(Object(U.a)(e.content,J),e.openStart,e.openEnd-3):e}(t=function(e,t){var n=t.nodes,r=n.paragraph,o=n.table,i=n.hardBreak,s=r.createAndFill(),c=i.createAndFill(),l=(s?s.nodeSize:0)+(c?c.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===r&&e.content.lastChild.nodeSize===l){var u=Y(e.content.firstChild);if(u instanceof Array)return new a.Slice(a.Fragment.from(u[0]),e.openStart,e.openEnd)}return e}(t,e),e),e),t=function(e,t){if(1===e.content.childCount&&(e.openStart||e.openEnd)){var n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new a.Slice(a.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e}(t=function(e){return e=Object(U.e)(e,(function(e){return e.isBlock&&!e.isTextblock?e.copy(Oe(e.content)):e})),new a.Slice(Oe(e.content),e.openStart,e.openEnd)}(t=Object(F.b)(t,e)),e),t=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return Object(U.e)(e,(function(e){return!e||e.type!==r&&e.type!==o||e.content.childCount?e:e.type.createAndFill(e.attrs)||e}))}(t=Object(ot.k)(t,e),e),t=Object(it.c)(t,e),(t=Object(it.d)(t,e)).content.childCount&&t.content.lastChild.type===e.nodes.codeBlock&&(t=new a.Slice(t.content.append(a.Fragment.from(e.nodes.paragraph.createAndFill())),t.openStart,1)),t},transformPastedHTML:function(e){return e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),e.indexOf("<img ")>=0&&(e=Object(ot.l)(e)),e}}})}st.enable(["entity","escape","newline"]),st.use((function(e){return e.core.ruler.push("custom-linkify",L)}))},MtlP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13 11V7a1 1 0 0 0-2 0v4H7a1 1 0 0 0 0 2h4v4a1 1 0 0 0 2 0v-4h4a1 1 0 0 0 0-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAddIcon";var c=s;t.default=c},Mtm3:function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y}));var r=n("L21V"),o=Object(r.g)({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}}),i={name:"normal",title:o.normal,nodeName:"paragraph",tagName:"p"},a={name:"heading1",title:o.heading1,nodeName:"heading",tagName:"h1",level:1},s={name:"heading2",title:o.heading2,nodeName:"heading",tagName:"h2",level:2},c={name:"heading3",title:o.heading3,nodeName:"heading",tagName:"h3",level:3},l={name:"heading4",title:o.heading4,nodeName:"heading",tagName:"h4",level:4},u={name:"heading5",title:o.heading5,nodeName:"heading",tagName:"h5",level:5},d={name:"heading6",title:o.heading6,nodeName:"heading",tagName:"h6",level:6},p={name:"blockquote",title:o.blockquote,nodeName:"blockquote"},f={name:"codeblock",title:o.codeblock,nodeName:"codeBlock"},h={name:"panel",title:o.infoPanel,nodeName:"panel"},m={name:"other",title:o.other,nodeName:""},v=[i,a,s,c,l,u,d],b=[p,f,h],g=(v.concat(b),v.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.level]=t),e}),{})),y=v.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.name]=t),e}),{})},MxUo:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,o=n("D57K"),i=n("KsTJ"),a=n("dDc+"),s=i.default.input(r||(r=Object(o.__makeTemplateObject)(["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: 13px;\n    line-height: 20px;\n    padding: 0;\n    ",";\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n      opacity: 0.5;\n    }\n  }\n"],["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: 13px;\n    line-height: 20px;\n    padding: 0;\n    ",";\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n      opacity: 0.5;\n    }\n  }\n"])),a.colors.N400,(function(e){return e.width?"width: "+e.width+"px":""}),a.colors.N800)},"N+1D":function(e,t,n){"use strict";var r=n("Dsue"),o=n("LzaW"),i=n("D57K"),a=n("hJWs"),s=n("nLZQ");n.d(t,"a",(function(){return f}));var c=new r.PluginKey("mobileScroll"),l=function(){return{keyboardHeight:-1,heightDiff:-1,windowHeight:window.innerHeight}},u=Object(o.a)(c,(function(e,t){switch(t.type){case a.a.SET_KEYBOARD_HEIGHT:return Object(i.__assign)(Object(i.__assign)({},e),{keyboardHeight:t.keyboardHeight});case a.a.SET_HEIGHT_DIFF:return Object(i.__assign)(Object(i.__assign)({},e),{heightDiff:t.heightDiff});case a.a.SET_WINDOW_HEIGHT:return Object(i.__assign)(Object(i.__assign)({},e),{windowHeight:t.windowHeight})}return e})),d=u.createPluginState,p=u.getPluginState,f=u.createCommand,h=function(e,t){if(-1!==e&&-1!==t){var n=m(e,t),r=n.scrollThreshold,o=n.scrollMargin;this.props&&(this.props.scrollThreshold=r,this.props.scrollMargin=o)}},m=function(e,t){return{scrollThreshold:{top:0,bottom:e+44-t,left:0,right:0},scrollMargin:{top:5,bottom:e-t+44,left:0,right:0}}};t.b=function(){return{name:"mobileScroll",pmPlugins:function(){return[{name:"mobileScroll",plugin:function(e){return function(e){var t;return new r.Plugin({state:d(e,l),key:c,props:{scrollThreshold:void 0,scrollMargin:void 0,handleScrollToSelection:function(e){var t=document.scrollingElement;if(!t)return!1;var n=p(e.state),r=n.keyboardHeight,o=n.heightDiff,i=t.clientHeight-window.innerHeight;return o!==i&&(Object(s.a)(i)(e.state,e.dispatch),h.call(this,r,i)),!1}},appendTransaction:function(e,t,n){if(e.find((function(e){var t=e.getMeta(c);return t&&(t.type===a.a.SET_KEYBOARD_HEIGHT||t.type===a.a.SET_WINDOW_HEIGHT)}))){var r=p(t),o=r.keyboardHeight,i=r.windowHeight,s=p(n),l=s.keyboardHeight,u=s.heightDiff,d=s.windowHeight;if(o!==l&&h.call(this,l,u),d<i)return n.tr.scrollIntoView()}},view:function(e){var n=function(){var n=window.innerHeight,r=0,o=function(){window.innerHeight===n&&(++r>=5?(t=void 0,Object(s.c)(window.innerHeight)(e.state,e.dispatch)):t=requestAnimationFrame(o))};t=requestAnimationFrame(o)};return window.addEventListener("resize",n),{destroy:function(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})}(e.dispatch)}}]}}}},N01o:function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),function(e){e.OPERATIONAL="operational",e.SCREEN="screen",e.TRACK="track",e.UI="ui"}(r||(r={})),function(e){e.ADDED="added",e.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",e.CHANGED_LAYOUT="changedLayout",e.CHANGED_TYPE="changedType",e.CHANGED_URL="changedUrl",e.CLEARED="cleared",e.CLICKED="clicked",e.CLOSED="closed",e.DELETED="deleted",e.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",e.EDITED="edited",e.EDITOR_MOUNTED="mounted",e.EDITOR_CRASHED="unhandledErrorCaught",e.FAILED_TO_UNMOUNT="failedToUnmount",e.FORMATTED="formatted",e.INSERTED="inserted",e.INVOKED="invoked",e.OPENED="opened",e.PASTED="pasted",e.PASTED_AS_PLAIN="pastedAsPlain",e.PROSEMIRROR_RENDERED="proseMirrorRendered",e.REDID="redid",e.STARTED="started",e.STOPPED="stopped",e.SUBSTITUTED="autoSubstituted",e.UNDID="undid",e.UNLINK="unlinked",e.VISITED="visited",e.BROWSER_FREEZE="browserFreeze",e.SLOW_INPUT="slowInput",e.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",e.INPUT_PERF_SAMPLING="inputPerfSampling",e.HELP_OPENED="helpOpened"}(o||(o={})),function(e){e.ASCII="ascii",e.AUTO="auto",e.AUTO_DETECT="autoDetect",e.CARD="card",e.CLIPBOARD="clipboard",e.DRAG_AND_DROP="dragAndDrop",e.EXTERNAL="external",e.FORMATTING="autoformatting",e.FLOATING_TB="floatingToolbar",e.KEYBOARD="keyboard",e.INSERT_MENU="insertMenu",e.MANUAL="manual",e.PICKER="picker",e.PICKER_CLOUD="cloudPicker",e.QUICK_INSERT="quickInsert",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead",e.CONTEXT_MENU="contextMenu",e.BUTTON="button"}(i||(i={})),function(e){e.BUTTON="button",e.DOCUMENT="document",e.EDITOR="editor",e.EXPAND="expand",e.FEEDBACK_DIALOG="feedbackDialog",e.HELP="help",e.LAYOUT="layout",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.NESTED_EXPAND="nestedExpand",e.PANEL="panel",e.PICKER="picker",e.SMART_LINK="smartLink",e.TEXT="text",e.TYPEAHEAD="typeAhead",e.TABLE="table",e.TOOLBAR="toolbar"}(a||(a={})),function(e){e.ACTION="action",e.ALT_TEXT="altText",e.ANNOTATE_BUTTON="annotateButton",e.BLOCK_QUOTE="blockQuote",e.BUTTON_HELP="helpButton",e.HELP_QUICK_INSERT="helpQuickInsert",e.BUTTON_FEEDBACK="feedbackButton",e.CANCEL="cancel",e.CARD_INLINE="inlineCard",e.CARD_BLOCK="blockCard",e.CODE_BLOCK="codeBlock",e.DATE="date",e.DECISION="decision",e.DIVIDER="divider",e.EMOJI="emoji",e.EXPAND="expand",e.FORMAT_BLOCK_QUOTE="blockQuote",e.FORMAT_CODE="code",e.FORMAT_COLOR="color",e.FORMAT_CLEAR="clearFormatting",e.FORMAT_HEADING="heading",e.FORMAT_INDENT="indentation",e.FORMAT_ITALIC="italic",e.FORMAT_LIST_NUMBER="numberedList",e.FORMAT_LIST_BULLET="bulletedList",e.FORMAT_STRIKE="strike",e.FORMAT_STRONG="strong",e.FORMAT_SUB="subscript",e.FORMAT_SUPER="superscript",e.FORMAT_UNDERLINE="underline",e.LAYOUT="layout",e.LINE_BREAK="lineBreak",e.LINK="link",e.MEDIA_LINK="mediaLink",e.NESTED_EXPAND="nestedExpand",e.LINK_PREVIEW="linkPreview",e.MEDIA="media",e.MENTION="mention",e.PICKER_CLOUD="cloudPicker",e.PICKER_EMOJI="emojiPicker",e.PRODUCT_NAME="productName",e.PANEL="panel",e.PASTE_BLOCK_CARD="blockCard",e.PASTE_BLOCKQUOTE="blockQuote",e.PASTE_BODIED_EXTENSION="bodiedExtension",e.PASTE_BULLET_LIST="bulletList",e.PASTE_CODE_BLOCK="codeBlock",e.PASTE_DECISION_LIST="decisionList",e.PASTE_EXTENSION="extension",e.PASTE_HEADING="heading",e.PASTE_MEDIA_GROUP="mediaGroup",e.PASTE_MEDIA_SINGLE="mediaSingle",e.PASTE_ORDERED_LIST="orderedList",e.PASTE_PANEL="panel",e.PASTE_PARAGRAPH="paragraph",e.PASTE_RULE="rule",e.PASTE_TABLE_HEADER="tableHeader",e.PASTE_TABLE_CELL="tableCell",e.PASTE_TABLE_ROW="tableRow",e.PASTE_TABLE="table",e.PASTE_TASK_LIST="taskList",e.PASTE_EXPAND="expand",e.PASTE_NESTED_EXPAND="nestedExpand",e.PUNC="punctuation",e.REACT_NODE_VIEW="reactNodeView",e.SAVE="save",e.SECTION="section",e.SMART_LINK="smartLink",e.STATUS="status",e.SYMBOL="symbol",e.TABLE="table",e.TYPEAHEAD_EMOJI="emojiTypeAhead",e.TYPEAHEAD_LINK="linkTypeAhead",e.TYPEAHEAD_MENTION="mentionTypeAhead",e.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead"}(s||(s={}))},N0Nj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("L21V"),o=Object(r.g)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an “unordered” list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1… 2… 3…"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},NJOB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dsue"),o=n("7bKp"),i=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function a(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"￼")+r,l=0;l<o.length;l++){var u=o[l].match.exec(c),d=u&&o[l].handler(a,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(i,{transform:d,from:t,to:n,text:r})),!0}return!1}var s=new i(/--$/,"—"),c=new i(/\.\.\.$/,"…"),l=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),u=new i(/"$/,"”"),d=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),p=new i(/'$/,"’"),f=[l,u,d,p];t.InputRule=i,t.inputRules=function(e){var t=e.rules,n=new r.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return a(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&a(e,r.pos,r.pos,"",t,n)}))}}},isInputRules:!0});return n},t.undoInputRule=function(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,c=s.steps.length-1;c>=0;c--)a.step(s.steps[c].invert(s.docs[c]));var l=a.doc.resolve(i.from).marks();t(a.replaceWith(i.from,i.to,e.schema.text(i.text,l)))}return!0}}return!1},t.emDash=s,t.ellipsis=c,t.openDoubleQuote=l,t.closeDoubleQuote=u,t.openSingleQuote=d,t.closeSingleQuote=p,t.smartQuotes=f,t.wrappingInputRule=function(e,t,n,r){return new i(e,(function(e,i,a,s){var c=n instanceof Function?n(i):n,l=e.tr.delete(a,s),u=l.doc.resolve(a).blockRange(),d=u&&o.findWrapping(u,t,c);if(!d)return null;l.wrap(u,d);var p=l.doc.resolve(a-1).nodeBefore;return p&&p.type==t&&o.canJoin(l.doc,a-1)&&(!r||r(i,p))&&l.join(a-1),l}))},t.textblockTypeInputRule=function(e,t,n){return new i(e,(function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null}))}},NXKY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("9eQ7"),o=n("mu0/"),i=n("CBOu"),a=function(){return function(e,t){var n=Object(r.a)(e);if(null===n)return!1;var a=n.start,s=n.end,c=e.schema.marks.typeAheadQuery;if(-1===a)return!1;o.a.trackEvent("atlassian.editor.typeahead.dismiss");var l=i.d.getState(e).typeAheadHandler;return l&&l.dismiss&&l.dismiss(e),t&&t(e.tr.removeMark(a,s,c).removeStoredMark(c)),!0}}},"NY/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BREAKOUT_MARK:"fabric-editor-breakout-mark",BREAKOUT_MARK_DOM:"fabric-editor-breakout-mark-dom"}},Nbtp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8 6h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorTableIcon";var c=s;t.default=c},Nc4I:function(e,t,n){"use strict";var r=n("1798"),o=[["normalize",n("Dsb4")],["block",n("pAx/")],["inline",n("mUT7")],["linkify",n("HlfJ")],["replacements",n("DDxP")],["smartquotes",n("AXp1")]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n("t+9L"),e.exports=i},NgEv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5h5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm9 0h5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutTwoEqualIcon";var c=s;t.default=c},Nink:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7.356 10.942a.497.497 0 0 0-.713 0l-.7.701a.501.501 0 0 0-.003.71l3.706 3.707a.501.501 0 0 0 .705.003l7.712-7.712a.493.493 0 0 0-.006-.708l-.7-.7a.504.504 0 0 0-.714 0l-6.286 6.286a.506.506 0 0 1-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e))};s.displayName="EditorDoneIcon";var c=s;t.default=c},OOYR:function(e,t,n){"use strict";var r=n("T1Ll").isSpace;e.exports=function(e,t){var n,o,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(n=e.pending.length-1,o=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<o&&r(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},OqJb:function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},PWr6:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("MxUo"),a=n("qp5z"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseDown=function(){var e=n.props.onMouseDown;e&&e()},n.onBlur=function(e){var t=n.props.onBlur;t&&t(e)},n.handleChange=function(){var e=n.props.onChange;n.input&&n.setState({value:n.input.value}),e&&n.input&&e(n.input.value)},n.handleKeydown=function(e){var t=n.props,r=t.onUndo,o=t.onRedo,i=t.onSubmit,a=t.onCancel;13===e.keyCode&&i?(e.preventDefault(),i(n.input.value)):27===e.keyCode&&a?a(e):"function"==typeof r&&n.isUndoEvent(e)?(e.preventDefault(),r()):"function"==typeof o&&n.isRedoEvent(e)&&(e.preventDefault(),o()),n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleRef=function(e){e instanceof HTMLInputElement?(n.input=e,n.props.autoFocus&&(n.focusTimeoutId=window.setTimeout((function(){return n.focus()})))):n.input=void 0},n.state={value:t.defaultValue||""},n}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:e.defaultValue})},t.prototype.componentWillUnmount=function(){window.clearTimeout(this.focusTimeoutId)},t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.width,r=e.maxLength,a=e.testId,s=this.state.value;return o.createElement(i.a,{"data-testid":a||"",type:"text",placeholder:t,value:s,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,innerRef:this.handleRef,width:n,maxLength:r})},t.prototype.focus=function(){var e=this.input;if(e){var t="object"==typeof this.props.autoFocus?this.props.autoFocus:{};e.focus(t)}},t.prototype.isUndoEvent=function(e){return 90===e.keyCode&&(a.a.mac&&e.metaKey&&!e.shiftKey||!a.a.mac&&e.ctrlKey)},t.prototype.isRedoEvent=function(e){return!a.a.mac&&e.ctrlKey&&89===e.keyCode||a.a.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode},t}(o.PureComponent);t.a=s},PZQm:function(e,t,n){"use strict";e.exports=n("vtBm")},Pg4W:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("D57K"),o=n("4CAG"),i=n.n(o),a=function(e){return e.indexOf("media-blob-url=true")>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},c=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},l=function(e){var t=new URL(e).hash.replace("#",""),n=new i.a(t),r=n.get("id"),o=n.get("contextId");if(r&&o)return{id:r,contextId:o,collection:c(n,"collection"),alt:c(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:c(n,"name"),mimeType:c(n,"mimeType")}},u=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return encodeURIComponent(t)+"="+encodeURIComponent(n.toString())})).join("&")},d=function(e,t){var n;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var o=((n={})["media-blob-url"]="true",n),i=Object(r.__assign)(Object(r.__assign)({},o),t);return e+"#"+u(i)}},PnZS:function(e,t,n){"use strict";var r=n("D57K"),o=n("Dsue"),i=n("O94r"),a=n.n(i),s=n("zCam"),c=n("mGva"),l=n("0Hbo"),u=n("m23B"),d=n("Rr/J"),p=n("NFZB"),f=n("tvQe"),h=n("cfo/"),m=n("C2nh"),v=n("I3Dr"),b=n("mKtu"),g=n("sgYd"),y=n("uJU4"),O=n("RXbC"),w=n("KdrV"),E=n("LzaW");n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return C}));var k=new o.PluginKey("tableFlexiColumnResizing");var x=Object(E.a)(k,(function(e,t){switch(t.type){case"STOP_RESIZING":return Object(r.__assign)(Object(r.__assign)({},e),{resizeHandlePos:null,dragging:null});case"SET_RESIZE_HANDLE_POSITION":return Object(r.__assign)(Object(r.__assign)({},e),{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return Object(r.__assign)(Object(r.__assign)({},e),{dragging:t.data.dragging});case"SET_LAST_CLICK":var n=t.data.lastClick;return Object(r.__assign)(Object(r.__assign)({},e),{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}),{mapping:function(e,t){return t&&null!==t.resizeHandlePos?Object(r.__assign)(Object(r.__assign)({},t),{resizeHandlePos:e.mapping.map(t.resizeHandlePos)}):t}}),_=x.createPluginState,T=x.createCommand,C=x.getPluginState;function S(e,t){var n=t.lastColumnResizable,r=void 0===n||n,i=t.dynamicTextSizing,E=void 0!==i&&i;return new o.Plugin({key:k,state:_(e,(function(){return{lastColumnResizable:r,dynamicTextSizing:E,resizeHandlePos:null,dragging:null,lastClick:null}})),props:{attributes:function(e){var t,n=C(e);return{class:a()(c.c.RESIZING_PLUGIN,(t={},t[c.c.RESIZE_CURSOR]=null!==n.resizeHandlePos,t[c.c.IS_RESIZING]=!!n.dragging,t))}},handleDOMEvents:{mousedown:function(e,t){var n=e.state,o=C(n).resizeHandlePos||Object(s.a)(e,t,r),i=C(n).dragging;if(null!==o&&!i&&function(e,t,n,r){var o=e.state,i=e.dispatch,a=f.b.getState(o).editorDisabled,c=e.domAtPos.bind(e);if(a||null===n||!Object(m.c)(o.doc.resolve(n)))return!1;t.preventDefault();for(var E=o.doc.nodeAt(n),k=o.doc.resolve(n),x=k.node(-1),_=k.start(-1),T=c(_).node;"TABLE"!==T.nodeName;)T=T.parentNode;var S=y.b.getState(o),j=Object(w.a)(_,o,S)||Object(m.b)(T.getAttribute("data-layout"),S.width,{dynamicTextSizing:r});x.attrs.isNumberColumnEnabled&&(j-=d.A);var M=Object(v.d)({minWidth:p.d,maxSize:j,table:x,tableRef:T,start:_,domAtPos:c});if(Object(O.a)({resizeState:M,table:x,start:_,event:t})(o,i))return R(t),!0;var A=Object(m.a)(e,n,E.attrs);function R(t){window.removeEventListener("mouseup",R),window.removeEventListener("mousemove",N);var n=t.clientX,r=e.state,o=e.dispatch,i=C(r),a=i.dragging,s=i.resizeHandlePos;if(null===s)return Object(O.e)()(r,o);if(Object(m.c)(r.doc.resolve(s))){var c=r.doc.resolve(s),d=c.start(-1),p=c.node(-1);if(a&&n===a.startX)return Object(O.e)()(r,o);var f=r.tr;if(a){var g=a.startX;if(p.eq(x)){var y=l.TableMap.get(p).colCount(c.pos-d)+(c.nodeAfter?c.nodeAfter.attrs.colspan:1)-1,w=Object(u.getSelectionRect)(r.selection),E=w?Object(b.a)(w):[],k=E.indexOf(y)>-1||E.indexOf(y+1)>-1,_=Object(v.f)(M,y,n-g,T,k?E:void 0);f=Object(h.a)(_,p,d)(f)}return Object(O.e)(f)(r,o)}}}function N(t){var n=t.clientX,r=t.which,o=e.state,i=C(o),a=i.dragging,c=i.resizeHandlePos;if(!r||!a||null===c||!Object(m.c)(o.doc.resolve(c)))return R(t);var u=o.doc.resolve(c),d=u.node(-1),p=l.TableMap.get(d).colCount(u.pos-u.start(-1))+u.nodeAfter.attrs.colspan-1;Object(v.f)(M,p,n-a.startX,T),Object(s.c)(o),Object(g.k)(T)}return Object(O.c)({startX:t.clientX,startWidth:A})(o,i),window.addEventListener("mouseup",R),window.addEventListener("mousemove",N),!0}(e,t,o,E)){var a=e.state,c=e.dispatch;return Object(O.d)(o)(a,c)}return!1}}}})}},QA2Q:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a}));var r=function(e,t){return e.mediaNodes.reduce((function(e,n){return e||(n.node.attrs.id===t?n:e)}),null)},o=function(e,t){return e.mediaNodes.filter((function(e){return e.node.attrs.id===t}))},i=function(e,t,n){return n?r(e,t):e.mediaGroupNodes[t]},a=function(e,t){return e.mediaPluginOptions&&e.mediaPluginOptions.allowMarkingUploadsAsIncomplete&&"boolean"==typeof e.mobileUploadComplete[t]?e.mobileUploadComplete[t]:void 0}},QIdE:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return _})),n.d(t,"b",(function(){return T}));var r=n("JxnG"),o=(n("I9T1"),n("Dsue")),i=n("25wM"),a=n("kbCE"),s=n("/Xcd"),c=n("C37w"),l=function(e){return b(e)||f(e)||p(e)},u=function(e){var t=e.selection.node;return t&&t.type!==e.schema.nodes.media&&t.isBlock},d=function(e){var t=e.selection.node;return t&&t.type===e.schema.nodes.mediaSingle},p=function(e){if(Object(a.c)(e))return h(e,e.selection.$from)},f=function(e){if(Object(a.e)(e))return v(e,e.selection.$to)},h=function(e,t){var n,r;if(u(e)?(n=t.pos,r=t.nodeBefore):(n=Object(a.J)(t)-1,r=e.doc.resolve(n).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return n-r.nodeSize+1},m=function(e){return e.selection.$from.parent.type===e.schema.nodes.paragraph&&Object(a.c)(e)&&Object(a.e)(e)},v=function(e,t,n){var r,o;if(void 0===n&&(n=!0),u(e)?(r=t.pos,o=t.nodeAfter):(r=Object(a.m)(t),o=e.doc.nodeAt(r)),o&&o.type===e.schema.nodes.mediaGroup)return n?r+1:r+o.nodeSize-1},b=function(e,t,n){void 0===n&&(n=!1);var r=e.selection.$from;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return n?Object(a.J)(t):Object(a.m)(t)-1};var g=function(e,t,n){var r=t.attrs.id,o=e.state,i=o.tr,s=o.selection,c=o.doc,l=n();i.deleteRange(l,l+t.nodeSize),Object(a.A)(r)&&i.setMeta("addToHistory",!1),e.dispatch(i);var u=c.resolve(l),d=u.index()===u.parent.childCount-1;s.from!==l||d||Object(a.d)(o)||Object(a.C)(e)},y=function(e){var t=e.state.selection;return t instanceof o.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(Object(r.deleteSelection)(e.state,e.dispatch),t.$to.nodeAfter?(Object(r.splitBlock)(e.state,e.dispatch),Object(i.f)(!1)(e.state,e.dispatch)):Object(i.d)(e.state,e.dispatch),!0)},O=function(e){return e.length>1&&"_"===e[0]&&"_"===e[1]},w=function(e,t){Object.keys(t.attrs).filter(O).forEach((function(n){var r=n.substring(2),o=e[r];void 0!==o&&(t.attrs[n]=o)}))},E=function(e,t){var n=t.nodes,r=n.mediaGroup,o=n.mediaSingle,i=n.media;return Object(s.e)(e,(function(e,t){return t||e.type!==i?e:o&&(Object(a.u)(e.attrs.__fileMimeType)||"external"===e.attrs.type)?o.createChecked({},e):r.createChecked({},[e])}))},k=function(e){return"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility},x=["DIV","TD"];var _=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body,n=t.querySelector('b[id^="docs-internal-guid-"]');n&&Object(c.c)(t,n);var r=t.querySelectorAll("img");return r.length?(r.forEach((function(e){var n=e.parentElement;if(n)if(k(n)||k(e))n.removeChild(e);else if(!(n instanceof HTMLDivElement)){var r=Object(c.d)(n,(function(e){return e.parentElement===t||function(e){return!!e&&-1!==x.indexOf(e.tagName)}(e.parentElement)}));r&&r.parentElement&&(r.parentElement.insertBefore(e,r.nextElementSibling||r),n.innerText=n.innerText.trim(),Object(c.b)(n))}})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e},T=function(e){if(!d(e))return null;var t=e.tr,n=t.selection.from+1,r=t.doc.nodeAt(n);return r&&r.type===e.schema.nodes.media?r:null}},QQ6y:function(e,t,n){"use strict";var r=n("Dsue"),o=n("0Hbo"),i=n("kbCE"),a={"…":"...","→":"->","←":"<-","–":"--","“":'"',"”":'"',"‘":"'","’":"'"},s=new RegExp("["+Object.keys(a).join("")+"]","g"),c=function(e,t,n){var r=n.doc.type.schema,o=r.nodes,c=o.mention,l=o.text,u=o.emoji;Object(i.n)(n.doc,e,t,function(e){var t=e.nodes,n=t.mention,r=t.text,o=t.emoji;return function(e,t,i){if(e.type===n||e.type===o||e.type===r)return i.isTextblock}}(r)).forEach((function(t){var r=t.node,o=t.pos;if(r.type===c||r.type===u)!function(e,t,n,r){var o=r.mapping.map(e),i=r.doc.type.schema;r.replaceWith(o,o+t,i.text(n))}(o,r.nodeSize,r.attrs.text,n);else if(r.type===l&&r.text){!function(e,t,n){for(var r,o=t.substr(e-1),i=n.doc.type.schema;r=s.exec(o);){var c=r[0],l=r.index,u=n.mapping.map(e+l),d=i.text(a[c]);n.replaceWith(u,u+c.length,d)}}(o>e?o:e,r.text,n)}}))},l=n("KU7H");n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return m}));var u=function(e,t){return function(n,r,o){return Array.isArray(e)||(e=[e]),!e.some((function(e){return!e(n,o)}))&&(t(n,r,o)||!1)}},d=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(0===r.parentOffset||e.selection instanceof l.a)},p=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(r.end()===r.pos||e.selection instanceof l.a)},f=function(e){var t=e.selection.$from;return!(t.depth>1)||(e.selection instanceof l.a&&0===t.parentOffset||0===t.index(t.depth-1))};function h(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var m=function(e,t,n,r,o){var i=o.doc.type.schema.marks.code;return r.type===i&&c(e,t,o),o.doc.nodesBetween(o.mapping.map(e),o.mapping.map(t),(function(i,a){if(!i.isText)return!0;var s=Math.max(a,o.mapping.map(e)),c=Math.min(a+i.nodeSize,o.mapping.map(t));return n?o.removeMark(s,c,r):o.addMark(s,c,r),!0})),o},v=function(e,t){return function(n,i){var a=e.create(t);if(n.selection instanceof r.TextSelection&&n.selection.$cursor){var s=n.tr;return a.isInSet(n.storedMarks||n.selection.$cursor.marks())?s.removeStoredMark(a):s.addStoredMark(a),!!i&&(i(s),!0)}return function(e){return function(t,n){var r=t.tr;if(t.selection instanceof o.CellSelection){var i=!1,a=[];t.selection.forEachCell((function(n,r){a.push({node:n,pos:r});var o=r,s=r+n.nodeSize;i||(i=t.doc.rangeHasMark(o,s,e))}));for(var s=a.length-1;s>=0;s--){var c=a[s],l=c.pos,u=l+c.node.nodeSize;m(l,u,i,e,r)}}else{var d=t.selection,p=d.$from,f=d.$to,h=t.doc.rangeHasMark(p.pos,f.pos,e);m(p.pos,f.pos,h,e,r)}return!!r.docChanged&&(n&&n(r),!0)}}(a)(n,i)}}},QQn5:function(e){e.exports=JSON.parse('{"a":"@atlaskit/droplist","b":"9.1.0"}')},QsAB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 0 0-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 1 0-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMentionIcon";var c=s;t.default=c},QwXr:function(e,t,n){"use strict";var r=n("0Hbo"),o=n("m23B"),i=n("zS/y"),a=n("jwaM"),s=n("mu0/"),c=n("EEFo"),l=n("fjMk"),u=n("N01o"),d=n("Dsue"),p=n("gguW"),f=n("rTsN"),h=n("Cl5k"),m=n("eZO1"),v=n("J55E"),b=n("mGva"),g=n("hfrt"),y=n("p29/");function O(e){var t=y.b.getState(e);return t?function(e){var n=e.url;if(n){var r=t.cards.find((function(e){return e.url===n}));if(r&&r.title)return r.title}return null}:function(){return null}}var w=n("AvUA"),E=n("ad10"),k=n("gaA/"),x=n("hYET"),_=n("dZ9C");n.d(t,"e",(function(){return C})),n.d(t,"h",(function(){return S})),n.d(t,"k",(function(){return j})),n.d(t,"i",(function(){return M})),n.d(t,"a",(function(){return A})),n.d(t,"g",(function(){return R})),n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return D})),n.d(t,"m",(function(){return L})),n.d(t,"l",(function(){return B})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return H})),n.d(t,"j",(function(){return F}));var T={default:c.b.NORMAL,wide:c.b.WIDE,"full-width":c.b.FULL_WIDTH},C=function(e,t){return Object(l.e)((function(t){var n=t.selection,r=Object(w.a)(n),o=r.horizontalCells,i=r.verticalCells,a=r.totalRowCount,s=r.totalColumnCount;return{action:c.a.CLEARED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,horizontalCells:o,verticalCells:i,totalRowCount:a,totalColumnCount:s},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.delete_content."+(e===u.e.KEYBOARD?"keyboard":"button"),function(e){return function(t,n){var r,i=t.tr;if(Object(o.isCellSelection)(i.selection)){var a=i.selection;a.forEachCell((function(e,n){var r=i.doc.resolve(i.mapping.map(n+1));i=Object(o.emptyCell)(Object(o.findCellClosestToPos)(r),t.schema)(i)})),r=a.$headCell.pos}else if(e){var s=Object(o.findCellClosestToPos)(i.doc.resolve(e+1));i=Object(o.emptyCell)(s,t.schema)(i),r=s.pos}if(i.docChanged&&r){var c=i.doc.resolve(i.mapping.map(r)),l=d.Selection.findFrom(c,1,!0);return l&&i.setSelection(l),n&&n(i),!0}return!1}}(t)))},S=function(){return Object(l.e)((function(e){var t=e.selection,n=Object(w.a)(t),r=n.horizontalCells,o=n.verticalCells,i=n.totalCells,a=n.totalRowCount,s=n.totalColumnCount;return{action:c.a.MERGED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:r,verticalCells:o,totalCells:i,totalRowCount:a,totalColumnCount:s},eventType:u.d.TRACK}}))((function(e,t){return t&&(s.a.trackEvent("atlassian.editor.format.table.merge.button"),t(Object(k.b)(e.tr))),!0}))},j=function(){return Object(l.e)((function(e){var t=e.selection,n=Object(w.a)(t),r=n.totalRowCount,i=n.totalColumnCount,a=Object(o.findCellClosestToPos)(t.$anchor);if(a){var s=a.node.attrs,l=s.rowspan,d=s.colspan;return{action:c.a.SPLIT,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:d,verticalCells:l,totalCells:d*l,totalRowCount:r,totalColumnCount:i},eventType:u.d.TRACK}}}))(Object(a.a)("atlassian.editor.format.table.split.button",p.o))},M=function(e,t){return Object(l.e)((function(t){var n=t.selection,r=Object(w.a)(n),o=r.horizontalCells,a=r.verticalCells,s=r.totalCells,l=r.totalRowCount,d=r.totalColumnCount;return{action:c.a.COLORED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{cellColor:(i.e.get(e.toLowerCase())||e).toLowerCase(),horizontalCells:o,verticalCells:a,totalCells:s,totalRowCount:l,totalColumnCount:d},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.backgroundColor.button",Object(p.k)({background:e},t)))},A=function(e){return function(t,n){var i=t.selection,a=i instanceof r.CellSelection,s=a?Object(o.getSelectionRect)(i):Object(o.findCellRectClosestToPos)(i.$from);if(!s)return!1;var c=a&&"TOP"===e?s.top:s.bottom-1,l="BOTTOM"===e?1:0;return R(u.e.SHORTCUT,{index:c+l,moveCursorToInsertedRow:!1})(t,n)}},R=function(e,t){return Object(l.e)((function(n){var r=Object(w.b)(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:c.a.ADDED_ROW,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.index,totalRowCount:o,totalColumnCount:i},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.row."+(e===u.e.KEYBOARD?"keyboard":"button"),Object(f.c)(t.index,t.moveCursorToInsertedRow)))},N=function(e,t){return Object(l.e)((function(n){var r=Object(w.b)(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:c.a.ADDED_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:o,totalColumnCount:i},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.column.button",Object(f.b)(t)))},I=function(e,t,n){return Object(l.e)((function(n){var r=n.selection,o=Object(w.b)(r),i=o.totalRowCount,a=o.totalColumnCount;return{action:c.a.DELETED_ROW,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.top,count:t.bottom-t.top,totalRowCount:i,totalColumnCount:a},eventType:u.d.TRACK}}))((function(e,r){return r&&(s.a.trackEvent("atlassian.editor.format.table.delete_row.button"),r(Object(x.a)(t,n)(e.tr))),!0}))},P=function(e,t){return Object(l.e)((function(n){var r=n.selection,o=Object(w.b)(r),i=o.totalRowCount,a=o.totalColumnCount;return{action:c.a.DELETED_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.left,count:t.right-t.left,totalRowCount:i,totalColumnCount:a},eventType:u.d.TRACK}}))((function(e,n){return n&&(s.a.trackEvent("atlassian.editor.format.table.delete_column.button"),n(Object(_.a)(t)(e.tr))),!0}))},D=function(){return Object(l.e)((function(e){var t=e.selection,n=Object(w.b)(t),r=n.totalRowCount,o=n.totalColumnCount;return{action:c.a.DELETED,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{inputMethod:u.e.FLOATING_TB,totalRowCount:r,totalColumnCount:o},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.delete.button",p.d))},L=function(){return Object(l.e)((function(e){var t=Object(w.b)(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=Object(m.d)(e).isHeaderRowEnabled;return{action:c.a.TOGGLED_HEADER_ROW,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.toggleHeaderRow.button",h.d))},B=function(){return Object(l.e)((function(e){var t=Object(w.b)(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=Object(m.d)(e).isHeaderColumnEnabled;return{action:c.a.TOGGLED_HEADER_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.toggleHeaderColumn.button",h.c))},z=function(){return Object(l.e)((function(e){var t=Object(w.b)(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:c.a.TOGGLED_NUMBER_COLUMN,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newState:!Object(E.c)(e),totalRowCount:n,totalColumnCount:r},eventType:u.d.TRACK}}))(Object(a.a)("atlassian.editor.format.table.toggleNumberColumn.button",h.e))},H=function(){return Object(l.e)((function(e){var t=Object(w.b)(e.selection),n=t.table,r=t.totalRowCount,o=t.totalColumnCount;if(n){var i=n.node.attrs.layout;return{action:c.a.CHANGED_BREAKOUT_MODE,actionSubject:u.b.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:T[Object(h.a)(i)],previousBreakoutMode:T[i],totalRowCount:r,totalColumnCount:o},eventType:u.d.TRACK}}}))(h.f)},F=function(e,t,n){return Object(l.e)((function(r){var o=Object(w.b)(r.selection),i=o.totalRowCount,a=o.totalColumnCount;return{action:c.a.SORTED_COLUMN,actionSubject:u.b.TABLE,attributes:{inputMethod:e,totalRowCount:i,totalColumnCount:a,position:t,sortOrder:n,mode:"editor"},eventType:u.d.TRACK}}))(function(e,t){return void 0===t&&(t=b.b.DESC),Object(m.a)((function(n){return{type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}}}),(function(n,i){var a=Object(o.findTable)(n.selection);if(!a||!a.node)return n;var s=Object(o.isCellSelection)(n.selection)?Object(o.getSelectionRect)(n.selection):Object(o.findCellRectClosestToPos)(n.selection.$from);if(!s)return n;var c,l=Object(m.d)(i),u=Object(o.convertTableNodeToArrayOfRows)(a.node);l.isHeaderRowEnabled&&(c=u.shift());var p=Object(v.a)({getInlineCardTextFromStore:O(i)}),f=u.sort((function(n,r){return(t===b.b.DESC?-1:1)*p(n[e],r[e])}));c&&f.unshift(c);var h=Object(o.convertArrayOfRowsToTableNode)(a.node,f);n.replaceWith(a.pos,a.pos+a.node.nodeSize,h);var y=r.TableMap.get(a.node).positionAt(s.top,e,a.node),w=l.ordering,E={columnIndex:e,order:t};return n.steps.push(new g.a(a.pos,w,E)),n.setSelection(d.Selection.near(n.doc.resolve(a.start+y)))}))}(t,n))}},R4Nd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorHorizontalRuleIcon";var c=s;t.default=c},R50B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1 1 17.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 0 1-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 0 1 7.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 0 1 6.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e))};s.displayName="EditorExpandIcon";var c=s;t.default=c},R9eX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a}));var r=function(e){var t=[];return(e.steps||[]).forEach((function(n){for(var r=n.to,o=n.from,i=n.slice,a=i&&i.content?i.content.size:0,s=function(n){if(n<=e.doc.content.size){var r=e.doc.resolve(n).node(1);r&&!t.find((function(e){return e===r}))&&t.push(r)}},c=o;c<=r+a;c++)s(c)})),t},o=function(e){try{e.check()}catch(e){return!1}return!0},i=function(e){return e.every(o)},a=function(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}},RGqr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={listHeight:208,listWidth:n("aJ+w").i,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},RLFc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("D57K"),o=n("ERkP"),i=n("Dsue"),a=n("GBoc"),s=function(){function e(e,t,n,r,o,i,a,s){var c=this;void 0===a&&(a=!1),this.handleRef=function(e){return c._handleRef(e)},this.node=e,this.view=t,this.getPos=n,this.portalProviderAPI=r,this.reactComponentProps=o||{},this.reactComponent=i,this.hasContext=a,this._viewShouldUpdate=s}return e.prototype.init=function(){var e=this;this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);var t=this.getContentDOM()||{dom:void 0,contentDOM:void 0},n=t.dom,r=t.contentDOM;return this.domRef&&n&&(this.domRef.appendChild(n),this.contentDOM=r||n,this.contentDOMWrapper=n||r),this.domRef.classList.add(this.node.type.name+"View-content-wrap"),this.renderReactComponent((function(){return e.render(e.reactComponentProps,e.handleRef)})),this},e.prototype.renderReactComponent=function(e){this.domRef&&e&&this.portalProviderAPI.render(e,this.domRef,this.hasContext)},e.prototype.createDomRef=function(){return this.node.isInline?document.createElement("span"):document.createElement("div")},e.prototype.getContentDOM=function(){},e.prototype._handleRef=function(e){var t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)},e.prototype.render=function(e,t){return this.reactComponent?o.createElement(this.reactComponent,Object(r.__assign)({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null},e.prototype.update=function(e,t,n){var r=this;return void 0===n&&(n=function(){return!0}),!(this.node.type!==e.type||!n(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((function(){return r.render(r.reactComponentProps,r.handleRef)})),!0):(this.node=e,!0))},e.prototype.viewShouldUpdate=function(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)},e.prototype.setDomAttrs=function(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))},Object.defineProperty(e.prototype,"dom",{get:function(){return this.domRef},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)},e.fromComponent=function(t,n,r,o){return function(i,a,s){return new e(i,a,s,n,r,t,!1,o).init()}},e}();t.b=s;var c=function(e){function t(t,n,r,o,s,c,l,u){void 0===l&&(l=!1);var d=e.call(this,t,n,r,o,s,c,l,u)||this;return d.isSelectionInsideNode=function(e,t,n,r){return n="number"!=typeof n?d.pos:n,r="number"!=typeof r?d.posEnd:r,"number"==typeof n&&"number"==typeof r&&(n<e&&t<r)},d.isSelectedNode=function(e){if(e instanceof i.NodeSelection){var t=d.view.state.selection,n=t.from,r=t.to;return e.node===d.node||d.pos===n&&d.posEnd===r&&e.node.eq(d.node)}return!1},d.insideSelection=function(){var e=d.view.state.selection,t=e.from,n=e.to;return d.isSelectedNode(d.view.state.selection)||d.isSelectionInsideNode(t,n)},d.onSelectionChange=function(){d.update(d.node,[])},d.updatePos(),d.oldSelection=n.state.selection,d.selectionChangeState=a.b.getState(d.view.state),d.selectionChangeState.subscribe(d.onSelectionChange),d}return Object(r.__extends)(t,e),t.prototype.updatePos=function(){"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)},t.prototype.viewShouldUpdate=function(e){var t=this.view.state.selection,n=this.oldSelection;this.oldSelection=t;var r=this.pos,o=this.posEnd;this.updatePos();var a=t.from,s=t.to,c=n.from,l=n.to;if(this.node.type.spec.selectable){var u=t instanceof i.NodeSelection&&t.from===this.pos,d=n instanceof i.NodeSelection&&n.from===this.pos;if(u&&!d||d&&!u)return!0}var p=this.isSelectionInsideNode(a,s)&&!this.isSelectionInsideNode(c,l),f=!this.isSelectionInsideNode(a,s)&&this.isSelectionInsideNode(c,l),h=this.isSelectionInsideNode(a,s,r,o)&&!this.isSelectionInsideNode(a,s);return!!(p||f||h)},t.prototype.destroy=function(){this.selectionChangeState.unsubscribe(this.onSelectionChange),e.prototype.destroy.call(this)},t}(s)},RLr3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n("TywH"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("7bKp"),a=n("Dsue"),s=function(e,t){this.items=e,this.eventCount=t};s.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(n.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,l,u=e.tr,d=[],p=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void p.push(e);if(r){p.push(new c(e.map));var f,h=e.step.map(r.slice(o));h&&u.maybeStep(h).doc&&(f=u.mapping.maps[u.mapping.maps.length-1],d.push(new c(f,null,null,d.length+p.length))),o--,f&&r.appendMap(f,o)}else u.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(o)):e.selection,l=new s(n.items.slice(0,i).append(p.reverse().concat(d)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:u,selection:a}},s.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null,d=0;d<e.steps.length;d++){var p,f=e.steps[d].invert(e.docs[d]),h=new c(e.mapping.maps[d],f,t);(p=l&&l.merge(h))&&(h=p,d?o.pop():a=a.slice(0,a.length-1)),o.push(h),t&&(i++,t=null),r||(l=h)}var m,v,b,g=i-n.depth;return g>u&&(v=g,(m=a).forEach((function(e,t){if(e.selection&&0==v--)return b=t,!1})),a=m.slice(b),i-=g),new s(a.append(o),i)},s.prototype.remapping=function(e,t){var n=[],r=[];return this.items.forEach((function(t,o){null!=t.mirrorOffset&&(o-t.mirrorOffset>=e&&r.push(n.length-t.mirrorOffset,n.length));n.push(t.map)}),e,t),new i.Mapping(n,r)},s.prototype.addMaps=function(e){return 0==this.eventCount?this:new s(this.items.append(e.map((function(e){return new c(e)}))),this.eventCount)},s.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),this.items.length-t);var l=t;this.items.forEach((function(t){var r=o.getMirror(--l);if(null!=r){i=Math.min(i,r);var s=o.maps[r];if(t.step){var u=e.steps[r].invert(e.docs[r]),d=t.selection&&t.selection.map(o.slice(l,r));d&&a++,n.push(new c(s,u,d))}else n.push(new c(s))}}),r);for(var u=[],d=t;d<i;d++)u.push(new c(o.maps[d]));var p=this.items.slice(0,r).append(u).append(n),f=new s(p,a);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-n.length)),f},s.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},s.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((function(o,a){if(a>=e)r.push(o),o.selection&&i++;else if(o.step){var s=o.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var u=o.selection&&o.selection.map(t.slice(n));u&&i++;var d,p=new c(l.invert(),s,u),f=r.length-1;(d=r.length&&r[f].merge(p))?r[f]=d:r.push(p)}}else o.map&&n--}),this.items.length,0),new s(o.from(r.reverse()),i)},s.empty=new s(o.empty,0);var c=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};c.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new c(t.getMap().invert(),t,this.selection)}};var l=function(e,t,n,r){this.done=e,this.undone=t,this.prevMap=n,this.prevTime=r},u=20;function d(e,t,n,r){var o=h(t),i=m.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),c=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),u=new l(r?c:a.remaining,r?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(m,u).scrollIntoView())}}var p=!1,f=null;function h(e){var t=e.plugins;if(f!=t){p=!1,f=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){p=!0;break}}return p}var m=new a.PluginKey("history"),v=new a.PluginKey("closeHistory");t.HistoryState=l,t.closeHistory=function(e){return e.setMeta(v,!0)},t.history=function(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new a.Plugin({key:m,state:{init:function(){return new l(s.empty,s.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(m);if(i)return i;n.getMeta(v)&&(e=new l(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(!1!==(a||n).getMeta("addToHistory")){var c=e.prevTime<(n.time||0)-r.newGroupDelay||!a&&!function(e,t,n){if(!t)return!1;var r=e.mapping.maps[0],o=!1;if(!r)return!0;return r.forEach((function(e,r){n.items.forEach((function(n){if(n.step)return t.forEach((function(t,n,i,a){e<=a&&r>=i&&(o=!0)})),!1;e=n.map.invert().map(e,-1),r=n.map.invert().map(r,1)}),n.items.length,0)})),o}(n,e.prevMap,e.done);return new l(e.done.addTransform(n,c?t.selection.getBookmark():null,r,h(t)),s.empty,n.mapping.maps[n.steps.length-1],n.time)}return(o=n.getMeta("rebased"))?new l(e.done.rebased(n,o),e.undone.rebased(n,o),e.prevMap&&n.mapping.maps[n.steps.length-1],e.prevTime):new l(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),e.prevMap,e.prevTime)}(n,r,t,e)}},config:e})},t.undo=function(e,t){var n=m.getState(e);return!(!n||0==n.done.eventCount)&&(t&&d(n,e,t,!1),!0)},t.redo=function(e,t){var n=m.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&d(n,e,t,!0),!0)},t.undoDepth=function(e){var t=m.getState(e);return t?t.done.eventCount:0},t.redoDepth=function(e){var t=m.getState(e);return t?t.undone.eventCount:0}},RMEM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 11h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm5 4h5a1 1 0 0 1 0 2h-5a1 1 0 0 1 0-2zM7 7h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignRightIcon";var c=s;t.default=c},RNoV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)})}},RTm1:function(e,t,n){var r=n("jOQE"),o=n("di6S"),i=n("cjvR"),a=n("kidG"),s=n("B1X/"),c=n("jW93");var l={M:function(e){return e.getMonth()+1},MM:function(e){return p(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return p(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return p(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return p(o(e),2)},YY:function(e){return p(e.getFullYear(),4).substr(2)},YYYY:function(e){return p(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return p(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return p(l.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return p(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return p(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return p(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return p(e.getMilliseconds(),3)},Z:function(e){return d(e.getTimezoneOffset(),":")},ZZ:function(e){return d(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function u(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function d(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+p(Math.floor(r/60),2)+t+p(o,2)}function p(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=c.format.formatters,d=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(d=o.format.formattingTokensRegExp));var p=a(e);return s(p)?function(e,t,n){var r,o,i=e.match(n),a=i.length;for(r=0;r<a;r++)o=t[i[r]]||l[i[r]],i[r]=o||u(i[r]);return function(e){for(var t="",n=0;n<a;n++)i[n]instanceof Function?t+=i[n](e,l):t+=i[n];return t}}(r,i,d)(p):"Invalid Date"}},RXbC:function(e,t,n){"use strict";var r=n("m23B"),o=n("cfo/"),i=n("PnZS"),a=n("ch/M"),s=n("D57K"),c=n("Rr/J"),l=n("NFZB"),u=n("ad10"),d=n("C2nh"),p=n("I3Dr"),f=n("BXYS");function h(e,t){var n=t/Object(p.e)(e),r=Object(s.__assign)(Object(s.__assign)({},e),{maxSize:t,cols:e.cols.map((function(e){var t=e.minWidth,r=e.width,o=Math.floor(r*n);return o<t&&(o=t),Object(s.__assign)(Object(s.__assign)({},e),{width:o})}))}),o=Object(p.e)(r);return o>t&&(r=Object(f.b)(r,o-t)),Object(p.a)(r,t)}var m=n("zCam");n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return O}));var v=function(e,t,n){return function(r,i){if(!e)return!1;var s,f=t.node,m=t.start,v=t.parentWidth;if(!1===Object(a.b)(f))return Object(a.c)(e,f),!1;if(s=v?function(e,t,n,r,o){var i=Object(p.d)({minWidth:l.d,maxSize:t,table:n,tableRef:e,start:r,domAtPos:o});return n.attrs.isNumberColumnEnabled&&(t-=c.A),h(i,Math.floor(t))}(e,v,f,m,n):function(e,t,n){var r=t.node,o=t.containerWidth,i=t.previousContainerWidth,a=t.dynamicTextSizing,s=t.prevNode,f=t.start,m=t.isBreakoutEnabled,v=t.layoutChanged,b=Object(d.b)(r.attrs.layout,o,{dynamicTextSizing:a,isBreakoutEnabled:m}),g=Object(u.e)(s),y=Object(d.b)(s.attrs.layout,i,{dynamicTextSizing:a,isBreakoutEnabled:m}),O=b;if(v&&g>y)if(g<b)O=b;else{var w=g/y;O=Math.floor(O*w)}return r.attrs.isNumberColumnEnabled&&(O-=c.A),h(Object(p.d)({minWidth:l.d,maxSize:b,table:r,tableRef:e,start:f,domAtPos:n}),O)}(e,t,n)){var b=r.tr;if((b=Object(o.a)(s,f,m)(b)).docChanged&&i)return b.setMeta("scrollIntoView",!1),i(b),!0}return!1}},b=function(e){var t=e.resizeState,n=e.table,a=e.start,s=e.event;return function(e,c){if(!Object(r.isTableSelected)(e.selection))return!1;var l=Object(i.c)(e).lastClick,u=Date.now();if(l&&u-l.time<500&&Object(m.b)(s,l)){var d=Object(p.c)(t);return w(null,(function(e){return Object(o.a)(d,n,a)(e)}))(e,c),!0}return w({x:s.clientX,y:s.clientY,time:u})(e,c),!1}},g=function(e){return Object(i.a)({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}})},y=function(e){return Object(i.a)({type:"STOP_RESIZING"},(function(t){return(e||t).setMeta("scrollIntoView",!1)}))},O=function(e,t){return Object(i.a)({type:"SET_DRAGGING",data:{dragging:e}},(function(e){return t||e}))},w=function(e,t){return Object(i.a)({type:"SET_LAST_CLICK",data:{lastClick:e}},t)}},Rl8C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.148 6.852a.502.502 0 0 1 .708.004l2.288 2.288a.5.5 0 0 1 .004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorEditIcon";var c=s;t.default=c},S1UJ:function(e){e.exports=JSON.parse('{"a":"@atlaskit/status","b":"0.9.20"}')},S5NY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 0 1-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorFileIcon";var c=s;t.default=c},"T+Sf":function(e,t){var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"};t.base=n;var r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};t.shift=r;for(var o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c=o&&(s||+o[1]<57)||a&&s,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),r[l]=String.fromCharCode(l);for(var u in n)r.hasOwnProperty(u)||(r[u]=n[u]);t.keyName=function(e){var t=!(c&&(e.ctrlKey||e.altKey||e.metaKey)||i&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},T1Ll:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=n("JzjW");var d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var v=n("gtbP");t.lib={},t.lib.mdurl=n("BmNk"),t.lib.ucmicro=n("vu0X"),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c,(function(e,t,n){return t||function(e,t){var n=0;return o(u,t)?u[t]:35===t.charCodeAt(0)&&l.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(p,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return v.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},TU61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7bKp"),o=n("I9T1"),i={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return["ol",{start:1==e.attrs.order?null:e.attrs.order},0]}},a={parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}},s={parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]},defining:!0};function c(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n}t.orderedList=i,t.bulletList=a,t.listItem=s,t.addListNodes=function(e,t,n){return e.append({ordered_list:c(i,{content:"list_item+",group:n}),bullet_list:c(a,{content:"list_item+",group:n}),list_item:c(s,{content:t})})},t.wrapInList=function(e,t){return function(n,i){var a=n.selection,s=a.$from,c=a.$to,l=s.blockRange(c),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==s.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);d=new o.NodeRange(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new o.NodeRange(s,n.doc.resolve(c.end(l.depth)),l.depth)),u=!0}var f=r.findWrapping(d,e,t,l);return!!f&&(i&&i(function(e,t,n,i,a){for(var s=o.Fragment.empty,c=n.length-1;c>=0;c--)s=o.Fragment.from(n[c].type.create(n[c].attrs,s));e.step(new r.ReplaceAroundStep(t.start-(i?2:0),t.end,t.start,t.end,new o.Slice(s,0,0),n.length,!0));for(var l=0,u=0;u<n.length;u++)n[u].type==a&&(l=u+1);for(var d=n.length-l,p=t.start+n.length-(i?2:0),f=t.parent,h=t.startIndex,m=t.endIndex,v=!0;h<m;h++,v=!1)!v&&r.canSplit(e.doc,p,d)&&e.split(p,d),p+=f.child(h).nodeSize+(v?0:2*d);return e}(n.tr,l,f,u,e).scrollIntoView()),!0)}},t.splitListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,c=i.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(s))return!1;var l=a.node(-1);if(l.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var u=o.Fragment.empty,d=a.index(-1)>0,p=a.depth-(d?1:2);p>=a.depth-3;p--)u=o.Fragment.from(a.node(p).copy(u));u=u.append(o.Fragment.from(e.createAndFill()));var f=t.tr.replace(a.before(d?null:-1),a.after(-3),new o.Slice(u,d?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(a.pos+(d?3:2)))),n(f.scrollIntoView())}return!0}var h=s.pos==a.end()?l.defaultContentType(0):null,m=t.tr.delete(a.pos,s.pos),v=h&&[null,{type:h}];return!!r.canSplit(m.doc,a.pos,2,v)&&(n&&n(m.split(a.pos,2,v).scrollIntoView()),!0)}},t.liftListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,c=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));return!!c&&(!n||(a.node(c.depth-1).type==e?function(e,t,n,i){var a=e.tr,s=i.end,c=i.$to.end(i.depth);s<c&&(a.step(new r.ReplaceAroundStep(s-1,c,s,c,new o.Slice(o.Fragment.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new o.NodeRange(a.doc.resolveNoCache(i.$from.pos),a.doc.resolveNoCache(c),i.depth));return t(a.lift(i,r.liftTarget(i)).scrollIntoView()),!0}(t,n,e,c):function(e,t,n){for(var i=e.tr,a=n.parent,s=n.end,c=n.endIndex-1,l=n.startIndex;c>l;c--)s-=a.child(c).nodeSize,i.delete(s-1,s+1);var u=i.doc.resolve(n.start),d=u.nodeAfter,p=0==n.startIndex,f=n.endIndex==a.childCount,h=u.node(-1),m=u.index(-1);if(!h.canReplace(m+(p?0:1),m+1,d.content.append(f?o.Fragment.empty:o.Fragment.from(a))))return!1;var v=u.pos,b=v+d.nodeSize;return i.step(new r.ReplaceAroundStep(v-(p?1:0),b+(f?1:0),v+1,b-1,new o.Slice((p?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))).append(f?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(i.scrollIntoView()),!0}(t,n,c)))}},t.sinkListItem=function(e){return function(t,n){var i=t.selection,a=i.$from,s=i.$to,c=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));if(!c)return!1;var l=c.startIndex;if(0==l)return!1;var u=c.parent,d=u.child(l-1);if(d.type!=e)return!1;if(n){var p=d.lastChild&&d.lastChild.type==u.type,f=o.Fragment.from(p?e.create():null),h=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(u.copy(f)))),p?3:1,0),m=c.start,v=c.end;n(t.tr.step(new r.ReplaceAroundStep(m-(p?3:1),v,m,v,h,1,!0)).scrollIntoView())}return!0}}},TXYc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return v}));var r,o=n("D57K"),i=n("ERkP"),a=n("KsTJ"),s=n("96xf"),c=n("ezNr"),l=a.default.div(u||(u=Object(o.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"])));!function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(r||(r={}));var u,d=[{width:650,size:r.XXL},{width:580,size:r.XL},{width:500,size:r.L},{width:450,size:r.M},{width:370,size:r.S}],p=[{width:610,size:r.XXL},{width:540,size:r.XL},{width:460,size:r.L},{width:450,size:r.M},{width:370,size:r.S}],f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing},t.prototype.render=function(){var e=this.props,t=e.appearance,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,a=e.providerFactory,s=e.items,c=e.popupsMountPoint,u=e.popupsBoundariesElement,d=e.popupsScrollableElement,p=e.toolbarSize,f=e.disabled,h=e.isToolbarReducedSpacing,m=e.dispatchAnalyticsEvent;return s&&s.length?i.createElement(l,null,s.map((function(e,s){var l={key:s},v=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:a,appearance:t,popupsMountPoint:c,popupsBoundariesElement:u,popupsScrollableElement:d,disabled:f,toolbarSize:p,isToolbarReducedSpacing:h,containerElement:null,dispatchAnalyticsEvent:m});return v&&i.cloneElement(v,l)}))):null},t}(i.Component),h=function(e,t){return(function(e){return Object(c.a)(e)?d:p}(t).find((function(t){var n=t.width;return e>n}))||{size:r.XXXS}).size};function m(e){var t=h(e.width||0,e.appearance);return i.createElement(f,Object(o.__assign)({},e,{toolbarSize:t,isToolbarReducedSpacing:t<r.XXL}))}function v(e){return i.createElement("div",{style:{width:"100%",minWidth:"254px"}},i.createElement(s.a,null,(function(t){return void 0===t?null:i.createElement(m,Object(o.__assign)({},e,{width:t}))})))}},"Td+v":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("D57K"),o=n("m23B"),i=n("0Hbo"),a=n("gON+"),s=n("mGva"),c=function(e){var t=[];if(e.lastChild)for(var n=e.lastChild.childNodes,r=0,o=n.length;r<o;r++){var i=n[r],a=i.getBoundingClientRect();t[r]=(a?a.height:i.offsetHeight)+1}return t},l=function(e,t){var n=Object(o.getSelectionRect)(t);if(!n)return null;for(var r=0,i=0,s=0;s<n.top;s++){(l=e[s])&&(i+=l-1)}var c=[];for(s=n.top;s<n.bottom;s++){var l;(l=e[s])&&(r+=l-1,c.push(s))}return{top:i+r/2-a.e/2,indexes:c}},u=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){for(var i=e.length,a=n+1,s=e.length;a<s;a++)if(e[a]){i=a;break}t.push({startIndex:n,endIndex:i,height:o})}}return t},d=function(e,t,n,r,i){void 0===n&&(n=[]);var a=[];return(Object(o.isRowSelected)(e)(t)||n.indexOf(e)>-1&&!i)&&(a.push(s.c.HOVERED_CELL_ACTIVE),r&&a.push(s.c.HOVERED_CELL_IN_DANGER)),a.join(" ")},p=function(e){return function(t){return function(n){var a=Object(o.findTable)(n.selection);if(!a)return n;var s=i.TableMap.get(a.node),c=t-1;if(t<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(t>s.height)return n;for(var l=a.node,u=e.nodes.tableRow,d=s.cellsInRect({left:0,right:s.width,top:c,bottom:c+1}),p=c*s.width,f=t*s.width,h=s.map.slice(p,p+s.width),m=s.map.slice(f,f+s.width),v=[],b=[],g=0;g<h.length;){var y=h[g],O=y+a.start,w=n.doc.nodeAt(O);if(w){var E=Object(r.__assign)(Object(r.__assign)({},w.attrs),{colspan:1,rowspan:1}),k=w.type.createAndFill(E);if(!k)return n;if(m.indexOf(y)>-1)b.push({pos:O,node:w});else if(d.indexOf(y)>-1){if(w.attrs.colspan>1){var x=w.type.createAndFill(Object(r.__assign)(Object(r.__assign)({},E),{colspan:w.attrs.colspan}));if(!x)return n;v.push(x),g+=w.attrs.colspan;continue}v.push(k)}else v.push(k);g++}}b.forEach((function(e){n.setNodeMarkup(e.pos,void 0,Object(r.__assign)(Object(r.__assign)({},e.node.attrs),{rowspan:e.node.attrs.rowspan+1}))}));var _=l.child(c),T=a.start;for(g=0;g<t;g++)T+=l.child(g).nodeSize;return Object(o.safeInsert)(u.createChecked(_.attrs,v,_.marks),T)(n)}}}},TywH:function(e,t){var n=function(){};n.prototype.append=function(e){return e.length?(e=n.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},n.prototype.prepend=function(e){return e.length?n.from(e).append(this):this},n.prototype.appendInner=function(e){return new o(this,e)},n.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?n.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},n.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},n.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},n.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},n.from=function(e){return e instanceof n?e:e&&e.length?new r(e):n.empty};var r=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{},depth:{}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(n);n.empty=new r([]);var o=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(n);e.exports=n},U0u8:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("Dsue"),a=n("mu0/"),s=n("kbCE");function c(e){return e.toLowerCase().replace(/\s/g,"")}function l(e){return!e.includes(" ")}function u(e,t){return"number"==typeof e&&"number"==typeof t?e-t:String.prototype.localeCompare.call(e.toString(),t.toString())}function d(e,t,n,i){return void 0===i&&(i=u),function(a,s){var c=Object(o.__read)([e(a),e(s),t(a),t(s)],4),l=c[0],u=c[1],d=c[2],p=c[3],f=i(d,p);return n===r.PRIORITY_FIRST&&f?f:n===r.PRIORITY_FIRST?i(l,u):f}}function p(e,t){return c(e).split("").reduce((function(e,n,r){var o=e.distance,i=e.offset;if(o===1/0)return e;var a=t.indexOf(n,i);return-1===a?{distance:1/0,offset:0}:{offset:a+1,distance:o+(r!==a?Math.abs(r-a):0)}}),{distance:0,offset:0}).distance}function f(e,t){return t.sort(d((function(e){return e.title}),(function(e){return e.priority||Number.POSITIVE_INFINITY}),r.PRIORITY_FIRST)).map((function(t){return{item:t,distance:(n=t,r=n.keywords,o=n.title,r?[o].concat(r):[o]).reduce((function(t,n){var r=function(e,t){if(""===e)return 0;if(!l(e))return p(e,c(t));var n=c(e);return t.replace(/\s/g," ").toLowerCase().split(" ").filter((function(e){return n[0]===e[0]})).map((function(e){return c(e)})).reduce((function(e,t){return Math.min(e,p(n,t))}),1/0)}(e,n);return r<t?r:t}),1/0)};var n,r,o})).filter((function(t){var n=t.distance;return l(e)?n!==1/0:0===n})).sort(d((function(e){return e.distance}),(function(e){return e.item.priority||Number.POSITIVE_INFINITY}),r.PRIORITY_LAST)).map((function(e){return e.item}))}!function(e){e.PRIORITY_FIRST="first",e.PRIORITY_LAST="last"}(r||(r={}));var h=n("A/E9"),m=n("N01o");n.d(t,"b",(function(){return g}));t.a=function(){return{name:"quickInsert",pmPlugins:function(e){return[{name:"quickInsert",plugin:function(t){var n=t.providerFactory;return function(e,t){return new i.Plugin({key:g,state:{init:function(){return{items:e||[]}},apply:function(e,t){var n=e.getMeta(g);return n?Object(o.__assign)(Object(o.__assign)({},t),{provider:n}):t}},view:function(e){var n=function(t,n){n&&function(e){return function(t,n){return n&&n(t.tr.setMeta(g,e)),!0}}(n.then((function(e){return e.getItems()})))(e.state,e.dispatch)};return t.subscribe("quickInsertProvider",n),{destroy:function(){t.unsubscribe("quickInsertProvider",n)}}}})}(e,n)}}]},pluginsOptions:{typeAhead:{trigger:"/",getItems:function(e,t,n,r,i,c){var l=r.prevActive,u=r.queryChanged;a.a.trackEvent("atlassian.editor.quickinsert.query"),!l&&u&&c(h.a,{payload:{action:m.a.INVOKED,actionSubject:m.b.TYPEAHEAD,actionSubjectId:m.c.TYPEAHEAD_QUICK_INSERT,attributes:{inputMethod:m.e.KEYBOARD},eventType:m.d.UI}});var d=g.getState(t),p=b(d.items,n),v=function(){return f(e,p)};return d.provider?d.provider.then((function(t){return f(e,Object(s.l)(Object(o.__spread)(p,t),(function(e){return e.title})))})).catch((function(e){return console.error(e),v()})):v()},selectItem:function(e,t,n){return a.a.trackEvent("atlassian.editor.quickinsert.select",{item:t.title}),t.action(n,e)}}}}};var v={},b=function(e,t){return v[t.locale]||(v[t.locale]=e.reduce((function(e,n){return"function"==typeof n?e.concat(n(t)):e.concat(n)}),[])),v[t.locale]},g=new i.PluginKey("quickInsertPluginKey")},UKA5:function(e,t,n){"use strict";var r=n("T1Ll").normalizeReference,o=n("T1Ll").isSpace;e.exports=function(e,t){var n,i,a,s,c,l,u,d,p,f,h,m,v,b="",g=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=c+1)<y&&40===e.src.charCodeAt(u)){for(u++;u<y&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=y)return!1;for(v=u,(p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(b=e.md.normalizeLink(p.str),e.md.validateLink(b)?u=p.pos:b=""),v=u;u<y&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<y&&v!==u&&p.ok)for(f=p.str,u=p.pos;u<y&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else f="";if(u>=y||41!==e.src.charCodeAt(u))return e.pos=g,!1;u++}else{if(void 0===e.env.references)return!1;if(u<y&&91===e.src.charCodeAt(u)?(v=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?s=e.src.slice(v,u++):u=c+1):u=c+1,s||(s=e.src.slice(l,c)),!(d=e.env.references[r(s)]))return e.pos=g,!1;b=d.href,f=d.title}return t||(a=e.src.slice(l,c),e.md.inline.parse(a,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=n=[["src",b],["alt",""]],h.children=m,h.content=a,f&&n.push(["title",f])),e.pos=u,e.posMax=y,!0}},UQv1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorBulletListIcon";var c=s;t.default=c},UrcB:function(e,t,n){"use strict";var r=n("D57K"),o=n("gRIx"),i=n("ERkP"),a=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={Dropzone:t.Dropzone,MediaPickerErrorBoundary:t.MediaPickerErrorBoundary},n}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,o,i,a;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:if(this.state.Dropzone&&this.state.MediaPickerErrorBoundary)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all([Promise.all([n.e(3),n.e(6),n.e("@atlaskit-media-client~4134d62c")]).then(n.bind(null,"8z9n")),Promise.all([n.e(48),n.e("@atlaskit-internal_Dropzone~ab27e21f")]).then(n.bind(null,"ddKg")),n.e("@atlaskit-internal_MediaPickerErrorBoundary~66e23772").then(n.bind(null,"RAbR"))])];case 2:return e=r.__read.apply(void 0,[s.sent(),3]),o=e[0],i=e[1],a=e[2],t.Dropzone=o.withMediaClient(i.Dropzone),t.MediaPickerErrorBoundary=a.default,this.setState({Dropzone:t.Dropzone,MediaPickerErrorBoundary:t.MediaPickerErrorBoundary}),[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){var e=this.state,t=e.Dropzone,n=e.MediaPickerErrorBoundary;return t&&n?i.createElement(n,null,i.createElement(t,Object(r.__assign)({},this.props))):null},t.displayName="AsyncDropzone",t}(i.PureComponent),s=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={Clipboard:t.Clipboard},n}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,o,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return this.state.Clipboard?[3,2]:[4,Promise.all([Promise.all([n.e(3),n.e(6),n.e("@atlaskit-media-client~4134d62c")]).then(n.bind(null,"8z9n")),Promise.all([n.e(48),n.e("@atlaskit-internal_Clipboard~6a79e226")]).then(n.bind(null,"Ho4X"))])];case 1:e=r.__read.apply(void 0,[a.sent(),2]),o=e[0],i=e[1],t.Clipboard=o.withMediaClient(i.Clipboard),this.setState({Clipboard:t.Clipboard}),a.label=2;case 2:return[2]}}))}))},t.prototype.render=function(){return this.state.Clipboard?i.createElement(this.state.Clipboard,Object(r.__assign)({},this.props)):null},t.displayName="AsyncClipboard",t}(i.PureComponent),c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.mounted=!1,n.state={Browser:t.Browser},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,o,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return this.state.Browser?[3,2]:[4,Promise.all([Promise.all([n.e(3),n.e(6),n.e("@atlaskit-media-client~4134d62c")]).then(n.bind(null,"8z9n")),Promise.all([n.e(48),n.e("@atlaskit-internal_Browser~bf08f122")]).then(n.bind(null,"tGS0"))])];case 1:e=r.__read.apply(void 0,[a.sent(),2]),o=e[0],i=e[1],t.Browser=o.withMediaClient(i.Browser),this.mounted&&this.setState({Browser:t.Browser}),a.label=2;case 2:return[2]}}))}))},t.prototype.render=function(){return this.state.Browser?i.createElement(this.state.Browser,Object(r.__assign)({},this.props)):null},t.displayName="AsyncBrowser",t}(i.PureComponent);function l(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s;return Object(r.__generator)(this,(function(c){switch(c.label){case 0:return[4,Promise.all([Promise.all([n.e("atlaskit~66e23772"),n.e(1),n.e(48),n.e(85),n.e("@atlaskit-internal_media-picker-popup~4134d62c")]).then(n.bind(null,"WmvN")),Promise.all([n.e(3),n.e(6),n.e("@atlaskit-media-client~4134d62c")]).then(n.bind(null,"8z9n"))])];case 1:return o=r.__read.apply(void 0,[c.sent(),2]),i=o[0].PopupImpl,a=o[1].getMediaClient,s=a(e),[2,new i(s,t)]}}))}))}n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return o.b})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}))},V3qF:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("RZTm"),a=n("Ydxy"),s=n("KsTJ"),c=i.m.modal()+10,l=s.default.div(d||(d=Object(r.__makeTemplateObject)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"])),c);l.displayName="Blanket";var u=s.default.div(p||(p=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));u.displayName="SpinnerWrapper";var d,p,f="none",h=!1;t.a=function(e){var t=e.blankedColor,n=e.invertSpinnerColor;return o.createElement(l,{style:{backgroundColor:t||f}},o.createElement(u,null,o.createElement(a.a,{size:"large",invertColor:n||h})))}},V3z3:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,o=n("D57K"),i=n("ERkP"),a=n("KsTJ"),s=n("dDc+"),c=n("RZTm"),l=n("kbCE"),u=a.default.span(r||(r=Object(o.__makeTemplateObject)(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ","px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  user-select: all;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"],["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ","px;\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  user-select: all;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  &.ProseMirror-selectednode {\n    background: ",";\n    outline: none;\n  }\n"])),s.colors.N30,s.colors.N50,Object(c.f)(),Object(c.j)(),s.colors.N50);function d(){return i.createElement("span",null,i.createElement(u,null,"Unsupported content"),l.a)}},VMHS:function(e,t,n){"use strict";var r={};function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)o[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,o,i,a,s,c,l="";for(t=0,r=e.length;t<r;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?l+=n[o]:192==(224&o)&&t+3<r&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(l+=(c=o<<6&1984|63&i)<128?"��":String.fromCharCode(c),t+=3):224==(240&o)&&t+6<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(l+=(c=o<<12&61440|i<<6&4032|63&a)<2048||c>=55296&&c<=57343?"���":String.fromCharCode(c),t+=6):240==(248&o)&&t+9<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&s))?((c=o<<18&1835008|i<<12&258048|a<<6&4032|63&s)<65536||c>1114111?l+="����":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):l+="�";return l}))}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},VN5P:function(e,t,n){"use strict";var r=n("MVoQ"),o=n("XG57"),i=n("QQ6y"),a=n("5ipG"),s=n("fjMk"),c=n("N01o");n.d(t,"a",(function(){return l}));var l=function(e){return function(t,n){var l,u,d,p,f,h,m;if(t.schema.marks.textColor){var v=r.d.getState(t),b=Object(a.a)(t),g=(l=e,u=b,d=v.paletteExpanded||v.palette,p=d.find((function(e){return e.value===l})),f=d.find((function(e){return e.value===u})),h=p?p.label:l,m=f?f.label:u||"",Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,actionSubjectId:c.c.FORMAT_COLOR,eventType:c.d.TRACK,attributes:{newColor:h.toLowerCase(),previousColor:m.toLowerCase()}}));return!v.disabled&&(e===v.defaultColor?(g((function(e,t){var n=e.schema.marks.textColor,o=e.selection,i=o.from,a=o.to,s=o.$cursor,c=e.tr;return c=s?e.tr.removeStoredMark(n):e.tr.removeMark(i,a,n),t&&t(c.setMeta(r.d,{action:r.a.RESET_COLOR})),!0}))(t,n),!0):(g(function(e){return function(t,n){var a=t.schema.marks.textColor,s=t.tr;return Object(o.a)(t)?(n&&n(s.setMeta(r.d,{action:r.a.DISABLE})),!1):(n&&(t.tr.setMeta(r.d,{action:r.a.SET_COLOR,color:e}),t.tr.scrollIntoView(),Object(i.g)(a,{color:e})(t,n)),!0)}}(e))(t,n),!0))}return!1}}},VktZ:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("ERkP"),a=n("KsTJ"),s=n("dDc+"),c=a.default.div(r||(r=Object(o.__makeTemplateObject)(["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n"],["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n"])),s.colors.N30);t.a=function(){return i.createElement(c,{className:"separator"})}},Vt6h:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,c=t+1,l=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(s=e.parentType,e.parentType="paragraph";c<u&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(r=!1,o=0,i=l.length;o<i;o++)if(l[o](e,c,u,!0)){r=!0;break}if(r)break}return n=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},Vtgc:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(n=c,c++,r=e.posMax;c<r&&96===e.src.charCodeAt(c);)c++;for(o=e.src.slice(n,c),i=a=c;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||((s=e.push("code_inline","code",0)).markup=o,s.content=e.src.slice(c,i).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},Vvhb:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("D57K"),o=n("Dsue"),i=n("Awfs"),a=n("lCOr"),s=n("N01o"),c=n("fjMk"),l=new o.PluginKey("analyticsPlugin");function u(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{attributes:Object(r.__assign)(Object(r.__assign)({},e.attributes),{duration:t}),eventType:s.d.OPERATIONAL})}t.b=function(e){return{name:"analytics",pmPlugins:function(){return[{name:"analyticsPlugin",plugin:function(){return function(e){if(e){var t=Object(i.a)();return new o.Plugin({key:l,state:{init:function(){return e},apply:function(n){var o,i,l=Object(c.c)(n);if(l.length>0){var d=function(r,o){if(t&&n.docChanged&&r.action!==s.a.INSERTED&&r.action!==s.a.DELETED){var i=r.actionSubject+":"+r.action+":"+r.actionSubjectId;Object(a.a)(i,(function(t){Object(c.b)(e)({payload:u(r,t),channel:o})}))}};try{for(var p=Object(r.__values)(l),f=p.next();!f.done;f=p.next()){var h=f.value;d(h.payload,h.channel)}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}return e}}})}}(e)}}]}}}},WAco:function(e,t,n){var r=n("cjvR"),o=n("jcO1");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}},WQPC:function(e,t,n){"use strict";t.parseLinkLabel=n("AsbT"),t.parseLinkDestination=n("eO16"),t.parseLinkTitle=n("YdLh")},WlQb:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n("r84s"),o=n("puzq"),i=n("aToR"),a=n("dDc+"),s=n("3QpL");var c,l,u,d=(c=a.colors.N800,l=.12,"rgba("+(u=s.a.convert(c).rgb).r+", "+u.g+", "+u.b+", "+l+")"),p=function(e,t){var n=e.toLowerCase().replace(" ","-"),r=Object(o.a)(i.a,n);return{value:t,label:e,border:d,message:r}},f=[],h=[];r.a.forEach((function(e,t){f.push(p(e,t))})),r.b.forEach((function(e,t){h.push(p(e,t))}))},Wots:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n("Dsue"),o=n("bigP"),i=n("lzcg"),a=n("fjMk"),s=n("N01o"),c=function(e,t){return function(n,c){var l,u=n.schema;l=e?Date.UTC(e.year,e.month-1,e.day).toString():Object(o.f)();var d=n.tr;t&&Object(a.a)(n,d,{action:s.a.INSERTED,actionSubject:s.b.DOCUMENT,actionSubjectId:s.c.DATE,eventType:s.d.TRACK,attributes:{inputMethod:t}});var p=i.b.getState(n).showDatePickerAt;if(!p){var f=u.nodes.date.createChecked({timestamp:l});return c(d.replaceSelectionWith(f).setSelection(r.NodeSelection.create(d.doc,n.selection.$from.pos)).scrollIntoView()),!0}return!!n.doc.nodeAt(p)&&(c(d.setNodeMarkup(p,u.nodes.date,{timestamp:l}).setSelection(r.Selection.near(d.doc.resolve(p+2))).setMeta(i.b,{showDatePickerAt:null}).scrollIntoView()),!0)}},l=function(e){return function(t,n){return n(t.tr.setMeta(i.b,{showDatePickerAt:e})),!0}},u=function(){return function(e,t){var n=i.b.getState(e).showDatePickerAt;return!!n&&(t&&t(e.tr.setMeta(i.b,{showDatePickerAt:null}).setSelection(r.Selection.near(e.tr.doc.resolve(n+2)))),!1)}},d=function(){return function(e,t){var n=e.selection.$from,o=e.doc.nodeAt(n.pos);if(o&&o.type.name===e.schema.nodes.date.name){var a=n.pos;t&&t(e.tr.setMeta(i.b,{showDatePickerAt:a}).setSelection(r.NodeSelection.create(e.doc,a)))}return!1}}},Wtp3:function(e,t,n){"use strict";n.r(t),n.d(t,"addAltText",(function(){return c})),n.d(t,"toggleBold",(function(){return l})),n.d(t,"toggleItalic",(function(){return u})),n.d(t,"toggleUnderline",(function(){return d})),n.d(t,"toggleStrikethrough",(function(){return p})),n.d(t,"toggleCode",(function(){return f})),n.d(t,"pastePlainText",(function(){return h})),n.d(t,"clearFormatting",(function(){return m})),n.d(t,"setNormalText",(function(){return v})),n.d(t,"toggleHeading1",(function(){return b})),n.d(t,"toggleHeading2",(function(){return g})),n.d(t,"toggleHeading3",(function(){return y})),n.d(t,"toggleHeading4",(function(){return O})),n.d(t,"toggleHeading5",(function(){return w})),n.d(t,"toggleHeading6",(function(){return E})),n.d(t,"toggleOrderedList",(function(){return k})),n.d(t,"toggleBulletList",(function(){return x})),n.d(t,"toggleBlockQuote",(function(){return _})),n.d(t,"insertNewLine",(function(){return T})),n.d(t,"shiftBackspace",(function(){return C})),n.d(t,"splitCodeBlock",(function(){return S})),n.d(t,"splitListItem",(function(){return j})),n.d(t,"insertRule",(function(){return M})),n.d(t,"undo",(function(){return A})),n.d(t,"moveUp",(function(){return R})),n.d(t,"moveDown",(function(){return N})),n.d(t,"moveLeft",(function(){return I})),n.d(t,"moveRight",(function(){return P})),n.d(t,"indentList",(function(){return D})),n.d(t,"outdentList",(function(){return L})),n.d(t,"redo",(function(){return B})),n.d(t,"redoBarred",(function(){return z})),n.d(t,"openHelp",(function(){return H})),n.d(t,"addLink",(function(){return F})),n.d(t,"submit",(function(){return U})),n.d(t,"enter",(function(){return W})),n.d(t,"tab",(function(){return K})),n.d(t,"indent",(function(){return V})),n.d(t,"outdent",(function(){return G})),n.d(t,"backspace",(function(){return q})),n.d(t,"deleteKey",(function(){return $})),n.d(t,"space",(function(){return Y})),n.d(t,"escape",(function(){return X})),n.d(t,"nextCell",(function(){return J})),n.d(t,"previousCell",(function(){return Z})),n.d(t,"toggleTable",(function(){return Q})),n.d(t,"addRowBefore",(function(){return ee})),n.d(t,"addRowAfter",(function(){return te})),n.d(t,"addColumnAfter",(function(){return ne})),n.d(t,"addColumnBefore",(function(){return re})),n.d(t,"cut",(function(){return oe})),n.d(t,"copy",(function(){return ie})),n.d(t,"paste",(function(){return ae})),n.d(t,"altPaste",(function(){return se})),n.d(t,"TooltipShortcut",(function(){return le})),n.d(t,"tooltip",(function(){return de})),n.d(t,"renderTooltipContent",(function(){return pe})),n.d(t,"findKeymapByDescription",(function(){return fe})),n.d(t,"findShortcutByDescription",(function(){return he})),n.d(t,"findShortcutByKeymap",(function(){return me})),n.d(t,"bindKeymapWithCommand",(function(){return ye})),n.d(t,"findKeyMapForBrowser",(function(){return Oe})),n.d(t,"LEFT",(function(){return Ee})),n.d(t,"RIGHT",(function(){return ke})),n.d(t,"UP",(function(){return xe})),n.d(t,"DOWN",(function(){return _e})),n.d(t,"KEY_0",(function(){return Te})),n.d(t,"KEY_1",(function(){return Ce})),n.d(t,"KEY_2",(function(){return Se})),n.d(t,"KEY_3",(function(){return je})),n.d(t,"KEY_4",(function(){return Me})),n.d(t,"KEY_5",(function(){return Ae})),n.d(t,"KEY_6",(function(){return Re})),n.d(t,"HEADING_KEYS",(function(){return Ne}));var r=n("D57K"),o=n("ERkP"),i=n("qp5z"),a=n("KsTJ"),s=n("dDc+"),c=ge("Add Alt Text","Mod-Alt-y"),l=ge("Bold","Mod-b"),u=ge("Italic","Mod-i"),d=ge("Underline","Mod-u"),p=ge("Strikethrough","Mod-Shift-s"),f=ge("Code","Mod-Shift-m"),h=ge("Paste Plain Text","Mod-Shift-v"),m=ge("Clear formatting","Mod-\\"),v=ge("Normal text","Mod-Alt-0"),b=ge("Heading 1","Mod-Alt-1"),g=ge("Heading 2","Mod-Alt-2"),y=ge("Heading 3","Mod-Alt-3"),O=ge("Heading 4","Mod-Alt-4"),w=ge("Heading 5","Mod-Alt-5"),E=ge("Heading 6","Mod-Alt-6"),k=ge("Numbered list","Mod-Shift-7"),x=ge("Bullet list","Mod-Shift-8"),_=be("Quote","","Cmd-Alt-9"),T=ge("Insert new line","Shift-Enter"),C=ge("Shift Backspace","Shift-Backspace"),S=ge("Split code block","Enter"),j=ge("Split list item","Enter"),M=ge("Insert horizontal rule","Mod-Shift--"),A=ge("Undo","Mod-z"),R=ge("Move up","ArrowUp"),N=ge("Move down","ArrowDown"),I=ge("Move left","ArrowLeft"),P=ge("Move right","ArrowRight"),D=ge("Indent List","Tab"),L=ge("Outdent List","Shift-Tab"),B=be("Redo","Ctrl-y","Cmd-Shift-z"),z=be("Redo Barred","Ctrl-Shift-z","Cmd-y"),H=ge("Open Help","Mod-/"),F=ge("Link","Mod-k"),U=ge("Submit Content","Mod-Enter"),W=ge("Enter","Enter"),K=ge("Tab","Tab"),V=ge("Indent","Tab"),G=ge("Outdent","Shift-Tab"),q=ge("Backspace","Backspace"),$=ge("Delete","Delete"),Y=ge("Space","Space"),X=ge("Escape","Escape"),J=ge("Next cell","Tab"),Z=ge("Previous cell","Shift-Tab"),Q=ge("Table","Shift-Alt-t"),ee=ge("Add Row Above","Ctrl-Alt-ArrowUp"),te=ge("Add Row Below","Ctrl-Alt-ArrowDown"),ne=ge("Add Column After","Ctrl-Alt-ArrowRight"),re=ge("Add Column Before","Ctrl-Alt-ArrowLeft"),oe=ge("Cut","Mod-x"),ie=ge("Copy","Mod-c"),ae=ge("Paste","Mod-v"),se=ge("Paste","Mod-Shift-v"),ce={ARROWLEFT:"←",ARROWRIGHT:"→",ARROWUP:"↑",ARROWDOWN:"↓"},le=a.default.span(we||(we=Object(r.__makeTemplateObject)(["\n  border-radius: 2px;\n  background-color: ",";\n  padding: 0 2px;\n"],["\n  border-radius: 2px;\n  background-color: ",";\n  padding: 0 2px;\n"])),s.colors.N400);function ue(e){var t=(i.a.mac?e.mac.replace(/Cmd/i,"⌘").replace(/Shift/i,"⇧").replace(/Ctrl/i,"⌃").replace(/Alt/i,"⌥").replace(/Backspace/i,"⌫"):e.windows.replace(/Backspace/i,"⌫")).split("-"),n=t[t.length-1].toUpperCase();return t[t.length-1]=ce[n]||n,t.join(i.a.mac?"":"+")}function de(e,t){if(e){var n=ue(e);return t?t+" "+n:n}}function pe(e,t,n){var r=n||t&&ue(t);return r||e?o.createElement(o.Fragment,null,e,r&&e&&" ",r&&o.createElement(le,null,r)):null}function fe(e){return ve.filter((function(t){return t.description.toUpperCase()===e.toUpperCase()}))[0]}function he(e){var t=fe(e);if(t)return me(t)}function me(e){return i.a.mac?e.mac:e.windows}var ve=[k,x,l,u,d,p,f,v,b,g,y,O,w,E,_,T,M,S,j,B,A];function be(e,t,n,r){return{description:e,windows:t,mac:n,common:r}}function ge(e,t){return be(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function ye(e,t,n){var r=n[e],o=t;n[e]&&(o=function(e,n,o){return r(e,n)||t(e,n,o)}),n[e]=o}function Oe(e){if(e)return i.a.mac?e.mac:e.windows}var we,Ee=37,ke=39,xe=38,_e=40,Te=48,Ce=49,Se=50,je=51,Me=52,Ae=53,Re=54,Ne=[Te,Ce,Se,je,Me,Ae,Re]},WvVb:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n("D57K"),o=n("Dsue"),i=n("p29/"),a=n("x5Wp"),s=(n("hZtx"),n("BH7h")),c=n("I9T1"),l=n("MWzK"),u=n("RLr3"),d=n("fjMk"),p=n("N01o"),f=n("9HKk");function h(e,t,n){void 0===t&&(t=!0);var r=e.marks.find((function(e){return"link"===e.type.name}));if(!r)return!1;var o=l.b.normalizeLinkText(r.attrs.href),i=l.b.normalizeLinkText(e.text||"");if(t&&o!==i)return!1;if(n&&l.b.normalizeLinkText(n)!==o)return!1;return!0}function m(e,t,n){var r=n.nodes.inlineCard,o=[t];return t.type===r&&o.push(n.text(" ")),e.replaceSelection(new c.Slice(c.Fragment.fromArray(o),0,0))}var v=function(e,t){return function(n,o){var c=i.b.getState(n);if(!c)return!1;var l=c.requests.filter((function(t){return t.url===e})),m=n.schema,v=m.nodes.inlineCard,b=Object(s.l)(m,t),g=n.tr;if(b){var y=l.map((function(e){return function(e,t,n,r){var o=n.nodes.inlineCard,i=r.url;if(Object(f.a)(i)){var a=e.mapping.map(r.pos),s=e.doc.resolve(a),c=e.doc.nodeAt(a);if(c&&c.type.isText&&h(c,r.compareLinkText,i)){var l=[t];return t.type===o&&l.push(n.text(" ")),e.replaceWith(a,a+(c.text||i).length,l),s.node(s.depth-1).type.name}}}(g,b,m,e)})).filter((function(e){return!!e}));if(y.length){var O=y.every((function(e){return e===y[0]}))?y[0]:"mixed",w=b.type===v?"inlineCard":"blockCard",E=Object(r.__read)(e.split("/"),3)[2];Object(d.a)(n,g,{action:p.a.INSERTED,actionSubject:p.b.DOCUMENT,actionSubjectId:p.c.SMART_LINK,eventType:p.d.TRACK,attributes:{inputMethod:l[0].source,nodeType:w,nodeContext:O,domainName:E}})}}return o&&o(Object(a.d)(e)(Object(u.closeHistory)(g))),!0}},b=function(e,t,n,r){void 0===r&&(r=!0);var o=e.schema.marks.link,i=[];return Object(s.k)(t,(function(e,t){if(!e.isText)return!0;var a=e.marks.find((function(e){return e.type===o}));if(a){if(!h(e,r))return!1;i.push({url:a.attrs.href,pos:t,appearance:"inline",compareLinkText:r,source:n})}return!1})),Object(a.b)(i)(t)},g=function(e,t){return function(n,r){var i=n.selection instanceof o.NodeSelection&&n.selection.node;if(!i)return!1;var a=n.schema.marks.link,s=i.attrs.url||i.attrs.data.url,c=n.tr.replaceSelectionWith(n.schema.text(e||s,[a.create({href:t||s})]),!1);return r&&r(c.scrollIntoView()),!0}},y=function(e){return function(t,n){if(!(t.selection instanceof o.NodeSelection&&t.selection.node))return!1;var r=t.tr.replaceSelectionWith(t.schema.text(e),!1);return n&&n(r.scrollIntoView()),!0}}},X0ma:function(e,t,n){"use strict";var r,o,i=n("D57K"),a=n("DPCN"),s=n.n(a),c=n("ERkP"),l=n("7nmT"),u=n("7bKp"),d=n("aGmo"),p=n("Dsue"),f=n("m23B"),h=n("wndT"),m=n("mu0/"),v=n("kbCE"),b=n("KsTJ"),g=n("dDc+"),y=n("RZTm"),O=n("kjku"),w=n.n(O),E=n("A5BR"),k=n("gMHJ"),x=b.default.div(r||(r=Object(i.__makeTemplateObject)(["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"],["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),Object(E.J)(g.colors.B400,.4)||g.colors.B400,Object(E.J)(g.colors.B300,.6)||g.colors.B300,Object(y.f)(),k.a,k.b),_=b.default.div(o||(o=Object(i.__makeTemplateObject)(["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"],["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"])),g.colors.B200,Object(y.f)()),T=function(e){var t=e.type;return"single"===(void 0===t?"group":t)?c.createElement(_,null):c.createElement(x,null,c.createElement(w.a,{label:"Document",size:"medium"}))},C=n("I9T1"),S=n("BH7h"),j=n("QIdE");var M=function(e,t,n){var r=e.state,o=e.dispatch,i=r.tr,a=r.schema,s=a.nodes,c=s.media,l=s.paragraph;if(c&&t.length){var u=A(t,n,c),d=N(r),p=i.doc.resolve(d).parent,h=i.doc.nodeAt(d),m=!function(e){var t=e.schema,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(r)&&function(e,t){var n=e.selection.$from.node(-1);return n&&n.type.validContent(C.Fragment.from(e.schema.nodes.mediaGroup.createChecked({},t)))}(r,u),b=function(e,t){var n=e.schema.nodes.media,r=t&&t.type===n;return(Object(v.q)(e)||Object(v.v)(e)||Object(v.f)(e)&&(!Object(j.h)(e)||Object(j.e)(e)))&&!r}(r,h),g=p.type===a.nodes.mediaGroup?u:[a.nodes.mediaGroup.createChecked({},u)];if(m){g=b?g.concat(l.create()):g;var y=I(r);return y?d<=y.start?i.deleteRange(y.start,y.end).insert(d,g):i.insert(d,g).deleteRange(y.start,y.end):i.insert(d,g),o(i),void D(e)}b&&p.type!==a.nodes.mediaGroup&&g.push(l.create()),o(Object(f.safeInsert)(C.Fragment.fromArray(g),d)(i))}},A=function(e,t,n){return e.map((function(e){var r=e.id,o=n.create({id:r,type:"file",collection:t});return Object(j.a)(e,o),o}))},R=function(e){var t=e.schema.nodes,n=t.mediaGroup,r=t.listItem;if(Object(f.hasParentNode)((function(e){return e.type===r}))(e.selection)){var o=function(e){var t=e.schema.nodes,n=t.bulletList,r=t.orderedList;return Object(S.b)((function(e){return e.type===n||e.type===r}))(e.selection.$from)}(e);if(o){var i=o.pos+o.node.nodeSize,a=e.doc.nodeAt(i);return a&&a.type===n?i+1:i}}},N=function(e){var t=e.selection,n=t.$from,r=t.$to,o=R(e);if(o)return o;var i=Object(j.f)(e);return i&&(!Object(j.e)(e)||n.pos<i&&r.pos<i)?i:Object(j.e)(e)?r.pos:Object(v.e)(e)?r.pos+1:Object(v.c)(e)?n.pos-1:r.pos},I=function(e){var t=e.selection,n=t.$from,r=t.$to;if(!Object(j.g)(e))return!Object(j.c)(e)||Object(j.f)(e)?P(n.pos,r.pos):P(Object(v.J)(n)-1,Object(v.m)(r))},P=function(e,t){return void 0===t&&(t=e),{start:e,end:t}},D=function(e){var t=e.state,n=t.doc,r=Object(j.f)(t);if(r){var o=n.resolve(r),i=Object(v.m)(o);i+1>=n.nodeSize-1?Object(v.G)(e,r):Object(v.H)(e,i+1)}},L=n("geBA"),B=n("2hRq"),z=n("N01o"),H=n("QA2Q"),F=n("x6PW");n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return G}));var U=["ready","error","cancelled"],W=function(){function e(e,t,n,r,o){var a=this;this.allowsUploads=!1,this.ignoreLinks=!1,this.waitForMediaUpload=!0,this.allUploadsFinished=!0,this.showDropzone=!1,this.layout="center",this.mediaNodes=[],this.mediaGroupNodes={},this.mobileUploadComplete={},this.pendingTask=Promise.resolve(null),this.destroyed=!1,this.pickers=[],this.pickerPromises=[],this.removeOnCloseListener=function(){},this.onPopupToogleCallback=function(){},this.onContextIdentifierProvider=function(e,t){return Object(i.__awaiter)(a,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return t?(e=this,[4,t]):[3,2];case 1:e.contextIdentifierProvider=n.sent(),n.label=2;case 2:return[2]}}))}))},this.setMediaProvider=function(e){return Object(i.__awaiter)(a,void 0,void 0,(function(){var t,n,r,o,a,c,l,u,d,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!e)return this.destroyPickers(),this.allowsUploads=!1,this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(K,{allowsUploads:this.allowsUploads})),[2];i.label=1;case 1:return i.trys.push([1,7,,8]),t=this,[4,e];case 2:return t.mediaProvider=i.sent(),this.mediaProvider.viewMediaClientConfig?[3,4]:[4,this.mediaProvider.viewMediaClientConfig];case 3:(n=i.sent())&&(this.mediaProvider.viewMediaClientConfig=n),i.label=4;case 4:return this.mediaProvider.uploadMediaClientConfig?[3,6]:(r=this.mediaProvider,[4,this.mediaProvider.uploadMediaClientConfig]);case 5:r.uploadMediaClientConfig=i.sent(),i.label=6;case 6:return s()(this.mediaProvider.viewMediaClientConfig,"MediaProvider promise did not resolve to a valid instance of MediaProvider - "+this.mediaProvider),[3,8];case 7:return o=i.sent(),a=new Error("Media functionality disabled due to rejected provider: "+o.message),this.errorReporter.captureException(a),this.destroyPickers(),this.allowsUploads=!1,this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(K,{allowsUploads:this.allowsUploads})),[2];case 8:return c=this,[4,this.mediaProvider.viewMediaClientConfig];case 9:return c.mediaClientConfig=i.sent(),this.allowsUploads=!!this.mediaProvider.uploadMediaClientConfig,u=(l=this).view,d=l.allowsUploads,!this.destroyed&&u.dom.parentNode&&u.dispatch(u.state.tr.setMeta(K,{allowsUploads:d})),this.allowsUploads?(p=this,[4,this.mediaProvider.uploadMediaClientConfig]):[3,14];case 10:return p.uploadMediaClientConfig=i.sent(),this.mediaProvider.uploadParams&&this.uploadMediaClientConfig?[4,this.initPickers(this.mediaProvider.uploadParams,L.a,this.reactContext)]:[3,12];case 11:return i.sent(),[3,13];case 12:this.destroyPickers(),i.label=13;case 13:return[3,15];case 14:this.destroyPickers(),i.label=15;case 15:return[2]}}))}))},this.getMediaOptions=function(){return a.options},this.hasUserAuthProvider=function(){return a.uploadMediaClientConfig&&a.uploadMediaClientConfig.userAuthProvider},this.insertFile=function(e,t,n){var r=Object(i.__assign)(Object(i.__assign)({},e),{contextId:a.contextIdentifierProvider?a.contextIdentifierProvider.objectId:void 0}),o=a.collectionFromProvider();if(void 0!==o){a.mediaPluginOptions&&a.mediaPluginOptions.allowMarkingUploadsAsIncomplete&&(a.mobileUploadComplete[r.id]=!1),a.updateAndDispatch({allUploadsFinished:!1}),Object(B.e)(a.view.state.schema,r.fileMimeType)?Object(B.d)(a.view,r,a.getInputMethod(n),o):M(a.view,[r],o),t(a.handleMediaState);var s,c=function(e){return e.status&&-1!==U.indexOf(e.status)};if(!c(r)){a.pendingTask=(s=a.pendingTask,new Promise((function(e){t((function(t){c(t)&&e(t)}))})).then((function(){return s}))),a.pendingTask.then((function(){a.updateAndDispatch({allUploadsFinished:!0})}))}var l=a.view;l.hasFocus()||l.focus()}},this.splitMediaGroup=function(){return Object(j.j)(a.view)},this.onPopupPickerClose=function(){a.onPopupToogleCallback(!1)},this.showMediaPicker=function(){if(a.openMediaPickerBrowser&&!a.hasUserAuthProvider())return a.openMediaPickerBrowser();a.popupPicker&&(a.popupPicker.show(),a.onPopupToogleCallback(!0))},this.setBrowseFn=function(e){a.openMediaPickerBrowser=e},this.onPopupToggle=function(e){a.onPopupToogleCallback=e},this.waitForPendingTasks=function(e,t){if(t&&a.pendingTask===t)return t;var n,r=a.pendingTask.then((function(){return a.waitForPendingTasks(void 0,a.pendingTask)}));if(!e)return r;var o=new Promise((function(t,r){n=window.setTimeout((function(){return r(new Error("Media operations did not finish in "+e+" ms"))}),e)}));return Promise.race([o,r.then((function(){clearTimeout(n)}))])},this.handleMediaNodeRemoval=function(e,t){var n=e;n||(n=a.view.state.doc.nodeAt(t())),Object(j.i)(a.view,n,t)},this.handleMediaNodeMount=function(e,t){a.mediaNodes.unshift({node:e,getPos:t})},this.handleMediaNodeUnmount=function(e){a.mediaNodes=a.mediaNodes.filter((function(t){var n=t.node;return e!==n}))},this.findMediaNode=function(e){return H.c(a,e)},this.destroyAllPickers=function(e){e.forEach((function(e){return e.destroy()})),a.pickers.splice(0,a.pickers.length)},this.destroyPickers=function(){var e=a,t=e.pickers,n=e.pickerPromises;n.length===t.length?a.destroyAllPickers(a.pickers):Promise.all(n).then((function(e){return a.destroyAllPickers(e)})),a.popupPicker=void 0,a.customPicker=void 0},this.getInputMethod=function(e){switch(e){case"popup":return z.e.PICKER_CLOUD;case"clipboard":return z.e.CLIPBOARD;case"dropzone":return z.e.DRAG_AND_DROP}},this.updateMediaNodeAttrs=function(e,t,n){var r=a.view;if(r)return Object(F.c)(e,t,n)(r.state,r.dispatch)},this.handleMediaState=function(e){switch(e.status){case"error":var t=a.options.uploadErrorHandler;t&&t(e);break;case"mobile-upload-end":var n={id:e.publicId||e.id};"string"==typeof e.collection&&(n.collection=e.collection),a.updateMediaNodeAttrs(e.id,n,Object(B.e)(a.view.state.schema,e.fileMimeType)),a.mobileUploadComplete[n.id]=!0,delete a.mediaGroupNodes[e.id]}},this.isMobileUploadCompleted=function(e){return H.d(a,e)},this.removeNodeById=function(e){var t=e.id,n=H.b(a,t,Object(v.u)(e.fileMimeType));n&&Object(j.i)(a.view,n.node,n.getPos)},this.removeSelectedMediaContainer=function(){var e=a.view,t=a.selectedMediaContainerNode();if(!t)return!1;var n=e.state.selection.from;return Object(j.i)(e,t.firstChild,(function(){return n+1})),!0},this.selectedMediaContainerNode=function(){var e=a.view.state,t=e.selection,n=e.schema;if(t instanceof p.NodeSelection&&(t.node.type===n.nodes.mediaSingle||t.node.type===n.nodes.mediaGroup))return t.node},this.handleDrag=function(e){var t="enter"===e;if(a.showDropzone!==t){a.showDropzone=t;var n=a.view;(0,n.dispatch)(n.state.tr)}},this.reactContext=n,this.options=t,this.mediaPluginOptions=r,this.dispatch=o,this.waitForMediaUpload=void 0===t.waitForMediaUpload||t.waitForMediaUpload;var c=e.schema.nodes;s()(c.media&&(c.mediaGroup||c.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),t.providerFactory.subscribe("mediaProvider",(function(e,t){return a.setMediaProvider(t)})),t.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=t.errorReporter||new h.a}return e.prototype.updateElement=function(){var e,t=this.selectedMediaContainerNode(),n=this.view.state.schema.nodes.mediaSingle;t&&t.type===n&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)},e.prototype.getDomElement=function(e){var t=this.view.state,n=t.selection,r=t.schema;if(n instanceof p.NodeSelection&&n.node.type===r.nodes.mediaSingle){var o=Object(f.findDomRefAtPos)(n.from,e);if(o)return o.childNodes.length?o.querySelector(".wrapper")||o:o.parentNode}},e.prototype.setView=function(e){this.view=e},e.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0;var e=this.mediaNodes;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}},e.prototype.initPickers=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,c,l,u,d,p,f,h,m,v,b,g=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return this.destroyed||!this.uploadMediaClientConfig?[2]:(o=(r=this).errorReporter,a=r.pickers,s=r.pickerPromises,a.length?[3,5]:(c={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:o},l={uploadParams:e,proxyReactContext:n()},this.options.customMediaPicker?(u=new t("customMediaPicker",c,this.options.customMediaPicker).init(),s.push(u),p=(d=a).push,f=this,[4,u]):[3,2]));case 1:return p.apply(d,[f.customPicker=i.sent()]),[3,4];case 2:return this.hasUserAuthProvider()?(h=new t("popup",c,l).init(),s.push(h),v=(m=a).push,b=this,[4,h]):[3,4];case 3:v.apply(m,[b.popupPicker=i.sent()]),this.removeOnCloseListener=this.popupPicker.onClose(this.onPopupPickerClose),i.label=4;case 4:a.forEach((function(e){e.onNewMedia(g.insertFile),e.onNewMedia(g.trackNewMediaEvent)})),i.label=5;case 5:return a.forEach((function(t){return t.setUploadParams(e)})),[2]}}))}))},e.prototype.trackNewMediaEvent=function(e,t,n){m.a.trackEvent("atlassian.editor.media.file."+n,e.fileMimeType?{fileMimeType:e.fileMimeType}:{})},e.prototype.collectionFromProvider=function(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection},e.prototype.updateAndDispatch=function(e){var t=this;Object.keys(e).forEach((function(n){var r=n,o=e[r];void 0!==o&&(t[r]=o)})),this.dispatch&&this.dispatch(K,Object(i.__assign)({},this))},e}(),K=new p.PluginKey("mediaPlugin"),V=function(e){return K.getState(e)},G=function(e,t,n,r,o){var i=function(e){var t=document.createElement("div");return e?l.render(c.createElement(T,{type:"single"}),t):l.render(c.createElement(T),t),t}(o&&o.allowDropzoneDropLine);return new p.Plugin({state:{init:function(e,i){return new W(i,t,n,o,r)},apply:function(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));var n=e.getMeta(K);if(n){var r=n.allowsUploads;t.updateAndDispatch({allowsUploads:void 0===r?t.allowsUploads:r})}return t}},key:K,view:function(e){var t=V(e.state);return t.setView(e),t.updateElement(),{update:function(){t.updateElement()}}},props:{decorations:function(e){if(V(e).showDropzone){var t=e.schema,n=e.selection.$anchor;if(e.selection instanceof p.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){var r=d.Decoration.node(e.selection.from,e.selection.to,{class:"mediaSingle-selected"});return d.DecorationSet.create(e.doc,[r])}}else{var o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=Object(u.insertPoint)(e.doc,o,t.nodes.mediaGroup)),null!=o){var a=[d.Decoration.widget(o,i,{key:"drop-placeholder"})];return d.DecorationSet.create(e.doc,a)}}}},nodeViews:t.nodeViews,handleTextInput:function(e){return V(e.state).splitMediaGroup(),!1}}})}},X3tg:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n("ERkP")),l=n("HbsM"),u=s(n("Yu3e")),d={width:"auto",height:"auto"},p=u.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),f=u.default((function(e,t){return Math.round(e/t)*t})),h=u.default((function(e,t){return new RegExp(e,"i").test(t)})),m=u.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),v=u.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),b=u.default((function(e){return"auto"===(e=e.toString())?e:v(e,"px")?e:v(e,"%")?e:v(e,"vh")?e:v(e,"vw")?e:v(e,"vmax")?e:v(e,"vmin")?e:e+"px"})),g=u.default((function(e,t,n,r,o){if(t&&"string"==typeof t&&v(t,"%")){var i=Number(t.replace("%",""))/100;t=e.width*i}if(n&&"string"==typeof n&&v(n,"%")){i=Number(n.replace("%",""))/100;n=e.height*i}if(r&&"string"==typeof r&&v(r,"%")){i=Number(r.replace("%",""))/100;r=e.width*i}if(o&&"string"==typeof o&&v(o,"%")){i=Number(o.replace("%",""))/100;o=e.height*i}return{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===o?void 0:Number(o)}})),y=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],O=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&v(e.propsSize[t].toString(),"%")){if(v(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return b(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?b(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?b(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add("__resizable_base__"):t.className+="__resizable_base__",e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),o=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,o=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<o?t:o}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),o=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,s=this.props,c=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=a.width,p=a.height,f=l||0,m=u||0;return h("right",i)&&(d=a.width+(e-a.x)*r/n,c&&(p=(d-m)/this.ratio+f)),h("left",i)&&(d=a.width-(e-a.x)*r/n,c&&(p=(d-m)/this.ratio+f)),h("bottom",i)&&(p=a.height+(t-a.y)*r/n,c&&(d=(p-f)*this.ratio+m)),h("top",i)&&(p=a.height-(t-a.y)*r/n,c&&(d=(p-f)*this.ratio+m)),{newWidth:d,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,c=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,f=a||0,h=s||0;if(i){var m=(u-f)*this.ratio+h,v=(d-f)*this.ratio+h,b=(c-h)/this.ratio+f,g=(l-h)/this.ratio+f,y=Math.max(c,m),O=Math.min(l,v),w=Math.max(u,b),E=Math.min(d,g);e=p(e,y,O),t=p(t,w,E)}else e=p(e,c,l),t=p(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,i=r.top;this.resizableLeft=o,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,i=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,c=this.state,l=c.direction,u=c.original,d=c.width,p=c.height,h=this.getParentSize(),b=g(h,n,r,o,i);n=b.maxWidth,r=b.maxHeight,o=b.minWidth,i=b.minHeight;var y=this.calculateNewSizeFromDirection(a,s),O=y.newHeight,w=y.newWidth,E=this.calculateNewMaxFromBoundary(n,r),k=this.calculateNewSizeFromAspectRatio(w,O,{width:E.maxWidth,height:E.maxHeight},{width:o,height:i});if(w=k.newWidth,O=k.newHeight,this.props.grid){var x=f(w,this.props.grid[0]),_=f(O,this.props.grid[1]),T=this.props.snapGap||0;w=0===T||Math.abs(x-w)<=T?x:w,O=0===T||Math.abs(_-O)<=T?_:O}this.props.snap&&this.props.snap.x&&(w=m(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(O=m(O,this.props.snap.y,this.props.snapGap));var C={width:w-u.width,height:O-u.height};if(d&&"string"==typeof d)if(v(d,"%"))w=w/h.width*100+"%";else if(v(d,"vw")){w=w/window.innerWidth*100+"vw"}else if(v(d,"vh")){w=w/window.innerHeight*100+"vh"}if(p&&"string"==typeof p)if(v(p,"%"))O=O/h.height*100+"%";else if(v(p,"vw")){O=O/window.innerWidth*100+"vw"}else if(v(p,"vh")){O=O/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(O,"height")}),this.props.onResize&&this.props.onResize(e,l,this.resizable,C)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,s=t.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(t){return!1!==n[t]?c.createElement(l.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},s&&s[t]?s[t]:null):null}));return c.createElement("span",{className:a,style:i},u)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==y.indexOf(n)?t:(t[n]=e.props[n],t)}),{});return c.createElement("div",i({ref:function(t){t&&(e.resizable=t)},style:i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&c.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(c.PureComponent);t.Resizable=O},XG57:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ljjB"),o=function(e){var t=e.schema.marks.textColor;if(t){var n=e.selection,o=n.empty,i=n.ranges,a=n.$cursor;return!((!o||a)&&!1!==Object(r.a)(e.doc,i,t))||!!Object(r.b)(t,e.storedMarks||a&&a.marks())}return!0}},XHA8:function(e,t,n){"use strict";var r=n("5z8k"),o=n("T1Ll").isSpace;function i(e,t,n,r){var i,a,s,c,l,u,d,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,s=c=u=d=0,l=(a=this.src).length;c<l;c++){if(i=a.charCodeAt(c),!p){if(o(i)){u++,9===i?d+=4-d%4:d++;continue}p=!0}10!==i&&c!==l-1||(10!==i&&c++,this.bMarks.push(s),this.eMarks.push(c),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,s=c+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,s,c,l,u,d,p=e;if(e>=t)return"";for(u=new Array(t-e),i=0;p<t;p++,i++){for(a=0,d=c=this.bMarks[p],l=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];c<l&&a<n;){if(s=this.src.charCodeAt(c),o(s))9===s?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(c-d<this.tShift[p]))break;a++}c++}u[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return u.join("")},i.prototype.Token=r,e.exports=i},XLvf:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])m(c)||!O(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=u(e,o,r)),o}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(k(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var l,O="",x=!1,_=["{","}"];(f(n)&&(x=!0,_=["[","]"]),k(n))&&(O=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(O=" "+RegExp.prototype.toString.call(n)),w(n)&&(O=" "+Date.prototype.toUTCString.call(n)),E(n)&&(O=" "+d(n)),0!==a.length||x&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=x?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)S(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return p(e,n,r,s,t,x)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,O,_)):_[0]+O+_[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),S(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function g(e){return void 0===e}function y(e){return O(e)&&"[object RegExp]"===x(e)}function O(e){return"object"==typeof e&&null!==e}function w(e){return O(e)&&"[object Date]"===x(e)}function E(e){return O(e)&&("[object Error]"===x(e)||e instanceof Error)}function k(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=y,t.isObject=O,t.isDate=w,t.isError=E,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("72zh");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n("qW1w"),t._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=j,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(M,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n("F63i"))},XRsu:function(e,t,n){"use strict";var r,o,i,a=n("ERkP"),s=n.n(a),c=n("Dj0/"),l=n("hw0w"),u=n("HZYv"),d=n("X0ma"),p=n("D57K"),f=n("Dsue"),h=n("LzaW"),m=function(){return w({type:"close"})},v=function(e,t){return w({type:"upload",newIdentifier:e},(function(n,r){var o=E(r).editor;if(!o)return n;var i=n.mapping.map(o.pos),a=n.doc.nodeAt(i),s=r.schema.nodes.media;if(!a||a.type!==s)return n;var c=Object(p.__assign)(Object(p.__assign)({},a.attrs),{id:e.id,collection:e.collectionName||a.attrs.collection,occurrenceKey:e.occurrenceKey,width:t.width,height:t.height});return n.setNodeMarkup(i,void 0,c)}))},b=new f.PluginKey("mediaEditorPlugin"),g=function(e){return function(t){var n=function(e,n){return Object(p.__awaiter)(void 0,void 0,void 0,(function(){var r,o,i,a,s;return Object(p.__generator)(this,(function(c){switch(c.label){case 0:return"mediaProvider"!==e?[2]:[4,n];case 1:return(r=c.sent())?[4,r.uploadMediaClientConfig]:[2];case 2:return(i=c.sent())?[3,4]:[4,r.viewMediaClientConfig];case 3:i=c.sent(),c.label=4;case 4:return o=i,a=t.dispatch,s=t.state,w({type:"setMediaClientConfig",mediaClientConfig:o})(s,a,t),[2]}}))}))};return e.subscribe("mediaProvider",n),{destroy:function(){e.unsubscribe("mediaProvider",n)}}}},y=Object(h.a)(b,(function(e,t){switch(t.type){case"open":return Object(p.__assign)(Object(p.__assign)({},e),{editor:{identifier:t.identifier,pos:t.pos}});case"close":case"upload":return Object(p.__assign)(Object(p.__assign)({},e),{editor:void 0});case"setMediaClientConfig":return Object(p.__assign)(Object(p.__assign)({},e),{mediaClientConfig:t.mediaClientConfig});default:return e}}),{mapping:function(e,t){return t.editor?Object(p.__assign)(Object(p.__assign)({},t),{editor:Object(p.__assign)(Object(p.__assign)({},t.editor),{pos:e.mapping.map(t.editor.pos)})}):t}}),O=y.createPluginState,w=y.createCommand,E=y.getPluginState,k=function(e){var t=e.dispatch,n=e.providerFactory;return new f.Plugin({state:O(t,(function(){return{}})),key:b,view:g(n)})},x=n("MMa6"),_=new f.PluginKey("mediaAltTextPlugin"),T=Object(h.a)(_,(function(e,t){switch(t.type){case"updateAltText":return Object(p.__assign)({},e);case"openMediaAltTextMenu":return Object(p.__assign)(Object(p.__assign)({},e),{isAltTextEditorOpen:!0});case"closeMediaAltTextMenu":return Object(p.__assign)(Object(p.__assign)({},e),{isAltTextEditorOpen:!1});default:return e}}),{onSelectionChanged:function(e,t){return e.getMeta(x.a)?t:{isAltTextEditorOpen:!1}}}),C=T.createPluginState,S=T.createCommand,j=T.getPluginState,M=function(e){var t=e.dispatch;e.providerFactory;return new f.Plugin({state:C(t,(function(){return{isAltTextEditorOpen:!1}})),key:_,view:function(){return{update:function(e,t){var n=j(e.state),r=j(t);n&&r&&r.isAltTextEditorOpen&&!n.isAltTextEditorOpen&&!e.hasFocus()&&e.focus()}}}})},A=n("Ft3U"),R=n("Wtp3"),N=n("QIdE"),I=n("fjMk"),P=n("N01o"),D=S((function(e){return!!Object(N.d)(e)&&{type:"closeMediaAltTextMenu"}})),L=(r=P.a.OPENED,o=function(e){return!!Object(N.d)(e)&&{type:"openMediaAltTextMenu"}},i=function(e){return e.setMeta("scrollIntoView",!1)},Object(I.e)({action:r,actionSubject:P.b.MEDIA,actionSubjectId:P.c.ALT_TEXT,eventType:P.d.TRACK})(S(o,i)));var B=n("kbCE"),z=n("m23B"),H=n("JxnG");function F(e,t){var n=e.$from,r=n.index(n.depth-1),o=n.node(n.depth-1);return o?o.maybeChild(r+t):null}function U(e){return function(t,n){var r=t.selection.$from,o=t.schema.nodes.paragraph,i=F(t.selection,-2);if(!i)return!1;var a=F(t.selection,-1),s=r.pos-a.nodeSize-i.nodeSize,c=t.tr;if(function(t){var n=!1;try{n=e(t)}catch(e){}return n}(i))c=c.replace(s-1,s+i.nodeSize);else if(Object(B.z)(t.selection)?c.replace(r.pos,r.pos+r.parent.nodeSize-1):c.replace(r.pos-1,r.pos+r.parent.nodeSize-1),i.type===o){var l=s+i.nodeSize-2;Object(z.safeInsert)(r.parent.content,l)(c)}else{var u=s+i.nodeSize-1;Object(z.safeInsert)(r.parent.copy(r.parent.content),u)(c)}return n&&n(c),!0}}var W=function(e){var t=Object(B.t)(e);return function(e,n){var r=e.selection,o=e.schema,i=r.$from;if(!function(e){return!!e.empty&&e.$from.parentOffset<=0}(e.selection))return!1;if(!function(e,t){return e.$from.parent.type===t}(e.selection,o.nodes.paragraph))return!1;return!!function(e,t,n){var r=F(e,n);return!!r&&r.type===t}(e.selection,o.nodes.mediaSingle,-1)&&("wrap-right"===F(e.selection,-1).attrs.layout?U(t)(e,n):(n&&Object(H.selectNodeBackward)(e,(function(r){t(i.parent)&&!Object(B.f)(e)&&r.replace(i.pos-1,i.pos+i.parent.nodeSize-1),n(r)})),!0))}};var K,V=function(e){return d.b.getState(e).ignoreLinks=!0,!1},G=function(e){return d.b.getState(e).splitMediaGroup()},q=function(){var e={};return R.bindKeymapWithCommand(R.undo.common,V,e),R.bindKeymapWithCommand(R.enter.common,G,e),R.bindKeymapWithCommand(R.insertNewLine.common,G,e),Object(A.keymap)(e)};!function(e){e.showToolbar="MEDIA_SHOW_TOOLBAR",e.hideToolbar="MEDIA_HIDE_TOOLBAR",e.setUrl="MEDIA_SET_LINK_TO",e.unlink="MEDIA_LINKING_UNLINK"}(K||(K={}));var $=new f.PluginKey("mediaLinking"),Y={visible:!1,editable:!1,mediaPos:null,link:""};var X,J=Object(h.a)($,(function(e,t){switch(t.type){case K.showToolbar:return Object(p.__assign)(Object(p.__assign)({},e),{visible:!0});case K.setUrl:return Object(p.__assign)(Object(p.__assign)({},e),{editable:!0,link:t.payload});case K.hideToolbar:return Object(p.__assign)(Object(p.__assign)({},e),{visible:!1});case K.unlink:return Object(p.__assign)(Object(p.__assign)({},e),{link:"",visible:!1,editable:!1})}return e}),{mapping:function(e,t){return t&&null!==t.mediaPos?Object(p.__assign)(Object(p.__assign)({},t),{mediaPos:e.mapping.map(t.mediaPos)}):t},onSelectionChanged:function(e){if(!(e.selection instanceof f.NodeSelection))return Y;var t=e.doc.nodeAt(e.selection.$from.pos);if(!t||"mediaSingle"!==t.type.name)return Y;var n=t.marks.find((function(e){return"link"===e.type.name}));return n?Object(p.__assign)(Object(p.__assign)({},Y),{mediaPos:e.selection.$from.pos,editable:!0,link:n.attrs.href}):Object(p.__assign)(Object(p.__assign)({},Y),{mediaPos:e.selection.$from.pos})}}),Z=J.createCommand,Q=J.getPluginState,ee=n("BYFu"),te=n.n(ee),ne=n("jwaM"),re=n("9O50"),oe=n("XoQQ"),ie=function(e){var t=e.editorView,n=e.eventDispatcher,r=e.pluginKey,o=e.isDisabled,i=e.isReducedSpacing;return a.createElement(oe.a,{editorView:t,eventDispatcher:n,plugins:{mediaPlugin:r},render:function(e){var t,n=e.mediaPlugin;return n.allowsUploads?a.createElement(re.a,{onClick:(t=n,Object(ne.a)("atlassian.editor.media.button",(function(){return t.showMediaPicker(),!0}))),disabled:o,title:"Files & images",spacing:i?"none":"default",iconBefore:a.createElement(te.a,{label:"Files & images"})}):null}})},ae=n("RLFc"),se=n("fyYf"),ce=n("xOqF"),le=1,ue=new Map,de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={animate:!1,offset:0},t.handleSize=function(e){var n=e.offset;return t.setState({offset:n})},t.handleScroll=function(e){var n=e.animate,r=e.offset;return t.setState({animate:n,offset:r})},t}return Object(p.__extends)(t,e),t.prototype.renderCards=function(){var e=this.props,t=e.items,n=e.mediaClientConfig,r=e.shouldOpenMediaViewer,o=r?{list:t.map((function(e){return e.identifier}))}:void 0;return t.map((function(e){var t=function(e){switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;var t=ue.get(e.id);if(t)return t;var n=""+ ++le;return ue.set(e.id,n),n}}(e.identifier);return n?a.createElement(se.a,Object(p.__assign)({key:t,mediaClientConfig:n,dimensions:se.d,useInlinePlayer:!1,shouldOpenMediaViewer:r,mediaViewerDataSource:o},e)):a.createElement(se.c,{key:t,dimensions:se.d})}))},t.prototype.render=function(){var e=this.state,t=e.animate,n=e.offset;return a.createElement(ce.a,{animate:t,offset:n,onSize:this.handleSize,onScroll:this.handleScroll},this.renderCards())},t}(a.Component),pe=n("GBoc"),fe=n("WCbN"),he=n.n(fe),me=n("tvQe"),ve=n("+i8T"),be=n("IC1n"),ge=n.n(be),ye=n("x6PW"),Oe=n("N+jv"),we=n("BRUJ"),Ee=n("Pg4W"),ke=function(){function e(e){var t=this;this.updateContextId=function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e,t,n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return(e=this.getAttrs())&&"file"===e.type?(t=e.id,[4,this.getObjectId()]):[2];case 1:return n=r.sent(),Object(ye.b)(t,{__contextId:n},this.props.isMediaSingle)(this.props.view.state,this.props.view.dispatch),[2]}}))}))},this.hasFileAttributesDefined=function(){var e=t.getAttrs();return e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId},this.updateFileAttrs=function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c,l,u,d;return Object(p.__generator)(this,(function(p){switch(p.label){case 0:return e=this.getAttrs(),[4,this.props.mediaProvider];case 1:return(t=p.sent())&&t.uploadParams&&e&&"file"===e.type&&!this.hasFileAttributesDefined()?(n=t.viewMediaClientConfig,r=Object(we.a)(n),o={collectionName:e.collection},[4,r.file.getCurrentState(e.id,o)]):[2];case 2:return"error"===(i=p.sent()).status?[2]:(s=this.getNodeContextId())?[3,4]:[4,this.getObjectId()];case 3:s=p.sent(),p.label=4;case 4:return a=s,c=i.name,l=i.mimeType,u=i.size,xe(e,d={__fileName:c,__fileMimeType:l,__fileSize:u,__contextId:a})&&Object(ye.b)(e.id,d,!0)(this.props.view.state,this.props.view.dispatch),[2]}}))}))},this.getAttrs=function(){var e=t.props.node.attrs;if(e)return e},this.getObjectId=function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.props.contextIdentifierProvider];case 1:return[2,(e=t.sent())&&e.objectId]}}))}))},this.uploadExternalMedia=function(e){return Object(p.__awaiter)(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,c;return Object(p.__generator)(this,(function(l){switch(l.label){case 0:return t=this.props.node,[4,this.props.mediaProvider];case 1:if(n=l.sent(),!t||!n)return[3,5];if(!(r=n.uploadMediaClientConfig)||!t.attrs.url)return[2];o=Object(we.a)(r),i=n.uploadParams&&n.uploadParams.collection,l.label=2;case 2:return l.trys.push([2,4,,5]),[4,o.file.uploadExternal(t.attrs.url,i)];case 3:return a=l.sent(),s=a.uploadableFileUpfrontIds,c=a.dimensions,Object(ye.a)(e+1,{id:s.id,collection:i,height:c.height,width:c.width,occurrenceKey:s.occurrenceKey})(this.props.view.state,this.props.view.dispatch),[3,5];case 4:return l.sent(),this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:P.a.UPLOAD_EXTERNAL_FAIL,actionSubject:P.b.EDITOR,eventType:P.d.OPERATIONAL}),[3,5];case 5:return[2]}}))}))},this.getNodeContextId=function(){var e=t.getAttrs();if(e&&"file"===e.type)return e.__contextId},this.updateDimensions=function(e){Object(ye.b)(e.id,{height:e.height,width:e.width},!0)(t.props.view.state,t.props.view.dispatch)},this.hasDifferentContextId=function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(p.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getNodeContextId(),[4,this.getObjectId()];case 1:return t=n.sent(),e&&t&&e!==t?[2,!0]:[2,!1]}}))}))},this.isNodeFromDifferentCollection=function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,o,i;return Object(p.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.props.mediaProvider];case 1:return(e=a.sent())&&e.uploadParams?(t=e.uploadParams.collection,(n=this.getAttrs())&&"file"===n.type?(r=n.collection,o=n.__contextId,(i=o)?[3,3]:[4,this.getObjectId()]):[2,!1]):[2,!1];case 2:i=a.sent(),a.label=3;case 3:return i&&t!==r?[2,!0]:[2,!1]}}))}))},this.copyNodeFromBlobUrl=function(e){return Object(p.__awaiter)(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,l,u,d,f,h,m,v,b,g,y,O;return Object(p.__generator)(this,(function(p){switch(p.label){case 0:return(t=this.getAttrs())&&"external"===t.type?(n=t.url,(r=Object(Ee.b)(n))?[4,this.props.mediaProvider]:[2]):[2];case 1:return(o=p.sent())&&o.uploadParams?(i=o.uploadParams.collection,a=r.contextId,s=r.id,c=r.collection,l=r.height,u=r.width,d=r.mimeType,f=r.name,h=r.size,(m=o.uploadMediaClientConfig)&&m.getAuthFromContext?(v=Object(we.a)(m),[4,m.getAuthFromContext(a)]):[2]):[2];case 2:return b=p.sent(),g={id:s,collection:c,authProvider:function(){return Promise.resolve(b)}},y={collection:i,authProvider:m.authProvider,occurrenceKey:ge()()},[4,v.file.copyFile(g,y)];case 3:return O=p.sent(),Object(ye.a)(e+1,{id:O.id,collection:i,height:l,width:u,__fileName:f,__fileMimeType:d,__fileSize:h})(this.props.view.state,this.props.view.dispatch),[2]}}))}))},this.copyNode=function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c,l,u,d,f,h,m,v;return Object(p.__generator)(this,(function(p){switch(p.label){case 0:return[4,this.props.mediaProvider];case 1:return e=p.sent(),t=this.props,n=t.isMediaSingle,r=t.view,o=this.getAttrs(),e&&e.uploadParams&&o&&"file"===o.type?(i=this.getNodeContextId(),(a=e.uploadMediaClientConfig)&&a.getAuthFromContext&&i?(s=Object(we.a)(a),[4,a.getAuthFromContext(i)]):[3,5]):[2];case 2:return c=p.sent(),[4,this.getObjectId()];case 3:return l=p.sent(),u=o.id,d=o.collection,f={id:u,collection:d,authProvider:function(){return Promise.resolve(c)}},h=e.uploadParams.collection,m={collection:h,authProvider:a.authProvider,occurrenceKey:ge()()},[4,s.file.copyFile(f,m)];case 4:v=p.sent(),Object(ye.c)(f.id,{id:v.id,collection:h,__contextId:l},n)(r.state,r.dispatch),p.label=5;case 5:return[2]}}))}))},this.props=e}return e.prototype.isMediaBlobUrl=function(){var e=this.getAttrs();return!(!e||"external"!==e.type||!Object(Ee.c)(e.url))},e.prototype.getRemoteDimensions=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c;return Object(p.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.props.mediaProvider];case 1:return e=l.sent(),t=this.props.mediaPluginOptions,n=this.getAttrs(),e&&n?(r=n.height,o=n.width,"external"!==n.type&&n.id?(i=n.id,a=n.collection,r&&o?[2,!1]:t&&!t.allowRemoteDimensionsFetch?[2,{id:i,height:Oe.a,width:Oe.b}]:(s=e.viewMediaClientConfig,[4,Object(we.a)(s).getImageMetadata(i,{collection:a})])):[2,!1]):[2,!1];case 2:return(c=l.sent())&&c.original?[2,{id:i,height:c.original.height||Oe.a,width:c.original.width||Oe.b}]:[2,!1]}}))}))},e}(),xe=function(e,t){return e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId},_e=function(e){function t(t){var n=e.call(this,t)||this;return n.state={viewMediaClientConfig:void 0},n.setMediaItems=function(e){var t=e.node;n.mediaNodes=[],t.forEach((function(t,r){n.mediaPluginState.mediaGroupNodes[t.attrs.id]={node:t,getPos:function(){return e.getPos()+r+1}},n.mediaNodes.push(t)}))},n.renderChildNodes=function(){var e=n.state.viewMediaClientConfig,t=n.mediaNodes.map((function(e,t){var r={id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection},o=n.props.getPos()+t+1;return{identifier:r,selectable:!0,isLazy:n.props.allowLazyLoading,selected:n.props.selected===o,onClick:function(){Object(B.G)(n.props.view,o)},actions:[{handler:n.props.disabled?function(){}:n.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,(function(){return o})),icon:a.createElement(he.a,{label:"delete"})}]}}));return a.createElement(de,{items:t,mediaClientConfig:e})},n.mediaNodes=[],n.mediaPluginState=d.b.getState(t.view.state),n.setMediaItems(t),n}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.updateMediaClientConfig(),this.mediaNodes.forEach((function(t){return Object(p.__awaiter)(e,void 0,void 0,(function(){var e,n,r,o,i;return Object(p.__generator)(this,(function(a){switch(a.label){case 0:return"external"===t.attrs.type?[2]:(e=this.props,n=e.view,r=e.mediaProvider,o=e.contextIdentifierProvider,i=new ke({view:n,mediaProvider:r,contextIdentifierProvider:o,node:t,isMediaSingle:!1}),i.getNodeContextId()?[3,2]:[4,i.updateContextId()]);case 1:a.sent(),a.label=2;case 2:return[4,i.hasDifferentContextId()];case 3:return a.sent()?[4,i.copyNode()]:[3,5];case 4:a.sent(),a.label=5;case 5:return[2]}}))}))}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateMediaClientConfig(),this.setMediaItems(e)},t.prototype.shouldComponentUpdate=function(e){return this.props.selected!==e.selected||this.props.node!==e.node||this.state.viewMediaClientConfig!==this.mediaPluginState.mediaClientConfig},t.prototype.updateMediaClientConfig=function(){var e=this.state.viewMediaClientConfig,t=this.mediaPluginState.mediaClientConfig;!e&&t&&this.setState({viewMediaClientConfig:t})},t.prototype.render=function(){return this.renderChildNodes()},t.displayName="MediaGroup",t}(a.Component),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(p.__extends)(t,e),t.prototype.render=function(e,t){var n=this,r=e.allowLazyLoading,o=e.editorAppearance,i=e.providerFactory,s=this.getPos;return a.createElement(ve.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:i,renderNode:function(e){var i=e.mediaProvider,c=e.contextIdentifierProvider;return a.createElement(oe.a,{editorView:n.view,plugins:{reactNodeViewState:pe.b,editorDisabledPlugin:me.b},render:function(e){var l=e.editorDisabledPlugin,u=s(),d=n.view.state.selection,p=d.$anchor,f=d.$head,h=u<p.pos&&f.pos<u+n.node.nodeSize;return i?a.createElement(_e,{node:n.node,getPos:s,view:n.view,forwardRef:t,selected:h?p.pos:null,disabled:(l||{}).editorDisabled,allowLazyLoading:r,editorAppearance:o,mediaProvider:i,contextIdentifierProvider:c}):null}})}})},t}(ae.b),Ce=function(e,t,n,r){return function(o,i,a){return new Te(o,i,a,e,{allowLazyLoading:n,providerFactory:t,editorAppearance:r}).init()}},Se=n("qp5z"),je=n("gMHJ"),Me=n("uJU4"),Ae=n("6hX7"),Re=n("Rr/J"),Ne=n("Pjpt"),Ie=n("KsTJ"),Pe=Ie.default.div(X||(X=Object(p.__makeTemplateObject)(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n\n  & > div::after {\n    content: '';\n    display: block;\n    padding-bottom: ",";\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n"],["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n\n  & > div::after {\n    content: '';\n    display: block;\n    padding-bottom: ",";\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n"])),Ne.a,(function(e){return e.ratio+"%"})),De=n("O94r"),Le=n.n(De),Be=n("X3tg"),ze=n("Lc0o"),He=n("r1DZ"),Fe=n("+Kok"),Ue=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isResizing:!1},n.handleResizeStart=function(e){var t=n.props,r=t.handleResizeStart,o=t.highlights,i=t.displayGrid,a=t.layout,s=t.width,c=t.snapPoints;if(e.preventDefault(),r&&!r(e))return!1;n.setState({isResizing:!0},(function(){var e=o(s,c);i(e.length>0,Object(ze.c)(a),e)}))},n.handleResize=function(e,t,r,o){var i=n.props,a=i.highlights,s=i.calcNewSize,c=i.scaleFactor,l=i.snapPoints,u=i.displayGrid,d=i.layout,p=i.updateSize,f=n.resizable.current;if(f&&f.state.original&&n.state.isResizing){var h=Math.max(f.state.original.width+o.width*(c||1),l[0]),m=s(h=Math.min(h,l[l.length-1]),!1);m.layout!==d&&p(m.width,m.layout);var v=a(h,l);u(v.length>0,Object(ze.c)(m.layout),v),f.updateSize({width:h,height:"auto"}),f.setState({isResizing:!0})}},n.handleResizeStop=function(e,t,r,o){var i=n.props,a=i.highlights,s=i.calcNewSize,c=i.snapPoints,l=i.displayGrid,u=i.layout,d=i.updateSize,p=n.resizable.current;if(p&&p.state.original&&n.state.isResizing){var f=Math.max(p.state.original.width+o.width,c[0]);f=Math.min(f,c[c.length-1]);var h=s(Object(He.d)(f,c),!0),m=a(f,c);l(m.length>0,Object(ze.c)(h.layout),m),n.setState({isResizing:!1},(function(){d(h.width,h.layout),l(!1,Object(ze.c)(u))}))}},n.resizable=a.createRef(),n}return Object(p.__extends)(t,e),t.prototype.render=function(){var e={},t={};return He.b.forEach((function(n){var r;t[n]="mediaSingle-resize-handle-"+n,e[n]=((r={width:"24px"})[n]="-13px",r.zIndex=Re.H,r)})),a.createElement(Be.Resizable,{ref:this.resizable,size:{width:this.props.width,height:"auto"},className:Le()(Fe.a,"image-"+this.props.layout,this.props.className,{"is-resizing":this.state.isResizing,"not-resized":!this.props.pctWidth,"mediaSingle-selected":this.props.selected,"media-wrapped":"wrap-left"===this.props.layout||"wrap-right"===this.props.layout}),handleWrapperClass:"mediaSingle-resize-wrapper",handleClasses:t,handleStyles:e,enable:this.props.enable,onResize:this.handleResize,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},this.props.children)},t}(a.Component),We=n("2hRq"),Ke=n("PnZS"),Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={offsetLeft:t.calcOffsetLeft(),isVideoFile:!0},t.calcNewSize=function(e,n){var r=t.props,o=r.layout,i=r.state,a=100*Object(Ae.b)(e,t.props.lineLength);t.setState({resizedPctWidth:a});var s=Object(z.hasParentNodeOfType)(i.schema.nodes.table)(i.selection)?o:t.calcUnwrappedLayout(a,e);return a<=100?(!t.wrappedLayout||n&&100===a||(s=o),{width:a,layout:s}):{width:t.props.pctWidth||null,layout:s}},t.calcUnwrappedLayout=function(e,t){return e<=100?"center":t<=Re.F?"wide":"full-width"},t.calcColumnLeftOffset=function(){var e=t.state.offsetLeft;return t.insideInlineLike?Object(Ae.a)(e,t.props.lineLength,t.props.gridSize):0},t.calcPxWidth=function(e){var n=t.props,r=n.width,o=n.height,i=n.layout,a=n.pctWidth,s=n.lineLength,c=n.containerWidth,l=n.fullWidthMode,u=n.getPos,d=n.state,p=t.state.resizedPctWidth;return Object(We.b)({origWidth:r,origHeight:o,pctWidth:a,state:d,containerWidth:{width:c,lineLength:s},isFullWidthModeEnabled:l,layout:e||i,pos:u(),resizedPctWidth:p})},t.highlights=function(e,n){var r=Object(He.d)(e,n),o=t.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,s=o.expand,c=o.nestedExpand;if(t.$pos&&Object(z.findParentNodeOfTypeClosestToPos)(t.$pos,[i,a,s,c].filter(Boolean)))return[];if(r>Re.F)return["full-width"];var l=t.props,u=l.layout,d=l.lineLength,p=l.gridSize,f=Object(Ae.a)(r,d,p),h=Math.round(f),m=[];return"wrap-left"===u||"align-start"===u?m.push(0,h):"wrap-right"===u||"align-end"===u?m.push(p,p-h):t.insideInlineLike?m.push(Math.round(f+t.calcColumnLeftOffset())):m.push(Math.floor((p-h)/2),Math.ceil((p+h)/2)),m},t}return Object(p.__extends)(t,e),t.prototype.componentDidUpdate=function(){var e=this.calcOffsetLeft();return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0},Object.defineProperty(t.prototype,"wrappedLayout",{get:function(){return We.g.indexOf(this.props.layout)>-1},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.props.viewMediaClientConfig)?[4,this.checkVideoFile(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)},t.prototype.checkVideoFile=function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return(t=this.$pos)&&e&&((n=this.props.state.doc.nodeAt(t.pos+1))&&n.attrs.id)?[4,Object(we.a)(e).file.getCurrentState(n.attrs.id,{collectionName:n.attrs.collection})]:[2];case 1:return(r=o.sent())&&"error"!==r.status&&"image"===r.mediaType&&this.setState({isVideoFile:!1}),[2]}}))}))},t.prototype.checkLayout=function(e,t){var n=this.state.resizedPctWidth;if(We.g.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}},Object.defineProperty(t.prototype,"$pos",{get:function(){var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridWidth",{get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2},enumerable:!0,configurable:!0}),t.prototype.calcOffsetLeft=function(){var e=0;if(this.wrapper&&this.insideInlineLike){var t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e},t.prototype.calcSnapPoints=function(){for(var e=this.state.offsetLeft,t=this.props,n=t.containerWidth,r=t.lineLength,o=t.allowBreakoutSnapPoints,i=[],a=0;a<this.gridWidth;a++)i.push(Object(Ae.c)(a,r,this.gridWidth)-e);i.push(r-e);var s=Object(Ae.c)(this.wrappedLayout||this.insideInlineLike?1:2,r,this.props.gridSize),c=i.filter((function(e){return e>=s})),l=this.$pos;if(!l)return c;if(c=this.state.isVideoFile?c.filter((function(e){return e>320})):c,"doc"===l.parent.type.name&&o){c.push(Re.F);var u=n-Re.b;u>Re.F&&c.push(u)}return c},Object.defineProperty(t.prototype,"insideInlineLike",{get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!Object(z.findParentNodeOfTypeClosestToPos)(e,[t])},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,n=t.width,r=t.height,o=t.layout,i=t.pctWidth,s=t.containerWidth,c=t.fullWidthMode,l=t.selected,u=t.state,d=t.children,f=this.calcPxWidth(),h=r/n*f,m=f,v={};return He.b.forEach((function(t){var n="left"===t?"right":"left";v[t]=["full-width","wide","center"].concat("wrap-"+n).concat("align-"+He.c[n]).indexOf(o)>-1,"left"===t&&e.insideInlineLike&&(v[t]=!1)})),a.createElement(Pe,{ratio:(h/m*100).toFixed(3),layout:o,isResized:!!i,containerWidth:s||n,innerRef:function(t){return e.wrapper=t},fullWidthMode:c},a.createElement(Ue,Object(p.__assign)({},this.props,{width:m,height:h,selected:l,enable:v,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,handleResizeStart:function(){if(u.doc.type.schema.nodes.table&&Object(Ke.c)(u).dragging)return!1;return!0}}),d))},t}(a.Component),Ge=n("QA2Q"),qe=n("0Hbo"),$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:void 0,height:void 0,viewMediaClientConfig:void 0},t.createMediaNodeUpdater=function(e){var n=t.props.node.firstChild;return new ke(Object(p.__assign)(Object(p.__assign)({},e),{isMediaSingle:!0,node:n||t.props.node,dispatchAnalyticsEvent:t.props.dispatchAnalyticsEvent}))},t.setViewMediaClientConfig=function(e){return Object(p.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.mediaProvider];case 1:return(t=r.sent())?[4,t.viewMediaClientConfig]:[3,3];case 2:n=r.sent(),this.setState({viewMediaClientConfig:n}),r.label=3;case 3:return[2]}}))}))},t.updateMediaNodeAttributes=function(e){return Object(p.__awaiter)(t,void 0,void 0,(function(){var t,n,r,o;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return t=this.createMediaNodeUpdater(e),(n=this.props.node.firstChild)?[4,t.getRemoteDimensions()]:[2];case 1:if((r=i.sent())&&t.updateDimensions(r),"external"!==n.attrs.type||!n.attrs.__external)return[3,10];if(o=this.props.getPos(),!t.isMediaBlobUrl())return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,t.copyNodeFromBlobUrl(o)];case 3:return i.sent(),[3,6];case 4:return i.sent(),[4,t.uploadExternalMedia(o)];case 5:return i.sent(),[3,6];case 6:return[3,9];case 7:return[4,t.uploadExternalMedia(o)];case 8:i.sent(),i.label=9;case 9:return[2];case 10:return t.getNodeContextId()?[3,12]:[4,t.updateContextId()];case 11:i.sent(),i.label=12;case 12:return[4,t.hasDifferentContextId()];case 13:return i.sent()?[4,t.copyNode()]:[3,15];case 14:i.sent(),i.label=15;case 15:return[2]}}))}))},t.onExternalImageLoaded=function(e){var n=e.width,r=e.height;t.setState({width:n,height:r},(function(){t.forceUpdate()}))},t.selectMediaSingle=function(e){var n=e.event;n.stopPropagation();var r=t.props.getPos(),o=t.props.view.state;if(n.shiftKey){if(o.selection instanceof qe.CellSelection)return;Object(B.H)(t.props.view,o.selection.from<r?o.selection.from:r,o.selection.to>r?o.selection.to:r+3)}else Object(B.G)(t.props.view,r)},t.updateSize=function(e,n){var r=t.props.view,o=r.state,i=r.dispatch,a=t.props.getPos();if(void 0!==a){var s=o.tr.setNodeMarkup(a,void 0,Object(p.__assign)(Object(p.__assign)({},t.props.node.attrs),{layout:n,width:e}));return s.setMeta("scrollIntoView",!1),i(s)}},t.getLineLength=function(e,t){if("number"!=typeof t||isNaN(t)||!e)return null;var n=e.state.schema.nodes,r=n.expand,o=n.nestedExpand,i=e.state.doc.resolve(t);if(!!Object(z.findParentNodeOfTypeClosestToPos)(i,[r,o])){var a=e.nodeDOM(i.pos);if(a instanceof HTMLElement)return a.offsetWidth}return null},t}return Object(p.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),"mobile"!==e.editorAppearance&&this.createMediaNodeUpdater(e).updateFileAttrs()},t.prototype.componentDidMount=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return e=this.props.contextIdentifierProvider,[4,Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)])];case 1:return r.sent(),t=this.setState,n={},[4,e];case 2:return t.apply(this,[(n.contextIdentifierProvider=r.sent(),n)]),[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.getPos,r=e.node,o=e.mediaPluginOptions,i=e.fullWidthMode,s=e.view.state,c=e.view,l=this.state.contextIdentifierProvider,u=r.attrs,d=u.layout,f=u.width,h=r.firstChild,m=h.attrs,v=m.width,b=m.height;if("external"===m.type){var g=this.state,y=g.width,O=g.height;null===v&&(v=y||Oe.b),null===b&&(b=O||Oe.a)}null!==v&&null!==b||(v=Oe.b,b=Oe.a);var w=this.props.width,E={width:w+"px",height:b/v*w+"px"},k={layout:d,width:v,height:b,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:f,fullWidthMode:i},x=Object(Ge.d)(this.props.mediaPluginState,h.attrs.id),_=a.createElement(je.c,{view:this.props.view,node:h,getPos:this.props.getPos,cardDimensions:E,viewMediaClientConfig:this.state.viewMediaClientConfig,selected:t(),onClick:this.selectMediaSingle,onExternalImageLoaded:this.onExternalImageLoaded,allowLazyLoading:o&&o.allowLazyLoading,uploadComplete:x,url:h.attrs.url,contextIdentifierProvider:l}),T=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){var C=n();if(C){var S=s.doc.resolve(C),j=s.schema.nodes.table,M=!!Object(z.findParentNodeOfTypeClosestToPos)(S,[j]);T=T&&!M}}return T?a.createElement(Ve,Object(p.__assign)({},k,{lineLength:i?this.props.lineLength:this.getLineLength(c,n())||this.props.lineLength,view:this.props.view,getPos:n,updateSize:this.updateSize,displayGrid:Object(ze.a)(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,state:this.props.view.state,allowBreakoutSnapPoints:o&&o.allowBreakoutSnapPoints,selected:this.props.selected()}),_):a.createElement(Oe.c,Object(p.__assign)({},k),_)},t.defaultProps={mediaOptions:{}},t.displayName="MediaSingleNode",t}(a.Component),Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastOffsetLeft=0,t.forceViewUpdate=!1,t}return Object(p.__extends)(t,e),t.prototype.createDomRef=function(){var e=document.createElement("div");return Se.a.chrome&&this.reactComponentProps.mediaPluginOptions&&this.reactComponentProps.mediaPluginOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e},t.prototype.viewShouldUpdate=function(t){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==t.attrs||e.prototype.viewShouldUpdate.call(this,t)},t.prototype.getNodeMediaId=function(e){if(e.firstChild)return e.firstChild.attrs.id},t.prototype.update=function(t,n,r){var o=this;return r||(r=function(e,t){return o.getNodeMediaId(e)===o.getNodeMediaId(t)}),e.prototype.update.call(this,t,n,r)},t.prototype.render=function(){var e=this,t=this.reactComponentProps,n=t.eventDispatcher,r=t.fullWidthMode,o=t.providerFactory,i=t.mediaOptions,s=t.mediaPluginOptions,c=t.dispatchAnalyticsEvent,l=t.editorAppearance,u=this.getPos;return a.createElement(ve.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:o,renderNode:function(t){var o=t.mediaProvider,p=t.contextIdentifierProvider;return a.createElement(oe.a,{editorView:e.view,plugins:{width:Me.b,mediaPluginState:d.b},render:function(t){var d=t.width,h=t.mediaPluginState,m=e.view.state.selection;return a.createElement($e,{width:d.width,lineLength:d.lineLength,node:e.node,getPos:u,mediaProvider:o,contextIdentifierProvider:p,mediaOptions:i||{},view:e.view,fullWidthMode:r,selected:function(){return e.isSelectionInsideNode(m.from,m.to)||m instanceof f.NodeSelection&&m.from===u()},eventDispatcher:n,mediaPluginOptions:s,mediaPluginState:h,dispatchAnalyticsEvent:c,editorAppearance:l})}})}})},t.prototype.ignoreMutation=function(){if(this.dom){var e=this.dom.offsetLeft;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],(function(){return!0})))}return!0},t}(ae.a),Xe=function(e,t,n,r,o,i,a,s){return void 0===r&&(r={}),function(c,l,u){return new Ye(c,l,u,e,{eventDispatcher:t,mediaPluginOptions:o,fullWidthMode:i,providerFactory:n,mediaOptions:r,dispatchAnalyticsEvent:a,editorAppearance:s}).init()}},Je=n("lMAd"),Ze=n("xzME"),Qe=n.n(Ze),et=n("238x"),tt=n("2B38"),nt=n("trDh"),rt=n.n(nt),ot=n("L21V"),it=n("+11O"),at=n("VktZ"),st=function(e,t){var n=d.b.getState(e);if(!n)return!1;var r=e.schema.nodes.mediaSingle,o=n.selectedMediaContainerNode();if(!o||o.type!==r)return!1;var i,a=o.firstChild.attrs,s=a.id,c=a.collection,l=a.occurrenceKey;return Object(I.e)({action:P.a.CLICKED,actionSubject:P.b.MEDIA,actionSubjectId:P.c.ANNOTATE_BUTTON,eventType:P.d.UI})((i=e.selection.from+1,w({type:"open",identifier:{id:s,collectionName:c,mediaItemType:"file",occurrenceKey:l},pos:i})))(e,t)},ct=Object(ot.g)({annotate:{id:"fabric.editor.annotate",defaultMessage:"Annotate",description:"Annotate an image by drawing arrows, adding text, or scribbles."}}),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isImage:!1},t.onClickAnnotation=function(){var e=t.props.view;e&&st(e.state,e.dispatch)},t}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){return Object(p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.checkIsImage()];case 1:return e.sent(),[2]}}))}))},t.prototype.checkIsImage=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(p.__generator)(this,(function(n){switch(n.label){case 0:return e=Object(we.a)(this.props.viewMediaClientConfig),this.props.id?[4,e.file.getCurrentState(this.props.id,{collectionName:this.props.collection})]:[2];case 1:return(t=n.sent())&&"error"!==t.status&&"image"===t.mediaType&&this.setState({isImage:!0}),[2]}}))}))},t.prototype.componentDidUpdate=function(e){var t=this;e.id!==this.props.id&&this.setState({isImage:!1},(function(){t.checkIsImage()}))},t.prototype.render=function(){if(!this.state.isImage)return null;var e=this.props.intl.formatMessage(ct.annotate);return a.createElement(a.Fragment,null,a.createElement(at.a,null),a.createElement(it.a,{title:e,icon:a.createElement(rt.a,{label:e}),onClick:this.onClickAnnotation}))},t}(a.Component),ut=function(e,t){return function(n,r){var o=e.selectedMediaContainerNode();return o&&e.mediaClientConfig?a.createElement(lt,{key:r,viewMediaClientConfig:e.mediaClientConfig,id:o.firstChild.attrs.id,collection:o.firstChild.attrs.collection,view:n,intl:t}):null}},dt=n("0dje"),pt=n.n(dt),ft=n("EFtY"),ht=n.n(ft),mt=n("z4jD"),vt=n("25wM"),bt=Z((function(e){var t=Q(e);if(t&&null!==t.mediaPos&&e.doc.nodeAt(t.mediaPos))return{type:K.showToolbar};return!1})),gt=Z({type:K.hideToolbar});function yt(e,t,n){var r=n.forceRemove,o=void 0!==r&&r,i=n.url,a=Q(t);if(!a||null===a.mediaPos)return e;var s=t.doc.resolve(a.mediaPos),c=t.doc.nodeAt(s.pos);if(!c)return e;var l=t.schema.marks.link,u=t.schema.nodes.mediaSingle;return Object(vt.g)(l,(function(e,t){if(t&&t.type===u){if(o)return!1;var n=Object(mt.f)(i);if(!e||e.href!==n)return""!==n.trim()&&Object(p.__assign)(Object(p.__assign)({},e),{href:n})}}),[u])(s.pos,s.pos+c.nodeSize-1,e,t),e}var Ot=Z({type:K.unlink},(function(e,t){return Object(I.a)(t,yt(e,t,{forceRemove:!0}),{eventType:P.d.TRACK,action:P.a.UNLINK,actionSubject:P.b.MEDIA_SINGLE,actionSubjectId:P.c.MEDIA_LINK})})),wt=function(e,t){return Z({type:K.setUrl,payload:Object(mt.f)(e)},(function(n,r){var o=function(e){var t=e.schema.marks.link,n=Q(e);if(n&&null!==n.mediaPos){var r=e.doc.resolve(n.mediaPos),o=e.doc.nodeAt(r.pos);if(o)if(t.isInSet(o.marks))return o.marks.find((function(e){return e.type===t})).attrs.href}}(r);return o?e!==o&&Object(I.a)(r,n,{eventType:P.d.TRACK,action:P.a.CHANGED_URL,actionSubject:P.b.MEDIA_SINGLE,actionSubjectId:P.c.MEDIA_LINK}):Object(I.a)(r,n,{eventType:P.d.TRACK,action:P.a.INSERTED,actionSubject:P.b.DOCUMENT,actionSubjectId:P.c.MEDIA_LINK,attributes:{inputMethod:t}}),yt(n,r,{url:e})}))},Et=n("YEM6"),kt=n.n(Et),xt=n("ZTTl"),_t=n.n(xt),Tt=n("PWr6"),Ct=n("GE5L"),St=n("KqIV");var jt,Mt=function(e,t){return e.slice(0,t)},At=function(e){function t(t){var n=e.call(this,t)||this;return n.activityProvider=null,n.handleSubmit=function(){var e=n.state,t=e.items,r=e.url,o=e.selectedIndex,i=n.getCurrentInputMethod();if(i)switch(i){case P.e.MANUAL:n.props.onSubmit({url:r,text:r,inputMethod:P.e.MANUAL});break;case P.e.TYPEAHEAD:var a=t[o];n.setState((function(){return{url:a.url}})),n.props.onSubmit&&n.props.onSubmit({url:a.url,text:a.name,inputMethod:P.e.TYPEAHEAD})}},n.handleSelected=function(e,t){n.props.onSubmit&&(n.setState((function(){return{url:e}})),n.props.onSubmit({text:t,url:e,inputMethod:P.e.TYPEAHEAD}))},n.handleChange=function(e){return Object(p.__awaiter)(n,void 0,void 0,(function(){var t,n,r,o,i,a;return Object(p.__generator)(this,(function(s){switch(s.label){case 0:return this.setState({url:e}),this.activityProvider?0!==e.length?[3,2]:(t=this.setState,n={},r=Mt,[4,this.activityProvider.getRecentItems()]):[3,4];case 1:return t.apply(this,[(n.items=r.apply(void 0,[s.sent(),this.props.limit]),n.selectedIndex=-1,n)]),[3,4];case 2:return o=this.setState,i={},a=Mt,[4,this.activityProvider.searchRecent(e)];case 3:o.apply(this,[(i.items=a.apply(void 0,[s.sent(),this.props.limit]),i.selectedIndex=0,i)]),s.label=4;case 4:return[2]}}))}))},n.handleKeyDown=function(e){var t=n.state,r=t.items,o=t.selectedIndex;r&&r.length&&("ArrowDown"===e.key?(e.preventDefault(),n.setState({selectedIndex:(o+1)%r.length})):"ArrowUp"===e.key&&(e.preventDefault(),n.setState({selectedIndex:o>0?o-1:r.length-1})))},n.handleMouseMove=function(e){var t=n.state.items;if(t){var r=t.findIndex((function(t){return t.objectId===e}));n.setState({selectedIndex:r})}},n.renderRecentList=function(){var e=n.state,t=e.items,r=e.isLoading,o=e.selectedIndex;return a.createElement(St.a,{items:t,isLoading:r,selectedIndex:o,onSelect:n.handleSelected,onMouseMove:n.handleMouseMove})},n.clearValue=function(){n.setState({url:""})},n.state={selectedIndex:-1,isLoading:!1,items:[],url:t.defaultUrl||""},n}return Object(p.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((function(t){return t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null}))},t.prototype.componentDidMount=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return this.props.activityProvider?(e=this,[4,this.props.activityProvider]):[3,3];case 1:return e.activityProvider=t.sent(),[4,this.loadRecentItems(this.activityProvider)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.loadRecentItems=function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,3,4]),this.state.url?[3,2]:(t=this.setState,n={isLoading:!0},r=Mt,[4,e.getRecentItems()]);case 1:t.apply(this,[(n.items=r.apply(void 0,[o.sent(),this.props.limit]),n)]),o.label=2;case 2:return[3,4];case 3:return this.setState({isLoading:!1}),[7];case 4:return[2]}}))}))},t.prototype.getCurrentInputMethod=function(){var e=this.state,t=e.items,n=e.url,r=e.selectedIndex;return t&&t.length>0&&r>-1?P.e.TYPEAHEAD:n&&n.length>0?P.e.MANUAL:void 0},t.prototype.render=function(){var e=this.props.render,t=this.state.url;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})},t.defaultProps={limit:5},t}(a.Component),Rt=(jt=Object(ot.h)(At),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderNode=function(e){var n=t.props,r=(n.providerFactory,Object(p.__rest)(n,["providerFactory"])),o=e.activityProvider;return a.createElement(jt,Object(p.__assign)({activityProvider:o},r))},t}return Object(p.__extends)(t,e),t.prototype.render=function(){var e=this.props.providerFactory;return a.createElement(ve.a,{providers:["activityProvider"],providerFactory:e,renderNode:this.renderNode})},t}(a.Component)),Nt=Object(ot.g)({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}}),It=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){var n=e.url,r=e.inputMethod;t.props.onSubmit(n,{inputMethod:r})},t.handleOnBack=function(e){var n=e.url,r=e.inputMethod,o=t.props.onBack;o&&o(n,{inputMethod:r})},t.handleCancel=function(){var e=t.props.onCancel;e&&e()},t.handleUnlink=function(){var e=t.props.onUnlink;e&&e()},t.handleOnBlur=function(e){t.props.onBlur(e.url)},t.renderContainer=function(e){var n,r=e.activityProvider,o=e.inputProps,i=o.onChange,s=o.onKeyDown,c=o.onSubmit,l=o.value,u=e.currentInputMethod,d=e.renderRecentList,p=t.props,f=p.intl.formatMessage,h=p.displayUrl,m=f(Nt.backLink),v=f(et.b.unlink);return a.createElement("div",{className:"recent-list"},a.createElement(Ct.a,{provider:!!r},a.createElement(Ct.e,null,a.createElement(it.a,{title:m,icon:a.createElement(kt.a,{label:m}),onClick:function(){return t.handleOnBack({url:l,inputMethod:u})}}),a.createElement(Tt.a,{placeholder:(n=!!r,f(n?et.b.placeholder:et.b.linkPlaceholder)),onSubmit:c,autoFocus:!0,onCancel:t.handleCancel,defaultValue:l,onChange:i,onKeyDown:s}),h&&a.createElement(a.Fragment,null,a.createElement(at.a,null),a.createElement(it.a,{title:v,icon:a.createElement(_t.a,{label:v}),onClick:t.handleUnlink}))),d()))},t}return Object(p.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.providerFactory,n=e.displayUrl;return a.createElement(Rt,{defaultUrl:n,providerFactory:t,onSubmit:this.handleSubmit,onBlur:this.handleOnBlur,render:this.renderContainer})},t}(a.PureComponent);function Pt(e){var t=Q(e);if(!t||null===t.mediaPos)return!1;var n=e.schema,r=n.nodes.mediaSingle,o=n.marks.link,i=e.doc.resolve(t.mediaPos),a=e.doc.nodeAt(t.mediaPos),s=i.parent;return!!a&&s&&a.type===r&&s.type.allowsMarkType(o)}var Dt,Lt,Bt,zt,Ht,Ft=n("weJF"),Ut=n.n(Ft),Wt=n("GMOd"),Kt=n.n(Wt),Vt=n("6T+A"),Gt=n.n(Vt),qt=n("uvSL"),$t=n.n(qt),Yt=n("Dezw"),Xt=n.n(Yt),Jt=n("zP/5"),Zt=n.n(Jt),Qt=n("ZuDi"),en=n.n(Qt),tn=[{value:"align-start",icon:Xt.a},{value:"center",icon:en.a},{value:"align-end",icon:Zt.a}],nn=[{value:"wrap-left",icon:Ut.a},{value:"wrap-right",icon:Kt.a}],rn=[{value:"wide",icon:Gt.a},{value:"full-width",icon:$t.a}],on=Object(ot.g)({wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),an={"wrap-left":on.wrapLeft,center:et.a.alignImageCenter,"wrap-right":on.wrapRight,wide:et.a.layoutWide,"full-width":et.a.layoutFullWidth,"align-end":et.a.alignImageRight,"align-start":et.a.alignImageLeft},sn=function(e){return function(t,n){var r=d.b.getState(t);if(!r||!n)return!1;var o=t.schema.nodes.mediaSingle,i=r.selectedMediaContainerNode();if(!i||i.type!==o)return!1;var a=Object(We.a)(e,i.attrs),s=t.tr.setNodeMarkup(t.selection.from,void 0,a);return s.setMeta("scrollIntoView",!1),n(s),!0}},cn=function(e,t,n){return e.map((function(e){var r=e.value;return{type:"button",icon:e.icon,title:n.formatMessage(an[r]),selected:t===r,onClick:sn(r)}}))},ln=function(e,t,n,r){var o=e.selection,i=e.schema.nodes.mediaSingle;if(!(o instanceof f.NodeSelection)||!o.node||!i||function(e,t,n){var r=t.nodes;return Object(z.hasParentNodeOfType)(Object(p.__spread)([r.bodiedExtension,r.layoutSection,r.listItem,r.expand,r.nestedExpand],n?[]:[r.table]).filter(Boolean))(e)}(o,e.schema,r))return[];var a=o.node.attrs.layout,s=Object(p.__spread)(cn(tn,a,t),[{type:"separator"}],cn(nn,a,t));return n||(s=s.concat(Object(p.__spread)([{type:"separator"}],cn(rn,a,t)))),s},un=Object(ot.g)({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."}}),dn=n("dDc+"),pn=n("wMvT"),fn=n.n(pn),hn=n("RLr3"),mn=n("NJOB"),vn=n("2sr0"),bn=Object(H.chainCommands)(mn.undoInputRule,hn.undo),gn=Ct.d,yn=Ie.default.p(Dt||(Dt=Object(p.__makeTemplateObject)(["\n  color: ",";\n  font-size: 12px;\n  padding: 12px 40px;\n  line-height: 20px;\n  border-top: 1px solid ",";\n  margin: 0;\n"],["\n  color: ",";\n  font-size: 12px;\n  padding: 12px 40px;\n  line-height: 20px;\n  border-top: 1px solid ",";\n  margin: 0;\n"])),dn.colors.N100,dn.colors.N30),On=Ie.default.div(Lt||(Lt=Object(p.__makeTemplateObject)(["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  line-height: 2;\n"],["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  line-height: 2;\n"])),gn),wn=Ie.default.section(Bt||(Bt=Object(p.__makeTemplateObject)(["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"],["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"]))),En=Ie.default.div(zt||(zt=Object(p.__makeTemplateObject)(["\n  display: flex;\n  padding: 4px 8px;\n"],["\n  display: flex;\n  padding: 4px 8px;\n"]))),kn=Ie.default.span(Ht||(Ht=Object(p.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),dn.colors.N80),xn=function(e){function t(t){var n=e.call(this,t)||this;n.state={showClearTextButton:Boolean(n.props.value)},n.closeMediaAltTextMenu=function(){var e=n.props.view;D(e.state,e.dispatch)},n.onUndo=function(){var e=n.props.view;bn(e.state,e.dispatch)},n.onRedo=function(){var e=n.props.view;Object(hn.redo)(e.state,e.dispatch)},n.dispatchCancelEvent=function(e){var t=n.props.view;t.someProp("handleKeyDown",(function(n){return n(t,e)}))},n.updateAltText=function(e){var t=n.props.view;!function(e){return S((function(e){return!!Object(N.d)(e)&&{type:"updateAltText"}}),(function(t,n){var r=Object(N.b)(n),o=t.selection.from+1;return r&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(o,void 0,Object(p.__assign)(Object(p.__assign)({},r.attrs),{alt:e}))),t}))}(0===e.length?null:e)(t.state,t.dispatch)},n.handleOnChange=function(e){n.setState({showClearTextButton:Boolean(e)}),n.updateAltText(e)},n.handleOnBlur=function(){var e=(n.props.value||"").trim();n.handleOnChange(e)},n.handleClearText=function(){n.handleOnChange("")};var r=t.createAnalyticsEvent;return n.fireCustomAnalytics=Object(I.b)(r),n}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){this.prevValue=this.props.value},t.prototype.componentWillUnmount=function(){this.fireAnalytics(P.a.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(P.a.ADDED),this.prevValue&&!this.props.value&&this.fireAnalytics(P.a.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(P.a.EDITED)},t.prototype.render=function(){var e=this.props,t=e.intl.formatMessage,n=e.value,r=this.state.showClearTextButton,o=t(un.back),i=R.renderTooltipContent(o,R.escape,"Esc");return s.a.createElement(On,null,s.a.createElement(wn,null,s.a.createElement(En,null,s.a.createElement(it.a,{title:t(un.back),icon:s.a.createElement(kt.a,{label:t(un.back)}),tooltipContent:i,onClick:this.closeMediaAltTextMenu})),s.a.createElement(Tt.a,{onUndo:this.onUndo,onRedo:this.onRedo,testId:"alt-text-input",placeholder:t(un.placeholder),defaultValue:n||"",onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),r&&s.a.createElement(En,null,s.a.createElement(it.a,{testId:"alt-text-clear-button",title:t(un.clear),icon:s.a.createElement(kn,null,s.a.createElement(fn.a,{label:t(un.clear)})),tooltipContent:t(un.clear),onClick:this.handleClearText}))),s.a.createElement(yn,null,t(un.supportText)))},t.prototype.fireAnalytics=function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:P.b.MEDIA,actionSubjectId:P.c.ALT_TEXT,eventType:P.d.TRACK}})},t}(s.a.Component),_n=Object(vn.a)()(Object(ot.h)(xn)),Tn=n("ktYr"),Cn=function(e,t){return t&&t(Object(z.removeSelectedNode)(e.tr)),!0},Sn=function(e,t,n){void 0===n&&(n={});var r=n.providerFactory,o=n.allowResizing,i=n.allowAnnotation,c=n.allowLinking,l=n.allowAdvancedToolBarOptions,u=n.allowResizingInTables,f=n.UNSAFE_allowAltTextOnImages,h=e.schema.nodes.mediaSingle,m=d.b.getState(e),v=Q(e);if(h&&m){var b={title:"Media floating controls",nodeType:h,getDomRef:function(){return m.element}};if(c&&v&&v.visible&&Pt(e)){var g=function(e,t,n,r,o){var i=t.link,s=t.visible,c=t.editable,l=t.mediaPos;if(s&&null!==l&&n.doc.nodeAt(l))return Object(p.__assign)(Object(p.__assign)({},e),{height:Ct.c,width:Ct.d,forcePlacement:!0,items:[{type:"custom",render:function(e,t){return e&&o?a.createElement(It,{key:t,displayUrl:i,providerFactory:o,intl:r,editing:c,onUnlink:function(){return Ot(e.state,e.dispatch,e)},onBack:function(t,n){t.trim()&&n.inputMethod&&wt(t,n.inputMethod)(e.state,e.dispatch,e),gt(e.state,e.dispatch,e)},onCancel:function(){return gt(e.state,e.dispatch,e)},onSubmit:function(t,n){wt(t,n.inputMethod)(e.state,e.dispatch,e),gt(e.state,e.dispatch,e)},onBlur:function(){gt(e.state,e.dispatch,e)}}):null}}]})}(b,v,e,t,r);if(g)return g}var y,O=[];if(l){if((O=ln(e,t,o,u)).length&&i&&O.push({type:"custom",render:ut(m,t)}),c&&Pt(e)){O.length&&O.push({type:"separator"});var w=function(e,t){var n=Q(e);return n.editable?[{type:"button",onClick:bt,selected:!1,title:t.formatMessage(et.b.editLink),showTitle:!0},{type:"separator"},{type:"button",target:"_blank",href:n.link,onClick:function(e,t){return t&&t(Object(I.a)(e,e.tr,{eventType:P.d.TRACK,action:P.a.VISITED,actionSubject:P.b.MEDIA_SINGLE,actionSubjectId:P.c.MEDIA_LINK})),!0},selected:!1,title:t.formatMessage(et.b.openLink),icon:ht.a,className:"hyperlink-open-link"}]:[{type:"button",icon:pt.a,title:t.formatMessage(et.b.addLink),onClick:bt}]}(e,t);O.push.apply(O,Object(p.__spread)(w))}O.length&&O.push({type:"separator"})}if(f){if(j(e).isAltTextEditorOpen)return y=b,Object(p.__assign)(Object(p.__assign)({},y),{width:gn,className:Tn.a.FLOATING_TOOLBAR_COMPONENT,items:[{type:"custom",render:function(e,t){if(!e)return null;var n=Object(N.b)(e.state);return n?s.a.createElement(_n,{view:e,key:t,value:n.attrs.alt}):null}}]});O.push(function(e,t){var n=Object(N.b)(t),r=n&&n.attrs.alt?un.editAltText:un.altText,o=e.formatMessage(r);return{title:o,type:"button",onClick:L,showTitle:!0,testId:"alt-text-edit-button",tooltipContent:R.renderTooltipContent(o,R.addAltText)}}(t,e),{type:"separator"})}var E=Object(p.__spread)(O,[{type:"button",appearance:"danger",icon:Qe.a,onMouseEnter:Object(tt.b)(h,!0),onMouseLeave:Object(tt.b)(h,!1),title:t.formatMessage(et.a.remove),onClick:Cn}]);return Object(p.__assign)(Object(p.__assign)({},b),{items:E})}},jn=n("lt2v"),Mn=n("V3qF"),An=n("m7kQ"),Rn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={SmartMediaEditor:t.SmartMediaEditor,isErrored:!1},n}return Object(p.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e,r,o,i;return Object(p.__generator)(this,(function(a){switch(a.label){case 0:if(this.state.SmartMediaEditor)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.all([Promise.all([n.e(3),n.e(6),n.e("@atlaskit-media-client~4134d62c")]).then(n.bind(null,"8z9n")),Promise.all([n.e(84),n.e("@atlaskit-internal_smart-media-editor~4134d62c")]).then(n.bind(null,"9OhE"))])];case 2:return e=p.__read.apply(void 0,[a.sent(),2]),r=e[0],o=e[1],t.SmartMediaEditor=r.withMediaClient(o.default),this.setState({SmartMediaEditor:t.SmartMediaEditor}),[3,4];case 3:return i=a.sent(),console.error(i),this.setState({isErrored:!0}),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){return this.state.isErrored?null:this.state.SmartMediaEditor?a.createElement(this.state.SmartMediaEditor,Object(p.__assign)({},this.props)):a.createElement(Mn.a,{blankedColor:An.N700A,invertSpinnerColor:!0})},t.displayName="AsyncSmartMediaEditor",t}(a.PureComponent),Nn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUploadStart=function(e,n){var r=t.props.view,o=r.state,i=r.dispatch;v(e,n)(o,i)},t.onClose=function(){var e=t.props.view,n=e.state,r=e.dispatch;m()(n,r)},t}return Object(p.__extends)(t,e),t.prototype.render=function(){var e=this.props.mediaEditorState,t=e.editor,n=e.mediaClientConfig;if(!t||!n)return null;var r=t.identifier;return a.createElement(Rn,{identifier:r,mediaClientConfig:n,onUploadStart:this.onUploadStart,onClose:this.onClose})},t.displayName="MediaEditor",t}(a.PureComponent),In=n("UrcB"),Pn=n("wndT"),Dn=n("geBA"),Ln={on:function(){},removeAllListeners:function(){},emit:function(){},destroy:function(){},setUploadParams:function(){}},Bn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleMediaProvider=function(e,n){return Object(p.__awaiter)(t,void 0,void 0,(function(){var e,t,r,o,i,a,s,c,l;return Object(p.__generator)(this,(function(u){switch(u.label){case 0:return e=this.props,t=e.mediaState,r=e.analyticsName,[4,n];case 1:return(o=u.sent())&&o.uploadParams?[4,o.uploadMediaClientConfig]:[2];case 2:return(a=u.sent())?[3,4]:[4,o.viewMediaClientConfig];case 3:a=u.sent(),u.label=4;case 4:return(i=a)?(s={mediaClientConfig:i,errorReporter:t.options.errorReporter||new Pn.a},[4,new Dn.a("customMediaPicker",s,Ln,In.d,r).init()]):[2];case 5:return(c=u.sent()).onNewMedia(t.insertFile),c.onNewMedia(t.trackNewMediaEvent),c.setUploadParams(o.uploadParams),l={uploadParams:o.uploadParams},this.setState({pickerFacadeInstance:c,config:l,mediaClientConfig:i}),[2]}}))}))},t}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)},t.prototype.componentWillUnmount=function(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)},t.prototype.render=function(){var e=this.state,t=e.mediaClientConfig,n=e.config,r=e.pickerFacadeInstance;return t&&n&&r?this.props.children({mediaClientConfig:t,config:n,pickerFacadeInstance:r}):null},t}(a.Component),zn=function(e){var t=e.mediaState;return a.createElement(Bn,{mediaState:t,analyticsName:"clipboard"},(function(e){var t=e.mediaClientConfig,n=e.config,r=e.pickerFacadeInstance;return a.createElement(In.b,{mediaClientConfig:t,config:n,onError:r.handleUploadError,onPreviewUpdate:r.handleUploadPreviewUpdate,onEnd:r.handleReady})}))},Hn=function(e){var t=e.mediaState,n=e.isActive;return a.createElement(Bn,{mediaState:t,analyticsName:"dropzone"},(function(e){var r=e.mediaClientConfig,o=e.config,i=e.pickerFacadeInstance,s=t.options.customDropzoneContainer,c=t.handleDrag,l=Object(p.__assign)(Object(p.__assign)({},o),{container:s});return n?a.createElement(In.c,{mediaClientConfig:r,config:l,onError:i.handleUploadError,onPreviewUpdate:i.handleUploadPreviewUpdate,onEnd:i.handleReady,onDragEnter:function(){return c("enter")},onDragLeave:function(){return c("leave")}}):null}))},Fn=function(e){var t=e.mediaState,n=e.isOpen,r=e.onBrowseFn;return a.createElement(Bn,{mediaState:t,analyticsName:"browser"},(function(e){var t=e.mediaClientConfig,o=e.config,i=e.pickerFacadeInstance;return a.createElement(In.a,{onBrowseFn:r,isOpen:n,config:o,mediaClientConfig:t,onEnd:i.handleReady,onError:i.handleUploadError,onPreviewUpdate:i.handleUploadPreviewUpdate})}))},Un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isPopupOpened:!1},t.onBrowseFn=function(e){var n=t.props.mediaState;n&&n.setBrowseFn(e)},t}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.mediaState.onPopupToggle((function(t){e.setState({isPopupOpened:t})}))},t.prototype.render=function(){var e=this.props.mediaState,t=this.state.isPopupOpened;return s.a.createElement(s.a.Fragment,null,s.a.createElement(zn,{mediaState:e}),s.a.createElement(Hn,{mediaState:e,isActive:!t}),!e.hasUserAuthProvider()&&s.a.createElement(Fn,{onBrowseFn:this.onBrowseFn,mediaState:e}))},t.displayName="MediaPickerComponents",t}(s.a.Component);t.a=function(e,t,n){return{name:"media",nodes:function(){var t=e||{},n=t.allowMediaGroup,r=void 0===n||n,o=t.allowMediaSingle,i=void 0!==o&&o,a=t.UNSAFE_allowAltTextOnImages,s=void 0!==a&&a?c.c:c.b;return[{name:"mediaGroup",node:l.a},{name:"mediaSingle",node:u.a},{name:"media",node:s}].filter((function(e){return"mediaGroup"===e.name?r:"mediaSingle"!==e.name||i}))},pmPlugins:function(){var r=[{name:"media",plugin:function(r){var o=r.schema,i=r.dispatch,a=r.eventDispatcher,s=r.providerFactory,c=r.errorReporter,l=r.portalProviderAPI,u=r.reactContext,p=r.dispatchAnalyticsEvent;return Object(d.a)(o,{providerFactory:s,nodeViews:{mediaGroup:Ce(l,s,t&&t.allowLazyLoading,n),mediaSingle:Xe(l,a,s,e,t,t&&t.fullWidthEnabled,p,n)},errorReporter:c,uploadErrorHandler:t&&t.uploadErrorHandler,waitForMediaUpload:t&&t.waitForMediaUpload,customDropzoneContainer:e&&e.customDropzoneContainer,customMediaPicker:e&&e.customMediaPicker,allowResizing:!(!e||!e.allowResizing)},u,i,t)}},{name:"mediaKeymap",plugin:function(){return q()}}];return e&&e.allowMediaSingle&&r.push({name:"mediaSingleKeymap",plugin:function(e){return function(e){var t={},n=W(e);return R.bindKeymapWithCommand(R.backspace.common,n,t),Object(A.keymap)(t)}(e.schema)}}),e&&e.allowAnnotation&&r.push({name:"mediaEditor",plugin:k}),e&&e.UNSAFE_allowAltTextOnImages&&(r.push({name:"mediaAltText",plugin:M}),r.push({name:"mediaAltTextKeymap",plugin:function(e){var t;e.schema;return t={},R.bindKeymapWithCommand(R.addAltText.common,L,t),R.bindKeymapWithCommand(R.escape.common,D,t),Object(A.keymap)(t)}})),e&&e.allowLinking&&r.push({name:"mediaLinking",plugin:function(e){return function(e){return new f.Plugin({key:$,state:J.createPluginState(e,(function(){return Y}))})}(e.dispatch)}}),r},contentComponent:function(t){var n=t.editorView,r=t.eventDispatcher,o=e&&e.allowAnnotation?a.createElement(oe.a,{editorView:n,plugins:{mediaEditorState:b},eventDispatcher:r,render:function(e){var t=e.mediaEditorState;return a.createElement(Nn,{mediaEditorState:t,view:n})}}):null;return a.createElement(a.Fragment,null,a.createElement(oe.a,{editorView:n,plugins:{mediaState:d.b},render:function(e){var t=e.mediaState;return a.createElement(Un,{mediaState:t})}}),o)},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.eventDispatcher,r=e.disabled;return a.createElement(ie,{editorView:t,eventDispatcher:n,pluginKey:d.b,isDisabled:r,isReducedSpacing:!0})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(Je.b.filesAndImages),description:t(Je.b.filesAndImagesDescription),priority:400,keywords:["media","attachment"],icon:function(){return a.createElement(jn.j,{label:t(Je.b.filesAndImages)})},action:function(e,t){d.b.getState(t).showMediaPicker();var n=e("");return Object(I.a)(t,n,{action:P.a.OPENED,actionSubject:P.b.PICKER,actionSubjectId:P.c.PICKER_CLOUD,attributes:{inputMethod:P.e.QUICK_INSERT},eventType:P.d.UI})}}]},floatingToolbar:function(n,r,o){return Sn(n,r,{providerFactory:o,allowResizing:e&&e.allowResizing,allowResizingInTables:e&&e.allowResizingInTables,allowAnnotation:e&&e.allowAnnotation,allowLinking:e&&e.allowLinking,allowAdvancedToolBarOptions:t&&t.allowAdvancedToolBarOptions,UNSAFE_allowAltTextOnImages:e&&e.UNSAFE_allowAltTextOnImages})}}}}},XWar:function(e,t,n){"use strict";for(var r=n("T1Ll").isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==o[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),r(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},XoQQ:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("aWzz"),a=function(e){function t(t,n){var o=e.call(this,t)||this;return o.listeners={},o.debounce=null,o.notAppliedState={},o.isSubscribed=!1,o.state={},o.handlePluginStateChange=function(e,t){return function(n){var r;(o.state[e]!==n||t)&&o.updateState(((r={})[e]=n,r))}},o.updateState=function(e){o.notAppliedState=Object(r.__assign)(Object(r.__assign)({},o.notAppliedState),e),o.debounce&&window.clearTimeout(o.debounce),o.debounce=window.setTimeout((function(){o.setState(o.notAppliedState),o.debounce=null,o.notAppliedState={}}),0)},o.onContextUpdate=function(){o.subscribe(o.props)},o.state=o.getPluginsStates(t.plugins,o.getEditorView(t,n)),o}return Object(r.__extends)(t,e),t.prototype.getEditorView=function(e,t){var n=e||this.props,r=t||this.context;return n.editorView||r&&r.editorActions&&r.editorActions._privateGetEditorView()||r&&r.editorSharedConfig&&r.editorSharedConfig.editorView},t.prototype.getEventDispatcher=function(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher},t.prototype.getPluginsStates=function(e,t){return t&&e?Object.keys(e).reduce((function(n,r){var o=e[r];return o?(n[r]=o.getState(t.state),n):n}),{}):{}},t.prototype.subscribe=function(e){var t=this,n=e.plugins,r=this.getEventDispatcher(e),o=this.getEditorView(e);if(r&&o&&!this.isSubscribed){this.isSubscribed=!0;var i=this.getPluginsStates(n,o);this.setState(i),Object.keys(n).forEach((function(e){var o=n[e];if(o){var a=i[e],s=a&&a.subscribe,c=t.handlePluginStateChange(e,s);s?a.subscribe(c):r.on(o.key,c),t.listeners[o.key]={handler:c,pluginKey:o}}}))}},t.prototype.unsubscribe=function(){var e=this,t=this.getEventDispatcher(),n=this.getEditorView();t&&n&&this.isSubscribed&&(Object.keys(this.listeners).forEach((function(r){var o=e.listeners[r].pluginKey.getState(n.state);o&&o.unsubscribe?o.unsubscribe(e.listeners[r].handler):t.off(r,e.listeners[r].handler)})),this.listeners=[])},t.prototype.subscribeToContextUpdates=function(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)},t.prototype.unsubscribeFromContextUpdates=function(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)},t.prototype.componentDidMount=function(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.isSubscribed||this.subscribe(e)},t.prototype.componentWillUnmount=function(){this.debounce&&window.clearTimeout(this.debounce),this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()},t.prototype.render=function(){return(0,this.props.render)(this.state)},t.displayName="WithPluginState",t.contextTypes={editorActions:i.object,editorSharedConfig:i.object},t}(o.Component);t.a=a},XxXR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 0 1 7.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 1 1 6.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0 1 17.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 0 1-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e))};s.displayName="EditorCollapseIcon";var c=s;t.default=c},YEM6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M9.005 10.995l4.593-4.593a.99.99 0 1 1 1.4 1.4l-3.9 3.9 3.9 3.9a.99.99 0 0 1-1.4 1.4L9.005 12.41a1 1 0 0 1 0-1.414z"/></svg>'},e))};s.displayName="ChevronLeftLargeIcon";var c=s;t.default=c},YdLh:function(e,t,n){"use strict";var r=n("T1Ll").unescapeAll;e.exports=function(e,t,n){var o,i,a=0,s=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=n)return c;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return c;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return c.pos=t+1,c.lines=a,c.str=r(e.slice(s+1,t)),c.ok=!0,c;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return c}},Ye7c:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n("D57K"),o=n("ERkP"),i=n("7nmT"),a=n("+ELd"),s=n("N01o"),c=function(e){function t(t){var n=e.call(this)||this;return n.portals=new Map,n.setContext=function(e){n.context=e},n.onAnalyticsEvent=t,n}return Object(r.__extends)(t,e),t.prototype.render=function(e,t,n){void 0===n&&(n=!1),this.portals.set(t,{children:e,hasReactContext:n}),Object(i.unstable_renderSubtreeIntoContainer)(this.context,e(),t)},t.prototype.forceUpdate=function(){var e=this;this.portals.forEach((function(t,n){t.hasReactContext&&Object(i.unstable_renderSubtreeIntoContainer)(e.context,t.children(),n)}))},t.prototype.remove=function(e){this.portals.delete(e);try{Object(i.unmountComponentAtNode)(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{action:s.a.FAILED_TO_UNMOUNT,actionSubject:s.b.EDITOR,actionSubjectId:s.c.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:s.d.OPERATIONAL}})}},t}(a.a),l=function(e){function t(t){var n=e.call(this,t)||this;return n.portalProviderAPI=new c(t.onAnalyticsEvent),n}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.render(this.portalProviderAPI)},t.prototype.componentDidUpdate=function(){this.portalProviderAPI.forceUpdate()},t.displayName="PortalProvider",t}(o.Component),u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdate=function(e){return n.setState({portals:e})},t.portalProviderAPI.setContext(n),t.portalProviderAPI.on("update",n.handleUpdate),n.state={portals:new Map},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state.portals;return o.createElement(o.Fragment,null,Array.from(e.entries()).map((function(e){var t=Object(r.__read)(e,2),n=t[0],o=t[1];return Object(i.createPortal)(o,n)})))},t}(o.Component)},Yu3e:function(e,t){function n(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function i(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}},YybV:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n("D57K"),o=n("Dsue"),i=n("m+cI"),a=n("DPCN"),s=n.n(a),c=n("PWG0"),l=n("m23B"),u=n("kbCE"),d=function(e,t,n){return function(i,a){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var s,c,u,d,f,h;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e?[4,e.openMacroBrowser(t)]:[2,!1];case 1:return(s=r.sent())?(c=t&&t.attrs.layout||"default",(u=p(s,i,{layout:c}))?(d=i.schema.nodes.bodiedExtension,f=i.tr,(h=t.type===d&&!(f.selection instanceof o.NodeSelection))&&!n?f=Object(l.safeInsert)(u)(f):h?f=Object(l.replaceParentNodeOfType)(d,u)(f):f.selection instanceof o.NodeSelection&&(f=Object(l.replaceSelectedNode)(u)(f)),a&&a(f.scrollIntoView()),[2,!0]):[2,!1]):[2,!1]}}))}))}},p=function(e,t,n){if(!e||!t)return null;var o,i=t.schema,a=Object(c.c)(e,i),s=a.type,l=a.attrs;return"extension"===s?o=i.nodes.extension.create(Object(r.__assign)(Object(r.__assign)({},l),n)):"bodiedExtension"===s?o=i.nodes.bodiedExtension.create(Object(r.__assign)(Object(r.__assign)({},l),n),i.nodeFromJSON(e).content):"inlineExtension"===s&&(o=i.nodes.inlineExtension.create(l)),Object(u.E)(t,o)},f=function(e,t){var n=i.b.getState(e),r=n&&n.macroProvider;if(!r||!r.autoConvert)return null;var o=r.autoConvert(t);return o?p(o,e):null},h=function(e){return function(t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return n=r.sent(),s()(n&&n.openMacroBrowser,"MacroProvider promise did not resolve to a valid instance of MacroProvider - "+n),[3,3];case 2:return r.sent(),n=null,[3,3];case 3:return t.dispatch(t.state.tr.setMeta(i.b,{macroProvider:n})),[2,!0]}}))}))}}},ZTTl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 1 1 1.06 1.061l-1.06 1.061a3.249 3.249 0 0 1-4.596 0 3.247 3.247 0 0 1 0-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 0 0 0 2.474 1.749 1.749 0 0 0 2.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 0 1-1.06-1.06l1.06-1.062a3.249 3.249 0 0 1 4.596 0 3.247 3.247 0 0 1 0 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 0 0 0-2.475 1.749 1.749 0 0 0-2.474 0z" fill="currentColor"/></svg>'},e))};s.displayName="EditorUnlinkIcon";var c=s;t.default=c},ZhrY:function(e,t,n){"use strict";var r=n("D57K"),o=n("aWzz"),i=n("ERkP"),a=n("xN70"),s=n("nYST"),c=n("rhKZ"),l=n("sdcR"),u=n("T7u3"),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.mounted=!1,r.handleLoadError=function(e,t){!r.state.invalidImage&&t&&r.setState({cachedEmoji:r.loadEmoji(t,r.context,!0)})},r.state={cachedEmoji:r.loadEmoji(t.emoji,n,!1)},r}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e,t){e.emoji!==this.props.emoji&&this.mounted&&this.setState({cachedEmoji:this.loadEmoji(e.emoji,t,!1)})},t.prototype.loadEmoji=function(e,t,n){var r=this;if(t.emoji){var o=t.emoji.emojiProvider;if(o){var i=this.props.fitToHeight,l=Object(a.d)(e,i);if(o.optimisticMediaRendering(e,l)&&!n)return Object(c.a)("Optimistic rendering",e.shortName),e;Object(c.a)("Loading image via media cache",e.shortName);var u=o.loadMediaEmoji(e,l);if(!Object(s.n)(u))return Object(s.f)(u)?u:void 0;u.then((function(e){r.mounted&&r.setState({cachedEmoji:e,invalidImage:!e})})).catch((function(){r.mounted&&r.setState({cachedEmoji:void 0,invalidImage:!0})}))}}},t.prototype.render=function(){var e,t=this.state.cachedEmoji,n=this.props,o=(n.children,n.placeholderSize,Object(r.__rest)(n,["children","placeholderSize"]));if(t)e=i.createElement(l.a,Object(r.__assign)({},o,{emoji:t,onLoadError:this.handleLoadError}));else{var a=this.props,s=a.emoji,c=a.placeholderSize,d=a.showTooltip,p=a.fitToHeight,f=s.shortName,h=s.representation;e=i.createElement(u.a,{size:p||c,shortName:f,showTooltip:d,representation:h})}return e},t.contextTypes={emoji:o.object},t}(i.PureComponent);t.a=function(e){e.placeholderSize;var t=Object(r.__rest)(e,["placeholderSize"]);return Object(s.k)(e.emoji)?i.createElement(d,Object(r.__assign)({},e)):i.createElement(l.a,Object(r.__assign)({},t))}},ZinM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 11h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm2.5 4h5a1 1 0 0 1 0 2h-5a1 1 0 0 1 0-2zm0-8h5a1 1 0 0 1 0 2h-5a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignCenterIcon";var c=s;t.default=c},ZuDi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm4-8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignImageCenterIcon";var c=s;t.default=c},a9uR:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r,o=n("D57K"),i=n("KsTJ"),a=n("dDc+"),s=n("Rr/J"),c=12,l=Object(i.css)(r||(r=Object(o.__makeTemplateObject)(["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .gridContainer.hidden .gridLine {\n    border-left: 1px solid transparent;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"],["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .gridContainer.hidden .gridLine {\n    border-left: 1px solid transparent;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"])),2*c,c,c,s.l,a.colors.N30A,a.colors.B200)},aGmo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("I9T1"),o=n("Dsue"),i=n("7bKp"),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(c||l||s);a.ie_version=c?document.documentMode||6:l?+l[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit=!u&&"WebkitAppearance"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},f=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},h=function(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},m=function(e,t,n,r){return n&&(b(e,t,n,r,-1)||b(e,t,n,r,1))},v=/^(img|br|input|textarea|hr)$/i;function b(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:g(e))||3==e.nodeType&&"\ufeff"==e.nodeValue){var i=e.parentNode;if(1!=i.nodeType||(a=void 0,(a=e.pmViewDesc)&&a.node&&a.node.isBlock)||v.test(e.nodeName)||"false"==e.contentEditable)return!1;t=p(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;e=e.childNodes[t+(o<0?-1:0)],t=o<0?g(e):0}}var a}function g(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}var y=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function O(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function w(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function E(e,t){return"number"==typeof e?e:e[t]}function k(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=i.defaultView,s=n||e.dom;s;s=f(s))if(1==s.nodeType){var c=s==i.body||1!=s.nodeType,l=c?w(a):s.getBoundingClientRect(),u=0,d=0;if(t.top<l.top+E(r,"top")?d=-(l.top-t.top+E(o,"top")):t.bottom>l.bottom-E(r,"bottom")&&(d=t.bottom-l.bottom+E(o,"bottom")),t.left<l.left+E(r,"left")?u=-(l.left-t.left+E(o,"left")):t.right>l.right-E(r,"right")&&(u=t.right-l.right+E(o,"right")),(u||d)&&(c?a.scrollBy(u,d):(d&&(s.scrollTop+=d),u&&(s.scrollLeft+=u))),c)break}}function x(e,t){for(var n,r,o=2e8,i=0,a=t.top,s=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=h(c).getClientRects()}for(var d=0;d<u.length;d++){var p=u[d];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);var f=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(f<o){n=c,o=f,r=f&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==c.nodeType&&f&&(i=l+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=C(r,1);if(i.top!=i.bottom&&_(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:x(n,r)}function _(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function T(e,t){var n,r,o=e.root;if(o.caretPositionFromPoint){var i,a=o.caretPositionFromPoint(t.left,t.top);if(a)n=(i=a).offsetNode,r=i.offset}if(!n&&o.caretRangeFromPoint){var s,c=o.caretRangeFromPoint(t.left,t.top);if(c)n=(s=c).startContainer,r=s.startOffset}var l,u=o.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var d=e.dom.getBoundingClientRect();if(!_(t,d))return null;if(!(u=function e(t,n,r){var o=t.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2),a=i;;){var s=t.childNodes[a];if(1==s.nodeType)for(var c=s.getClientRects(),l=0;l<c.length;l++){var u=c[l];if(_(n,u))return e(s,n,u)}if((a=(a+1)%o)==i)break}return t}(e.dom,t,d)))return null}u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),n&&(1==n.nodeType&&(r=Math.min(r,n.childNodes.length)),n==e.dom&&r==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:0!=r&&1==n.nodeType&&"BR"==n.childNodes[r-1].nodeName||(l=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,n,r,t))),null==l&&(l=function(e,t,n){var r=x(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,u,t));var p=e.docView.nearestDesc(u,!0);return{pos:l,inside:p?p.posAtStart-p.border:-1}}function C(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function S(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset;if(3==r.nodeType&&(a.chrome||a.gecko)){var i=C(h(r,o,o),0);if(a.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var s=C(h(r,o-1,o-1),-1);if(Math.abs(s.left-i.left)<1&&s.top==i.top){var c=C(h(r,o,o+1),-1);return j(c,c.left<s.left)}}return i}if(1==r.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l,u=!0;if(o<r.childNodes.length){var d=r.childNodes[o];1==d.nodeType&&(l=d.getBoundingClientRect())}if(!l&&o){var p=r.childNodes[o-1];1==p.nodeType&&(l=p.getBoundingClientRect(),u=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(l||r.getBoundingClientRect(),u)}for(var f=-1;f<2;f+=2)if(f<0&&o){var m=void 0,v=3==r.nodeType?h(r,o-1,o):3==(m=r.childNodes[o-1]).nodeType?h(m):1==m.nodeType&&"BR"!=m.nodeName?m:null;if(v){var b=C(v,1);if(b.top<b.bottom)return j(b,!1)}}else if(f>0&&o<g(r)){var y=void 0,O=3==r.nodeType?h(r,o,o+1):3==(y=r.childNodes[o]).nodeType?h(y):1==y.nodeType?y:null;if(O){var w=C(O,-1);if(w.top<w.bottom)return j(w,!0)}}return j(C(3==r.nodeType?h(r):r,0),!1)}function j(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function M(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o.focus()}}var A=/[\u0590-\u08ac]/;var R=null,N=null,I=!1;function P(e,t,n){return R==t&&N==n?I:(R=t,N=n,I="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return M(e,t,(function(){for(var t=e.docView.domFromPos(o.pos).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=S(e,o.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=h(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var l=s[c];if(l.bottom>l.top&&("up"==n?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=getSelection();return A.test(r.parent.textContent)&&s.modify?M(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset;s.modify("move",n,"character");var a=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),a})):"left"==n||"backward"==n?i:a}(e,t,n))}var D=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},L={beforePosition:{},size:{},border:{},posBefore:{},posAtStart:{},posAfter:{},posAtEnd:{},contentLost:{}};D.prototype.matchesWidget=function(){return!1},D.prototype.matchesMark=function(){return!1},D.prototype.matchesNode=function(){return!1},D.prototype.matchesHack=function(){return!1},L.beforePosition.get=function(){return!1},D.prototype.parseRule=function(){return null},D.prototype.stopEvent=function(){return!1},L.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},L.border.get=function(){return 0},D.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},D.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},L.posBefore.get=function(){return this.parent.posBeforeChild(this)},L.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},L.posAfter.get=function(){return this.posBefore+this.size},L.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},D.prototype.localPosFromDOM=function(e,t,n){var r;if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,i;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(i=o.pmViewDesc)||i.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}var a,s;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&(!(s=a.pmViewDesc)||s.parent!=this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){r=!1;break}if(c.parentNode.firstChild!=c)break}if(null==r&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){r=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart},D.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(e):o.nodeDOM==e))return o;n=!1}}},D.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},D.prototype.posFromDOM=function(e,t,n){for(var r=e;;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}},D.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},D.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:p(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],o=t+r.size;if(e<o)return r.domFromPos(e-t-r.border);t=o}},D.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==r&&e<=c){var l=i+s.border;if(e>=l&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,l);e=i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=p(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&t<=c){t=c;for(var f=a+1;f<this.children.length;f++){var h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=p(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},D.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},D.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},D.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var c=this.children[a],l=s+c.size;if(o>s&&i<l)return c.setSelection(e-s-c.border,t-s-c.border,n,r);s=l}var u=this.domFromPos(e),d=this.domFromPos(t),p=n.getSelection(),f=document.createRange();if(r||!m(u.node,u.offset,p.anchorNode,p.anchorOffset)||!m(d.node,d.offset,p.focusNode,p.focusOffset)){if(p.extend)f.setEnd(u.node,u.offset),f.collapse(!1);else{if(e>t){var h=u;u=d,d=h}f.setEnd(d.node,d.offset),f.setStart(u.node,u.offset)}p.removeAllRanges(),p.addRange(f),p.extend&&p.extend(d.node,d.offset)}},D.prototype.ignoreMutation=function(e){return!this.contentDOM},L.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},D.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e==a&&t==s&&o.contentLost?o.dirty=3:o.markDirty(e-a,t-a));o.dirty=3}n=i}this.dirty=2},D.prototype.markParentsDirty=function(){for(var e=this.parent;e;e=e.parent){e.dirty<2&&(e.dirty=2)}},Object.defineProperties(D.prototype,L);var B=[],z=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,B,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},Object.defineProperties(t.prototype,n),t}(D),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{skip:ie(this.dom)}},t.prototype.ignoreMutation=function(){return!1},t}(z),F=function(e){function t(t,n,r,o){e.call(this,t,B,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{}};return n.size.get=function(){return this.text.length},t.prototype.parseRule=function(){return{skip:ie(this.dom)}},t.prototype.localPosFromDOM=function(e,t){if(e!=this.textDOM)return this.posAtStart+(t?this.size:0);var n=this.textDOM.nodeValue.indexOf("\ufeff");return this.posAtStart+t-(n>-1&&n<t?1:0)},t.prototype.domFromPos=function(e){var t=this.textDOM.nodeValue.indexOf("\ufeff");return{node:this.textDOM,offset:e+(t>-1&&t<=e?1:0)}},t.prototype.ignoreMutation=function(){return!1},Object.defineProperties(t.prototype,n),t}(D),U=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,i){var a=i.nodeViews[n.type.name],s=a&&a(n,i,o);return s&&s.dom||(s=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=oe(i,n,a,r)),e>0&&(i=oe(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(D),W=function(e){function t(t,n,r,o,i,a,s,c,l){e.call(this,t,n.isLeaf?B:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{},border:{}};return t.create=function(e,n,o,i,a,s){var c,l=a.nodeViews[n.type.name],u=l&&l(n,a,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),o),d=u&&u.dom,p=u&&u.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else if(!d){var f;d=(f=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,p=f.contentDOM}p||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var h=d;return d=Q(d,o,n),u?c=new q(e,n,o,i,d,p,h,u,a,s+1):n.isText?new V(e,n,o,i,d,h,a):new t(e,n,o,i,d,p,h,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?r.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ee(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,o=this.node.inlineContent,i=t,a=o&&e.composing&&this.localCompositionNode(e,t),s=new ne(this,a&&a.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var c=0,l=[],u=null,d=0;;){if(c<o.length&&o[c].to==i){for(var p=o[c++],f=void 0;c<o.length&&o[c].to==i;)(f||(f=[p])).push(o[c++]);if(f){f.sort(re);for(var h=0;h<f.length;h++)n(f[h],d)}else n(p,d)}var m=void 0,v=void 0;if(u)v=-1,m=u,u=null;else{if(!(d<e.childCount))break;v=d,m=e.child(d++)}for(var b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;c<o.length&&o[c].from==i;)l.push(o[c++]);var g=i+m.nodeSize;if(m.isText){var y=g;c<o.length&&o[c].from<y&&(y=o[c].from);for(var O=0;O<l.length;O++)l[O].to<y&&(y=l[O].to);y<g&&(u=m.cut(y-i),m=m.cut(0,y-i),g=y,v=-1)}r(m,l.length?l.slice():B,t.forChild(i,m),v),i=g}}(this.node,this.innerDeco,(function(t,a){t.spec.marks?s.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&s.syncToMarks(a==n.node.childCount?r.Mark.none:n.node.child(a).marks,o,e),s.placeWidget(t,e,i)}),(function(t,n,r,a){s.syncToMarks(t.marks,o,e),s.findNodeMatch(t,n,r,a)||s.updateNextNode(t,n,r,e,a)||s.addNode(t,n,r,e,i),i+=t.nodeSize})),s.syncToMarks(B,o,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),this.renderChildren())},t.prototype.renderChildren=function(){!function e(t,n){for(var r=t.firstChild,o=0;o<n.length;o++){var i=n[o],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=te(r);r=r.nextSibling}else t.insertBefore(a,r);if(i instanceof U){var s=r?r.previousSibling:t.lastChild;e(i.contentDOM,i.children),r=s?s.nextSibling:t.firstChild}}for(;r;)r=te(r)}(this.contentDOM,this.children,t.is),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom)},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,i=n.to;if(!(!(e.state.selection instanceof o.TextSelection)||r<t||i>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0)e=e.childNodes[t-1],t=g(e);else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var c=s.nodeValue.replace(/\ufeff/g,""),l=function(e,t,n,r){for(var o="",i=0,a=0;i<e.childCount;i++){var s=e.child(i),c=a+s.nodeSize;if(s.isText){if(o+=s.text,c>=r){for(var l=c-o.length,u=o.lastIndexOf(t);u>-1&&l+u>n;)u=o.lastIndexOf(t,u-1);if(u>-1&&l+u+t.length>=r)return l+u;if(c>r-t.length)break}}else o="";a=c}return-1}(this.node.content,c,r-t,i-t);return l<0?null:{node:s,pos:l,text:c}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new F(this,i,n,o);e.compositionNodes.push(a),this.children=oe(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ee(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=J(this.dom,this.nodeDOM,X(this.outerDeco,this.node,t),X(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(t.prototype,n),t}(D);function K(e,t,n,r,o){return Q(r,t,e),new W(null,e,t,n,r,r,r,o,0)}var V=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){var e=this.nodeDOM.parentNode;return e?{skip:e}:{ignore:!0}},t.prototype.update=function(e,t){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t}(W),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(D),q=function(e){function t(t,n,r,o,i,a,s,c,l,u){e.call(this,t,n,r,o,i,a,s,l,u),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(W);function $(e){e&&(this.nodeName=e)}$.prototype=Object.create(null);var Y=[new $];function X(e,t,n){if(0==e.length)return Y;for(var r=n?Y[0]:new $,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs,s=r;if(a)for(var c in a.nodeName&&o.push(s=new $(a.nodeName)),a){var l=a[c];null!=l&&(n&&1==o.length&&o.push(s=r=new $(t.isInline?"span":"div")),"class"==c?s.class=(s.class?s.class+" ":"")+l:"style"==c?s.style=(s.style?s.style+";":"")+l:"nodeName"!=c&&(s[c]=l))}}return o}function J(e,t,n,r){if(n==Y&&r==Y)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(c=t.parentNode)&&c.tagName.toLowerCase()==a.nodeName?o=c:((c=document.createElement(a.nodeName)).appendChild(o),o=c)}Z(o,s||Y[0],a)}return o}function Z(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):B,a=n.class?n.class.split(" "):B,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=u.exec(t.style);)e.style[l[1].toLowerCase()]="";n.style&&(e.style.cssText+=n.style)}}function Q(e,t,n){return J(e,e,Y,X(t,n,1!=e.nodeType))}function ee(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function te(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ne=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],r=e.childCount,o=t.length-1;r>0&&o>=0;o--){var i=t[o],a=i.node;if(a){if(a!=e.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function re(e,t){return e.type.side-t.type.side}function oe(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],l=s,u=s+=c.size;l>=n||u<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,r)),o&&(i.push(o),o=null),u>n&&i.push(c.slice(n-l,c.size,r)))}return i}function ie(e){var t=e.cloneNode(!0);return function e(t){if(1==t.nodeType)for(var n=t.firstChild;n;n=n.nextSibling)e(n);else 3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\ufeff/g,""))}(t),t}function ae(e,t){var n=e.selection,r=n.$anchor,i=n.$head,a=t>0?r.max(i):r.min(i),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&o.Selection.findFrom(s,t)}function se(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function ce(e,t,n){var r=e.state.selection;if(r instanceof o.TextSelection){if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=ae(e.state,t);return!!(i&&i instanceof o.NodeSelection)&&se(e,i)}var s,c=r.$head,l=c.textOffset?null:t<0?c.nodeBefore:c.nodeAfter;if(!l||l.isText)return!1;var u=t<0?c.pos-l.nodeSize:c.pos;return!!(l.isAtom||(s=e.docView.descAt(u))&&!s.contentDOM)&&(o.NodeSelection.isSelectable(l)?se(e,new o.NodeSelection(t<0?e.state.doc.resolve(c.pos-l.nodeSize):c)):!!a.webkit&&se(e,new o.TextSelection(e.state.doc.resolve(t<0?u:u+l.nodeSize))))}if(r instanceof o.NodeSelection&&r.node.isInline)return se(e,new o.TextSelection(t>0?r.$to:r.$from));var d=ae(e.state,t);return!!d&&se(e,d)}function le(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ue(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function de(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,s=!1;for(a.gecko&&1==n.nodeType&&r<le(n)&&ue(n.childNodes[r])&&(s=!0);;)if(r>0)if(1!=n.nodeType){if(3!=n.nodeType||"\ufeff"!=n.nodeValue.charAt(r-1))break;a.ie&&a.ie_version<=11&&(s=!0),o=n,i=--r}else{var c=n.childNodes[r-1];if(ue(c))o=n,i=--r;else{if(3!=c.nodeType)break;r=(n=c).nodeValue.length}}else{if(fe(n))break;for(var l=n.previousSibling;l&&ue(l);)o=n.parentNode,i=p(l),l=l.previousSibling;if(l)r=le(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}s?he(e,t,n,r):o&&he(e,t,o,i)}}function pe(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=le(n);;)if(r<a){if(1!=n.nodeType)break;if(!ue(n.childNodes[r]))break;o=n,i=++r}else{if(fe(n))break;for(var s=n.nextSibling;s&&ue(s);)o=s.parentNode,i=p(s)+1,s=s.nextSibling;if(s)r=0,a=le(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&he(e,t,o,i)}}function fe(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function he(e,t,n,r){if(y(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection()}function me(e,t,n){var r=e.state.selection;if(r instanceof o.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;var i=r.$from,a=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=ae(e.state,t);if(s&&s instanceof o.NodeSelection)return se(e,s)}if(!i.parent.inlineContent){var c=o.Selection.findFrom(t<0?i:a,t);return!c||se(e,c)}return!1}function ve(e,t){if(!(e.state.selection instanceof o.TextSelection))return!0;var n=e.state.selection,r=n.$head,i=n.$anchor,a=n.empty;if(!r.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var c=e.state.tr;return t<0?c.delete(r.pos-s.nodeSize,r.pos):c.delete(r.pos,r.pos+s.nodeSize),e.dispatch(c),!0}return!1}function be(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ge(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==r?ve(e,-1)||de(e):46==n||a.mac&&68==n&&"c"==r?ve(e,1)||pe(e):13==n||27==n||(37==n?ce(e,-1,r)||de(e):39==n?ce(e,1,r)||pe(e):38==n?me(e,-1,r)||de(e):40==n?function(e){if(a.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;be(e,o,!0),setTimeout((function(){return be(e,o,!1)}),20)}}}(e)||me(e,1,r)||pe(e):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ye(e,t,n){var r=e.state.selection;if(Ee(e,r),e.editable&&!e.hasFocus()){if(!t)return;a.gecko&&a.gecko_version<=55&&(e.domObserver.disconnectSelection(),e.dom.focus(),e.domObserver.connectSelection())}else if(!e.editable&&!_e(e)&&!t)return;if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom;n.setEnd(r,r.childNodes.length),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var i,s,c=r.anchor,l=r.head;!Oe||r instanceof o.TextSelection||(r.$from.parent.inlineContent||(i=we(e,r.from)),r.empty||r.$from.parent.inlineContent||(s=we(e,r.to))),e.docView.setSelection(c,l,e.root,n),Oe&&(i&&(i.contentEditable="false"),s&&(s.contentEditable="false")),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):c!=l&&(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}ne.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ne.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ne.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ne.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.top.children.splice(this.index,a-this.index)),this.top=this.top.children[this.index];else{var c=U.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},ne.prototype.findNodeMatch=function(e,t,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),a=this.top.children;if(i&&i.matchesNode(e,t,n))o=a.indexOf(i);else for(var s=this.index,c=Math.min(a.length,s+5);s<c;s++){var l=a[s];if(l.matchesNode(e,t,n)&&this.preMatched.indexOf(l)<0){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},ne.prototype.updateNextNode=function(e,t,n,r,o){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof W){var a=this.preMatched.indexOf(i);if(a>-1&&a+this.preMatchOffset!=o)return!1;var s=i.dom;if(!(this.lock&&(s==this.lock||1==s.nodeType&&s.contains(this.lock.parentNode))&&!(e.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==e.text&&3!=i.dirty&&ee(t,i.outerDeco)))&&i.update(e,t,n,r))return i.dom!=s&&(this.changed=!0),this.index++,!0}return!1},ne.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,W.create(this.top,e,t,n,r,o)),this.changed=!0},ne.prototype.placeWidget=function(e,t,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(e))this.index++;else{var r=new(e.spec.isCursorWrapper?H:z)(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}},ne.prototype.placeComposition=function(e,t){this.syncToMarks(B,!0,e),this.top.children[this.index]==t?this.index++:(this.top.children.splice(this.index++,0,t),this.changed=!0)},ne.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof U;)e=e.children[e.children.length-1];if(!e||!(e instanceof V)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new G(this.top,B,t,null)),this.changed=!0}};var Oe=a.safari||a.chrome&&a.chrome_version<63;function we(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return i.contentEditable="true",i;if(a)return a.contentEditable="true",a}}function Ee(e,t){if(t instanceof o.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ke(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ke(e)}function ke(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function xe(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||o.TextSelection.between(t,n,r)}function _e(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Te(e){return!1===e.type.spec.inclusive}function Ce(e){var t=e.selection,n=t.$head,r=t.$anchor,o=t.visible,i=n.pos!=r.pos||o&&!n.parent.inlineContent?null:n;return i&&(!o||e.storedMarks||0==i.parent.content.length||i.parentOffset&&!i.textOffset&&i.nodeBefore.marks.some(Te))?i:null}function Se(e,t){return function(n){var r=n.pmViewDesc;if(r)return r.parseRule();if("BR"==n.nodeName&&n.parentNode){if(a.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName))return e.matchTag(document.createElement("li"),t);if(n.parentNode.lastChild==n||a.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}}}function je(e,t,n,i){if(t<0){var s=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,c=function(e,t){var n,r,i=e.root.getSelection(),a=e.state.doc,s=e.docView.nearestDesc(i.focusNode),c=s&&0==s.size,l=e.docView.posFromDOM(i.focusNode,i.focusOffset),u=a.resolve(l);if(y(i)){for(n=u;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&o.NodeSelection.isSelectable(s.node)&&s.parent){var d=s.posBefore;r=new o.NodeSelection(l==d?u:a.resolve(d))}}else n=a.resolve(e.docView.posFromDOM(i.anchorNode,i.anchorOffset));return r||(r=xe(e,n,u,"pointer"==t||e.state.selection.head<u.pos&&!c?1:-1)),r}(e,s);if(!e.state.selection.eq(c)){var l=e.state.tr.setSelection(c);"pointer"==s?l.setMeta("pointer",!0):"key"==s&&l.scrollIntoView(),e.dispatch(l)}}else{var u=e.state.doc.resolve(t),d=u.sharedDepth(n);t=u.before(d+1),n=e.state.doc.resolve(n).after(d+1);var p,f,h=e.state.selection,m=function(e,t,n){var o=e.docView.parseRange(t,n),i=o.node,s=o.fromOffset,c=o.toOffset,l=o.from,u=o.to,d=e.root.getSelection(),p=null,f=d.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(p=[{node:f,offset:d.anchorOffset}],y(d)||p.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var h=c;h>s;h--){var m=i.childNodes[h-1],v=m.pmViewDesc;if("BR"==m.nodeType&&!v){c=h;break}if(!v||v.size)break}var b=e.state.doc,g=e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema),O=b.resolve(l),w=null,E=g.parse(i,{topNode:O.parent,topMatch:O.parent.contentMatchAt(O.index()),topOpen:!0,from:s,to:c,preserveWhitespace:!O.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Se(g,O),context:O});if(p&&null!=p[0].pos){var k=p[0].pos,x=p[1]&&p[1].pos;null==x&&(x=k),w={anchor:k+l,head:x+l}}return{doc:E,sel:w,from:l,to:u}}(e,t,n),v=e.state.doc,b=v.slice(m.from,m.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(p=e.state.selection.to,f="end"):(p=e.state.selection.from,f="start"),e.lastKeyCode=null;var g=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b;if("end"==o){var l=Math.max(0,i-Math.min(s,c));r-=s+l-i}if(s<i&&e.size<t.size){c=(i-=r<=i&&r>=s?i-r:0)+(c-s),s=i}else if(c<i){s=(i-=r<=i&&r>=c?i-r:0)+(s-c),c=i}return{start:i,endA:s,endB:c}}(b.content,m.doc.content,m.from,p,f);if(g){e.domChangeCount++,e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof o.TextSelection&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to));var w,E=m.doc.resolveNoCache(g.start-m.from),k=m.doc.resolveNoCache(g.endB-m.from);if(!(!E.sameParent(k)&&E.pos<m.doc.content.size&&(w=o.Selection.findFrom(m.doc.resolve(E.pos+1),1,!0))&&w.head==k.pos&&e.someProp("handleKeyDown",(function(t){return t(e,O(13,"Enter"))}))))if(e.state.selection.anchor>g.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Ae(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Ae(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Ae(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(v,g.start,g.endA,E,k)&&e.someProp("handleKeyDown",(function(t){return t(e,O(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{var x,_,T,C,S=g.start,j=g.endA;if(E.sameParent(k)&&E.parent.inlineContent)if(E.pos==k.pos)a.ie&&a.ie_version<=11&&0==E.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ye(e)}),20)),x=e.state.tr.delete(S,j),_=v.resolve(g.start).marksAcross(v.resolve(g.endA));else if(g.endA==g.endB&&(C=v.resolve(g.start))&&(T=function(e,t){for(var n,o,i,a=e.firstChild.marks,s=t.firstChild.marks,c=a,l=s,u=0;u<s.length;u++)c=s[u].removeFromSet(c);for(var d=0;d<a.length;d++)l=a[d].removeFromSet(l);if(1==c.length&&0==l.length)o=c[0],n="add",i=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;o=l[0],n="remove",i=function(e){return e.mark(o.removeFromSet(e.marks))}}for(var p=[],f=0;f<t.childCount;f++)p.push(i(t.child(f)));if(r.Fragment.from(p).eq(e))return{mark:o,type:n}}(E.parent.content.cut(E.parentOffset,k.parentOffset),C.parent.content.cut(C.parentOffset,g.endA-C.start()))))x=e.state.tr,"add"==T.type?x.addMark(S,j,T.mark):x.removeMark(S,j,T.mark);else if(E.parent.child(E.index()).isText&&E.index()==k.index()-(k.textOffset?0:1)){var M=E.parent.textBetween(E.parentOffset,k.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,S,j,M)})))return;x=e.state.tr.insertText(M,S,j)}if(x||(x=e.state.tr.replace(S,j,m.doc.slice(g.start-m.from,g.endB-m.from))),m.sel){var A=Me(e,x.doc,m.sel);A&&x.setSelection(A)}_&&x.ensureMarks(_),e.dispatch(x.scrollIntoView())}}else if(!(i&&h instanceof o.TextSelection&&!h.empty&&h.$head.sameParent(h.$anchor))||e.composing||m.sel&&m.sel.anchor!=m.sel.head){if(m.sel){var R=Me(e,e.state.doc,m.sel);R&&!R.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(R))}}else{var N=e.state,I=N.selection;e.dispatch(N.tr.replaceSelectionWith(N.schema.text(N.doc.textBetween(I.from,I.to)),!0).scrollIntoView())}}}function Me(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:xe(e,t.resolve(n.anchor),t.resolve(n.head))}function Ae(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Re(e,t){for(var n=[],o=t.content,i=t.openStart,a=t.openEnd;i>1&&a>1&&1==o.childCount&&1==o.firstChild.childCount;){i--,a--;var s=o.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),o=s.content}var c=e.someProp("clipboardSerializer")||r.DOMSerializer.fromSchema(e.state.schema),l=document.createElement("div");l.appendChild(c.serializeFragment(o));for(var u,d=l.firstChild;d&&1==d.nodeType&&(u=Pe[d.nodeName.toLowerCase()]);){for(var p=u.length-1;p>=0;p--){for(var f=document.createElement(u[p]);l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f)}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n)),{dom:l,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ne(e,t,n,o,i){var a,s,c=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(o||c||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t)})),c)return new r.Slice(r.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,i)}));u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=(De||(De=document.implementation.createHTMLDocument("title"))).createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=o&&Pe[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length);r.innerHTML=e;for(var a=0;a<i;a++)r=r.firstChild;return r}(n);var d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var f=e.someProp("clipboardParser")||e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema);s=f.parseSlice(a,{preserveWhitespace:!(!l&&!p),context:i})}return s=p?function(e,t){if(!e.size)return e;var n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,a=e.openStart,s=e.openEnd,c=n.length-2;c>=0;c-=2){var l=o.nodes[n[c]];if(!l||l.hasRequiredAttrs())break;i=r.Fragment.from(l.create(n[c+1],i)),a++,s++}return new r.Slice(i,a,s)}(new r.Slice(s.content,Math.min(s.openStart,+p[1]),Math.min(s.openEnd,+p[2])),p[3]):r.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n).contentMatchAt(t.index(n)),i=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&i.length&&function e(t,n,o,i,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,o,i.lastChild,a+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(a==t.length-1?o.type:t[a+1]))return i.copy(i.content.append(r.Fragment.from(Ie(o,t,a+1))))}}(n,i,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var o=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(o.append(i))}(a[a.length-1],i.length));var s=Ie(e,n);a.push(s),o=o.matchType(s.type,s.attrs),i=n}}})),a)return{v:r.Fragment.from(a)}},o=t.depth;o>=0;o--){var i=n(o);if(i)return i.v}return e}(s.content,i),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function Ie(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,r.Fragment.from(e));return e}var Pe={thead:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},De=null;var Le={childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0},Be=a.ie&&a.ie_version<=11,ze=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};ze.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},ze.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var He=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){return n.flush(e)})),this.currentSelection=new ze,this.queue=[],Be&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),window.setTimeout((function(){return n.flush()}),20)}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};He.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Le),Be&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},He.prototype.stop=function(){var e=this,t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)e.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer&&this.observer.disconnect(),Be&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},He.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},He.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},He.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},He.prototype.onSelectionChange=function(){var e;if((!(e=this.view).editable||e.root.activeElement==e.dom)&&_e(e))return this.suppressingSelectionUpdates?ye(this.view):void this.flush()},He.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},He.prototype.flush=function(e){if(this.view.docView){e||(e=this.observer.takeRecords()),this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&_e(this.view),r=-1,o=-1,i=!1;if(this.view.editable)for(var a=0;a<e.length;a++){var s=this.registerMutation(e[a]);s&&(r=r<0?s.from:Math.min(s.from,r),o=o<0?s.to:Math.max(s.to,o),s.typeOver&&(i=!0))}(r>-1||n)&&(r>-1&&this.view.docView.markDirty(r,o),this.handleDOMChange(r,o,i),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ye(this.view))}},He.prototype.registerMutation=function(e){var t=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(t==this.view.docView||"contenteditable"==e.attributeName))return null;if(!t||t.ignoreMutation(e))return null;if("childList"==e.type){var n=e.previousSibling&&e.previousSibling.parentNode==e.target?p(e.previousSibling)+1:0,r=t.localPosFromDOM(e.target,n,-1),o=e.nextSibling&&e.nextSibling.parentNode==e.target?p(e.nextSibling):e.target.childNodes.length;return{from:r,to:t.localPosFromDOM(e.target,o,1)}}return"attributes"==e.type?{from:t.posAtStart-t.border,to:t.posAtEnd+t.border}:{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Fe={},Ue={};function We(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Ke(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Ve(e,t)})}))}function Ve(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Ge(e){return{left:e.clientX,top:e.clientY}}function qe(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function $e(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Ye(e,t,n,r,i){return qe(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(i?function(e,t){if(-1==t)return!1;var n,r,i=e.state.selection;i instanceof o.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var c=s>a.depth?a.nodeAfter:a.node(s);if(o.NodeSelection.isSelectable(c)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=r&&($e(e,o.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&o.NodeSelection.isSelectable(r))&&($e(e,new o.NodeSelection(n),"pointer"),!0)}(e,n))}function Xe(e,t,n,r){return qe(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function Je(e,t,n,r){return qe(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&($e(e,o.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),i=r.depth+1;i>0;i--){var a=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(a.inlineContent)$e(e,o.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!o.NodeSelection.isSelectable(a))continue;$e(e,o.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function Ze(e){return ot(e)}Ue.keydown=function(e,t){e.shiftKey=16==t.keyCode||t.shiftKey,tt(e,t)||(e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),e.someProp("handleKeyDown",(function(n){return n(e,t)}))||ge(e,t)?t.preventDefault():We(e,"key"))},Ue.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Ue.keypress=function(e,t){if(!(tt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof o.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var Qe=a.mac?"metaKey":"ctrlKey";Fe.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Ze(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[Qe]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(Ge(t));i&&("singleClick"==o?e.mouseDown=new et(e,i,t,n):("doubleClick"==o?Xe:Je)(e,i.pos,i.inside,t)?t.preventDefault():We(e,"pointer"))};var et=function(e,t,n,r){var i,s,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[Qe],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,s=l.depth?l.before():0}this.mightDrag=null;var u=r?null:n.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof o.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),We(e,"pointer")};function tt(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}et.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},et.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ge(e))),this.allowDefault||!t?(a.ie&&Ce(this.view.state)&&this.view.updateState(this.view.state),We(this.view,"pointer")):Ye(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():!this.flushed&&(!a.chrome||this.view.state.selection instanceof o.TextSelection||t.pos!=this.view.state.selection.from&&t.pos!=this.view.state.selection.to)?We(this.view,"pointer"):($e(this.view,o.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault())}},et.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),We(this.view,"pointer")},Fe.touchdown=function(e){Ze(e),We(e,"pointer")},Fe.contextmenu=function(e){return Ze(e)};var nt=a.android?5e3:-1;function rt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return ot(e)}),t))}function ot(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty();return!!e.docView.dirty&&(e.updateState(e.state),!0)}Ue.compositionstart=Ue.compositionupdate=function(e){e.composing||(e.domObserver.flush(),ot(e),e.composing=!0),rt(e,nt)},Ue.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,rt(e,20))};var it=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function at(e,t,n,o){var i=Ne(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,o,i||r.Slice.empty)}))||!i)return!0;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Fe.copy=Ue.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=it?null:t.clipboardData,i=Re(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){var n=t.ownerDocument,r=n.body.appendChild(n.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),i=n.createRange();i.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout((function(){n.body.removeChild(r),e.focus()}),50)}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ue.paste=function(e,t){var n=it?null:t.clipboardData;n&&(at(e,n.getData("text/plain"),n.getData("text/html"),t)||n.files.length>0)?t.preventDefault():function(e,t){var n=e.dom.ownerDocument,r=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(r?"textarea":"div"));r||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){e.focus(),n.body.removeChild(o),r?at(e,o.value,null,t):at(e,o.textContent,o.innerHTML,t)}),50)}(e,t)};var st=function(e,t){this.slice=e,this.move=t},ct=a.mac?"altKey":"ctrlKey";for(var lt in Fe.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(Ge(t));if(i&&i.pos>=r.from&&i.pos<=(r instanceof o.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),c=Re(e,s),l=c.dom,u=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(it?"Text":"text/html",l.innerHTML),it||t.dataTransfer.setData("text/plain",u),e.dragging=new st(s,!t[ct])}},Fe.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},Ue.dragover=Ue.dragenter=function(e,t){return t.preventDefault()},Ue.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(Ge(t));if(r){var a=e.state.doc.resolve(r.pos);if(a){var s=n&&n.slice||Ne(e,t.dataTransfer.getData(it?"Text":"text/plain"),it?null:t.dataTransfer.getData("text/html"),!1,a);if(s&&(t.preventDefault(),!e.someProp("handleDrop",(function(r){return r(e,t,s,n&&n.move)})))){var c=s?i.dropPoint(e.state.doc,a.pos,s):a.pos;null==c&&(c=a.pos);var l=e.state.tr;n&&n.move&&l.deleteSelection();var u=l.mapping.map(c),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=l.doc;if(d?l.replaceRangeWith(u,u,s.content.firstChild):l.replaceRange(u,u,s),!l.doc.eq(p)){var f=l.doc.resolve(u);d&&o.NodeSelection.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild)?l.setSelection(new o.NodeSelection(f)):l.setSelection(xe(e,f,l.doc.resolve(l.mapping.map(c)))),e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Fe.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0)},Fe.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.focused=!1)},Fe.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,O(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Ue)Fe[lt]=Ue[lt];function ut(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var dt=function(e,t){this.spec=t||bt,this.side=this.spec.side||0,this.toDOM=e};dt.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new ht(i-n,i-n,this)},dt.prototype.valid=function(){return!0},dt.prototype.eq=function(e){return this==e||e instanceof dt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ut(this.spec,e.spec))};var pt=function(e,t){this.spec=t||bt,this.attrs=e};pt.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new ht(o,i,this)},pt.prototype.valid=function(e,t){return t.from<t.to},pt.prototype.eq=function(e){return this==e||e instanceof pt&&ut(this.attrs,e.attrs)&&ut(this.spec,e.spec)},pt.is=function(e){return e.type instanceof pt};var ft=function(e,t){this.spec=t||bt,this.attrs=e};ft.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new ht(o.pos-n,i.pos-n,this)},ft.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},ft.prototype.eq=function(e){return this==e||e instanceof ft&&ut(this.attrs,e.attrs)&&ut(this.spec,e.spec)};var ht=function(e,t,n){this.from=e,this.to=t,this.type=n},mt={spec:{}};ht.prototype.copy=function(e,t){return new ht(e,t,this.type)},ht.prototype.eq=function(e){return this.type.eq(e.type)&&this.from==e.from&&this.to==e.to},ht.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},ht.widget=function(e,t,n){return new ht(e,e,new dt(t,n))},ht.inline=function(e,t,n,r){return new ht(e,t,new pt(n,r))},ht.node=function(e,t,n,r){return new ht(e,t,new ft(n,r))},mt.spec.get=function(){return this.type.spec},Object.defineProperties(ht.prototype,mt);var vt=[],bt={},gt=function(e,t){this.local=e&&e.length?e:vt,this.children=t&&t.length?t:vt};gt.create=function(e,t){return t.length?xt(t,e,0,bt):yt},gt.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},gt.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,r+c,o)}},gt.prototype.map=function(e,t,n){return this==yt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||bt)},gt.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),c=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var c=s[a+1],l=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:(l=r-n-(t-e)+(i-o))&&(s[a]+=l,s[a+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var p=n.map(s[d]+i),f=p-o;if(f<0||f>=r.content.size){u=!0;continue}var h=n.map(e[d+1]+i,-1)-o,m=r.content.findIndex(f),v=m.index,b=m.offset,g=r.maybeChild(v);if(g&&b==f&&b+g.nodeSize==h){var y=s[d+2].mapInner(n,g,p+1,s[d]+i+1,a);y!=yt?(s[d]=f,s[d+1]=h,s[d+2]=y):(s[d+1]=-2,u=!0)}else u=!0}if(u){var O=xt(function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(r,o,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)s(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}(s,e,t||[],n,o,i,a),r,0,a);t=O.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var E=0,k=0;E<O.children.length;E+=3){for(var x=O.children[E];k<s.length&&s[k]<x;)k+=3;s.splice(k,0,O.children[E],O.children[E+1],O.children[E+2])}}return new gt(t&&t.sort(_t),s)}(this.children,i,e,t,n,r,o):i?new gt(i.sort(_t)):yt},gt.prototype.add=function(e,t){return t.length?this==yt?gt.create(e,t):this.addInner(e,t,0):this},gt.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,c=a+n;if(s=Et(t,e,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,c+1):r.splice(i,0,a,a+e.nodeSize,xt(s,e,c+1,bt)),i+=3}}));var a=wt(i?kt(t):t,-n);return new gt(a.length?this.local.concat(a).sort(_t):this.local,r||this.children)},gt.prototype.remove=function(e){return 0==e.length||this==yt?this:this.removeInner(e,0)},gt.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>a&&l.to<s&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=yt?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,p=void 0;d<e.length;d++)if(p=e[d])for(var f=0;f<r.length;f++)r[f].type.eq(p.type)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new gt(r,n):yt},gt.prototype.forChild=function(e,t){var n,r;if(this==yt)return this;if(t.isLeaf)return gt.empty;for(var o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>i&&c.type instanceof pt){var l=Math.max(i,c.from)-i,u=Math.min(a,c.to)-i;l<u&&(r||(r=[])).push(c.copy(l,u))}}if(r){var d=new gt(r.sort(_t));return n?new Ot([d,n]):d}return n||yt},gt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof gt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!1},gt.prototype.locals=function(e){return Tt(this.localsInner(e))},gt.prototype.localsInner=function(e){if(this==yt)return vt;if(e.inlineContent||!this.local.some(pt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof pt||t.push(this.local[n]);return t};var yt=new gt;gt.empty=yt,gt.removeOverlap=Tt;var Ot=function(e){this.members=e};function wt(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new ht(o.from+t,o.to+t,o.type))}return n}function Et(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function kt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function xt(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=Et(e,t,a+n);if(s){i=!0;var c=xt(s,t,n+a+1,r);c!=yt&&o.push(a,a+t.nodeSize,c)}}));for(var a=wt(i?kt(e):e,-n).sort(_t),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new gt(a,o):yt}function _t(e,t){return e.from-t.from||e.to-t.to}function Tt(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Ct(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Ct(t,o+1,i.copy(r.to,i.to)))}}return t}function Ct(e,t,n){for(;t<e.length&&_t(n,e[t])>0;)t++;e.splice(t,0,n)}function St(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=yt&&t.push(r)})),e.cursorWrapper&&t.push(gt.create(e.state.doc,[e.cursorWrapper.deco])),Ot.from(t)}Ot.prototype.forChild=function(e,t){if(t.isLeaf)return gt.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=yt&&(o instanceof Ot?n=n.concat(o.members):n.push(o))}return Ot.from(n)},Ot.prototype.eq=function(e){if(!(e instanceof Ot)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Ot.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Tt(n?t:t.sort(_t)):vt},Ot.from=function(e){switch(e.length){case 0:return yt;case 1:return e[0];default:return new Ot(e)}};var jt=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Nt(this),this.cursorWrapper=null,Rt(this),this.nodeViews=Pt(this),this.docView=K(this.state.doc,At(this),St(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new He(e,(function(t,n,r){return je(e,t,n,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Fe[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Ve(e,t)||!e.editable&&t.type in Ue||n(e,t)})};for(var n in Fe)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),Ke(e)}(this),this.pluginViews=[],this.updatePluginViews()},Mt={props:{},root:{}};function At(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[ht.node(0,e.state.doc.content.size,t)]}function Rt(e){var t=Ce(e.state);if(!t||a.ie&&e.mouseDown)e.cursorWrapper=null;else{var n,o=e.state.selection.visible,i=e.state.storedMarks||t.marks();e.cursorWrapper&&r.Mark.sameSet(e.cursorWrapper.deco.spec.marks,i)&&"\ufeff"==e.cursorWrapper.dom.textContent&&e.cursorWrapper.deco.spec.visible==o?e.cursorWrapper.deco.pos!=t.pos&&(n=e.cursorWrapper.dom):n=function(e){var t=document.createElement("span");return t.textContent="\ufeff",e||(t.style.position="absolute",t.style.left="-100000px"),t}(o),n&&(e.cursorWrapper={dom:n,deco:ht.widget(t.pos,n,{isCursorWrapper:!0,marks:i,raw:!0,visible:o})})}}function Nt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function It(e){var t=e.getSelection(),n=t.focusOffset,r=t.focusNode;return r&&3!=r.nodeType?[r,n,1==r.nodeType?r.childNodes[n-1]:null,1==r.nodeType?r.childNodes[n]:null]:null}function Pt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}Mt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},jt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ke(this),this._props=e,this.updateStateInner(e.state,!0)},jt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},jt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},jt.prototype.updateStateInner=function(e,t){var n=this,r=this.state,i=!1;if(this.state=e,t){var s=Pt(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),Ke(this)}this.editable=Nt(this),Rt(this);var c,l,u,d=St(this),p=At(this),h=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",v=i||!this.docView.matchesNode(e.doc,p,d),b=v||!e.selection.eq(r.selection),g="preserve"==h&&b&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=e.dom.ownerDocument,a=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var c=e.root.elementFromPoint(a,s);if(c!=e.dom&&e.dom.contains(c)){var l=c.getBoundingClientRect();if(l.top>=o-20){t=c,n=l.top;break}}}for(var u=[],d=e.dom;d&&(u.push({dom:d,top:d.scrollTop,left:d.scrollLeft}),d!=i.body);d=f(d));return{refDOM:t,refTop:n,stack:u}}(this);if(b){this.domObserver.stop();var y=!1;if(v){var O=a.chrome&&It(this.root);!i&&this.docView.update(e.doc,p,d,this)||(this.docView.destroy(),this.docView=K(e.doc,p,d,this.dom,this)),O&&(y=function(e,t){var n=It(t);if(!n||3==n[0].nodeType)return!1;for(var r=0;r<e.length;r++)if(n[r]!=e[r])return!0;return!1}(O,this.root))}y||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(c=this,l=c.docView.domFromPos(c.state.selection.anchor),u=c.root.getSelection(),m(l.node,l.offset,u.anchorNode,u.anchorOffset)))?ye(this,!1,y):(Ee(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==h)this.dom.scrollTop=0;else if("to selection"==h){var w=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof o.NodeSelection?k(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),w):k(this,this.coordsAtPos(e.selection.head),w))}else g&&function(e){for(var t=e.refDOM,n=e.refTop,r=e.stack,o=t?t.getBoundingClientRect().top:0,i=0==o?0:o-n,a=0;a<r.length;a++){var s=r[a],c=s.dom,l=s.top,u=s.left;c.scrollTop!=l+i&&(c.scrollTop=l+i),c.scrollLeft!=u&&(c.scrollLeft=u)}}(g)},jt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},jt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},jt.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},jt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},jt.prototype.focus=function(){this.domObserver.stop(),ye(this,!0),this.domObserver.start(),this.editable&&this.dom.focus()},Mt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return this._root=t;return e||document},jt.prototype.posAtCoords=function(e){return T(this,e)},jt.prototype.coordsAtPos=function(e){return S(this,e)},jt.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},jt.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},jt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},jt.prototype.endOfTextblock=function(e,t){return P(this,t||this.state,e)},jt.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],St(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},jt.prototype.dispatchEvent=function(e){return function(e,t){Ve(e,t)||!Fe[t.type]||!e.editable&&t.type in Ue||Fe[t.type](e,t)}(this,e)},jt.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(jt.prototype,Mt),t.EditorView=jt,t.Decoration=ht,t.DecorationSet=gt,t.__serializeForClipboard=Re,t.__parseFromClipboard=Ne,t.__endComposition=ot},aToR:function(e,t,n){"use strict";var r=n("L21V");t.a=Object(r.g)({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",description:"Name of a color"}})},ad10:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v}));var r=n("D57K"),o=n("0Hbo"),i=n("m23B"),a=n("eZO1"),s=function(e){return!!e.type.spec.isolating},c=function(e,t){for(var n=o.TableMap.get(t),r=n.cellsInRect({left:0,top:0,right:1,bottom:n.height}),i=0;i<r.length;i++)try{var a=t.nodeAt(r[i]);if(a&&a.type!==e.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},l=function(e,t){for(var n=o.TableMap.get(t),r=0;r<n.width;r++){var i=t.nodeAt(n.map[r]);if(i&&i.type!==e.schema.nodes.tableHeader)return!1}return!0},u=function(e){return b(e,i.findTable,c,!1)},d=function(e){return b(e,i.findTable,l,!1)},p=function(e){return b(e,i.findTable,(function(e,t){return!!t.attrs.isNumberColumnEnabled}),!1)},f=function(e){var t=a.e.getState(e).pluginConfig.permittedLayouts,n=e.schema.nodes,r=n.bodiedExtension,o=n.layoutSection,s=n.expand;return!Object(i.hasParentNodeOfType)([s,o,r])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},h=function(e){return g(e).reduce((function(e,t){return e+t}),0)},m=function(e,t){var n=g(e),r=g(t);return!1===n.every((function(e,t){return e===r[t]}))},v=function(e,t){var n=o.TableMap.get(t),r=o.TableMap.get(e);return n.width!==r.width};function b(e,t,n,r){var o=t(e.selection);return o?n(e,o.node,o.pos):r}function g(e){if(!e.content.firstChild)return[];var t=[];return e.content.firstChild.content.forEach((function(e){if(Array.isArray(e.attrs.colwidth)){var n=e.attrs.colspan||1;t.push.apply(t,Object(r.__spread)(e.attrs.colwidth.slice(0,n)))}})),t}},apnj:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("Ft3U"),a=n("Dsue"),s=n("Wtp3"),c=n("mu0/"),l=n("XoQQ"),u=n("x+QU"),d=n.n(u)()({loader:function(){return Promise.all([n.e("atlaskit~66e23772"),n.e("@atlaskit-internal-editor-core-helpdialog~d103679f")]).then(n.bind(null,"+vv0"))},loading:function(){return null}}),p=n("U0u8"),f=n("fjMk"),h=n("N01o"),m=n("o0fs"),v=n.n(m),b=n("lMAd");n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O}));var g=new a.PluginKey("helpDialogPlugin"),y=function(e,t){return e=e.setMeta(g,!0),!!t&&(t(e),!0)},O=function(e,t){t(e=e.setMeta(g,!1))};var w=function(){var e={};return s.bindKeymapWithCommand(s.openHelp.common,(function(e,t){var n=e.tr;return n.getMeta(g)||(c.a.trackEvent("atlassian.editor.help.keyboard"),n=Object(f.a)(e,n,{action:h.a.CLICKED,actionSubject:h.b.BUTTON,actionSubjectId:h.c.BUTTON_HELP,attributes:{inputMethod:h.e.SHORTCUT},eventType:h.d.UI}),y(n,t)),!0}),e),Object(i.keymap)(e)};t.b=function(e){return{name:"helpDialog",pmPlugins:function(){return[{name:"helpDialog",plugin:function(t){return function(e,t){return new a.Plugin({key:g,state:{init:function(){return{isVisible:!1,imageEnabled:t}},apply:function(t,n,o){var i=t.getMeta(g),a=g.getState(o);if(void 0!==i&&i!==a.isVisible){var s=Object(r.__assign)(Object(r.__assign)({},a),{isVisible:i});return e(g,s),s}return a}}})}(t.dispatch,!!e)}},{name:"helpDialogKeymap",plugin:function(){return w()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{title:t(b.b.help),description:t(b.b.helpDescription),keywords:["help","?"],priority:4e3,keyshortcut:Object(s.tooltip)(s.openHelp),icon:function(){return o.createElement(v.a,{label:t(b.b.help)})},action:function(e,t){var n=e("");return y(n),Object(f.a)(t,n,{action:h.a.HELP_OPENED,actionSubject:h.b.HELP,actionSubjectId:h.c.HELP_QUICK_INSERT,attributes:{inputMethod:h.e.QUICK_INSERT},eventType:h.d.UI})}}]}},contentComponent:function(e){var t=e.editorView;return o.createElement(l.a,{plugins:{helpDialog:g,quickInsert:p.b},render:function(e){var n=e.helpDialog,r=void 0===n?{}:n,i=e.quickInsert;return o.createElement(d,{editorView:t,isVisible:r.isVisible,quickInsertEnabled:!!i,imageEnabled:r.imageEnabled})}})}}}},aspk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="ak-editor-expand",o={prefix:r,expanded:r+"__expanded",titleContainer:r+"__title-container",inputContainer:r+"__input-container",iconContainer:r+"__icon-container",icon:r+"__icon",titleInput:r+"__title-input",content:r+"__content",type:function(e){return r+"__type-"+e}}},atAw:function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},bU8X:function(e){e.exports=JSON.parse('{"a":"@atlaskit/emoji","b":"62.6.1"}')},bUrk:function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},bVaD:function(e,t,n){"use strict";var r,o,i,a=n("D57K"),s=n("ERkP"),c=n("KsTJ"),l=n("fbVm"),u=n("mQlO"),d=n("2suc"),p=n("IJlJ"),f=n("17eC"),h=n("Rr/J"),m=n("GK8u"),v=c.default.div(r||(r=Object(a.__makeTemplateObject)(["\n  line-height: 0;\n"],["\n  line-height: 0;\n"]))),b=Object(m.a)(l.a),g=c.default.div(o||(o=Object(a.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.isSelected?"&& > span, && > span:hover { background: #6c798f; color: #fff; }":""})),y=c.default.span(i||(i=Object(a.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.hasElemBefore?"margin-left: 8px;":""})),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={popupPlacement:["bottom","left"]},t.handleRef=function(e){t.setState({target:e||void 0})},t.updatePopupPlacement=function(e){t.setState({popupPlacement:e})},t.handleClose=function(){t.props.onOpenChange&&t.props.onOpenChange({isOpen:!1})},t}return Object(a.__extends)(t,e),t.prototype.renderItem=function(e){var t=this.props,n=t.onItemActivated,r=t.onMouseEnter,o=t.onMouseLeave;if(!e.onClick&&!e.value&&!e.value.name)return s.createElement("span",{key:String(e.content)},e.content);var i=s.createElement(g,{key:e.key||e.content,isSelected:e.isActive},s.createElement(u.a,{elemBefore:e.elemBefore,elemAfter:e.elemAfter,isDisabled:e.isDisabled,onClick:function(){return n&&n({item:e})},onMouseEnter:function(){return r&&r({item:e})},onMouseLeave:function(){return o&&o({item:e})},className:e.className},s.createElement(y,{hasElemBefore:!!e.elemBefore},e.content)));return e.tooltipDescription?s.createElement(p.a,{key:e.key||e.content,content:e.tooltipDescription,position:e.tooltipPosition},i):i},t.prototype.renderDropdownMenu=function(){var e=this,t=this.state,n=t.target,r=t.popupPlacement,o=this.props,i=o.items,a=o.mountTo,c=o.boundariesElement,l=o.scrollableElement,u=o.offset,p=o.fitHeight,m=o.fitWidth,v=o.isOpen,g=o.zIndex;return s.createElement(f.a,{target:v?n:void 0,mountTo:a,boundariesElement:c,scrollableElement:l,onPlacementChanged:this.updatePopupPlacement,fitHeight:p,fitWidth:m,zIndex:g||h.i,offset:u},s.createElement(b,{isOpen:!0,appearance:"tall",position:r.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleClose},s.createElement("div",{style:{height:0,minWidth:m||0}}),i.map((function(t,n){return s.createElement(d.a,{key:n},t.items.map((function(t){return e.renderItem(t)})))}))))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.isOpen;return s.createElement(v,null,s.createElement("div",{ref:this.handleRef},t),n?this.renderDropdownMenu():null)},t}(s.PureComponent);t.a=O},ba8h:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y}));var r,o,i,a,s,c=n("D57K"),l=n("KsTJ"),u=n("RZTm"),d=n("+3hD"),p=n("dDc+"),f=Object(u.l)(),h=2*f,m=l.default.div(r||(r=Object(c.__makeTemplateObject)(["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n  font-size: ","px;\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"],["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n  font-size: ","px;\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"])),Object(d.a)({light:p.colors.N20,dark:p.colors.DN50}),Object(u.f)(),Object(d.a)({dark:p.colors.DN700}),Object(u.j)(),p.colors.B200,p.colors.N20A),v=l.default.div(o||(o=Object(c.__makeTemplateObject)(["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"],["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"])),Object(u.f)()),b=l.default.div(i||(i=Object(c.__makeTemplateObject)(["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n"],["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n"]))),g=l.default.span(a||(a=Object(c.__makeTemplateObject)(["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),p.colors.N70),y=l.default.img(s||(s=Object(c.__makeTemplateObject)(["\n  max-height: 16px;\n  max-width: 16px;\n"],["\n  max-height: 16px;\n  max-width: 16px;\n"])))},bgyO:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("ERkP"),a=n("eDcA"),s=n.n(a),c=n("KsTJ"),l=n("dDc+"),u=n("+3hD"),d=n("RZTm"),p=c.default.span(r||(r=Object(o.__makeTemplateObject)(["\n  flex: 0 0 16px;\n  height: 16px;\n  width: 16px;\n  color: ",";\n  margin: 2px ","px 0 0;\n\n  > span {\n    margin: -8px;\n  }\n"],["\n  flex: 0 0 16px;\n  height: 16px;\n  width: 16px;\n  color: ",";\n  margin: 2px ","px 0 0;\n\n  > span {\n    margin: -8px;\n  }\n"])),(function(e){return e.showPlaceholder?l.colors.N100:Object(u.a)({light:l.colors.G300,dark:l.colors.G200})}),d.l),f=n("lYt+"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.appearance,n=e.children,r=e.contentRef,o=e.placeholder,a=e.showPlaceholder,c=i.createElement(p,{showPlaceholder:a},i.createElement(s.a,{label:"Decision",size:"large"}));return i.createElement(f.a,{appearance:t,contentRef:r,icon:c,placeholder:o,showPlaceholder:a},n)},t.defaultProps={appearance:"inline"},t}(i.PureComponent);t.a=h},bigP:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f}));var r,o=n("EZ+e"),i=n.n(o),a=n("5kDT"),s=n.n(a);!function(e){e.ISO_FORMAT="YYYY-MM-DD",e.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",e.LOCALIZED_FORMAT="LOCALIZED_FORMAT"}(r||(r={}));var c=function(e){var t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},l=function(){var e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},u=function(e,t,n){if(!t||n===r.ISO_FORMAT)return d(e);var o=new Date(Number(e)),i=n===r.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,a=!i;return t.formatDate(o,{timeZone:"UTC",weekday:i?"short":void 0,month:"short",day:"numeric",year:a?"numeric":void 0,formatMatcher:"best fit"})},d=function(e){var t,n=new Date(Number(e));return n.getUTCFullYear()+"-"+((t=n.getUTCMonth()+1)<10?"0"+t:t)+"-"+n.getUTCDate()},p=function(e){return i()(d(Number(e)),d((new Date).valueOf()))},f=function(e,t){var n,o=new Date(Number(l())),i=new Date(Number(e)),a=s()(i,o),c=i.getUTCFullYear()===o.getUTCFullYear();return t&&[-1,0,1].indexOf(a)>-1?(n=t.formatRelative(i,{units:"day"})).charAt(0).toUpperCase()+n.slice(1):u(e,t,c?r.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:r.LOCALIZED_FORMAT)}},c06F:function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},c3Dk:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),a=n.n(i),s=n("N+ot"),c=n.n(s),l=n("AuHH"),u=n.n(l),d=n("5Yy7"),p=n.n(d),f=n("ERkP"),h=n.n(f),m=n("2suc"),v=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.elemAfter,r=e.title;return h.a.createElement(m.a,{elemAfter:n,title:r,role:"menu"},t)}}]),t}(f.Component)},"cfo/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("D57K"),o=n("0Hbo"),i=n("Dsue"),a=n("BE5N"),s=function(e,t,n){return function(s){for(var c=o.TableMap.get(t),l={},u=0;u<c.width;u++)for(var d=0;d<c.height;d++){var p=e.cols[u].width,f=d*c.width+u,h=c.map[f],m=l[h]||Object(r.__assign)({},t.nodeAt(h).attrs),v=m.colspan||1;if(m.colwidth&&m.colwidth.length>v&&(s=Object(a.a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:m.colwidth,colspan:v}})(s),m.colwidth=m.colwidth.slice(0,v)),!d||c.map[f]!==c.map[f-c.width]){var b=1===v?0:u-c.colCount(h);if(!m.colwidth||m.colwidth[b]!==p){var g=m.colwidth?m.colwidth.slice():Array.from({length:v},(function(e){return 0}));g[b]=p,g.length>v&&(s=Object(a.a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:g,colspan:v}})(s),g=g.slice(0,v)),l[h]=Object(r.__assign)(Object(r.__assign)({},m),{colwidth:g})}}}var y=[],O={};for(d=0;d<c.height;d++){var w=t.child(d),E=[];for(u=0;u<c.width;u++){f=d*c.width+u;var k=c.map[f],x=t.nodeAt(k);!O[k]&&x&&(E.push(x.type.createChecked(l[k]||x.attrs,x.content,x.marks)),O[k]=!0)}y.push(w.type.createChecked(w.attrs,E,w.marks))}var _=n-1,T=s.selection;if(s.replaceWith(_,_+t.nodeSize,t.type.createChecked(t.attrs,y,t.marks)),T instanceof i.TextSelection)s.setSelection(new i.TextSelection(s.doc.resolve(T.$from.pos),s.doc.resolve(T.$to.pos)));else if(T instanceof o.CellSelection){var C=o.CellSelection.create(s.doc,T.$anchorCell.pos,T.$headCell.pos);s.setSelection(C)}return s}}},"ch/M":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("D57K"),o=n("I9T1"),i=n("/Xcd"),a=function(e){var t=[];return e.content.firstChild.content.forEach((function(e){var n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach((function(e){t.push(["col",{style:"width: "+e+"px;"}])})):t.push.apply(t,Object(r.__spread)(Array.from({length:n},(function(e){return["col",{}]}))))})),t},s=function(e,t){var n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){return o.DOMSerializer.renderSpec(document,["colgroup",{}].concat(a(e))).dom}(t),e.insertBefore(n,e.firstChild),n.children},c=function(e){return!!Object(i.b)(e.content.firstChild.content).find((function(e){return e.attrs.colwidth}))}},cjvR:function(e,t,n){var r=n("kidG"),o=n("jcO1");e.exports=function(e){var t=r(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var c=o(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},cvKH:function(e,t,n){"use strict";var r,o,i,a=n("D57K"),s=n("ERkP"),c=n("3QpL"),l=n("L21V"),u=n("Nink"),d=n.n(u),p=n("dDc+"),f=n("KsTJ"),h=f.default.button(r||(r=Object(a.__makeTemplateObject)(["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"],["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"])),p.colors.N900,p.colors.N0),m=f.default.span(o||(o=Object(a.__makeTemplateObject)(["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"],["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),p.colors.N50),v=n("IJlJ"),b=Object(l.g)({selected:{id:"fabric.editor.selected",defaultMessage:"Selected",description:"If the item is selected or not."}}),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){e.preventDefault()},t.onClick=function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.tabIndex,n=e.value,r=e.label,o=e.isSelected,i=e.borderColor,a=e.checkMarkColor,c=void 0===a?p.colors.N0:a,l=e.intl.formatMessage;return s.createElement(v.a,{content:r},s.createElement(m,null,s.createElement(h,{onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:t,className:o?"selected":"",style:{backgroundColor:n||"transparent",border:"1px solid "+i}},o&&s.createElement(d.a,{primaryColor:c,label:l(b.selected)}))))},t}(s.PureComponent),y=Object(l.h)(g),O=n("RZTm"),w=f.default.div(i||(i=Object(a.__makeTemplateObject)(["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(O.l)()),E=n("m7kQ");var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.palette,n=e.cols,r=void 0===n?7:n,o=e.onClick,i=e.selectedColor,a=e.className,l=e.intl.formatMessage;return s.createElement(w,{className:a,style:{maxWidth:32*r}},t.map((function(e){var t,n,r=e.value,a=e.label,u=e.border,d=e.message;return s.createElement(y,{key:r,value:r,borderColor:u,label:d?l(d):a,onClick:o,isSelected:r===i,checkMarkColor:(t=r,n=[E.N0,E.N500],n.sort((function(e,n){return c.a.difference(n,t)-c.a.difference(e,t)}))[0])})})))},t}(s.PureComponent);t.a=Object(l.h)(k)},d3mg:function(e,t,n){"use strict";var r,o,i=n("ERkP"),a=n("Dsue"),s=n("1+r5"),c=n("XoQQ"),l=n("BH7h"),u=n("Kv+2"),d=n("D57K"),p=n("L21V"),f=n("PWr6"),h=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},m=function(e,t,n){return function(r){if(!e)return r;var o=function(e){return parseFloat(window.getComputedStyle(e,void 0).lineHeight||"")}(h(t)),i=function(e,t,n){var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=r.height;return{left:e.left-o,right:e.right-o,top:e.top-(i-n)+t.scrollTop,bottom:a-(e.top-(i-n)-t.scrollTop)}}(n(),e,o);return{left:r.left?i.left:void 0,right:r.right?i.right:void 0,top:r.top?i.top:void 0,bottom:r.bottom?i.bottom:void 0}}},v=n("17eC"),b=n("KsTJ"),g=n("RZTm"),y=n("dDc+"),O=n("A+BJ"),w=b.default.div(o||(o=Object(d.__makeTemplateObject)(["\n  border-radius: ","px;\n  "," display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"],["\n  border-radius: ","px;\n  "," display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"])),Object(g.f)(),O.j,y.colors.N0,(function(e){var t=e.height;return t?Object(b.css)(r||(r=Object(d.__makeTemplateObject)(["\n          height: ","px;\n        "],["\n          height: ","px;\n        "])),t):""})),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.containerRef,n=e.children,r=e.target,o=e.offset,a=e.fitWidth,s=e.fitHeight,c=void 0===s?40:s,l=e.onPositionCalculated,u=e.popupsMountPoint,d=e.popupsBoundariesElement,p=e.className,f=e.alignX,h=e.alignY,m=e.zIndex;return r?i.createElement(v.a,{alignX:f,alignY:h,target:r,zIndex:m,mountTo:u,boundariesElement:d,offset:o,fitWidth:a,fitHeight:c,onPositionCalculated:l},i.createElement(w,{height:c,className:p,innerRef:t},n)):null},t}(i.PureComponent),k=Object(p.g)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}}),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){e?(t.props.insertPlaceholder(e),t.props.setFocusInEditor()):t.props.hidePlaceholderFloatingToolbar()},t.handleBlur=function(){t.props.hidePlaceholderFloatingToolbar()},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.getNodeFromPos,n=e.showInsertPanelAt,r=e.editorViewDOM,o=e.popupsMountPoint,a=e.getFixedCoordinatesFromPos,s=e.popupsBoundariesElement,c=e.intl.formatMessage,l=t(n),u=function(e,t){return t?t.offsetParent:e.offsetParent}(r,o),d=m(u,l,(function(){return a(n)}));return i.createElement(E,{target:h(l),onPositionCalculated:d,popupsMountPoint:o,popupsBoundariesElement:s,fitHeight:32,offset:[0,12]},i.createElement(f.a,{placeholder:c(k.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))},t}(i.Component),_=Object(p.h)(x),T=n("xwRc");n.d(t,"b",(function(){return C}));var C=new a.PluginKey("placeholderTextPlugin");t.a=function(e){return{name:"placeholderText",nodes:function(){return[{name:"placeholder",node:s.a}]},pmPlugins:function(){return[{name:"placeholderText",plugin:function(t){return function(e,t){var n=!!t.allowInserting;return new a.Plugin({key:C,state:{init:function(){return{showInsertPanelAt:null,allowInserting:n}},apply:function(t,r){var o=t.getMeta(C);if(o&&void 0!==o.showInsertPanelAt){var i={showInsertPanelAt:o.showInsertPanelAt,allowInserting:n};return e(C,i),i}if(r.showInsertPanelAt){i={showInsertPanelAt:t.mapping.map(r.showInsertPanelAt),allowInserting:n};return e(C,i),i}return r}},appendTransaction:function(e,t,n){if(e.some((function(e){return e.docChanged}))){var r=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,o=n.selection.$head.nodeAfter,i=n.selection.$head.pos,s=n.schema.nodes.placeholder;if(o&&o.type===s&&r)if(t.selection.$head.pos<n.selection.$head.pos&&!Object(l.i)(n.selection.$head.nodeBefore)){var c=a.NodeSelection.create(n.doc,i),d=c.$from,p=c.$to;return n.tr.deleteRange(d.pos,p.pos)}}return!C.getState(t).showInsertPanelAt&&C.getState(n).showInsertPanelAt?n.tr.setSelection(new u.a(n.selection.$from)):C.getState(t).showInsertPanelAt&&!C.getState(n).showInsertPanelAt&&n.selection instanceof u.a?n.tr.setSelection(new a.TextSelection(n.selection.$from)):void 0}})}(t.dispatch,e)}}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=function(e){return Object(T.b)(e)(t.state,t.dispatch)},a=function(){return Object(T.a)(t.state,t.dispatch)},s=function(e){return t.domAtPos(e).node},l=function(e){return t.coordsAtPos(e)},u=function(){return t.focus()};return i.createElement(c.a,{plugins:{placeholderTextState:C},render:function(e){var c=e.placeholderTextState,d=void 0===c?{}:c;return d.showInsertPanelAt?i.createElement(_,{editorViewDOM:t.dom,popupsMountPoint:n,popupsBoundariesElement:r,getFixedCoordinatesFromPos:l,getNodeFromPos:s,hidePlaceholderFloatingToolbar:a,showInsertPanelAt:d.showInsertPanelAt,insertPlaceholder:o,setFocusInEditor:u}):null}})}}}},dWTA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 0 0-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 0 0-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="QuoteIcon";var c=s;t.default=c},dZ9C:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("D57K"),o=n("Dsue"),i=n("0Hbo"),a=n("m23B"),s=n("BE5N"),c=function(e){return function(t){var n=Object(a.findTable)(t.selection);if(!n)return t;for(var c=[],l=e.left;l<e.right;l++)c.push(l);if(!c.length)return t;for(var u=i.TableMap.get(n.node),d=[],p={},f={},h=0;h<u.height;h++){for(var m=[],v=n.node.child(h),b=function(e){var t=u.map[h*u.width+e],o=n.node.nodeAt(t);if(!o)return"continue";var i=u.cellsInRect({left:e,top:0,right:e+1,bottom:u.height});if(-1===c.indexOf(e)){if(i.indexOf(t)>-1&&!p[t]){var a=0;if(c.forEach((function(t){e<t&&o.attrs.colspan+e-1>=t&&(a+=1)})),a>0){var s=Object(r.__assign)(Object(r.__assign)({},o.attrs),{colspan:o.attrs.colspan-a});if(o.attrs.colwidth){var l=Math.min.apply(Math,Object(r.__spread)(c)),d=l>0?l-u.colCount(t):0,v=o.attrs.colwidth.slice()||[];v.splice(d,a),s.colwidth=v}var b=o.type.createChecked(s,o.content,o.marks);return m.push(b),p[t]=!0,"continue"}}else if(f[t]){s=Object(r.__assign)(Object(r.__assign)({},o.attrs),{colspan:1,rowspan:1});if(o.attrs.colwidth){d=e>0?e-u.colCount(t):0;s.colwidth=o.attrs.colwidth.slice().splice(d,1)}b=o.type.createChecked(s,o.type.schema.nodes.paragraph.createChecked(),o.marks);return m.push(b),"continue"}p[t]||(p[t]=!0,m.push(o))}else i.indexOf(t)>-1&&(f[t]=!0)},g=0;g<u.width;g++)b(g);m.length&&d.push(v.type.createChecked(v.attrs,m,v.marks))}if(!d.length)return Object(s.a)({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);var y=n.node.type.createChecked(n.node.attrs,d,n.node.marks),O=function(e){var t=i.TableMap.get(e),n=function(e){for(var t=[],n=0;n<e.childCount;n++){for(var o=[],i=e.child(n),a=0;a<i.childCount;a++){var s=i.child(a);o.push(s.attrs.rowspan)}t[n]=Math.min.apply(Math,Object(r.__spread)(o))}return t}(e);if(!n.some((function(e){return e>1})))return e;for(var o=[],a=0;a<t.height;a++){var s=e.child(a);if(1===n[a])o.push(s);else{for(var c=[],l=0;l<s.childCount;l++){var u=s.child(l),d=u.attrs.rowspan-n[a]+1;if(d<1)return null;var p=u.type.createChecked(Object(r.__assign)(Object(r.__assign)({},u.attrs),{rowspan:d}),u.content,u.marks);c.push(p)}o.push(s.type.createChecked(s.attrs,c,s.marks))}}if(!o.length)return null;return e.type.createChecked(e.attrs,o,e.marks)}(y);if(null===O)return Object(s.a)({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);var w=function(e,t){var n=Math.min.apply(Math,Object(r.__spread)(t)),o=n>0?n-1:0;return i.TableMap.get(e).map[o]}(y,c);return Object(s.a)({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,O).setSelection(o.Selection.near(t.doc.resolve(n.pos+w))))}}},di6S:function(e,t,n){var r=n("kidG"),o=n("jcO1"),i=n("WAco");e.exports=function(e){var t=r(e),n=o(t).getTime()-i(t).getTime();return Math.round(n/6048e5)+1}},eDcA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 0 1-2 0v-4.586l-3-3V10.5a1 1 0 0 1-2 0V7a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2H9.414zm8.293-1.707a.999.999 0 0 1 0 1.414l-2.5 2.5a.997.997 0 0 1-1.414 0 .999.999 0 0 1 0-1.414l2.5-2.5a.999.999 0 0 1 1.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorDecisionIcon";var c=s;t.default=c},eO16:function(e,t,n){"use strict";var r=n("T1Ll").unescapeAll;e.exports=function(e,t,n){var o,i,a=t,s={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return s;if(62===o)return s.pos=t+1,s.str=r(e.slice(a+1,t)),s.ok=!0,s;92===o&&t+1<n?t+=2:t++}return s}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n)t+=2;else{if(40===o&&i++,41===o){if(0===i)break;i--}t++}return a===t?s:0!==i?s:(s.str=r(e.slice(a,t)),s.lines=0,s.pos=t,s.ok=!0,s)}},eR5l:function(e,t,n){"use strict";var r=n("T1Ll").normalizeReference,o=n("T1Ll").isSpace;e.exports=function(e,t,n,i){var a,s,c,l,u,d,p,f,h,m,v,b,g,y,O,w,E=0,k=e.bMarks[t]+e.tShift[t],x=e.eMarks[t],_=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<x;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===x)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(l=e.lineMax,O=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";_<l&&!e.isEmpty(_);_++)if(!(e.sCount[_]-e.blkIndent>3||e.sCount[_]<0)){for(y=!1,d=0,p=O.length;d<p;d++)if(O[d](e,_,l,!0)){y=!0;break}if(y)break}for(x=(g=e.getLines(t,_,e.blkIndent,!1).trim()).length,k=1;k<x;k++){if(91===(a=g.charCodeAt(k)))return!1;if(93===a){h=k;break}10===a?E++:92===a&&++k<x&&10===g.charCodeAt(k)&&E++}if(h<0||58!==g.charCodeAt(h+1))return!1;for(k=h+2;k<x;k++)if(10===(a=g.charCodeAt(k)))E++;else if(!o(a))break;if(!(v=e.md.helpers.parseLinkDestination(g,k,x)).ok)return!1;if(u=e.md.normalizeLink(v.str),!e.md.validateLink(u))return!1;for(s=k=v.pos,c=E+=v.lines,b=k;k<x;k++)if(10===(a=g.charCodeAt(k)))E++;else if(!o(a))break;for(v=e.md.helpers.parseLinkTitle(g,k,x),k<x&&b!==k&&v.ok?(w=v.str,k=v.pos,E+=v.lines):(w="",k=s,E=c);k<x&&(a=g.charCodeAt(k),o(a));)k++;if(k<x&&10!==g.charCodeAt(k)&&w)for(w="",k=s,E=c;k<x&&(a=g.charCodeAt(k),o(a));)k++;return!(k<x&&10!==g.charCodeAt(k))&&(!!(f=r(g.slice(1,h)))&&(!!i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:w,href:u}),e.parentType=m,e.line=t+E+1,!0)))}},eZO1:function(e,t,n){"use strict";var r=n("D57K"),o=n("Dsue"),i=n("m23B"),a=n("aGmo"),s=n("qp5z"),c=n("LzaW"),l=n("ERkP"),u=n("I9T1"),d=n("RLFc"),p=n("ch/M"),f=n("xjsc"),h=n("XoQQ"),m=n("uJU4"),v=n("PnZS"),b=n("+rIR"),g=function(e){return{"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize}},y=function(e){function t(t){var n=e.call(this,t.node,t.view,t.getPos,t.portalProviderAPI,t)||this;return n.getPos=t.getPos,n}return Object(r.__extends)(t,e),t.prototype.getContentDOM=function(){var e,t,n,r=u.DOMSerializer.renderSpec(document,(e=this.node,t=this.reactComponentProps,n="",t.allowColumnResizing&&(n=["colgroup",{}].concat(Object(p.a)(e))),["table",g(e),n,["tbody",0]]));return r.dom&&(this.table=r.dom),r},t.prototype.setDomAttrs=function(e){var t=this;if(this.table){var n=g(e);Object.keys(n).forEach((function(e){t.table.setAttribute(e,n[e])}))}},t.prototype.render=function(e,t){var n=this;return l.createElement(h.a,{plugins:{containerWidth:m.b,pluginState:Z,tableResizingPluginState:v.d},editorView:e.view,render:function(o){return l.createElement(f.a,Object(r.__assign)({},e,o,{node:n.node,width:o.containerWidth.width,contentDOM:t}))}})},t.prototype.ignoreMutation=function(){return!0},t}(d.b),O=n("gguW"),w=n("LrSM"),E=n("0Hbo"),k=n("mGva"),x=n("J4Cj"),_=n("hfrt"),T=function(e,t){var n,o,s=Object(i.findTable)(e.selection);if(s){n=s.node;var c=e.doc.type.schema.nodes,l=c.tableCell,u=c.tableHeader,d=Object(i.findParentNodeOfType)([l,u])(e.selection);o=d?d.pos:void 0}var p,f=t.pluginConfig.allowControls,h=void 0===f||f,m=Object(x.h)(t.decorationSet),v=Object(x.g)(t.decorationSet),b=e.steps.find((function(e){return e instanceof _.a}));if(b&&s&&s.pos===b.pos&&(p=b.next),t.tableNode!==n||t.targetCellPosition!==o||m.length||v.length){var g=function(e,t,n){var r=a.DecorationSet.empty;return t&&n&&(r=Object(x.i)(e.doc,r,Object(x.b)(e.selection),k.d.COLUMN_CONTROLS_DECORATIONS)),e.selection instanceof E.CellSelection&&e.selection.isColSelection()&&(r=Object(x.i)(e.doc,r,Object(x.d)(e),k.d.COLUMN_SELECTED)),r}(e,h,n);return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},t),Q),{decorationSet:g.remove(m),targetCellPosition:o,tableNode:n,ordering:p})}return t},C=n("U6Bd"),S=n("mu0/"),j=n("fjMk"),M=n("EEFo"),A=n("N01o"),R=n("kbCE"),N=n("sgYd"),I=n("AvUA"),P=n("hYET"),D=n("dZ9C"),L=function(e,t){var n=e.state,r=e.dispatch;return 11!==s.a.ie_version&&Object(O.j)(!1)(n,r),t.preventDefault(),!1},B=function(e,t){var n=e.state,r=e.dispatch;return Object(O.j)(!0)(n,r),t.preventDefault(),!1},z=function(e,t){var n=t.target,o=Object(i.findTable)(e.state.selection);if(t instanceof MouseEvent&&Object(N.e)(n)){var a=Object(r.__read)(Object(N.a)(n),1)[0],s=e.state,c=e.dispatch;return Object(O.h)(a,t.shiftKey)(s,c)}var l=n.matches?"matches":"msMatchesSelector";if(!o||!Object(R.s)(n)||n[l]("table .image, table p, table .image div"))return!1;var u=E.TableMap.get(o.node),d=Object(R.j)(n,"td")||Object(R.j)(n,"th"),p=d&&d.cellIndex,f=Object(R.j)(n,"tr"),h=f&&f.rowIndex,m=u.width*h+p,v=u.map[m+1],b=e.dispatch,g=e.state,y=g.tr,w=g.schema.nodes.paragraph,k=o.node.nodeAt(u.map[m]);return Object(R.w)(k)&&(y.insert(v+o.pos,w.create()),b(y),Object(R.G)(e,v+o.pos)),!0},H=function(e,t){var n=e.state,o=e.dispatch,i=t.target,a=re(n),s=a.insertColumnButtonIndex,c=a.insertRowButtonIndex;if(Object(N.g)(i)){var l=Object(r.__read)(Object(N.a)(i),2),u=l[0],d=l[1],p="bottom"===Object(N.c)(t)?d:u;return Object(O.n)(p)(n,o)}if(Object(N.e)(i)){u=Object(r.__read)(Object(N.a)(i),1)[0];var f=e.state,h=e.dispatch;return Object(w.c)([u],!1)(f,h)}if((Object(N.d)(i)||Object(N.f)(i))&&("number"==typeof s||"number"==typeof c))return Object(O.f)()(n,o);if(Object(N.h)(i)){var m=Object(r.__read)(Object(N.a)(i),2);u=m[0],d=m[1];return Object(w.g)({left:u,right:d})(n,o)}return!1},F=function(e,t){var n=!!(t.target&&t.target instanceof HTMLElement&&(Object(N.e)(t.target)||Object(N.i)(t.target)));return n&&t.preventDefault(),n},U=function(e,t){var n=t.target;if(Object(N.e)(n)){var r=e.state,o=e.dispatch;return Object(w.a)()(r,o)}if(Object(N.h)(n)){r=e.state,o=e.dispatch;return Object(w.b)()(r,o)}return!1},W=function(e,t){var n=e.state,r=e.dispatch,o=re(n),i=o.insertColumnButtonIndex,a=o.insertRowButtonIndex,s=t.target;return!!Object(N.j)(s)||!(void 0===i&&void 0===a||!Object(O.f)()(n,r))},K=function(e,t){var n=t.target;if(Object(N.e)(n)){var o,a=e.state,s=e.dispatch,c=re(a).insertColumnButtonIndex,l=Object(r.__read)(Object(N.a)(n),2),u=l[0],d=l[1];if((o="right"===Object(N.b)(t)?d:u)!==c)return Object(O.m)(o)(a,s)}if(Object(N.i)(n)){a=e.state,s=e.dispatch;var p=re(a).insertRowButtonIndex,f=Object(r.__read)(Object(N.a)(n),2),h=(u=f[0],d=f[1],"bottom"===Object(N.c)(t)?d:u);if(h!==p)return Object(O.n)(h)(a,s)}if(!Object(N.h)(n)&&Object(N.d)(n)&&null!=(o=Object(N.b)(t,k.a))){a=e.state,s=e.dispatch;var m=Object(R.j)(n,"td, th"),v=e.posAtDOM(m,0),b=Object(i.findCellRectClosestToPos)(a.doc.resolve(v));if(b){var g="left"===o?b.left:b.right;return Object(O.b)(g)(a,s)}}return!1};function V(e,t){var n=e.state,r=e.dispatch,i=Object(E.cellAround)(n.doc.resolve(t));if(!i)return!1;var a=n.doc.nodeAt(i.pos);if(a){var s=o.Selection.findFrom(i,1,!0),c=o.Selection.findFrom(n.doc.resolve(i.pos+a.nodeSize),-1,!0);if(s&&c)return r(n.tr.setSelection(new o.TextSelection(s.$from,c.$to))),!0}return!1}var G=function(e){return function(t,n){var r=Object(v.c)(t.state),o=re(t.state),i=r&&!!r.dragging;return!(!o||!o.tableNode||i)&&Object(C.a)(e(t,n))}},q=n("BHQE");n.d(t,"e",(function(){return Z})),n.d(t,"c",(function(){return Q})),n.d(t,"b",(function(){return oe})),n.d(t,"a",(function(){return ne})),n.d(t,"d",(function(){return re}));var $,Y,X,J,Z=new o.PluginKey("tablePlugin"),Q={hoveredColumns:[],hoveredRows:[],isInDanger:!1},ee=Object(c.a)(Z,(function(e,t){switch(t.type){case"TOGGLE_HEADER_COLUMN":return Object(r.__assign)(Object(r.__assign)({},e),{isHeaderColumnEnabled:!e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return Object(r.__assign)(Object(r.__assign)({},e),{isHeaderRowEnabled:!e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),t.data),Q);case"SET_TARGET_CELL_POSITION":return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),t.data),{isContextualMenuOpen:!1});case"SET_TABLE_LAYOUT":return Object(r.__assign)(Object(r.__assign)({},e),t.data);case"TOGGLE_CONTEXTUAL_MENU":return Object(r.__assign)(Object(r.__assign)({},e),{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),t.data),{insertColumnButtonIndex:void 0});case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),t.data),{insertRowButtonIndex:void 0});case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?Object(r.__assign)(Object(r.__assign)({},e),{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"ADD_RESIZE_HANDLE_DECORATIONS":case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"HIDE_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return Object(r.__assign)(Object(r.__assign)({},e),t.data);default:return e}}),{mapping:function(e,t){if(e.docChanged&&t.targetCellPosition){var n=e.mapping.mapResult(t.targetCellPosition),o=n.pos,i=n.deleted;return Object(r.__assign)(Object(r.__assign)({},t),{targetCellPosition:i?void 0:o})}return t},onDocChanged:T,onSelectionChanged:T}),te=ee.createPluginState,ne=ee.createCommand,re=ee.getPluginState,oe=function(e,t,n,c,l,u,d){$=l,Y=c,X=u,J=d;var p=te(e,(function(){return Object(r.__assign)({pluginConfig:n,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,decorationSet:a.DecorationSet.empty,isFullWidthModeEnabled:X,isHeaderRowEnabled:!!n.allowHeaderRow,isHeaderColumnEnabled:!1},Q)}));return new o.Plugin({state:p,key:Z,appendTransaction:function(e,t,n){var r=e.find((function(e){return"cut"===e.getMeta("uiEvent")}));if(r){var o=function(e,t,n){var r=t.tr.selection,o=n.tr;if(r instanceof E.CellSelection){var a=e.doc.resolve(e.mapping.map(r.$anchorCell.pos)),s=e.doc.resolve(e.mapping.map(r.$headCell.pos)),c=new E.CellSelection(a,s);if(o.setSelection(c),o.selection instanceof E.CellSelection){var l=Object(i.getSelectionRect)(c);if(l){var u=Object(I.a)(o.selection),d=u.verticalCells,p=u.horizontalCells,f=u.totalCells,h=u.totalRowCount,m=u.totalColumnCount;if((o=Object(j.a)(n,o,{action:M.a.CUT,actionSubject:A.b.TABLE,actionSubjectId:null,attributes:{verticalCells:d,horizontalCells:p,totalCells:f,totalRowCount:h,totalColumnCount:m},eventType:A.d.TRACK})).selection instanceof E.CellSelection)if(o.selection.isRowSelection()&&o.selection.isColSelection())o=Object(i.removeTable)(o);else if(o.selection.isRowSelection()){var v=re(n).pluginConfig.isHeaderRowRequired;o=Object(P.a)(l,v)(o),S.a.trackEvent("atlassian.editor.format.table.delete_row.button")}else o.selection.isColSelection()&&(S.a.trackEvent("atlassian.editor.format.table.delete_column.button"),o=Object(D.a)(l)(o))}}}return o}(r,t,n);return Object(q.c)(o)||o}if(e.find((function(e){return e.docChanged})))return Object(q.c)(n.tr)},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n,r,o=e.state,a=e.dispatch,s=o.selection,c=re(o);if(c.editorHasFocus){var l=Object(i.findParentDomRefOfType)(o.schema.nodes.table,t)(s);l&&(n=l.querySelector("table")),r=Object(i.findTable)(o.selection)}if((c.tableRef!==n&&Object(O.l)(n)(o,a),c.tableNode!==r&&Object(N.k)(n),c.editorHasFocus&&c.tableRef)&&o.selection.$cursor){var u=Object(i.findParentNodeOfType)(o.schema.nodes.tableHeader)(o.selection);u&&Object(O.a)(u)(o,a)}}}},props:{decorations:function(e){return re(e).decorationSet},handleClick:function(e,t,n){var r=e.state,o=e.dispatch,i=re(r).decorationSet;if(Object(x.h)(i).length&&Object(w.a)()(r,o),s.a.chrome&&n.target){var a=n.target.classList;if(a.contains(k.c.CONTROLS_BUTTON)||a.contains(k.c.CONTEXTUAL_MENU_BUTTON))return!0}return!1},nodeViews:{table:function(e,n,r){return function(e,t,n,r,o){var i=re(t.state).pluginConfig,a=Object(b.b)(i).allowColumnResizing;return new y({node:e,view:t,allowColumnResizing:a,portalProviderAPI:r,getPos:n,options:o}).init()}(e,n,r,t,{isBreakoutEnabled:$,dynamicTextSizing:Y,isFullWidthModeEnabled:X,wasFullWidthModeEnabled:J})}},handleDOMEvents:{focus:B,blur:G(L),mousedown:F,mouseover:G(H),mouseleave:G(W),mouseout:G(U),mousemove:G(K),click:G(z)},handleTripleClick:V}})}},edGS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5h1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm5 0h9a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorLayoutTwoLeftSidebarIcon";var c=s;t.default=c},ezNr:function(e,t,n){"use strict";function r(e){return"full-page"===e||"full-width"===e}n.d(t,"a",(function(){return r}))},fRRa:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return E})),n.d(t,"p",(function(){return k})),n.d(t,"o",(function(){return x})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return T})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return S})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return M})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return R}));var r,o,i,a,s,c,l,u,d=n("lyoF"),p=n("RZTm"),f=n("dDc+"),h=n("6Jxq"),m=n("dHKo"),v=n("aJ+w"),b="emoji-picker-active",g="emoji-picker-disable",y=Object(d.a)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"white",border:h.c+" 1px solid",borderRadius:Object(p.f)()+"px",boxShadow:h.d,height:v.h+"px",width:v.i+"px",marginBottom:"8px",minWidth:v.i+"px"}),O=Object(d.a)({flex:"0 0 auto",backgroundColor:f.colors.N30,$nest:(r={ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,$nest:{button:{verticalAlign:"middle"}}}},r[".emoji-picker-add-button"]={color:f.colors.N200,margin:"0 0 0 5px",verticalAlign:"middle"},r)}),w=Object(d.a)({backgroundColor:"transparent",border:0,color:f.colors.N100A,cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease",$nest:(o={},o["&::-moz-focus-inner"]={border:"0 none",padding:0},o["&."+b]={color:f.colors.B300,$nest:(i={},i["&:hover"]={color:f.colors.B300},i)},o["&:hover"]={color:f.colors.B100},o["&."+g]={color:f.colors.N50,cursor:"default",$nest:(a={},a["&:hover"]={color:f.colors.N50},a)},o["&:focus"]={outline:"0"},o)}),E=Object(d.a)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),k=Object(d.a)({$nest:{"&:focus":{outline:"none"}}}),x="search-icon",_="input",T=Object(d.a)({boxSizing:"border-box",padding:"10px 10px 9px 10px",flex:"0 0 auto",$nest:(s={},s["."+x]={opacity:.5},s["."+_]={background:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 10px",width:"100%",$nest:(c={},c["&:invalid"]={boxShadow:"none"},c["&::-ms-clear"]={display:"none"},c)},s)}),C=Object(d.a)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",$nest:{">div":{flex:"0 0 auto"}}}),S=Object(d.a)({marginLeft:"8px"}),j=Object(d.a)({boxSizing:"border-box",color:f.colors.N900,fontSize:"14px",padding:"5px 8px",textTransform:"lowercase",$nest:{"&:first-letter":{textTransform:"uppercase"}}}),M=Object(d.a)({display:"inline-block",textAlign:"center",width:"40px",$nest:(l={},l["&>."+m.p]={cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px",$nest:(u={"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"}},u["&>."+m.t]={height:"24px",width:"24px"},u)},l["&>."+m.x]={padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"},l)}),A=(Object(d.a)({border:"2px dashed #ccc",borderRadius:Object(p.f)()+"px",backgroundColor:"transparent",width:"32px",height:"32px",padding:0,margin:"4px",verticalAlign:"middle",$nest:{"&:hover":{backgroundColor:h.a},"&:focus":{outline:"0"},span:{backgroundColor:"inherit"}}}),Object(d.a)({flex:"0 0 auto"})),R=Object(d.a)({borderTop:"2px solid "+f.colors.N30A,boxShadow:h.b})},fbVm:function(e,t,n){"use strict";var r=n("VrFO"),o=n.n(r),i=n("Y9Ll"),a=n.n(i),s=n("N+ot"),c=n.n(s),l=n("AuHH"),u=n.n(l),d=n("1Pcy"),p=n.n(d),f=n("5Yy7"),h=n.n(f),m=n("KEM+"),v=n.n(m),b=n("ERkP"),g=n.n(b),y=n("aWzz"),O=n.n(y),w=n("OEBU"),E=n("YGBU"),k=n("2sr0"),x=n("tQaH"),_=n.n(x),T=n("T0aG"),C=n.n(T),S=n("KsTJ"),j=n("U6Bd"),M=n("35H0"),A=n("hnTD"),R=n.n(A),N=S.default.div.withConfig({displayName:"ScrollBlock__Blanket",componentId:"sc-1xiww8k-0"})(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n"]);function I(){return g.a.createElement(N,null,g.a.createElement(R.a,null))}var P={"top left":{position:"top-start",animation:"top"},"top center":{position:"top",animation:"top"},"top right":{position:"top-end",animation:"top"},"right top":{position:"right-start",animation:"right"},"right middle":{position:"right",animation:"right"},"right bottom":{position:"right-end",animation:"right"},"bottom left":{position:"bottom-start",animation:"bottom"},"bottom center":{position:"bottom",animation:"bottom"},"bottom right":{position:"bottom-end",animation:"bottom"},"left top":{position:"left-start",animation:"left"},"left middle":{position:"left",animation:"left"},"left bottom":{position:"left-end",animation:"left"}},D="right middle";function L(e){return function(e){return e&&P[e]?P[e].position:null}(e)||P[D].position}var B=S.default.div.withConfig({displayName:"styledContentContainer",componentId:"p0j3f7-0"})(["\n  [data-role='droplistContent'] {\n    ",";\n  }\n"],(function(e){var t=e.maxHeight;return t?"max-height: ".concat(t,"px"):""})),z=S.default.div.withConfig({displayName:"Layer__FixedTarget",componentId:"qunuuz-0"})(["\n  ",";\n"],(function(e){var t=e.fixedOffset,n=e.targetRef;if(t&&n){var r=n.firstChild.getBoundingClientRect();return"\n        position: fixed;\n        top: ".concat(t.top,"px;\n        left: ").concat(t.left,"px;\n        height: ").concat(r.height,"px;\n        width: ").concat(r.width,"px;\n        z-index: -1;\n      ")}return"display: none;"}));var H=function(e){function t(e){var n;return o()(this,t),n=c()(this,u()(t).call(this,e)),v()(p()(n),"popper",void 0),v()(p()(n),"targetRef",void 0),v()(p()(n),"contentRef",void 0),v()(p()(n),"fixedRef",void 0),v()(p()(n),"extractStyles",(function(e){if(e){var t=e.offsets.popper.height,r=Math.round(e.offsets.popper.left),o="object"===C()(e.offsets.popper.position)?e.offsets.popper.position.position:e.offsets.popper.position,i=n.fixPositionTopUnderflow(e.offsets.popper.top,o),a=n.state.originalHeight||t,s=n.calculateMaxHeight(a,t,i,o);n.setState({cssPosition:o,hasExtractedStyles:!0,transform:"translate3d(".concat(r,"px, ").concat(i,"px, 0px)"),flipped:!!e.flipped,actualPosition:e.position,originalPosition:e.originalPosition,originalHeight:a,maxHeight:s})}})),n.state={hasExtractedStyles:!1,position:null,transform:null,flipped:!1,actualPosition:null,offsets:{popper:{left:-9999,top:-9999}},originalPosition:null,cssPosition:"absolute",originalHeight:null,maxHeight:null,fixedOffset:null},n.extractStyles=Object(j.a)(n.extractStyles.bind(p()(n))),n}return h()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.applyPopper(this.props),this.calculateFixedOffset(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.applyPopper(e),this.calculateFixedOffset(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.onFlippedChange,o=n.onPositioned,i=this.state,a=i.flipped,s=i.actualPosition,c=i.originalPosition,l=i.hasExtractedStyles;t.flipped!==a&&r&&r({flipped:a,actualPosition:s,originalPosition:c}),!t.hasExtractedStyles&&l&&o&&o()}},{key:"componentWillUnmount",value:function(){this.extractStyles.cancel(),this.popper&&this.popper.destroy()}},{key:"calculateMaxHeight",value:function(e,t,n,r){var o=0;if(document.documentElement&&(o=document.documentElement.clientHeight),"fixed"!==r||"viewport"!==this.props.boundariesElement)return null;var i=Math.max(o,window.innerHeight||0);return i<e&&t+n>=i-50?i-12:null}},{key:"calculateFixedOffset",value:function(e){var t=e.isAlwaysFixed;if(t&&this.targetRef){var n=this.targetRef.firstChild;this.setState({fixedOffset:{top:n.getBoundingClientRect().top,left:n.getBoundingClientRect().left}})}else t||null===this.state.fixedOffset||this.setState({fixedOffset:null})}},{key:"fixPositionTopUnderflow",value:function(e,t){return e>=0||"fixed"!==t?Math.round(e):0}},{key:"applyPopper",value:function(e){if(this.fixedRef&&this.targetRef&&this.contentRef&&(this.popper&&this.popper.destroy(),e.content)){var t=e.isAlwaysFixed?this.fixedRef:this.targetRef.firstChild,n={placement:L(e.position),onCreate:this.extractStyles,onUpdate:this.extractStyles,modifiers:{applyStyle:{enabled:!1},hide:{enabled:!1},offset:{enabled:!0,offset:this.props.offset},flip:{enabled:!!this.props.autoFlip,flipVariations:!0,boundariesElement:this.props.boundariesElement,padding:0},preventOverflow:{enabled:!!this.props.autoFlip,escapeWithReference:!("scrollParent"===this.props.boundariesElement)}},positionFixed:e.isAlwaysFixed},r=function(e){return e.position&&Array.isArray(e.autoFlip)?[e.position.split(" ")[0]].concat(e.autoFlip):null}(e);r&&(n.modifiers.flip.behavior=r),this.popper=new M.a(t,this.contentRef,n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.zIndex,r=t.lockScroll,o=this.state,i=o.cssPosition,a=o.transform,s=o.hasExtractedStyles,c=o.maxHeight,l=o.fixedOffset,u=s?{}:{opacity:0};return g.a.createElement("div",null,g.a.createElement("div",{ref:function(t){e.targetRef=t}},this.props.children),g.a.createElement(z,{targetRef:this.targetRef,fixedOffset:l},g.a.createElement("div",{style:{height:"100%",width:"100%"},ref:function(t){e.fixedRef=t}})),r&&g.a.createElement(I,null),g.a.createElement(B,{maxHeight:c},g.a.createElement("div",{ref:function(t){e.contentRef=t},style:_()({top:0,left:0,position:i,transform:a,zIndex:n},u)},this.props.content)))}}]),t}(b.Component);v()(H,"defaultProps",{autoFlip:!0,boundariesElement:"viewport",children:null,content:null,offset:"0, 0",onFlippedChange:function(){},position:"right middle",zIndex:400,lockScroll:!1,isAlwaysFixed:!1,onPositioned:function(){}});var F=n("Ydxy"),U=n("RZTm"),W=n("QQn5"),K=n("m7kQ"),V=n("hd9Z"),G=S.default.div.withConfig({displayName:"Droplist",componentId:"sc-1z05y4v-0"})(["\n  display: inline-flex;\n\n  ",";\n"],(function(e){return e.fit&&"\n    display: block;\n    flex: 1 1 auto;\n  "})),q=K.backgroundOnLayer,$=Object(S.css)(["\n  box-shadow: 0 ","px ","px -","px\n      ",",\n    0 0 1px ",";\n"],Object(V.divide)(U.l,2),U.l,Object(V.divide)(U.l,4),K.N50A,K.N60A),Y=S.default.div.withConfig({displayName:"Droplist__Content",componentId:"sc-1z05y4v-1"})(["\n  background: ",";\n  border-radius: ","px;\n  ",";\n  box-sizing: border-box;\n  overflow: auto;\n  padding: ","px 0;\n  max-height: ",";\n"],q,U.f,$,Object(V.divide)(U.l,2),(function(e){var t=e.isTall,n=e.maxHeight;if(n)return"".concat(n,"px");var r=Object(U.l)();return t?"90vh":"".concat(9.5*(17+2*r)+r/2,"px")})),X=S.default.div.withConfig({displayName:"Droplist__SpinnerContainer",componentId:"sc-1z05y4v-2"})(["\n  display: flex;\n  justify-content: center;\n  min-width: ","px;\n  padding: ","px;\n"],Object(V.multiply)(U.l,20),Object(V.multiply)(U.l,2.5)),J=S.default.div.withConfig({displayName:"Droplist__Trigger",componentId:"sc-1z05y4v-3"})(["\n  display: inline-flex;\n  transition-duration: 0.2s;\n  transition: box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);\n\n  ",";\n"],(function(e){return e.fit&&"\n    box-sizing: border-box;\n    display: block;\n  "})),Z=n("3GHw"),Q=n("+3hD"),ee={bottom:U.l,left:Object(V.multiply)(U.l,1.5),right:Object(V.multiply)(U.l,1.5),top:U.l},te={padding:{default:ee,compact:ee},borderRadius:function(){return 0},default:{background:Object(Q.a)({light:K.N0,dark:K.DN50}),text:Object(Q.a)({light:K.N800,dark:K.DN600}),secondaryText:Object(Q.a)({light:K.N200,dark:K.DN300})},hover:{background:Object(Q.a)({light:K.N20,dark:K.DN70}),text:Object(Q.a)({light:K.N800,dark:K.DN600}),secondaryText:Object(Q.a)({light:K.N200,dark:K.DN300})},active:{background:Object(Q.a)({light:K.B75,dark:K.B75}),text:Object(Q.a)({light:K.N800,dark:K.B400}),secondaryText:Object(Q.a)({light:K.N200,dark:K.DN300})},selected:{background:"transparent",text:Object(Q.a)({light:K.N800,dark:K.DN600}),secondaryText:Object(Q.a)({light:K.N200,dark:K.DN300})},disabled:{background:"transparent",text:Object(Q.a)({light:K.N70,dark:K.DN80}),secondaryText:Object(Q.a)({light:K.N50,dark:K.DN70})},focus:{outline:Object(Q.a)({light:K.B100,dark:K.B75})}},ne=v()({},Z.e,te),re="0, ".concat(Object(U.l)(),"px");var oe=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),v()(p()(n),"componentDidMount",(function(){n.setContentWidth(),document.addEventListener("click",n.handleClickOutside,!0),document.addEventListener("keydown",n.handleEsc)})),v()(p()(n),"componentDidUpdate",(function(){n.props.isOpen&&n.setContentWidth()})),v()(p()(n),"componentWillUnmount",(function(){document.removeEventListener("click",n.handleClickOutside,!0),document.removeEventListener("keydown",n.handleEsc)})),v()(p()(n),"setContentWidth",(function(){var e=p()(n),t=e.dropContentRef,r=e.triggerRef;n.props.shouldFitContainer&&t&&r&&(t.style.width="".concat(r.offsetWidth-2,"px"))})),v()(p()(n),"dropContentRef",void 0),v()(p()(n),"triggerRef",void 0),v()(p()(n),"handleEsc",(function(e){"Escape"!==e.key&&"Esc"!==e.key||!n.props.isOpen||n.close(e)})),v()(p()(n),"handleClickOutside",(function(e){if(n.props.isOpen&&e.target instanceof Node){var t=n.triggerRef&&n.triggerRef.contains(e.target),r=n.dropContentRef&&n.dropContentRef.contains(e.target);t||r||n.close(e)}})),v()(p()(n),"close",(function(e){n.props.onOpenChange&&n.props.onOpenChange({isOpen:!1,event:e})})),v()(p()(n),"handleContentRef",(function(e){n.dropContentRef=e,e&&e.focus()})),v()(p()(n),"handleTriggerRef",(function(e){n.triggerRef=e})),n}return h()(t,e),a()(t,[{key:"getChildContext",value:function(){return{shouldAllowMultilineItems:this.props.shouldAllowMultilineItems}}},{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.boundariesElement,r=e.children,o=e.isLoading,i=e.isOpen,a=e.maxHeight,s=e.onClick,c=e.onKeyDown,l=e.position,u=e.isMenuFixed,d=e.shouldFitContainer,p=e.shouldFlip,f=e.trigger,h=e.onPositioned,m=e.testId,v=i?g.a.createElement(Y,{"data-role":"droplistContent","data-testid":m&&"".concat(m,"--content"),isTall:"tall"===t,innerRef:this.handleContentRef,maxHeight:a},o?g.a.createElement(X,null,g.a.createElement(F.a,{size:"small"})):g.a.createElement(S.ThemeProvider,{theme:ne},g.a.createElement("div",null,r))):null;return g.a.createElement(G,{fit:d,onClick:s,onKeyDown:c},g.a.createElement(H,{autoFlip:p,boundariesElement:n,content:v,offset:re,position:l,isAlwaysFixed:i&&u,onPositioned:h},g.a.createElement(J,{fit:d,innerRef:this.handleTriggerRef},f)))}}]),t}(b.Component);v()(oe,"defaultProps",{appearance:"default",boundariesElement:"viewport",children:null,isLoading:!1,isOpen:!1,onClick:function(){},onKeyDown:function(){},onOpenChange:function(){},position:"bottom left",isMenuFixed:!1,shouldAllowMultilineItems:!1,shouldFitContainer:!1,shouldFlip:!0,trigger:null,onPositioned:function(){}}),v()(oe,"childContextTypes",{shouldAllowMultilineItems:O.a.bool});var ie=Object(w.a)("atlaskit");t.a=Object(E.a)({componentName:"droplist",packageName:W.a,packageVersion:W.b})(Object(k.a)({onOpenChange:ie({action:"toggled",actionSubject:"droplist",attributes:{componentName:"droplist",packageName:W.a,packageVersion:W.b}})})(oe))},fjMk:function(e,t,n){"use strict";var r=n("D57K"),o=n("m23B"),i=n("0Hbo"),a=n("Dsue"),s=n("KU7H"),c=n("Vvhb"),l=n("7bKp"),u=n("I9T1"),d=n("N01o"),p=[d.a.INVOKED,d.a.OPENED],f=function(e){function t(t,n,r){var o=e.call(this)||this;return o.analyticsEvents=[],o.createAnalyticsEvent=t,o.analyticsEvents=n,o.pos=r,o}return Object(r.__extends)(t,e),t.prototype.invert=function(){var e=this.analyticsEvents.filter((function(e){return-1===p.indexOf(e.payload.action)})).map((function(e){return e.payload.action===d.a.UNDID||e.payload.action===d.a.REDID?function(e){return Object(r.__assign)(Object(r.__assign)({},e),{payload:Object(r.__assign)(Object(r.__assign)({},e.payload),{action:e.payload.action===d.a.UNDID?d.a.REDID:d.a.UNDID})})}(e):function(e){return Object(r.__assign)(Object(r.__assign)({},e),{payload:{action:d.a.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:Object(r.__assign)(Object(r.__assign)({},e.payload.attributes),{actionSubjectId:e.payload.actionSubjectId}),eventType:d.d.TRACK}})}(e)}));return new t(this.createAnalyticsEvent,e)},t.prototype.apply=function(e){var t,n;try{for(var o=Object(r.__values)(this.analyticsEvents),i=o.next();!i.done;i=o.next()){var a=i.value;O(this.createAnalyticsEvent)(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return l.StepResult.ok(e)},t.prototype.map=function(e){var n=this.pos;return"number"==typeof n&&(n=e.map(n)),new t(this.createAnalyticsEvent,this.analyticsEvents,n)},t.prototype.getMap=function(){return"number"==typeof this.pos?new l.StepMap([this.pos,0,0]):new l.StepMap([])},t.prototype.merge=function(e){if(e instanceof t){var n=e.analyticsEvents;return new t(this.createAnalyticsEvent,Object(r.__spread)(n,this.analyticsEvents))}return null},t.prototype.toJSON=function(){return{stepType:"atlaskit-analytics"}},t.fromJSON=function(){return new l.ReplaceStep(0,0,u.Slice.empty)},t}(l.Step);l.Step.jsonID("atlaskit-analytics",f);var h=n("A/E9"),m=n("B9aC");function v(e,t){if(t.action===d.a.INSERTED&&t.actionSubject===d.b.DOCUMENT&&t.attributes){var n=function(e){var t,n,r=e.selection;if(r instanceof s.a)t=m.c.GAP_CURSOR,n=r.side===s.c.LEFT?m.b.LEFT:m.b.RIGHT;else if(r instanceof i.CellSelection)t=m.c.CELL;else if(r instanceof a.NodeSelection)t=m.c.NODE;else if(r.from!==r.to)t=m.c.RANGED;else{t=m.c.CURSOR;var o=r.from,c=r.$from;n=o===c.start()?m.b.START:o===c.end()?m.b.END:m.b.MIDDLE}return{type:t,position:n}}(e),r=n.type,c=n.position;t.attributes.selectionType=r,c&&(t.attributes.selectionPosition=c),t.attributes.insertLocation=function(e){var t=e.selection;if(t instanceof a.NodeSelection)return t.node.type.name;if(t instanceof i.CellSelection)return e.schema.nodes.table.name;var n=Object(o.findParentNode)((function(t){return t.type!==e.schema.nodes.paragraph}))(e.selection);return n?n.node.type.name:e.doc.type.name}(e)}return t}function b(e,t,n,r){void 0===r&&(r=h.d);var o,i=(o=e,c.a.getState(o));if(n=v(e,n),i){var a=t.storedMarks;t.step(new f(i,[{payload:n,channel:r}],t.selection.$from.pos)),a&&t.setStoredMarks(a)}return t}function g(e,t){return function(n){return function(r,o,i){return n(r,(function(n){if(o)if(e instanceof Function){var i=e(r);i&&o(b(r,n,i,t))}else o(b(r,n,e,t))}),i)}}}function y(e){return function(t){var n=t.handler;return t.handler=function(t,r,o,i){var a=n(t,r,o,i);a&&(a=b(t,a,e(t,r,o,i)));return a},t}}n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return w}));var O=function(e){return function(t){var n=t.payload,r=t.channel,o=void 0===r?h.d:r;return e&&e(n).fire(o)}};function w(e){return e.steps.filter((function(e){return e instanceof f})).reduce((function(e,t){return Object(r.__spread)(e,t.analyticsEvents)}),[])}},gHUL:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("Dsue"),o=function(e){if(e&&e instanceof r.NodeSelection&&"status"===e.node.type.name)return e.node.attrs||null;return null},i=function(e){return e&&(e.text&&0===e.text.trim().length||""===e.text)}},gMHJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("D57K"),o=n("ERkP"),i=n("HwzR"),a=n("fyYf"),s=n("X0ma"),c=125,l=156,u=function(e){function t(t){var n=e.call(this,t)||this;n.handleNewNode=function(e){var t=e.node;n.mediaPluginState.handleMediaNodeMount(t,(function(){return n.props.getPos()+1}))};var r=n.props.view;return n.mediaPluginState=s.b.getState(r.state),n}return Object(r.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.selected!==e.selected||this.props.viewMediaClientConfig!==e.viewMediaClientConfig||this.props.uploadComplete!==e.uploadComplete||this.props.node.attrs.id!==e.node.attrs.id||this.props.node.attrs.collection!==e.node.attrs.collection||this.props.cardDimensions.height!==e.cardDimensions.height||this.props.cardDimensions.width!==e.cardDimensions.width||this.props.contextIdentifierProvider!==e.contextIdentifierProvider},t.prototype.componentDidMount=function(){this.handleNewNode(this.props)},t.prototype.componentWillUnmount=function(){var e=this.props.node;this.mediaPluginState.handleMediaNodeUnmount(e)},t.prototype.componentDidUpdate=function(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement()},t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=e.cardDimensions,i=e.onClick,s=e.allowLazyLoading,c=e.viewMediaClientConfig,l=e.uploadComplete,u=e.contextIdentifierProvider,d=t.attrs,p=d.id,f=d.type,h=d.collection,m=d.url,v=d.alt;if("external"!==f&&(!c||"boolean"==typeof l&&!l))return o.createElement(a.c,{dimensions:r});var b="external"===f?{dataURI:m,name:m,mediaItemType:"external-image"}:{id:p,mediaItemType:"file",collectionName:h},g=u&&u.objectId,y=c||{authProvider:function(){return{}}};return o.createElement(a.a,{mediaClientConfig:y,resizeMode:"stretchy-fit",dimensions:r,identifier:b,selectable:!0,selected:n,disableOverlay:!0,onClick:i,useInlinePlayer:s,isLazy:s,contextId:g,alt:v})},t}(o.Component);t.c=Object(i.a)(u)},"gON+":function(e,t,n){"use strict";n.d(t,"m",(function(){return V})),n.d(t,"i",(function(){return G})),n.d(t,"e",(function(){return q})),n.d(t,"d",(function(){return $})),n.d(t,"b",(function(){return Y})),n.d(t,"a",(function(){return X})),n.d(t,"h",(function(){return J})),n.d(t,"j",(function(){return Z})),n.d(t,"l",(function(){return we})),n.d(t,"f",(function(){return Ee})),n.d(t,"g",(function(){return ke})),n.d(t,"c",(function(){return xe})),n.d(t,"k",(function(){return _e}));var r,o,i,a,s,c,l=n("D57K"),u=n("KsTJ"),d=n("dDc+"),p=n("RZTm"),f=n("Rr/J"),h=n("qp5z"),m=n("NFZB"),v=n("A+BJ"),b=n("mGva"),g=n("zS/y"),y=d.colors.N40A,O=d.colors.B100,w=d.colors.B300,E=d.colors.N300,k=d.colors.B75,x=d.colors.N20,_=d.colors.N50,T=d.colors.R50,C=d.colors.R300,S=d.colors.R75,j=d.colors.N20A,M=d.colors.N60A,A=d.colors.N90,R=d.colors.N200,N=d.colors.N0,I=d.colors.R500,P=d.colors.Y50,D=d.colors.Y200,L=x,B=_,z=k,H=O,F=w,U=T,W=C,K=S,V=f.D,G=20,q=16,$=6,Y=16,X=180,J=3,Z=2,Q=10*f.E,ee=Q+1,te=b.a/3,ne=Q+f.H,re=11===h.a.ie_version,oe=function(e){return"\n  ."+b.c.CONTROLS_INSERT_LINE+" {\n    background: "+F+";\n    display: none;\n    position: absolute;\n    z-index: "+f.E+";\n    "+e+"\n  }\n"},ie="\n  background-color: "+B+";\n  position: absolute;\n  height: 4px;\n  width: 4px;\n  border-radius: 50%;\n  pointer-events: none;\n",ae=function(e){return"\n  ."+b.c.CONTROLS_INSERT_MARKER+" {\n    "+ie+";\n    "+e+"\n  }\n"},se=function(e){return"\n  border-radius: "+Object(p.f)()+"px;\n  border-width: 0px;\n  display: inline-flex;\n  max-width: 100%;\n  text-align: center;\n  margin: 0px;\n  padding: 0px;\n  text-decoration: none;\n  transition: background 0.1s ease-out 0s, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;\n  outline: none !important;\n  cursor: none;\n\n  > ."+b.c.CONTROLS_BUTTON_ICON+" {\n    display: inline-flex;\n    max-height: 100%;\n    max-width: 100%;\n  }\n  "+e+"\n"},ce=function(){return"\n  ."+b.c.CONTROLS_INSERT_BUTTON_INNER+" {\n    position: absolute;\n    z-index: "+(f.E+10)+";\n    bottom: 0;\n  }\n  ."+b.c.CONTROLS_INSERT_BUTTON_INNER+",\n  ."+b.c.CONTROLS_INSERT_BUTTON+" {\n    height: "+G+"px;\n    width: "+G+"px;\n  }\n  ."+b.c.CONTROLS_INSERT_BUTTON+" {\n    "+se("\n      background: white;\n      box-shadow: 0 4px 8px -2px "+M+", 0 0 1px "+M+";\n      color: "+E+";\n    ")+"\n  }\n  ."+b.c.CONTROLS_INSERT_LINE+" {\n    display: none;\n  }\n  &:hover ."+b.c.CONTROLS_INSERT_LINE+" {\n    display: flex;\n  }\n"},le=function(){return"\n  ."+b.c.CONTROLS_INSERT_BUTTON+":hover {\n    background: "+w+";\n    color: white;\n    cursor: pointer;\n  }\n"},ue="\n  "+ce()+"\n  "+le()+"\n  "+oe("\n    width: 2px;\n    left: 9px;\n  ")+"\n",de="\n  "+ce()+"\n  "+le()+"\n  "+oe("\n    height: 2px;\n    top: -11px;\n    left: "+(G-1)+"px;\n  ")+"\n",pe="\n  ."+b.c.TABLE_CONTAINER+"."+b.c.WITH_CONTROLS+" table tr:first-child td,\n  ."+b.c.TABLE_CONTAINER+"."+b.c.WITH_CONTROLS+" table tr:first-child th {\n    position: relative;\n\n    &::before {\n      content: ' ';\n      "+ie+";\n      top: -"+(V+13)+"px;\n      right: -2px;\n    }\n  }\n",fe="\n  ."+b.c.CONTROLS_DELETE_BUTTON_WRAP+",\n  ."+b.c.CONTROLS_DELETE_BUTTON+" {\n    height: "+q+"px;\n    width: "+q+"px;\n  }\n  ."+b.c.CONTROLS_DELETE_BUTTON_WRAP+" {\n    ."+b.c.CONTROLS_DELETE_BUTTON+" {\n      "+se("\n        background: "+j+";\n        color: "+E+";\n      ")+"\n    }\n  }\n\n  ."+b.c.CONTROLS_DELETE_BUTTON+":hover {\n    background: "+C+";\n    color: white;\n    cursor: pointer;\n  }\n",he="\n."+b.c.TABLE_RIGHT_SHADOW+",\n."+b.c.TABLE_LEFT_SHADOW+"{\n  display: block;\n  height: calc(100% - "+(m.f+m.e+V-2)+"px);\n  position: absolute;\n  pointer-events: none;\n  top: "+(m.f+V-1)+"px;\n  z-index: "+f.u+";\n  width: 8px;\n}\n."+b.c.TABLE_LEFT_SHADOW+" {\n  background: linear-gradient(\n    to left,\n    rgba(99, 114, 130, 0) 0,\n    "+y+" 100%\n  );\n  left: 0px;\n}\n."+b.c.TABLE_RIGHT_SHADOW+" {\n  background: linear-gradient(\n    to right,\n    rgba(99, 114, 130, 0) 0,\n    "+y+" 100%\n  );\n  left: calc(100% + 2px);\n}\n."+b.c.WITH_CONTROLS+" {\n  ."+b.c.TABLE_RIGHT_SHADOW+",\n  ."+b.c.TABLE_LEFT_SHADOW+"{\n    height: calc(100% - "+(m.f+m.e-2)+"px);\n    top: "+(m.f-1)+"px;\n  }\n  ."+b.c.TABLE_LEFT_SHADOW+" {\n    border-left: 1px solid "+B+";\n  }\n}\n",me="\n  color: "+N+";\n  background-color: "+H+";\n  border-color: "+F+";\n  z-index: "+ee+";\n",ve="\n  ."+b.c.COLUMN_CONTROLS_DECORATIONS+" {\n    display: none;\n    cursor: pointer;\n    position: absolute;\n    width: calc(100% + "+2*m.c+"px);\n    left: -1px;\n    top: -"+(25+m.c)+"px;\n    height: 25px;\n\n    &::after {\n      content: ' ';\n\n      "+(r="\n        border-right: "+m.c+"px solid "+B+";\n        border-bottom: none;\n        height: "+V+"px;\n        width: 100%;\n        position: absolute;\n        top: "+(25-V)+"px;\n        left: 0px;\n        z-index: "+Q+";\n      ","\n  background: "+L+";\n  border-top: 1px solid "+B+";\n  border-left: 1px solid "+B+";\n  display: block;\n  box-sizing: border-box;\n  padding: 0;\n\n  :focus {\n    outline: none;\n  }\n\n  "+r+"\n")+"\n    }\n  }\n\n  ."+b.c.WITH_CONTROLS+" ."+b.c.COLUMN_CONTROLS_DECORATIONS+" {\n    display: block;\n  }\n\n  table tr:first-child td."+b.c.TABLE_CELL+",\n  table tr:first-child th."+b.c.TABLE_HEADER_CELL+" {\n    &."+b.c.COLUMN_SELECTED+",\n    &."+b.c.HOVERED_COLUMN+",\n    &."+b.c.HOVERED_TABLE+" {\n      ."+b.c.COLUMN_CONTROLS_DECORATIONS+"::after {\n        "+me+";\n      }\n\n      &."+b.c.HOVERED_CELL_IN_DANGER+" ."+b.c.COLUMN_CONTROLS_DECORATIONS+"::after {\n        background-color: "+K+";\n        border: 1px solid "+W+";\n        border-bottom: none;\n        z-index: "+100*f.E+";\n      }\n    }\n  }\n\n  ."+b.c.TABLE_SELECTED+" table tr:first-child td."+b.c.TABLE_CELL+",\n  ."+b.c.TABLE_SELECTED+" table tr:first-child th."+b.c.TABLE_HEADER_CELL+" {\n    ."+b.c.COLUMN_CONTROLS_DECORATIONS+"::after {\n      "+me+";\n    }\n  }\n",be="\n  ."+b.c.TABLE_CONTAINER+"."+b.c.HOVERED_DELETE_BUTTON+" {\n    ."+b.c.SELECTED_CELL+",\n    ."+b.c.COLUMN_SELECTED+",\n    ."+b.c.HOVERED_CELL+" {\n      border: 1px solid "+W+";\n    }\n    ."+b.c.SELECTED_CELL+"::after {\n      background: "+U+";\n    }\n  }\n",ge="\n  :not(."+b.c.IS_RESIZING+") ."+b.c.TABLE_CONTAINER+":not(."+b.c.HOVERED_DELETE_BUTTON+") {\n    ."+b.c.HOVERED_CELL+" {\n      position: relative;\n      border: 1px solid "+F+";\n    }\n  }\n",ye="\n  :not(."+b.c.IS_RESIZING+") ."+b.c.TABLE_CONTAINER+":not(."+b.c.HOVERED_DELETE_BUTTON+") {\n    td."+b.c.HOVERED_CELL_WARNING+" {\n      background-color: "+P+" !important; // We need to override the background-color added to the cell\n      border: 1px solid "+D+";\n    }\n  }\n",Oe="\n  ."+b.c.TABLE_CONTAINER+" {\n    ."+b.c.RESIZE_HANDLE_DECORATION+" {\n      background-color: transparent;\n      position: absolute;\n      width: "+te+"px;\n      height: 100%;\n      top: 0;\n      right: -"+te/2+"px;\n      cursor: col-resize;\n      z-index: "+ne+";\n    }\n\n    td."+b.c.WITH_RESIZE_LINE+",\n    th."+b.c.WITH_RESIZE_LINE+" {\n      ."+b.c.RESIZE_HANDLE_DECORATION+"::after {\n        content: ' ';\n        right: "+(te-2)/2+"px;\n        position: absolute;\n        width: 2px;\n        height: calc(100% + 1px);\n        background-color: "+F+";\n        z-index: "+2*Q+";\n        top: 0;\n      }\n    }\n\n    table tr:first-child th."+b.c.WITH_RESIZE_LINE+" ."+b.c.RESIZE_HANDLE_DECORATION+"::after,\n    table tr:first-child td."+b.c.WITH_RESIZE_LINE+" ."+b.c.RESIZE_HANDLE_DECORATION+"::after {\n      top: -"+(V+m.c)+"px;\n      height: calc(100% + "+(V+m.c)+"px);\n    }\n  }\n",we=Object(u.css)(o||(o=Object(l.__makeTemplateObject)(["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: white !important;\n    cursor: pointer;\n  }\n\n\n  .ProseMirror {\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n\n    ."," {\n      margin-bottom: 0;\n    }\n\n    ."," {\n      td.",",\n      th."," {\n        position: relative;\n        overflow: visible;\n      }\n\n      td."," {\n        background-color: #ffffff; // basic color to avoid overflow content on cell\n      }\n    }\n\n    ."," {\n      ","\n    }\n\n    ."," {\n      ","\n    }\n\n    /* Delete button*/\n    ","\n    /* Ends Delete button*/\n\n    ","\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n\n      ."," {\n        left: 6px;\n      }\n\n      ."," {\n        left: calc(100% - 6px);\n      }\n    }\n\n    > ."," {\n      /**\n       * Prevent margins collapsing, aids with placing the gap-cursor correctly\n       * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\n       *\n       * TODO: Enable this, many tests will fail!\n       * border-top: 1px solid transparent;\n       */\n    }\n\n    /* Breakout only works on top level */\n    > ."," .","[data-layout='full-width'],\n    > ."," .","[data-layout='wide'] {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n    > * ."," ."," {\n      width: 100% !important;\n    }\n\n    ",";\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n    }\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n    .","[data-number-column='true'] {\n      .",",\n      ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n    :not(.",") .","."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ",";\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n      .",".active,\n      .",":hover {\n        z-index: ",";\n      }\n\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n      border-left: 1px solid ",";\n    }\n    ."," {\n      border-top: 1px solid ",";\n      border-right: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ","px;\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n    ."," {\n      .",",\n      ."," {\n        display: block;\n      }\n      ."," {\n        border-left: 0 none;\n        padding-left: 1px;\n        margin-left: 0;\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .","."," {\n        background-color: ",";\n        border: 1px solid ",";\n        border-left: 0;\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      overflow: hidden visible;\n      table-layout: fixed;\n\n      ."," + * {\n        margin-top: 0;\n      }\n\n      .",",\n      ."," {\n        position: relative;\n      }\n      /* Give selected cells a blue overlay */\n      .","::after,\n      .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      ."," {\n        border: 1px solid ",";\n      }\n      .","::after {\n        background: ",";\n      }\n      th.","::after, td.","::after {\n        background: ",";\n      }\n    }\n    ."," {\n      position: absolute;\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-top: ","px;\n      margin-top: -","px;\n      padding-bottom: ","px;\n      margin-bottom: -","px;\n      z-index: ",";\n      /* fixes gap cursor height */\n      overflow: ",";\n      position: relative;\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: ",";\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n\n"],["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: white !important;\n    cursor: pointer;\n  }\n\n\n  .ProseMirror {\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n\n    ."," {\n      margin-bottom: 0;\n    }\n\n    ."," {\n      td.",",\n      th."," {\n        position: relative;\n        overflow: visible;\n      }\n\n      td."," {\n        background-color: #ffffff; // basic color to avoid overflow content on cell\n      }\n    }\n\n    ."," {\n      ","\n    }\n\n    ."," {\n      ","\n    }\n\n    /* Delete button*/\n    ","\n    /* Ends Delete button*/\n\n    ","\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n\n      ."," {\n        left: 6px;\n      }\n\n      ."," {\n        left: calc(100% - 6px);\n      }\n    }\n\n    > ."," {\n      /**\n       * Prevent margins collapsing, aids with placing the gap-cursor correctly\n       * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\n       *\n       * TODO: Enable this, many tests will fail!\n       * border-top: 1px solid transparent;\n       */\n    }\n\n    /* Breakout only works on top level */\n    > ."," .","[data-layout='full-width'],\n    > ."," .","[data-layout='wide'] {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n    > * ."," ."," {\n      width: 100% !important;\n    }\n\n    ",";\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n    }\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n    .","[data-number-column='true'] {\n      .",",\n      ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n    :not(.",") .","."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ",";\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n      .",".active,\n      .",":hover {\n        z-index: ",";\n      }\n\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n      border-left: 1px solid ",";\n    }\n    ."," {\n      border-top: 1px solid ",";\n      border-right: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ","px;\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n    ."," {\n      .",",\n      ."," {\n        display: block;\n      }\n      ."," {\n        border-left: 0 none;\n        padding-left: 1px;\n        margin-left: 0;\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .","."," {\n        background-color: ",";\n        border: 1px solid ",";\n        border-left: 0;\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      overflow: hidden visible;\n      table-layout: fixed;\n\n      ."," + * {\n        margin-top: 0;\n      }\n\n      .",",\n      ."," {\n        position: relative;\n      }\n      /* Give selected cells a blue overlay */\n      .","::after,\n      .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      ."," {\n        border: 1px solid ",";\n      }\n      .","::after {\n        background: ",";\n      }\n      th.","::after, td.","::after {\n        background: ",";\n      }\n    }\n    ."," {\n      position: absolute;\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-top: ","px;\n      margin-top: -","px;\n      padding-bottom: ","px;\n      margin-bottom: -","px;\n      z-index: ",";\n      /* fixes gap cursor height */\n      overflow: ",";\n      position: relative;\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: ",";\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n\n"])),b.c.LAYOUT_BUTTON,j,E,b.c.LAYOUT_BUTTON,b.c.IS_RESIZING,w,m.h,pe,be,ge,ye,Oe,b.c.LAST_ITEM_IN_CELL,b.c.TABLE_NODE_WRAPPER,b.c.TABLE_CELL,b.c.TABLE_HEADER_CELL,b.c.TABLE_CELL,b.c.CONTROLS_FLOATING_BUTTON_COLUMN,ue,b.c.CONTROLS_FLOATING_BUTTON_ROW,de,fe,he,8,b.c.ROW_CONTROLS_WRAPPER,8,b.c.TABLE_CONTAINER,f.A+8-1,b.c.TABLE_LEFT_SHADOW,b.c.TABLE_RIGHT_SHADOW,b.c.NODEVIEW_WRAPPER,b.c.NODEVIEW_WRAPPER,b.c.TABLE_CONTAINER,b.c.NODEVIEW_WRAPPER,b.c.TABLE_CONTAINER,b.c.NODEVIEW_WRAPPER,b.c.TABLE_CONTAINER,ve,b.c.CORNER_CONTROLS,V+1,V+1,b.c.CORNER_CONTROLS_INSERT_ROW_MARKER,ae("\n          left: -11px;\n          top: 9px;\n        "),b.c.CORNER_CONTROLS_INSERT_COLUMN_MARKER,ae("\n          right: -1px;\n          top: -12px;\n        "),b.c.CONTROLS_CORNER_BUTTON,V+1,V+1,B,3,L,b.c.CONTROLS_CORNER_BUTTON,F,H,b.c.TABLE_CONTAINER,b.c.CORNER_CONTROLS,b.c.CONTROLS_CORNER_BUTTON,f.D+f.A,b.c.ROW_CONTROLS,b.c.CONTROLS_BUTTON,b.c.IS_RESIZING,b.c.CONTROLS_CORNER_BUTTON,F,H,b.c.IS_RESIZING,b.c.CONTROLS_CORNER_BUTTON,b.c.HOVERED_CELL_IN_DANGER,W,K,b.c.ROW_CONTROLS,V,ae("\n        bottom: -1px;\n        left: -11px;\n      "),b.c.ROW_CONTROLS_INNER,b.c.ROW_CONTROLS_BUTTON_WRAP,3,b.c.ROW_CONTROLS_BUTTON_WRAP,b.c.ROW_CONTROLS_BUTTON_WRAP,b.c.ROW_CONTROLS_BUTTON_WRAP,b.c.CONTROLS_BUTTON,f.E,function(e){return"\n  ."+b.c.CONTROLS_BUTTON+" {\n    background: "+L+";\n    border-top: 1px solid "+B+";\n    border-left: 1px solid "+B+";\n    display: block;\n    box-sizing: border-box;\n    padding: 0;\n\n    :focus {\n      outline: none;\n    }\n    "+e+"\n  }\n\n  ."+b.c.ROW_CONTROLS_BUTTON+"::after {\n    content: ' ';\n    background-color: transparent;\n    left: -15px;\n    top: 0;\n    position: absolute;\n    width: 15px;\n    height: 100%;\n    z-index: 1;\n  }\n\n  .active ."+b.c.CONTROLS_BUTTON+" {\n    color: "+N+";\n    background-color: "+H+";\n    border-color: "+F+";\n  }\n"}("\n        border-bottom: 1px solid "+B+";\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: "+V+"px;\n\n        ."+b.c.CONTROLS_BUTTON_OVERLAY+" {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        ."+b.c.CONTROLS_BUTTON_OVERLAY+":first-child {\n          top: 0;\n        }\n      "),b.c.IS_RESIZING,b.c.ROW_CONTROLS,"\n  ."+b.c.CONTROLS_BUTTON+":hover {\n    color: "+N+";\n    background-color: "+H+";\n    border-color: "+F+";\n    cursor: pointer;\n  }\n","\n  ."+b.c.HOVERED_CELL_IN_DANGER+" ."+b.c.CONTROLS_BUTTON+" {\n    background-color: "+K+";\n    border-color: "+W+";\n    position: relative;\n    z-index: "+f.E+";\n  }\n",b.c.NUMBERED_COLUMN,f.D-1,f.D,f.A+1,f.w,b.c.NUMBERED_COLUMN_BUTTON,f.w,f.w,Object(p.j)(),L,R,f.w,f.w,b.c.WITH_CONTROLS,b.c.CORNER_CONTROLS,b.c.ROW_CONTROLS,b.c.NUMBERED_COLUMN,b.c.NUMBERED_COLUMN_BUTTON,F,F,H,f.E,N,b.c.IS_RESIZING,b.c.WITH_CONTROLS,b.c.NUMBERED_COLUMN_BUTTON,b.c.NUMBERED_COLUMN_BUTTON,F,F,H,f.E,N,b.c.NUMBERED_COLUMN_BUTTON,b.c.HOVERED_CELL_IN_DANGER,K,W,I,f.E,b.c.TABLE_NODE_WRAPPER,b.c.COLUMN_CONTROLS_DECORATIONS,b.c.SELECTED_CELL,b.c.HOVERED_CELL_IN_DANGER,b.c.SELECTED_CELL,b.c.HOVERED_CELL_IN_DANGER,f.u,b.c.SELECTED_CELL,F,b.c.SELECTED_CELL,z,b.c.HOVERED_CELL_IN_DANGER,b.c.HOVERED_CELL_IN_DANGER,U,b.c.ROW_CONTROLS_WRAPPER,m.f-1,b.c.ROW_CONTROLS_WRAPPER,b.c.TABLE_LEFT_SHADOW,f.E,b.c.ROW_CONTROLS_WRAPPER,V,b.c.TABLE_NODE_WRAPPER,G/2,G/2,G/2,G/2,15,15,f.E-1,re?"none":"auto",b.c.IS_RESIZING,b.c.TABLE_NODE_WRAPPER,re?"none":"auto",re?"":v.k,b.c.RESIZE_CURSOR),Ee=Object(u.css)(i||(i=Object(l.__makeTemplateObject)(["\n  > div {\n    background: ",";\n    border-radius: ","px;\n    border: 2px solid ",";\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  button {\n    flex-direction: column;\n    padding: 0;\n    height: 100%;\n    display: flex;\n  }\n  span {\n    pointer-events: none;\n  }\n"],["\n  > div {\n    background: ",";\n    border-radius: ","px;\n    border: 2px solid ",";\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  button {\n    flex-direction: column;\n    padding: 0;\n    height: 100%;\n    display: flex;\n  }\n  span {\n    pointer-events: none;\n  }\n"])),x,Object(p.f)(),N,Y-2),ke=Object(u.css)(a||(a=Object(l.__makeTemplateObject)(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n"],["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n"])),b.c.TABLE_NODE_WRAPPER),xe=Object(u.css)(s||(s=Object(l.__makeTemplateObject)(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n\n    ",";\n  }\n"],["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n\n    ",";\n  }\n"])),b.c.TABLE_NODE_WRAPPER,v.k),_e=Object(u.css)(c||(c=Object(l.__makeTemplateObject)(["\n  ."," {\n    border-radius: ","px;\n    background: white;\n    box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n    display: block;\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    top: 0;\n    left: ","px;\n    padding: 8px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    border: 1px solid ",";\n    border-radius: ","px;\n    display: block;\n    width: 20px;\n    height: 20px;\n    position: relative;\n    left: -10px;\n\n    &::after {\n      content: '›';\n      display: inline-block;\n      width: 1px;\n      position: relative;\n      left: 25px;\n      top: 9px;\n      color: ",";\n    }\n  }\n"],["\n  ."," {\n    border-radius: ","px;\n    background: white;\n    box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n    display: block;\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    top: 0;\n    left: ","px;\n    padding: 8px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    border: 1px solid ",";\n    border-radius: ","px;\n    display: block;\n    width: 20px;\n    height: 20px;\n    position: relative;\n    left: -10px;\n\n    &::after {\n      content: '›';\n      display: inline-block;\n      width: 1px;\n      position: relative;\n      left: 25px;\n      top: 9px;\n      color: ",";\n    }\n  }\n"])),b.c.CONTEXTUAL_SUBMENU,Object(p.f)(),M,M,224,96,X,b.c.CONTEXTUAL_MENU_ICON,g.c,Object(p.f)(),A)},gRIx:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){return!!e.dimensions},o=function(e){return e.original&&e.original.width&&e.original.height?{dimensions:{width:e.original.width,height:e.original.height},scaleFactor:1}:{}}},gROO:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("+FLw"),o=n("fjMk"),i=n("N01o");function a(e){return Object(o.e)({action:i.a.INVOKED,actionSubject:i.b.TYPEAHEAD,actionSubjectId:i.c.TYPEAHEAD_MENTION,attributes:{inputMethod:e},eventType:i.d.UI})(Object(r.a)("@"))}},"gaA/":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return f}));var r=n("D57K"),o=n("0Hbo"),i=n("Dsue"),a=n("I9T1"),s=n("m23B"),c=n("BE5N");function l(e){var t=e.selection;if(!(t instanceof o.CellSelection&&u(e)))return e;for(var n,l=Object(s.getSelectionRect)(t),h=Object(s.findTable)(t),m=o.TableMap.get(h.node),v=[],b=m.cellsInRect(l),g=[],y=0;y<m.height;y++){for(var O=[],w=h.node.child(y),E=0;E<m.width;E++){var k=m.map[y*m.width+E];if((P=h.node.nodeAt(k))&&!(v.indexOf(k)>-1))if(v.push(k),E===l.left&&y===l.top){n=k;for(var x=d(P)?a.Fragment.empty:P.content,_=[n],T=l.top;T<l.bottom;T++)for(var C=l.left;C<l.right;C++){var S=m.map[T*m.width+C];if(-1===_.indexOf(S)){_.push(S);var j=h.node.nodeAt(S);j&&!d(j)&&(x=x.append(j.content))}}if((D=l.bottom-l.top)<1)return Object(c.a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);var M=p(Object(r.__assign)(Object(r.__assign)({},P.attrs),{rowspan:D}),P.attrs.colspan,l.right-l.left-P.attrs.colspan),A=x===a.Fragment.empty?P.type.createAndFill(M,x,P.marks):P.type.createChecked(M,x,P.marks);O.push(A)}else-1===b.indexOf(k)&&O.push(P)}if(O.length)g.push(w.type.createChecked(w.attrs,O,w.marks));else for(T=g.length-1;T>=0;T--){var R=g[T],N=[],I=!1;for(C=0;C<R.childCount;C++){var P,D;if((D=(P=R.child(C)).attrs.rowspan)&&D+T-1>=g.length){if(I=!0,D<2)return Object(c.a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);N.push(P.type.createChecked(Object(r.__assign)(Object(r.__assign)({},P.attrs),{rowspan:D-1}),P.content,P.marks))}else N.push(P)}I&&(g[T]=w.type.createChecked(R.attrs,N,R.marks))}}if(!g.length)return Object(c.a)({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);var L=f(h.node.type.createChecked(h.node.attrs,g,h.node.marks));return null===L?Object(c.a)({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):Object(c.a)({type:"MERGE_CELLS"})(e.replaceWith(h.pos,h.pos+h.node.nodeSize,L).setSelection(i.Selection.near(e.doc.resolve((n||0)+h.start))))}function u(e){var t=e.selection;if(!(t instanceof o.CellSelection)||t.$anchorCell.pos===t.$headCell.pos)return!1;var n=Object(s.getSelectionRect)(t);if(!n)return!1;var r=t.$anchorCell.node(-1);return!function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&o[a]===o[a-1]||t.right<n&&o[c]===o[c+1])return!0;a+=n,c+=n}for(l=t.left;l<t.right;l++){if(t.top>0&&o[i]===o[i-n]||t.bottom<r&&o[s]===o[s+n])return!0;i++,s++}return!1}(o.TableMap.get(r),n)}function d(e){var t=e.content;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function p(e,t,n){void 0===n&&(n=1);var o=Object(r.__assign)(Object(r.__assign)({},e),{colspan:(e.colspan||1)+n});if(o.colwidth){o.colwidth=o.colwidth.slice();for(var i=0;i<n;i++)o.colwidth.splice(t,0,0)}return o}function f(e){var t=o.TableMap.get(e),n=function(e){for(var t=o.TableMap.get(e),n=[],i=t.width-1;i>=0;i--){var a=t.cellsInRect({left:i,right:i+1,top:0,bottom:t.height});if(a.length){var s=a.map((function(t){var n=e.nodeAt(t);if(n)return n.attrs.colspan})),c=Math.min.apply(Math,Object(r.__spread)(s));n[i+1]?n[i]=1:n[i]=c}}return n}(e);if(!n.some((function(e){return e>1})))return e;for(var i=[],a=function(o){var a={},s=Object.keys(n).map(Number);for(var c in s){var l=s[c],u=t.map[l+o*t.width],d=t.findCell(u),p=a[d.left]||e.nodeAt(u);if(p&&d.top===o)if(n[l]>1){var f=p.attrs.colspan-n[l]+1;if(f<1)return{value:null};var h=p.attrs.colwidth,m=p.type.createChecked(Object(r.__assign)(Object(r.__assign)({},p.attrs),{colspan:f,colwidth:h?h.slice(0,f):null}),p.content,p.marks);a[d.left]=m}else a[d.left]=p}var v=Object.keys(a).map((function(e){return a[e]})),b=e.child(o);b&&i.push(b.type.createChecked(b.attrs,v,b.marks))},s=0;s<t.height;s++){var c=a(s);if("object"==typeof c)return c.value}return i.length?e.type.createChecked(e.attrs,i,e.marks):null}},gdUu:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("0Hbo"),o=n("58MS"),i=function(e,t){var n=e.schema.marks.code,r=t>=0&&e.doc.nodeAt(t);return!!r&&!!r.marks.filter((function(e){return e.type===n})).length},a=function(e,t){var n=e.selection,r=n.from,o=n.to;if(n.empty)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());var i=!1;return e.doc.nodesBetween(r,o,(function(e){i=i||t.isInSet(e.marks)})),i},s=function(e,t){var n=e.selection,o=n.$from,i=n.from,a=n.to;if(n.empty)return!!t.isInSet(e.storedMarks||o.marks());var s=!1;return e.selection instanceof r.CellSelection?e.selection.forEachCell((function(n,r){var o=r,i=r+n.nodeSize;s||(s=e.doc.rangeHasMark(o,i,t))})):s=e.doc.rangeHasMark(i,a,t),s},c=function(e){return function(e){return o.a.filter((function(t){if(e.schema.marks[t]){var n=e.selection,r=n.$from,o=n.empty,i=e.schema.marks;return o?!!i[t].isInSet(e.storedMarks||r.marks()):s(e,i[t])}return!1})).length>0}(e)||function(e){var t=e.selection,n=t.from,r=t.to,i=!1;return e.doc.nodesBetween(n,r,(function(e){return-1===o.b.indexOf(e.type.name)||(i=!0,!1)})),i}(e)}},geBA:function(e,t,n){"use strict";var r=n("D57K"),o=n("UrcB"),i=function(){function e(e,t,n,r,i){var a=this;void 0===r&&(r=o.d),this.config=t,this.pickerConfig=n,this.mediaPickerFactoryClass=r,this.onDragListeners=[],this.onStartListeners=[],this.eventListeners={},this.handleUploadPreviewUpdate=function(e){var t=e.file,n=e.preview,r=Object(o.e)(n)?n:{dimensions:void 0,scaleFactor:void 0},i=r.dimensions,s=r.scaleFactor,c={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,dimensions:i,scaleFactor:s};a.eventListeners[t.id]=[],a.onStartListeners.forEach((function(e){return e(c,(function(e){return a.subscribeStateChanged(t,e)}),a.analyticsName||a.pickerType)}))},this.subscribeStateChanged=function(e,t){var n=a.eventListeners[e.id];n&&n.push(t)},this.handleUploadError=function(e){var t=e.error,n=e.file,r=a.eventListeners[n.id];r&&(r.forEach((function(e){return e({id:n.id,status:"error",error:t&&{description:t.description,name:t.name}})})),delete a.eventListeners[n.id])},this.handleMobileUploadEnd=function(e){var t=e.file,n=a.eventListeners[t.id];n&&n.forEach((function(e){return e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})}))},this.handleReady=function(e){var t=e.file,n=a.eventListeners[t.id];n&&(n.forEach((function(e){return e({id:t.id,status:"ready"})})),delete a.eventListeners[t.id])},this.pickerType=e,this.errorReporter=t.errorReporter,this.analyticsName=i}return e.prototype.init=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return"customMediaPicker"!==this.pickerType?[3,1]:(e=this.picker=this.pickerConfig,[3,3]);case 1:return"popup"!==this.pickerType?[3,3]:(t=this,[4,this.mediaPickerFactoryClass(this.config.mediaClientConfig,this.pickerConfig)]);case 2:e=t.picker=n.sent(),n.label=3;case 3:return e?(e.on("upload-preview-update",this.handleUploadPreviewUpdate),e.on("upload-end",this.handleReady),e.on("upload-error",this.handleUploadError),e.on("mobile-upload-end",this.handleMobileUploadEnd),[2,this]):[2,this]}}))}))},Object.defineProperty(e.prototype,"type",{get:function(){return this.pickerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaPicker",{get:function(){return this.picker},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e=this.picker;if(e){e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[];try{"popup"===this.pickerType&&e.teardown()}catch(e){this.errorReporter.captureException(e)}}},e.prototype.setUploadParams=function(e){this.picker&&this.picker.setUploadParams(e)},e.prototype.onClose=function(e){var t=this.picker;if("popup"===this.pickerType){var n=t;return n.on("closed",e),function(){return n.off("closed",e)}}return function(){}},e.prototype.show=function(){if("popup"===this.pickerType)try{this.picker.show()}catch(e){this.errorReporter.captureException(e)}},e.prototype.hide=function(){"popup"===this.pickerType&&this.picker.hide()},e.prototype.onNewMedia=function(e){this.onStartListeners.push(e)},e.prototype.onDrag=function(e){this.onDragListeners.push(e)},e}();t.a=i},gguW:function(e,t,n){"use strict";n.d(t,"j",(function(){return O})),n.d(t,"l",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return _})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return S})),n.d(t,"k",(function(){return j})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return A})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return D})),n.d(t,"a",(function(){return L})),n.d(t,"o",(function(){return B}));var r=n("D57K"),o=n("Dsue"),i=n("0Hbo"),a=n("aGmo"),s=n("m23B"),c=n("eZO1"),l=n("J4Cj"),u=n("ad10"),d=n("mu0/"),p=n("JTea"),f=n("/Xcd"),h=n("kbCE"),m=n("R9eX"),v=n("BHQE"),b=n("N01o"),g=n("QwXr"),y=n("mGva"),O=function(e){return Object(c.a)({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}})},w=function(e){return Object(c.a)((function(t){var n=e||void 0,r=e?Object(s.findTable)(t.selection).node:void 0,o=Object(h.j)(n,"."+y.c.TABLE_NODE_WRAPPER)||void 0,i=r?r.attrs.layout:void 0,d=Object(c.d)(t).pluginConfig.allowControls,p=void 0===d||d,f=a.DecorationSet.empty;return p&&n&&(f=Object(l.j)(t,Object(l.b)(t.selection),y.d.COLUMN_CONTROLS_DECORATIONS)),{type:"SET_TABLE_REF",data:{tableRef:n,tableNode:r,tableWrapperTarget:o,layout:i||"default",isHeaderRowEnabled:Object(u.b)(t),isHeaderColumnEnabled:Object(u.a)(t),decorationSet:f}}}),(function(e){return e.setMeta("addToHistory",!1)}))},E=function(e){return function(t,n){var r=t.selection,a=t.schema.nodes.tableHeader;if(r instanceof o.TextSelection){var c=Object(s.findCellClosestToPos)(r.$from);if(c&&c.node.type!==a)return e(t,n)}if(r instanceof i.CellSelection){var l=Object(s.getSelectionRect)(r);if(!Object(u.b)(t)||l&&l.top>0)return e(t,n)}return!1}},k=function(e,t){var n=t.nodes,o=n.tableCell,i=n.tableHeader;return Object(f.e)(e,(function(e){if(e.type===o||e.type===i){var t=Object(r.__assign)({},e.attrs);return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))},x=function(e,t){var n=t.nodes,r=n.table,o=n.tableHeader,i=n.tableRow;return Object(f.e)(e,(function(e){if(e.type===r){var t=e.firstChild;if(t){var n=[];t.forEach((function(e){n.push(o.createChecked(e.attrs,e.content,e.marks))}));var a=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,a))}}return e}))},_=function(e,t){var n=t.nodes,o=n.tableHeader,i=n.tableCell;return Object(f.e)(e,(function(e){return(e.type===i||e.type===o)&&e.attrs.colwidth?e.type.createChecked(Object(r.__assign)(Object(r.__assign)({},e.attrs),{colwidth:void 0}),e.content,e.marks):e}))},T=function(e,t){return t&&t(Object(s.removeTable)(e.tr)),!0},C=function(e){return function(t,n){var r=Object(s.findTable)(t.selection);if(!r)return!1;var o=i.TableMap.get(r.node),a=t.schema.nodes,c=a.tableCell,l=a.tableHeader,u=Object(s.findParentNodeOfType)([c,l])(t.selection),p=o.positionAt(0,0,r.node)+r.start,f=o.positionAt(o.height-1,o.width-1,r.node)+r.start;if(p===u.pos&&-1===e)return Object(g.g)(b.e.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(t,n),!0;if(f===u.pos&&1===e)return Object(g.g)(b.e.KEYBOARD,{index:o.height,moveCursorToInsertedRow:!0})(t,n),!0;var h=1===e?"next_cell":"previous_cell";return d.a.trackEvent("atlassian.editor.format.table."+h+".keyboard"),Object(i.goToNextCell)(e)(t,n)}},S=function(e,t){var n,r,i=e.selection.$cursor;if(!i||i.parentOffset>0)return!1;if(!Object(u.f)(i.parent))for(var a=i.depth-1;!n&&a>=0&&(i.index(a)>0&&(r=i.before(a+1),n=i.node(a).child(i.index(a)-1)),!Object(u.f)(i.node(a)));a--);if(!n||n.type!==e.schema.nodes.table)return!1;var s=i.node(i.depth-1),c=e.schema.nodes.listItem;if(i.parent.type!==e.schema.nodes.paragraph||s&&s.type!==e.schema.nodes.doc)return!(!s||s.type!==c)&&Object(p.d)()(e,t);var l=e.tr,d=(r||0)-4;l.setSelection(new o.TextSelection(e.doc.resolve(d)));var f=l.selection.$from,h=f.start(-1)+f.parent.nodeSize-1;return t&&t(l.setSelection(new o.TextSelection(e.doc.resolve(h)))),!0},j=function(e,t){return function(n,r){var i,a=n.tr;if(Object(s.isCellSelection)(a.selection)){var c=a.selection;c.forEachCell((function(t,n){var r=a.doc.resolve(a.mapping.map(n+1));a=Object(s.setCellAttrs)(Object(s.findCellClosestToPos)(r),e)(a)})),i=c.$headCell.pos}else if(t){var l=Object(s.findCellClosestToPos)(a.doc.resolve(t+1));a=Object(s.setCellAttrs)(l,e)(a),i=l.pos}if(a.docChanged&&void 0!==i){var u=a.doc.resolve(a.mapping.map(i));return r&&r(a.setSelection(o.Selection.near(u))),!0}return!1}},M=function(e,t){return Object(c.a)((function(t){var n,r=Object(s.getCellsInColumn)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(function(n){return Object(s.selectColumn)(e,t)(n).setMeta("addToHistory",!1)}))},A=function(e,t){return Object(c.a)((function(t){var n,r=Object(s.getCellsInRow)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(function(n){return Object(s.selectRow)(e,t)(n).setMeta("addToHistory",!1)}))},R=function(e){return Object(c.a)((function(t){return e>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},N=function(e){return Object(c.a)((function(t){return e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},I=function(){return Object(c.a)({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(function(e){return e.setMeta("addToHistory",!1)}))},P=function(e){return Object(c.a)((function(t){var n=Object(s.findTable)(t.selection),o=Object(c.d)(t).pluginConfig.allowColumnResizing,i=Object(c.d)(t).decorationSet||a.DecorationSet.empty;if(n)if(e<0)i=Object(l.j)(t,[],y.d.COLUMN_RESIZING_HANDLE),i=Object(l.j)(t,[],y.d.LAST_CELL_ELEMENT);else if(o){var u=Object(r.__read)(Object(l.f)(t.tr,{right:e}),2),d=u[0],p=u[1];i=Object(l.i)(t.doc,i,d,y.d.COLUMN_RESIZING_HANDLE),i=Object(l.i)(t.doc,i,p,y.d.LAST_CELL_ELEMENT)}return{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:i}}}),(function(e){return e.setMeta("addToHistory",!1)}))},D=function(e,t,n,r,o){return e.dispatch(Object(v.b)(e,t,n,r,o)),!0},L=function(e){return function(t,n){var r=t.tr;if(Object(h.B)(r.selection)&&r.selection.$cursor&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&Object(m.b)(e.node.firstChild)){var o=t.schema.marks.strong;return r.setStoredMarks([o.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1}},B=function(e,t){var n=Object(c.d)(e),r=e.schema.nodes,o=r.tableHeader,a=r.tableCell;return Object(i.splitCellWithType)((function(e){var t=e.row,r=e.col;return 0===t&&n.isHeaderRowEnabled||0===r&&n.isHeaderColumnEnabled?o:a}))(e,t)}},hJWs:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",e.SET_HEIGHT_DIFF="SET_HEIGHT_DIFF",e.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT"}(r||(r={}))},hYET:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("D57K"),o=n("Dsue"),i=n("0Hbo"),a=n("m23B"),s=n("gaA/"),c=n("BE5N"),l=function(e,t){return void 0===t&&(t=!1),function(n){var l=Object(a.findTable)(n.selection);if(!l)return n;for(var u=[],d=i.TableMap.get(l.node),p=e.top;p<e.bottom;p++)if(t){var f=l.node.nodeAt(d.map[p*d.width]);f&&f.type!==f.type.schema.nodes.tableHeader&&u.push(p)}else u.push(p);if(!u.length)return n;for(var h=[],m={},v={},b=function(e){for(var t=[],n=l.node.child(e),o=function(n){var o=d.map[e*d.width+n],i=l.node.nodeAt(o);if(!i)return"continue";var a=d.cellsInRect({left:0,top:e,right:d.width,bottom:e+1});if(-1!==u.indexOf(e)||m[o])a.indexOf(o)>-1&&(v[o]=!0);else{if(a.indexOf(o)>-1){var s=0;if(u.forEach((function(t){e<t&&i.attrs.rowspan+e-1>=t&&(s+=1)})),s>0){var c=i.type.createChecked(Object(r.__assign)(Object(r.__assign)({},i.attrs),{rowspan:i.attrs.rowspan-s}),i.content,i.marks);return t.push(c),m[o]=!0,"continue"}}else if(v[o]){var p=Object(r.__assign)(Object(r.__assign)({},i.attrs),{colspan:1,rowspan:1});if(i.attrs.colwidth){var f=n>0?n-d.colCount(o):0;p.colwidth=i.attrs.colwidth.slice().splice(f,1)}c=i.type.createChecked(p,i.type.schema.nodes.paragraph.createChecked(),i.marks);return t.push(c),"continue"}m[o]||(m[o]=!0,t.push(i))}},i=0;i<d.width;i++)o(i);t.length&&h.push(n.type.createChecked(n.attrs,t,n.marks))},g=0;g<d.height;g++)b(g);if(!h.length)return Object(c.a)({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);var y=l.node.type.createChecked(l.node.attrs,h,l.node.marks),O=Object(s.c)(y);if(null===O)return Object(c.a)({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);var w=function(e,t){var n=Math.min.apply(Math,Object(r.__spread)(t)),o=n>0?n-1:0,a=i.TableMap.get(e);return a.map[o*a.width]}(y,u);return Object(c.a)({type:"DELETE_ROWS"})(n.replaceWith(l.pos,l.pos+l.node.nodeSize,O).setSelection(o.Selection.near(n.doc.resolve(l.pos+w))))}}},hZtx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));n("Dsue");var r=n("p29/"),o=function(e){return"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":void 0},i=function(e){var t=e.attrs;return{url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},a=function(e,t){return function(e,t){return{title:t&&t.title||e.title,url:t&&t.url||e.url}}(i(e),t)},s=function(e){return r.b.getState(e).cards.find((function(t){return t.pos===e.selection.from}))}},hdUu:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n("D57K");function o(e){return e===document.body}function i(e){return e&&3===e.nodeType}function a(e,t,n,r,a){if(a&&r)return r;if(!n)return"bottom";i(e)&&(e=e.parentElement);var s=t.getBoundingClientRect(),c=s.height,l=o(t)?0:s.top,u=e.getBoundingClientRect(),d=u.top,p=u.height,f=d-(l-t.scrollTop),h=l+c-(d+p);return h>=n||h>=f?"bottom":"top"}function s(e,t,n,r,o){if(o&&r)return r;if(!n)return r||"left";i(e)&&(e=e.parentElement);var a=e.getBoundingClientRect(),s=a.left,c=a.width,l=t.getBoundingClientRect(),u=l.left,d=s-u+c,p=u+l.width-s;return r&&d>n&&p>n?r:p>=n||p>=d&&!r?"left":"right"}function c(e,t,n,r,o,i,c){return[a(e,t,r,i,c),s(e,t,n,o,c)]}var l=function(e,t,n){return n<e+t&&(e=n-t-1),Math.max(1,e)};function u(e){var t=e.placement,n=e.target,a=e.popup,s=e.offset,c=e.stick,u=e.allowOutOfBounds,d=void 0!==u&&u,f=e.rect,h={};if(!n||!a||!a.offsetParent)return h;i(n)&&(n=n.parentElement);var m=a.offsetParent,v=m.style,b=0;v&&v.borderBottomWidth&&(b=parseInt(v.borderBottomWidth,10));var g=Object(r.__read)(t,2),y=g[0],O=g[1],w=f||m.getBoundingClientRect(),E=w.top,k=w.left,x=w.right,_=w.height,T=n.getBoundingClientRect(),C=T.top,S=T.left,j=T.right,M=T.height,A=T.width,R=o(m),N=function(e){var t=e.placement,n=e.targetTop,r=e.targetHeight,o=e.isPopupParentBody,i=e.popupOffsetParentHeight,a=e.popupOffsetParentTop,s=e.popupOffsetParentScrollTop,c=e.borderBottomWidth,l=e.offset,u={};if("top"===t)u.bottom=Math.ceil(i-(n-a)-(o?0:s)-c+l[1]);else if("start"===t)u.top=Math.ceil(n-a-l[1]+(o?0:s));else{var d=Math.ceil(n-a+r+(o?0:s)-c+l[1]);u.top=d}return u}({placement:y,targetTop:C,isPopupParentBody:R,popupOffsetParentHeight:_,popupOffsetParentTop:E,popupOffsetParentScrollTop:m.scrollTop||0,targetHeight:M,borderBottomWidth:b,offset:s});h=Object(r.__assign)(Object(r.__assign)({},h),N),"top"!==y&&"start"!==y||!c||(h=function(e){var t=e.target,n=e.targetTop,o=e.targetHeight,i=e.popupOffsetParentHeight,a=e.popupOffsetParent,s=e.offset,c=e.position,l=e.placement,u=p(t),d=Object(r.__assign)({},c);if(u){var f=u.getBoundingClientRect().top,h=n-f,m=u.scrollTop;if(h<0){var v=n+(m-f)+o+s[1]<m;"top"===l&&(d.bottom=v?i-(h+a.scrollTop+o):h+(d.bottom||0)),"start"===l&&(d.top=v?h+a.scrollTop+o:Math.abs(h)+(d.top||0)+s[1])}}return d}({target:n,targetTop:C,targetHeight:M,popupOffsetParentHeight:_,popupOffsetParent:m,popup:a,offset:s,position:h,placement:y})),"top"!==y&&"start"!==y&&c&&(h=function(e){var t=e.target,n=e.targetTop,o=e.targetHeight,i=e.popup,a=e.offset,s=e.position,c=p(t),l=Object(r.__assign)({},s);if(c){var u=n-c.getBoundingClientRect().top,d=o+u;if(c.clientHeight-d<=i.clientHeight+2*a[1]&&u<c.clientHeight){var f=d-c.clientHeight+2*a[1],h=l.top||0;h-=f+i.clientHeight,l.top=h}}return l}({target:n,targetTop:C,targetHeight:M,popup:a,offset:s,position:h}));var I=function(e){var t=e.placement,n=e.targetLeft,r=e.targetRight,o=e.targetWidth,i=e.isPopupParentBody,a=e.popupOffsetParentLeft,s=e.popupOffsetParentRight,c=e.popupOffsetParentScrollLeft,u=e.popupOffsetParentClientWidth,d=e.popupClientWidth,p=e.offset,f=e.allowOutOfBounds,h=void 0!==f&&f,m={};if("left"===t)m.left=Math.ceil(n-a+(i?0:c)+p[0]);else if("center"===t)m.left=Math.ceil(n-a+(i?0:c)+p[0]+o/2-d/2);else if("end"===t){var v=Math.ceil(r-a+(i?0:c)+p[0]);m.left=v}else m.right=Math.ceil(s-r-(i?0:c)+p[0]);return h||(void 0!==m.left&&(m.left=l(m.left,d,u)),void 0!==m.right&&(m.right=l(m.right,d,u))),m}({placement:O,targetLeft:S,targetRight:j,targetWidth:A,isPopupParentBody:R,popupOffsetParentLeft:k,popupOffsetParentRight:x,popupOffsetParentScrollLeft:m.scrollLeft||0,popupOffsetParentClientWidth:a.offsetParent.clientWidth,popupClientWidth:a.clientWidth||0,offset:s,allowOutOfBounds:d});return h=Object(r.__assign)(Object(r.__assign)({},h),I)}function d(e){return!(!e||!e.offsetParent)}function p(e){var t=e;if(!t)return!1;for(;t=t.parentElement;){var n=window.getComputedStyle(t);if("scroll"===n.overflow||"scroll"===n.overflowX||"scroll"===n.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},hfrt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D57K"),o=n("I9T1"),i=n("7bKp"),a=function(e){function t(t,n,r){var o=e.call(this)||this;return o.prev=n,o.next=r,o.pos=t,o}return Object(r.__extends)(t,e),t.prototype.invert=function(){return new t(this.pos,this.next,this.prev)},t.prototype.apply=function(e){return i.StepResult.ok(e)},t.prototype.map=function(){return null},t.prototype.getMap=function(){return new i.StepMap([0,0,0])},t.prototype.toJSON=function(){return{stepType:"atlaskit-table-sorting-ordering"}},t.fromJSON=function(){return new i.ReplaceStep(0,0,o.Slice.empty)},t}(i.Step);i.Step.jsonID("atlaskit-table-sorting-ordering",a)},htpI:function(e,t,n){"use strict";var r=n("T1Ll").isSpace;e.exports=function(e,t,n,o){var i,a,s,c,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(l++))&&45!==i&&95!==i)return!1;for(a=1;l<u;){if((s=e.src.charCodeAt(l++))!==i&&!r(s))return!1;s===i&&a++}return!(a<3)&&(!!o||(e.line=t+1,(c=e.push("hr","hr",0)).map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(i)),!0))}},iBxf:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n("NJOB");function o(e,t){void 0===t&&(t=!1);var n=e.handler;return e.handler=function(e,r,o,i){var a=t?s(e,o,i):c(e,o,i);if(!e.selection.$from.parent.type.spec.code&&!a)return n(e,r,o,i)},e}function i(e,t,n){return void 0===n&&(n=!1),o(new r.InputRule(e,t),n)}var a="￼",s=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code||e.type===o.link||e.type===o.typeAheadQuery};return r.nodesBetween(t,n,(function(e){i=i||e.marks.filter(a).length>0})),i},c=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code};return r.nodesBetween(t,n,(function(e){i=i||e.marks.filter(a).length>0})),i}},iOVg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm0 12h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-8h12a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaCenterIcon";var c=s;t.default=c},"j/Q4":function(e,t,n){"use strict";var r=n("xqjs"),o=n("Ft3U"),i=n("Wtp3"),a=n("qYTr"),s=n("lqZG");t.a=function(){return{name:"gapCursor",pmPlugins:function(){return[{name:"gapCursorKeymap",plugin:function(){return e={},i.bindKeymapWithCommand(i.moveLeft.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.LEFT,r)(e,t,n)}),e),i.bindKeymapWithCommand(i.moveRight.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.RIGHT,r)(e,t)}),e),i.bindKeymapWithCommand(i.moveUp.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.UP,r)(e,t)}),e),i.bindKeymapWithCommand(i.moveDown.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return Object(a.a)(s.a.DOWN,r)(e,t)}),e),i.bindKeymapWithCommand(i.backspace.common,Object(a.b)(s.a.BACKWARD),e),i.bindKeymapWithCommand(i.deleteKey.common,Object(a.b)(s.a.FORWARD),e),Object(o.keymap)(e);var e}},{name:"gapCursor",plugin:function(){return r.a}}]}}}},j4SW:function(e,t,n){"use strict";var r=n("OqJb").HTML_TAG_RE;e.exports=function(e,t){var n,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&(!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(a).match(r))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))))}},jERE:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("fbVm"),a=n("17eC"),s=n("GK8u"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleRef=function(e){n.setState({target:e||void 0})},n.updatePopupPlacement=function(e){n.setState({popupPlacement:e})},n.state={popupPlacement:["bottom","left"]},n}return Object(r.__extends)(t,e),t.prototype.renderDropdown=function(){var e=this.state,t=e.target,n=e.popupPlacement,r=this.props,s=r.children,c=r.mountTo,l=r.boundariesElement,u=r.scrollableElement,d=r.onOpenChange,p=r.fitHeight,f=r.fitWidth,h=r.zIndex;return o.createElement(a.a,{target:t,mountTo:c,boundariesElement:l,scrollableElement:u,onPlacementChanged:this.updatePopupPlacement,fitHeight:p,fitWidth:f,zIndex:h},o.createElement("div",{style:{height:0,minWidth:f||0}},o.createElement(i.a,{isOpen:!0,onOpenChange:d,appearance:"tall",position:n.join(" "),shouldFlip:!1,shouldFitContainer:!0},s)))},t.prototype.render=function(){var e=this.props,t=e.trigger,n=e.isOpen;return o.createElement("div",null,o.createElement("div",{ref:this.handleRef},t),n?this.renderDropdown():null)},t}(o.PureComponent),l=Object(s.a)(c);t.a=l},jOQE:function(e,t,n){var r=n("kidG"),o=n("mS26"),i=n("5kDT");e.exports=function(e){var t=r(e);return i(t,o(t))+1}},jW93:function(e,t,n){var r=n("zHUn"),o=n("6Fy/");e.exports={distanceInWords:r(),format:o()}},jcO1:function(e,t,n){var r=n("buFd");e.exports=function(e){return r(e,{weekStartsOn:1})}},jsQI:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n("D57K"),o=n("Dsue"),i=n("aGmo"),a=n("Ft3U"),s=n("m23B"),c=n("QQ6y"),l=n("J7oP"),u=function(e){var t=Object(s.findParentNodeOfType)(e.schema.nodes.layoutColumn)(e.selection);return!!t&&e.selection.from<t.pos+t.node.nodeSize},d=function(e,t){var n=e.selection,r=e.schema.nodes,i=r.layoutColumn,a=r.layoutSection,c=Object(s.findParentNodeOfType)(a)(n),l=Object(s.findParentNodeOfType)(i)(n);if(l.node!==c.node.lastChild){var u=e.doc.resolve(l.pos+l.node.nodeSize),d=o.TextSelection.findFrom(u,1);t&&t(e.tr.setSelection(d))}return!0},p=new o.PluginKey("layout");t.a=function(e){return new o.Plugin({key:p,state:{init:function(t,n){return function(e,t){var n=Object(s.findParentNodeOfType)(t.schema.nodes.layoutSection)(t.selection),r="object"==typeof e&&!!e.allowBreakout,o="object"==typeof e&&!!e.UNSAFE_addSidebarLayouts;return{pos:n?n.pos:null,allowBreakout:r,addSidebarLayouts:o,selectedLayout:Object(l.f)(n&&n.node,"two_equal")}}(e,n)},apply:function(e,t,n,o){if(e.docChanged||e.selectionSet){var i=Object(s.findParentNodeOfType)(o.schema.nodes.layoutSection)(o.selection);return Object(r.__assign)(Object(r.__assign)({},t),{pos:i?i.pos:null,selectedLayout:Object(l.f)(i&&i.node,t.selectedLayout)})}return t}},props:{decorations:function(e){var t,n,r=p.getState(e);if(null!==r.pos)return i.DecorationSet.create(e.doc,(t=r.pos,n=e.doc.nodeAt(r.pos),[i.Decoration.node(t,t+n.nodeSize,{class:"selected"})]))},handleKeyDown:Object(a.keydownHandler)({Tab:Object(c.b)(u,d)})},appendTransaction:function(e,t,n){var r=[];if(e.forEach((function(e){if(r.forEach((function(t){return{from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}})),e.docChanged){var t=Object(l.c)(e,n);t&&r.push(t)}})),r.length){var o=n.tr,i=n.selection;if(r.forEach((function(e){o.replaceRange(e.from,e.to,e.slice)})),(o=Object(l.d)(n)||o).docChanged)return o.setSelection(i),o.setMeta("addToHistory",!1),o}}})}},jwaM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),o=n("mu0/");function i(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t.apply(void 0,Object(r.__spread)(n));if(a)try{o.a.trackEvent(e)}catch(e){console.error("An exception has been thrown when trying to track analytics event:",e)}return a}}},jyDn:function(e,t,n){"use strict";var r=n("T1Ll").isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n?-1:o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,s,c,l,u,d,p,f,h,m,v,b,g,y,O,w,E,k,x,_,T,C,S,j,M,A,R,N,I=!1,P=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(I=!0),(S=i(e,t))>=0){if(p=!0,M=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(M,S-M-1)),I&&1!==g)return!1}else{if(!((S=o(e,t))>=0))return!1;p=!1}if(I&&e.skipSpaces(S)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(S-1),r)return!0;for(v=e.tokens.length,p?(N=e.push("ordered_list_open","ol",1),1!==g&&(N.attrs=[["start",g]])):N=e.push("bullet_list_open","ul",1),N.map=m=[t,0],N.markup=String.fromCharCode(b),O=t,j=!1,R=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";O<n;){for(C=S,y=e.eMarks[O],d=w=e.sCount[O]+S-(e.bMarks[t]+e.tShift[t]);C<y;){if(9===(a=e.src.charCodeAt(C)))w+=4-(w+e.bsCount[O])%4;else{if(32!==a)break;w++}C++}if((u=(s=C)>=y?1:w-d)>4&&(u=1),l=d+u,(N=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),N.map=f=[t,0],T=e.tight,_=e.tShift[t],x=e.sCount[t],E=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=l,e.tight=!0,e.tShift[t]=s-e.bMarks[t],e.sCount[t]=w,s>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!j||(P=!1),j=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=E,e.tShift[t]=_,e.sCount[t]=x,e.tight=T,(N=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),O=t=e.line,f[1]=O,s=e.bMarks[t],O>=n)break;if(e.sCount[O]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(A=!1,c=0,h=R.length;c<h;c++)if(R[c](e,O,n,!0)){A=!0;break}if(A)break;if(p){if((S=i(e,O))<0)break}else if((S=o(e,O))<0)break;if(b!==e.src.charCodeAt(S-1))break}return(N=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),m[1]=O,e.line=O,e.parentType=k,P&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,v),!0}},kEAM:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n("D57K"),o=n("ERkP"),i=n("L21V"),a=n("gmV4"),s=n.n(a),c=n("Rr/J"),l=n("mu0/"),u=n("Wtp3"),d=n("9O50"),p=n("bVaD"),f=n("A+BJ"),h=n("xqwH"),m=n("58MS"),v=n("N01o"),b=Object(i.g)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"}}),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.onOpenChange=function(e){t.setState({isOpen:e.isOpen})},t.handleTriggerClick=function(){t.onOpenChange({isOpen:!t.state.isOpen})},t.createItems=function(){var e=t.props,n=e.textFormattingState,r=e.clearFormattingState,o=e.editorView,i=e.intl.formatMessage,a=o.state.schema.marks,s=a.code,c=a.underline,l=a.subsup,d=a.strike,p=[];if(n){var f=n.underlineHidden,h=n.codeHidden,m=n.strikeHidden,v=n.subscriptHidden,g=n.superscriptHidden;!f&&c&&t.addRecordToItems(p,i(b.underline),"underline",Object(u.tooltip)(u.toggleUnderline)),!m&&d&&t.addRecordToItems(p,i(b.strike),"strike",Object(u.tooltip)(u.toggleStrikethrough)),!h&&s&&t.addRecordToItems(p,i(b.code),"code",Object(u.tooltip)(u.toggleCode)),!v&&l&&t.addRecordToItems(p,i(b.subscript),"subscript"),!g&&l&&t.addRecordToItems(p,i(b.superscript),"superscript")}return r&&t.addRecordToItems(p,i(b.clearFormatting),"clearFormatting",Object(u.tooltip)(u.clearFormatting),!r.formattingIsPresent),[{items:p}]},t.addRecordToItems=function(e,n,r,i,a){var s=!1,c=!1;t.props.textFormattingState&&(s=t.props.textFormattingState[r+"Active"]||!1,c=a||t.props.textFormattingState[r+"Disabled"]||!1),e.push({key:r,content:n,elemAfter:i&&o.createElement(f.g,null,i),value:r,isActive:s,isDisabled:c})},t.onItemActivated=function(e){var n=e.item;l.a.trackEvent("atlassian.editor.format."+n.value+".button");var r=t.props.editorView,o=r.state,i=r.dispatch;switch(n.value){case"underline":h.q({inputMethod:v.e.TOOLBAR})(o,i);break;case"code":h.e({inputMethod:v.e.TOOLBAR})(o,i);break;case"strike":h.i({inputMethod:v.e.TOOLBAR})(o,i);break;case"subscript":h.m({inputMethod:v.e.TOOLBAR})(o,i);break;case"superscript":h.o({inputMethod:v.e.TOOLBAR})(o,i);break;case"clearFormatting":Object(m.c)(v.e.TOOLBAR)(o,i)}t.setState({isOpen:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,i=n.popupsBoundariesElement,a=n.popupsScrollableElement,l=n.isReducedSpacing,u=n.textFormattingState,h=void 0===u?{}:u,m=n.clearFormattingState,v=void 0===m?{}:m,g=n.intl.formatMessage,y=h.codeActive,O=h.underlineActive,w=h.strikeActive,E=h.subscriptActive,k=h.superscriptActive,x=h.codeDisabled,_=h.underlineDisabled,T=h.strikeDisabled,C=h.subscriptDisabled,S=h.superscriptDisabled,j=v.formattingIsPresent,M=this.createItems(),A=g(b.moreFormatting),R=function(n){return o.createElement(d.a,{spacing:l?"none":"default",selected:t||O||y||w||E||k,disabled:n,onClick:e.handleTriggerClick,title:A,iconBefore:o.createElement(f.h,null,o.createElement(s.a,{label:A}))})};return this.props.isDisabled||T&&!j&&x&&C&&S&&_||!(M[0].items.length>0)?o.createElement(f.i,null,o.createElement("div",null,R(!0)),o.createElement(f.f,null)):o.createElement(f.i,null,o.createElement(p.a,{items:M,onItemActivated:this.onItemActivated,onOpenChange:this.onOpenChange,mountTo:r,boundariesElement:i,scrollableElement:a,isOpen:t,zIndex:c.p,fitHeight:188,fitWidth:136},R(!1)),o.createElement(f.f,null))},t}(o.PureComponent);t.a=Object(i.h)(g)},kTem:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e))};s.displayName="MediaServicesTextIcon";var c=s;t.default=c},kWTW:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("D57K"),o=n("X0ma");function i(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e?(t=e.state,(n=t&&o.b.getState(t))&&n.waitForMediaUpload?[4,n.waitForPendingTasks()]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2,e.state.doc]}}))}))}function a(e){return function(t,n){var r=t.tr,o=!1,i=function(e){r.setSelection(e.selection),e.steps.forEach((function(e){r.step(e)})),o=!0};return e.forEach((function(e){return e(t,i)})),!(!n||!o)&&(n(r),!0)}}},kbCE:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"u",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"z",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"J",(function(){return k})),n.d(t,"m",(function(){return x})),n.d(t,"o",(function(){return _})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"G",(function(){return j})),n.d(t,"H",(function(){return M})),n.d(t,"L",(function(){return N})),n.d(t,"j",(function(){return I})),n.d(t,"M",(function(){return P})),n.d(t,"C",(function(){return D})),n.d(t,"b",(function(){return L})),n.d(t,"A",(function(){return B})),n.d(t,"r",(function(){return z})),n.d(t,"t",(function(){return H})),n.d(t,"p",(function(){return F})),n.d(t,"q",(function(){return U})),n.d(t,"s",(function(){return W})),n.d(t,"w",(function(){return K})),n.d(t,"v",(function(){return V})),n.d(t,"n",(function(){return G})),n.d(t,"l",(function(){return q})),n.d(t,"B",(function(){return $})),n.d(t,"k",(function(){return Y})),n.d(t,"F",(function(){return X})),n.d(t,"E",(function(){return J})),n.d(t,"I",(function(){return Z})),n.d(t,"K",(function(){return Q})),n.d(t,"D",(function(){return ee}));var r=n("D57K"),o=n("JxnG"),i=(n("I9T1"),n("Dsue")),a=(n("7bKp"),n("Wtp3")),s=n("qp5z"),c=n("yHGA"),l=n("Kv+2"),u=n("m23B"),d=n("KU7H"),p=n("BH7h"),f="​";function h(e,t){var n=e;if(!n)return null;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(t);var r=n.matches?"matches":"msMatchesSelector";do{if(n[r]&&n[r](t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}var m=function(e){return!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)};function v(e){var t=e.selection,n=e.doc;if(t instanceof i.NodeSelection){if("media"===t.node.type.name){var r=n.nodeAt(t.anchor-3);return!(!r||"paragraph"!==r.type.name)}if("mediaGroup"===t.node.type.name){var o=t.$anchor.nodeBefore;return!(!o||"paragraph"!==o.type.name)}}return t instanceof i.TextSelection&&!t.empty||!O(e)}function b(e){var t=e.selection,n=e.doc;if(t instanceof i.NodeSelection){if("media"===t.node.type.name){var r=n.nodeAt(t.$head.after());return!(!r||"paragraph"!==r.type.name)}if("mediaGroup"===t.node.type.name)return!(t.$head.parentOffset===t.$anchor.parent.content.size)}return t instanceof i.TextSelection&&!t.empty||!y(e)}function g(e){var t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function y(e){var t=e.selection;return e.doc.nodeSize-t.$to.pos-2===t.$to.depth}function O(e){var t=e.selection;return t.$from.pos===t.$from.depth}function w(e){var t=e.selection,n=t.$to;return!(t instanceof d.a)&&(!!(t instanceof i.NodeSelection&&t.node.isBlock)||x(n)===n.pos+1)}function E(e){var t=e.selection,n=t.$from;return!(t instanceof d.a)&&(!!(t instanceof i.NodeSelection&&t.node.isBlock)||k(n)===n.pos)}function k(e){return e.start(e.depth)}function x(e){return e.end(e.depth)+1}function _(e){return e.$cursor||void 0}function T(e,t){if(t.selection instanceof l.a)return!0;if(!function(e,t){return Object(o.toggleMark)(e)(t)}(e,t))return!1;var n=t.selection,r=n.empty,i=n.$cursor,a=n.ranges;if(r&&!i)return!1;var s=function(t){return function(e,t){return!t.type.excludes(e)&&!e.excludes(t.type)}(e,t)};return!(t.tr.storedMarks&&!t.tr.storedMarks.every(s))&&(i?i.marks().every(s):a.every((function(e){var n=e.$from,r=e.$to,o=0!==n.depth||t.doc.marks.every(s);return t.doc.nodesBetween(n.pos,r.pos,(function(e){o=o&&e.marks.every(s)})),o})))}function C(e,t,n,r){return 0===function(e,t,n){var r=Array(),o=A(e,t).depth,i=e.resolve(t.start(o));for(;i.pos<=n.start(n.depth);){var a=Math.min(i.depth,o),s=i.node(a);if(s&&r.push(s),0===a)break;var c=e.resolve(i.after(a));if(c.start(a)>=e.nodeSize-2)break;c.depth!==i.depth&&(c=e.resolve(c.pos+2)),i=c.depth?e.resolve(c.start(c.depth)):e.resolve(c.end(c.depth))}return r}(e,t,n).filter((function(e){return e.type!==r})).length}function S(e,t,n){var r=A(t,e.$to).depth;if(0===r)return!1;var o=t.resolve(e.$to.after(r));return!!o.nodeAfter&&n(o.nodeAfter)}var j=function(e,t){var n=e.state,r=e.dispatch;isFinite(t)&&r(n.tr.setSelection(i.NodeSelection.create(n.doc,t)))};function M(e,t,n){var r=e.state,o=r.tr.setSelection(i.TextSelection.create(r.doc,t,n));e.dispatch(o)}function A(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;for(var r=t.node(t.depth),o=t;t.depth>=1;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}var R=new c.a;function N(e){return R.encode(e)}function I(e,t){return h(e,t)}function P(){var e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}function D(e){var t=new CustomEvent("keydown",{bubbles:!0,cancelable:!0});t.keyCode=a.LEFT,e.dispatchEvent(t)}function L(e){var t=function(e){var t=[];if(e.selection){var n=e.selection,r=n.$from,o=n.$to,i=e.schema.nodes,a=i.blockquote,s=i.panel,c=i.orderedList,l=i.bulletList,u=i.listItem,d=i.codeBlock;e.doc.nodesBetween(r.pos,o.pos,(function(e){(e.isBlock&&[a,s,c,l,u].indexOf(e.type)>=0||e.type===d)&&t.push(e.type)}))}return t}(e),n=e.schema.nodes.panel;return t.filter((function(e){return e!==n})).length>0}var B=function(e){return 0===e.indexOf("temporary:")},z=s.a.chrome&&!s.a.android&&s.a.chrome_version>=58,H=function(e){var t=e.nodes,n=t.doc,r=t.paragraph,o=t.codeBlock,i=t.blockquote,a=t.panel,s=t.heading,c=t.listItem,l=t.bulletList,u=t.orderedList,d=t.taskList,f=t.taskItem,h=t.decisionList,m=t.decisionItem,v=t.media,b=t.mediaGroup,g=t.mediaSingle,y=function(e){switch(e.type){case v:case b:case g:return!1;case r:case o:case s:case f:case m:return 0===e.content.size;case i:case a:case c:return 2===e.content.size&&y(e.content.firstChild);case l:case u:return 4===e.content.size&&y(e.content.firstChild);case d:case h:return 2===e.content.size&&y(e.content.firstChild);case n:var t=!0;return e.content.forEach((function(e){t=t&&y(e)})),t;default:return Object(p.i)(e)}};return y},F=function(e){var t=e.schema.nodes,n=t.table,r=t.tableCell;return Object(u.hasParentNodeOfType)([n,r])(e.selection)},U=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return Object(u.hasParentNodeOfType)([n,r])(e.selection)},W=function(e){return h(e,"td")||h(e,"th")},K=function(e){var t=e.content;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name},V=function(e){return Object(u.hasParentNodeOfType)(e.schema.nodes.listItem)(e.selection)};function G(e,t,n,r){var o=[];return e.nodesBetween(t,n,(function(e,t,n){r(e,t,n)&&o.push({node:e,pos:t})})),o}function q(e,t){return void 0===e&&(e=[]),(t?e.map(t):e).map((function(e,t,n){return n.indexOf(e)===t?e:null})).reduce((function(t,n,r){return n?t.concat(e[r]):t}),[])}var $=function(e){return e instanceof i.TextSelection};function Y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Object(r.__spread)([e],t);return function(e){return o.reduceRight((function(e,t){return t(e)}),e)}}function X(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce((function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t(e.apply(void 0,Object(r.__spread)(n)))}}))}var J=function(e,t){if(e.selection.$from.depth>1){if(t.attrs.layout&&"default"!==t.attrs.layout)return t.type.createChecked(Object(r.__assign)(Object(r.__assign)({},t.attrs),{layout:"default"}),t.content,t.marks);var n=e.schema.marks.breakout;if(n&&n.isInSet(t.marks)){var o=n.removeFromSet(t.marks);return t.type.createChecked(t.attrs,t.content,o)}}return t};function Z(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.reduce((function(n,r){return n&&e[r]===t[r]}),!0)}function Q(e,t){return e.reduce((function(e,n){return e+t(n)}),0)}function ee(e){return null!=e}},kjku:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M18.99 8.99l.01 1.015V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768v.521zM12.02 5L12 8.192a.99.99 0 0 0 .994.991h4L12.02 5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="DocumentFilledIcon";var c=s;t.default=c},ktYr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={FLOATING_TOOLBAR_COMPONENT:"pm-alt-text-alt-text-floating-toolbar"}},l52v:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r,o=n("D57K"),i=n("KsTJ"),a=n("dDc+"),s="placeholder-decoration",c=Object(i.css)(r||(r=Object(o.__makeTemplateObject)(["\n  .ProseMirror ."," {\n    position: relative;\n    color: ",";\n    pointer-events: none;\n    display: block;\n    user-select: none;\n\n    > span {\n      position: absolute;\n      pointer-events: none;\n    }\n  }\n"],["\n  .ProseMirror ."," {\n    position: relative;\n    color: ",";\n    pointer-events: none;\n    display: block;\n    user-select: none;\n\n    > span {\n      position: absolute;\n      pointer-events: none;\n    }\n  }\n"])),s,a.colors.N90)},lCOr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Awfs");function o(e,t){if(Object(r.a)()){var n="[START]: "+e,o="[END]: "+e,i=performance.now();performance.mark(n),requestAnimationFrame((function(){requestAnimationFrame((function(){performance.mark(o);var r=performance.now()-i;try{performance.measure(e,n,o);var a=performance.getEntriesByName(e).pop();a?t(a.duration,a.startTime):t(r,i)}catch(e){t(r,i)}performance.clearMeasures(e),performance.clearMarks(n),performance.clearMarks(o)}))}))}}},lGHY:function(e,t,n){"use strict";var r,o,i=n("D57K"),a=n("ERkP"),s=n("Bq3e"),c=n("cDcQ"),l=n("L21V"),u=n("+3hD"),d=n("dDc+"),p=n("KsTJ"),f=((r={})[c.b.SELF]={background:Object(u.a)({light:d.colors.B400,dark:d.colors.B200}),border:"transparent",text:Object(u.a)({light:d.colors.N20,dark:d.colors.DN30})},r[c.b.RESTRICTED]={background:"transparent",border:Object(u.a)({light:d.colors.N500,dark:d.colors.DN80}),text:Object(u.a)({light:d.colors.N500,dark:d.colors.DN100})},r[c.b.DEFAULT]={background:Object(u.a)({light:d.colors.N30A,dark:d.colors.DN80}),border:"transparent",text:Object(u.a)({light:d.colors.N500,dark:d.colors.DN800})},r),h=function(e,t){var n=f[e.mentionType][t];return"string"==typeof n?n:n(e)},m=p.default.span(o||(o=Object(i.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return"\n  display: inline;\n  background: "+h(e,"background")+";\n  border: 1px solid "+h(e,"border")+";\n  border-radius: 20px;\n  color: "+h(e,"text")+";\n  cursor: pointer;\n  padding: 0 0.3em 2px 0.23em;\n  line-height: 1.714;\n  font-size: 1em;\n  font-weight: normal;\n  word-break: break-word;\n"})),v=n("egCm"),b=n("aN4M"),g=n("2sr0"),y=n("RLTV"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnClick=function(e){var n=t.props,r=n.id,o=n.text,i=n.onClick;i&&i(r,o,e)},t.handleOnMouseEnter=function(e){var n=t.props,r=n.id,o=n.text,i=n.onMouseEnter,a=n.onHover;i&&i(r,o,e),t.hoverTimeout=window.setTimeout((function(){a&&a(),t.hoverTimeout=void 0}),1e3)},t.handleOnMouseLeave=function(e){var n=t.props,r=n.id,o=n.text,i=n.onMouseLeave;i&&i(r,o,e),t.hoverTimeout&&clearTimeout(t.hoverTimeout)},t.getMentionType=function(){var e=t.props,n=e.accessLevel;return e.isHighlighted?c.b.SELF:Object(c.g)(n)?c.b.RESTRICTED:c.b.DEFAULT},t}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimeout&&clearTimeout(this.hoverTimeout)},t.prototype.renderUnknownUserError=function(e){return a.createElement(l.c,Object(i.__assign)({},y.a.unknownUserError,{values:{userId:e.slice(-5)}}),(function(e){return"@"+e}))},t.prototype.render=function(){var e=this.handleOnClick,t=this.handleOnMouseEnter,n=this.handleOnMouseLeave,r=this.props,o=r.text,i=r.id,s=r.accessLevel,l=this.getMentionType(),u="@_|unknown|_"===o,d=a.createElement(m,{mentionType:l,onClick:e,onMouseEnter:t,onMouseLeave:n},u?this.renderUnknownUserError(i):o||"@...");return a.createElement("span",{"data-mention-id":i,"data-access-level":s,spellCheck:!1},l===c.b.RESTRICTED?a.createElement(v.a,{name:o},d):d)},t}(a.PureComponent),w=Object(g.a)({onClick:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return Object(b.c)(e)("mention","selected",r,n,o)},onHover:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return Object(b.c)(e)("mention","hovered",r,n,o)}})(O),E=function(e){function t(t){var n=e.call(this,t)||this;return n.handleMentionProvider=function(e){var t=e.id,r=e.mentionProvider,o=e.text;r?r.then((function(e){var r={isHighlighted:e.shouldHighlightMention({id:t})};if(!o&&Object(s.d)(e)){var i=e.resolveMentionName(t);Object(c.f)(i)?i.then((function(e){n.setState({resolvedMentionName:n.processName(e)})})):r.resolvedMentionName=n.processName(i)}n.setState(r)})).catch((function(){n.setState({isHighlighted:!1})})):n.setState({isHighlighted:!1})},n.state={isHighlighted:!1},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.handleMentionProvider(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)},t.prototype.processName=function(e){var t;switch(e.status){case c.a.OK:t=e.name||"";break;case c.a.SERVICE_ERROR:case c.a.UNKNOWN:default:t="_|unknown|_"}return"@"+t},t.prototype.render=function(){var e=this.props,t=this.state;return a.createElement(w,{id:e.id,text:t.resolvedMentionName||e.text,isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})},t}(a.PureComponent);t.a=E},lKsC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 0 1-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 0 0 .505-.505v-.99A.497.497 0 0 0 9.495 11h-.99a.497.497 0 0 0-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 0 0 .505-.505v-.99a.497.497 0 0 0-.505-.505h-.99a.497.497 0 0 0-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 0 0 .505-.505v-.99A.497.497 0 0 0 9.495 14h-.99a.497.497 0 0 0-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorDateIcon";var c=s;t.default=c},lMAd:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("ERkP"),a=n("7nmT"),s=n("L21V"),c=n("MtlP"),l=n.n(c),u=n("PLaw"),d=n.n(u),p=n("Nbtp"),f=n.n(p),h=n("EOR/"),m=n.n(h),v=n("JrxX"),b=n.n(v),g=n("sPpT"),y=n.n(g),O=n("QsAB"),w=n.n(O),E=n("JXy6"),k=n.n(E),x=n("eDcA"),_=n.n(x),T=n("dWTA"),C=n.n(T),S=n("gmV4"),j=n.n(S),M=n("0dje"),A=n.n(M),R=n("tv4J"),N=n.n(R),I=n("lKsC"),P=n.n(I),D=n("mN0p"),L=n.n(D),B=n("1ioG"),z=n.n(B),H=n("kTem"),F=n.n(H),U=n("NgEv"),W=n.n(U),K=n("R4Nd"),V=n.n(K),G=n("2sr0"),q=n("bSE5"),$=n("B4K9"),Y=n("fRRa"),X=function(){return Promise.all([n.e("vendors~4134d62c"),n.e(16),n.e("@atlaskit-internal_emojiPickerComponent~4134d62c")]).then(n.bind(null,"RJeb")).then((function(e){return e.default}))},J=function(e){function t(n){var r=e.call(this,n,{})||this;return r.state={asyncLoadedComponent:t.AsyncLoadedComponent},r}return Object(o.__extends)(t,e),t.prototype.asyncLoadComponent=function(){var e=this;X().then((function(n){t.AsyncLoadedComponent=n,e.setAsyncState(n)}))},t.prototype.renderLoading=function(){var e=this,t=new $.c;return i.createElement("div",{className:Y.g,ref:function(t){e.props.onPickerRef&&e.props.onPickerRef(t)}},t.renderItem())},t.prototype.renderLoaded=function(e,t){var n=this.props,r=(n.emojiProvider,Object(o.__rest)(n,["emojiProvider"]));return i.createElement(t,Object(o.__assign)({emojiProvider:e},r))},t}(q.a),Z=Object(G.a)()(J),Q=n("17eC"),ee=n("Rr/J"),te=n("jwaM"),ne=n("mu0/"),re=n("Wtp3"),oe=n("bVaD"),ie=n("9O50"),ae=n("A+BJ"),se=n("rTsN"),ce=n("Wots"),le=n("xwRc"),ue=n("oOSh"),de=n("KsTJ").default.span(r||(r=Object(o.__makeTemplateObject)(["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"],["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"]))),pe=n("J7oP"),fe=n("M2Sh"),he=n("qsl+"),me=n("xTlW"),ve=n("gROO"),be=n("//R7"),ge=n("N01o"),ye=n("fjMk"),Oe=n("m23B"),we=n("I9T1"),Ee=n("Dsue");function ke(e,t){return function(n,r){var i=n.schema.nodes.emoji;if(i&&e){var a=i.createChecked(Object(o.__assign)(Object(o.__assign)({},e),{text:e.fallback||e.shortName})),s=n.schema.text(" ");if(r){var c=we.Fragment.fromArray([a,s]),l=Object(Oe.safeInsert)(c)(n.tr);t&&Object(ye.a)(n,l,{action:ge.a.INSERTED,actionSubject:ge.b.DOCUMENT,actionSubjectId:ge.c.EMOJI,attributes:{inputMethod:t},eventType:ge.d.TRACK}),r(l.setSelection(Ee.Selection.near(l.doc.resolve(n.selection.$from.pos+c.size))))}return!0}return!1}}n.d(t,"b",(function(){return xe}));var xe=Object(s.g)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a “task”, “to do item”, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},filesAndImages:{id:"fabric.editor.filesAndImages",defaultMessage:"Files & images",description:"Insert one or more files or images"},filesAndImagesDescription:{id:"fabric.editor.filesAndImages.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas 🎉 and emotions 😄",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision you’ve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so they’re easy to track",description:"Capture a decision you’ve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:""},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}}),_e={codeblock:b.a,panel:y.a,blockquote:C.a},Te=function(e){return!document.body.contains(e)},Ce=function(){},Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,emojiPickerOpen:!1},t.onOpenChange=function(e){var n={isOpen:e.isOpen,emojiPickerOpen:t.state.emojiPickerOpen};t.state.emojiPickerOpen&&!e.open&&(n.emojiPickerOpen=!1),t.setState(n)},t.handleTriggerClick=function(){var e=t.state.isOpen;t.onOpenChange({isOpen:!e})},t.toggleEmojiPicker=function(e){void 0===e&&(e=ge.e.TOOLBAR),t.setState((function(e){return{emojiPickerOpen:!e.emojiPickerOpen}}),(function(){if(t.state.emojiPickerOpen){var n=t.props.dispatchAnalyticsEvent;n&&n({action:ge.a.OPENED,actionSubject:ge.b.PICKER,actionSubjectId:ge.c.PICKER_EMOJI,attributes:{inputMethod:e},eventType:ge.d.UI})}}))},t.handleButtonRef=function(e){var n=e||null;n&&(t.button=a.findDOMNode(n))},t.handleDropDownButtonRef=function(e,t){t.forEach((function(t){return t.handleRef&&t.handleRef(e)}))},t.onPickerRef=function(e){e?document.addEventListener("click",t.handleClickOutside):document.removeEventListener("click",t.handleClickOutside),t.pickerRef=e},t.handleClickOutside=function(e){var n=t.pickerRef&&a.findDOMNode(t.pickerRef);n&&(!e.target||Te(e.target)||n.contains(e.target))||t.toggleEmojiPicker()},t.getShortcutBlock=function(e){switch(e.name){case"blockquote":return">";case"codeblock":return"```";default:return Object(re.tooltip)(Object(re.findKeymapByDescription)(e.title.defaultMessage))}},t.createItems=function(){var e=t.props,n=e.isTypeAheadAllowed,r=e.tableSupported,o=e.mediaUploadsEnabled,a=e.mediaSupported,s=e.imageUploadSupported,c=e.imageUploadEnabled,l=e.mentionsSupported,u=e.availableWrapperBlockTypes,d=e.actionSupported,p=e.decisionSupported,h=e.macroProvider,v=e.linkSupported,b=e.linkDisabled,g=e.emojiDisabled,y=e.emojiProvider,O=e.nativeStatusSupported,E=e.insertMenuItems,x=e.dateEnabled,T=e.placeholderTextEnabled,C=e.horizontalRuleEnabled,S=e.layoutSectionEnabled,M=e.expandEnabled,R=e.intl.formatMessage,I=[];if(d){var D=R(xe.action);I.push({content:D,value:{name:"action"},elemBefore:i.createElement(k.a,{label:D}),elemAfter:i.createElement(ae.g,null,"[]"),shortcut:"[]"})}if(v){var B=R(xe.link),H=Object(re.tooltip)(re.addLink);I.push({content:B,value:{name:"link"},isDisabled:b,elemBefore:i.createElement(A.a,{label:B}),elemAfter:H&&i.createElement(ae.g,null,H),shortcut:H})}if(a&&o){var U=R(xe.filesAndImages);I.push({content:U,value:{name:"media"},elemBefore:i.createElement(m.a,{label:U})})}if(s){var K=R(xe.image);I.push({content:K,value:{name:"image upload"},isDisabled:!c,elemBefore:i.createElement(m.a,{label:K})})}if(l){var G=R(xe.mention);I.push({content:G,value:{name:"mention"},isDisabled:!n,elemBefore:i.createElement(w.a,{label:G}),elemAfter:i.createElement(ae.g,null,"@"),shortcut:"@"})}if(y){var q=R(xe.emoji);I.push({content:q,value:{name:"emoji"},isDisabled:g||!n,elemBefore:i.createElement(N.a,{label:q}),handleRef:t.handleButtonRef,elemAfter:i.createElement(ae.g,null,":"),shortcut:":"})}if(r){var $=R(xe.table),Y=Object(re.tooltip)(re.toggleTable);I.push({content:$,value:{name:"table"},elemBefore:i.createElement(f.a,{label:$}),elemAfter:Y&&i.createElement(ae.g,null,Y),shortcut:Y})}if(S){var X=R(xe.columns);I.push({content:X,value:{name:"layout"},elemBefore:i.createElement(W.a,{label:X})})}if(u&&u.forEach((function(e){var n=_e[e.name],r=R(e.title),o=t.getShortcutBlock(e);I.push({content:r,value:e,elemBefore:i.createElement(n,{label:r}),elemAfter:o&&i.createElement(ae.g,null,o),shortcut:o})})),p){var J=R(xe.decision);I.push({content:J,value:{name:"decision"},elemBefore:i.createElement(_.a,{label:J}),elemAfter:i.createElement(ae.g,null,"<>"),shortcut:"<>"})}if(C&&t.props.editorView.state.schema.nodes.rule){var Z=R(xe.horizontalRule);I.push({content:Z,value:{name:"horizontalrule"},elemBefore:i.createElement(V.a,{label:Z}),elemAfter:i.createElement(ae.g,null,"---"),shortcut:"---"})}if(M&&t.props.editorView.state.schema.nodes.expand){var Q=R(xe.expand);I.push({content:Q,value:{name:"expand"},elemBefore:i.createElement(z.a,{label:Q})})}if(x){var ee=R(xe.date);I.push({content:ee,value:{name:"date"},elemBefore:i.createElement(P.a,{label:ee}),elemAfter:i.createElement(ae.g,null,"//"),shortcut:"//"})}if(T){var te=R(xe.placeholderText);I.push({content:te,value:{name:"placeholder text"},elemBefore:i.createElement(F.a,{label:te})})}if(O){var ne=R(xe.status);I.push({content:ne,value:{name:"status"},elemBefore:i.createElement(L.a,{label:ne})})}if(E)I=I.concat(E);else if(void 0!==h&&h){var oe=R(xe.viewMore);I.push({content:oe,value:{name:"macro"},elemBefore:i.createElement(j.a,{label:oe})})}return I},t.toggleLinkPanel=Object(te.a)("atlassian.editor.format.hyperlink.button",(function(e){var n=t.props.editorView;return Object(me.j)(e)(n.state,n.dispatch),!0})),t.insertMention=Object(te.a)("atlassian.fabric.mention.picker.trigger.button",(function(e){var n=t.props.editorView;return Object(ve.a)(e)(n.state,n.dispatch),!0})),t.insertTable=Object(te.a)("atlassian.editor.format.table.button",(function(e){var n=t.props.editorView;return Object(ye.e)({action:ge.a.INSERTED,actionSubject:ge.b.DOCUMENT,actionSubjectId:ge.c.TABLE,attributes:{inputMethod:e},eventType:ge.d.TRACK})(se.a)(n.state,n.dispatch)})),t.createDate=Object(te.a)("atlassian.editor.format.date.button",(function(e){var n=t.props.editorView;return Object(ce.b)(void 0,e)(n.state,n.dispatch),Object(ce.c)()(n.state,n.dispatch),!0})),t.createPlaceholderText=Object(te.a)("atlassian.editor.format.placeholder.button",(function(){var e=t.props.editorView;return Object(le.c)(e.state,e.dispatch),!0})),t.insertLayoutColumns=Object(te.a)("atlassian.editor.format.layout.button",(function(e){var n=t.props.editorView;return Object(pe.g)(e)(n.state,n.dispatch),!0})),t.createStatus=Object(te.a)("atlassian.editor.format.status.button",(function(e){var n=t.props.editorView;return Object(be.f)(e)(n.state,n.dispatch),!0})),t.openMediaPicker=Object(te.a)("atlassian.editor.format.media.button",(function(e){var n=t.props,r=n.onShowMediaPicker,o=n.dispatchAnalyticsEvent;return r&&(r(),o&&o({action:ge.a.OPENED,actionSubject:ge.b.PICKER,actionSubjectId:ge.c.PICKER_CLOUD,attributes:{inputMethod:e},eventType:ge.d.UI})),!0})),t.insertTaskDecision=function(e,n){return Object(te.a)("atlassian.fabric."+e+".trigger.button",(function(){var r=t.props.editorView;if(!r)return!1;var o="action"===e?"taskList":"decisionList";return Object(fe.c)(r,o,n)(r.state,r.dispatch),!0}))},t.insertHorizontalRule=Object(te.a)("atlassian.editor.format.horizontalrule.button",(function(e){var n=t.props.editorView,r=Object(ue.a)(n.state,n.state.selection.from,n.state.selection.to,e);return!!r&&(n.dispatch(r),!0)})),t.insertExpand=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;return Object(he.d)(n,r)},t.insertBlockType=function(e){return Object(te.a)("atlassian.editor.format."+e+".button",(function(){var n=t.props,r=n.editorView,o=n.onInsertBlockType,i=r.state,a=r.dispatch;return o(e)(i,a),!0}))},t.handleSelectedEmoji=Object(te.a)("atlassian.editor.emoji.button",(function(e){return t.props.editorView.focus(),ke(e,ge.e.PICKER)(t.props.editorView.state,t.props.editorView.dispatch),t.toggleEmojiPicker(),!0})),t.onItemActivated=function(e){var n=e.item,r=e.inputMethod,o=t.props,i=o.editorView,a=o.editorActions,s=o.onInsertMacroFromMacroBrowser,c=o.macroProvider,l=o.handleImageUpload,u=o.expandEnabled;switch(i.hasFocus()||i.focus(),n.value.name){case"link":t.toggleLinkPanel(r);break;case"table":t.insertTable(r);break;case"image upload":if(l){var d=i.state,p=i.dispatch;l()(d,p)}break;case"media":t.openMediaPicker(r);break;case"mention":t.insertMention(r);break;case"emoji":t.toggleEmojiPicker(r);break;case"codeblock":case"blockquote":case"panel":t.insertBlockType(n.value.name)();break;case"action":case"decision":t.insertTaskDecision(n.value.name,r)();break;case"horizontalrule":t.insertHorizontalRule(r);break;case"macro":ne.a.trackEvent("atlassian.editor.format."+n.value.name+".button"),s(c)(i.state,i.dispatch);break;case"date":t.createDate();break;case"placeholder text":t.createPlaceholderText();break;case"layout":t.insertLayoutColumns(r);break;case"status":t.createStatus(r);break;case"expand":if(u){t.insertExpand();break}default:if(n&&n.onClick){n.onClick(a);break}}t.setState({isOpen:!1})},t.insertToolbarMenuItem=function(e){return t.onItemActivated({item:e,inputMethod:ge.e.TOOLBAR})},t.insertInsertMenuItem=function(e){var n=e.item;return t.onItemActivated({item:n,inputMethod:ge.e.INSERT_MENU})},t}return Object(o.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1})},t.prototype.renderPopup=function(){var e=this.state.emojiPickerOpen,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,a=t.emojiProvider;return e&&this.button&&a?i.createElement(Q.a,{target:this.button,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:n,boundariesElement:r,scrollableElement:o},i.createElement(Z,{emojiProvider:a,onSelection:this.handleSelectedEmoji,onPickerRef:this.onPickerRef})):null},t.prototype.sanitizeProductMenuItems=function(e){var t=e.find((function(e){return"macro-browser"===e.value.name}));t&&(e.splice(e.indexOf(t),1),e.push(t));var n=e.find((function(e){return"slash-onboarding"===e.value.name}));n&&(e.splice(e.indexOf(n),1),e.push(n))},t.prototype.sortMenuItems=function(e){e.sort((function(e,t){return e.content<t.content?-1:1}));var t=e.filter((function(e){return"string"==typeof e.content&&e.content.includes("macro")}));return(e=e.filter((function(e){return"string"==typeof e.content&&!e.content.includes("macro")}))).concat(t)},t.prototype.render=function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,a=n.popupsScrollableElement,s=n.isDisabled,c=n.buttons,u=n.isReducedSpacing,p=n.intl.formatMessage,f=this.createItems();if(0===f.length)return null;var h=f.slice(0,c),m=this.sortMenuItems(f.slice(c));this.sanitizeProductMenuItems(m);var v=p(xe.insertMenu);Object(re.findShortcutByDescription)(xe.insertMenu.description);var b=function(n,r){return i.createElement(ie.a,{ref:function(t){return e.handleDropDownButtonRef(t,r)},selected:t,disabled:n,onClick:e.handleTriggerClick,spacing:u?"none":"default",title:Object(re.renderTooltipContent)(v,void 0,"/"),iconBefore:i.createElement(de,null,i.createElement(l.a,{label:v}),i.createElement(ae.d,null,i.createElement(d.a,{label:v})))})};return i.createElement(ae.b,{width:u?"small":"large"},h.map((function(t){return i.createElement(ie.a,{ref:t.handleRef||Ce,key:t.content,spacing:u?"none":"default",disabled:s||t.isDisabled,iconBefore:t.elemBefore,selected:t.isActive,title:Object(re.renderTooltipContent)(t.content,void 0,t.shortcut),onClick:function(){return e.insertToolbarMenuItem(t)}})})),i.createElement(ae.i,null,this.renderPopup(),m.length>0&&(s?i.createElement("div",null,b(!0,m)):i.createElement(oe.a,{items:[{items:m}],onItemActivated:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,mountTo:r,boundariesElement:o,scrollableElement:a,isOpen:t,fitHeight:188,fitWidth:175,zIndex:ee.p},b(!1,m)))))},t}(i.PureComponent);t.a=Object(s.h)(Se)},lY9u:function(e,t,n){"use strict";var r=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote"];n.d(t,"a",(function(){return o}));var o=function(e){return!!e&&!function(e){return!!e&&-1!==r.indexOf(e.type.name)}(e)}},lYst:function(e,t,n){"use strict";var r=n("ERkP"),o=n("lr/W"),i=n("XoQQ"),a=n("CBOu"),s=n("Dv3j"),c=n("Ft3U"),l=n("Wtp3"),u=n("Gn7r"),d=n("NXKY");function p(){var e={};return l.bindKeymapWithCommand(l.enter.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&Object(u.b)("enter")(e,t)}),e),l.bindKeymapWithCommand(l.moveUp.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(a.d,{action:a.a.SELECT_PREV})),!0)}),e),l.bindKeymapWithCommand(l.moveDown.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(a.d,{action:a.a.SELECT_NEXT})),!0)}),e),l.bindKeymapWithCommand(l.insertNewLine.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&Object(u.b)("shift-enter")(e,t)}),e),l.bindKeymapWithCommand(l.tab.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&Object(u.b)("tab")(e,t)}),e),l.bindKeymapWithCommand(l.escape.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&(window.event&&window.event.stopPropagation(),Object(d.a)()(e,t))}),e),l.bindKeymapWithCommand(l.space.common,(function(e,t){var n=a.d.getState(e);return!(!n||!n.active)&&Object(u.d)("space")(e,t)}),e),Object(c.keymap)(e)}var f,h=n("D57K"),m=n("KsTJ"),v=n("dDc+"),b=n("RZTm"),g=n("17eC"),y=n("Rr/J"),O=n("3GHw"),w=n("2suc"),E=n("mQlO"),k=n("+3hD"),x=n("yy2Y"),_=n("A+BJ"),T=((f={})[O.e]={padding:{default:{bottom:12,left:12,right:12,top:12}},beforeItemSpacing:{default:function(){return 12}},borderRadius:function(){return 0},hover:{text:v.colors.text,secondaryText:v.colors.N200},selected:{background:Object(k.a)({light:v.colors.N20,dark:v.colors.DN70}),text:Object(k.a)({light:v.colors.N800,dark:v.colors.DN600}),secondaryText:Object(k.a)({light:v.colors.N200,dark:v.colors.DN300})}},f),C=m.default.div(R||(R=Object(h.__makeTemplateObject)(["\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: 40px;\n    height: 40px;\n  }\n"],["\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: 40px;\n    height: 40px;\n  }\n"])),Object(b.f)()),S=m.default.div(N||(N=Object(h.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  line-height: 1.4;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  line-height: 1.4;\n"]))),j=m.default.div(I||(I=Object(h.__makeTemplateObject)(["\n  white-space: initial;\n  .item-description {\n    font-size: 11.67px;\n    color: ",";\n    margin-top: 4px;\n  }\n"],["\n  white-space: initial;\n  .item-description {\n    font-size: 11.67px;\n    color: ",";\n    margin-top: 4px;\n  }\n"])),v.colors.N200),M=m.default.div(P||(P=Object(h.__makeTemplateObject)(["\n  flex: 0 0 auto;\n"],["\n  flex: 0 0 auto;\n"])));function A(e){var t=e.items,n=e.currentIndex,o=e.insertByIndex,i=e.setCurrentIndex;return Array.isArray(t)?r.createElement(m.ThemeProvider,{theme:T},r.createElement(w.a,null,t.map((function(e,t){return r.createElement(L,{key:e.key||e.title,item:e,index:t,currentIndex:n,insertByIndex:o,setCurrentIndex:i})})))):null}var R,N,I,P,D,L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={ref:null},t.insertByIndex=function(){t.props.insertByIndex(t.props.index)},t.setCurrentIndex=function(){t.isSelected(t.props)||t.props.setCurrentIndex(t.props.index)},t.handleRef=function(e){t.setState({ref:function(e){return e&&e.ref}(e)?e.ref:e})},t}return Object(h.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return e.item!==this.props.item||this.isSelected(this.props)!==this.isSelected(e)},t.prototype.isSelected=function(e){return e.index===e.currentIndex},t.prototype.componentDidUpdate=function(){var e,t,n,r,o,i,a,s,c=this.state.ref;this.props.index===this.props.currentIndex&&c&&(t=(e=c).offsetTop,n=e.offsetHeight,r=e.offsetParent,i=(o=r).offsetHeight,a=o.scrollTop,0!==(s=t+n>i+a?1:a>t?-1:0)&&r&&(r.scrollTop=1===s?t+n-i:t))},t.prototype.render=function(){var e,t=this.props.item;return t.render?r.createElement("div",{onMouseMove:this.setCurrentIndex,ref:this.handleRef,style:{overflow:"hidden"}},r.createElement(t.render,{onClick:this.insertByIndex,onHover:this.setCurrentIndex,isSelected:this.isSelected(this.props)})):r.createElement(E.a,{onClick:this.insertByIndex,onMouseMove:this.setCurrentIndex,elemBefore:r.createElement(C,null,t.icon?t.icon():(e=t.title,r.createElement(x.default,{label:e}))),isSelected:this.isSelected(this.props),"aria-describedby":t.title,ref:this.handleRef},r.createElement(S,null,r.createElement(j,null,r.createElement("div",{className:"item-title"},t.title),t.description&&r.createElement("div",{className:"item-description"},t.description)),r.createElement(M,null,t.keyshortcut&&r.createElement(_.g,null,t.keyshortcut))))},t}(r.Component),B=function(e){return function(t,n){return n&&n(t.tr.setMeta(a.d,{action:a.a.SET_CURRENT_INDEX,params:{currentIndex:e}})),!0}},z=m.default.div(D||(D=Object(h.__makeTemplateObject)(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 1px ",", 0 4px 8px -2px ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"],["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 1px ",", 0 4px 8px -2px ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"])),v.colors.N0,Object(b.f)(),v.colors.N60A,v.colors.N50A,v.math.divide(b.l,2)),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.composing=!1,t.handleKeyPress=function(){t.composing=!0},t.handleMouseMove=function(){t.composing=!1},t.componentDidMount=function(){window.addEventListener("keypress",t.handleKeyPress),window.addEventListener("mousemove",t.handleMouseMove)},t.componentWillUnmount=function(){window.removeEventListener("keypress",t.handleKeyPress),window.removeEventListener("mousemove",t.handleMouseMove)},t.insertByIndex=function(e){Object(u.a)(e)(t.props.editorView.state,t.props.editorView.dispatch)},t.setCurrentIndex=function(e){t.composing||e!==t.props.currentIndex&&B(e)(t.props.editorView.state,t.props.editorView.dispatch)},t}return Object(h.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.items,o=e.isLoading,i=e.anchorElement,a=e.currentIndex,s=e.popupsMountPoint,c=e.popupsBoundariesElement,l=e.popupsScrollableElement,u=e.highlight;return t&&i&&n&&n.length?r.createElement(g.a,{zIndex:y.g,target:i,mountTo:s,boundariesElement:c,scrollableElement:l,fitHeight:300,fitWidth:340,offset:[0,8]},r.createElement(z,{className:"fabric-editor-typeahead"},u,Array.isArray(n)?r.createElement(A,{insertByIndex:this.insertByIndex,setCurrentIndex:this.setCurrentIndex,items:n,currentIndex:a}):!n&&o?"loading...":"no items")):null},t.displayName="TypeAhead",t}(r.Component);t.a=function(){return{name:"typeAhead",marks:function(){return[{name:"typeAheadQuery",mark:o.a}]},pmPlugins:function(e){return void 0===e&&(e=[]),[{name:"typeAhead",plugin:function(t){var n=t.dispatch,r=t.reactContext;return Object(a.c)(n,r,e)}},{name:"typeAheadInputRule",plugin:function(t){var n=t.schema;return Object(s.a)(n,e)}},{name:"typeAheadKeymap",plugin:function(){return p()}}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,o=e.popupsBoundariesElement,s=e.popupsScrollableElement;return r.createElement(i.a,{plugins:{typeAhead:a.d},render:function(e){var i=e.typeAhead,c=void 0===i?Object(a.b)():i,l=c.queryMarkPos,u=null!==l?t.domAtPos(l):null,d=u?u.node.childNodes[u.offset]:void 0;return r.createElement(H,{editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:s,anchorElement:d,active:c.active,isLoading:!!c.itemsLoader,items:c.items,currentIndex:c.currentIndex,highlight:c.highlight})}})}}}},"lYt+":function(e,t,n){"use strict";var r,o,i,a,s=n("D57K"),c=n("ERkP"),l=n("KsTJ"),u=n("RZTm"),d=n("+3hD"),p=n("dDc+"),f=Object(u.l)(),h=l.default.div(r||(r=Object(s.__makeTemplateObject)(["\n  margin: 0;\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 1 1 auto;\n"],["\n  margin: 0;\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 1 1 auto;\n"]))),m=l.default.div(o||(o=Object(s.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: row;\n\n  line-height: 20px;\n  border-radius: ","px;\n  margin: ","px 0;\n  padding: ","px ","px;\n  min-height: 36px;\n  box-sizing: border-box;\n  box-shadow: none;\n\n  &:hover {\n    box-shadow: none;\n    transition: box-shadow 0.2s ease-in-out;\n    background-color: ",";\n  }\n\n  border: 1px solid: ",";\n"],["\n  display: flex;\n  flex-direction: row;\n\n  line-height: 20px;\n  border-radius: ","px;\n  margin: ","px 0;\n  padding: ","px ","px;\n  min-height: 36px;\n  box-sizing: border-box;\n  box-shadow: none;\n\n  &:hover {\n    box-shadow: none;\n    transition: box-shadow 0.2s ease-in-out;\n    background-color: ",";\n  }\n\n  border: 1px solid: ",";\n"])),Object(u.f)(),f/2,f,f,Object(d.a)({light:p.colors.N20,dark:p.colors.DN50}),Object(d.a)({light:"none",dark:p.colors.DN60})),v=(l.default.div(i||(i=Object(s.__makeTemplateObject)(["\n  margin: -2px 8px;\n"],["\n  margin: -2px 8px;\n"]))),l.default.span(a||(a=Object(s.__makeTemplateObject)(["\n  margin: 0 0 0 ","px;\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: calc(100% - 50px);\n"],["\n  margin: 0 0 0 ","px;\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: calc(100% - 50px);\n"])),3*Object(u.l)(),p.colors.N80)),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.renderPlaceholder=function(){var e=this.props,t=e.children,n=e.placeholder;return e.showPlaceholder&&n&&!t?c.createElement(v,{contentEditable:!1},n):null},t.prototype.renderMessageAppearance=function(){var e=this.props,t=e.contentRef,n=e.children,r=e.icon;return c.createElement(m,null,r,this.renderPlaceholder(),c.createElement(h,{innerRef:t},n))},t.prototype.render=function(){return this.renderMessageAppearance()},t.defaultProps={appearance:"inline"},t}(c.PureComponent);t.a=b},ljjB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var r=function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{value:s}},o=0;o<t.length;o++){var i=r(o);if("object"==typeof i)return i.value}return!1},o=function(e,t){return!!t&&t.some((function(t){return t.type!==e&&t.type.excludes(e)}))},i=function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=t.filter(Boolean);if(0!==i.length){var a=!1,s=function(e){return i.indexOf(e.type)>-1};return e.doc.nodesBetween(n.from,n.to,(function(t,n){if(t.type===r.nodes.paragraph&&t.marks.some(s)){a=!0;var i=e.doc.resolve(n),c=t.marks.filter((l=s,function(e){return!l(e)}));o=o.setNodeMarkup(i.pos,void 0,t.attrs,c)}var l})),a?o:void 0}},a=function(e,t){var n,r=e.tr.selection,o=r.from,i=r.to;return e.doc.nodesBetween(o,i,(function(r,a,s){if(r.isText||a<o||a>i)return!0;r.marks.forEach((function(o){if(!s.type.allowsMarkType(o.type)||t&&!t.allowsMarkType(o.type)){var i=r.marks.filter((function(e){return e.type!==o.type})),c=a>0?a-1:0;n=(n||e.tr).setNodeMarkup(c,void 0,r.attrs,i)}}))}),o),n}},lqZG:function(e,t,n){"use strict";var r;function o(e){return-1!==[r.UP,r.LEFT,r.BACKWARD].indexOf(e)}function i(e){return-1!==[r.RIGHT,r.DOWN,r.FORWARD].indexOf(e)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(r||(r={}))},lt2v:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"o",(function(){return y})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return k})),n.d(t,"p",(function(){return x})),n.d(t,"u",(function(){return _})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return M}));var r=n("D57K"),o=n("ERkP"),i=n.n(o),a=n("x+QU"),s=n.n(a),c=s()({loader:function(){return n.e(141).then(n.bind(null,"bAWZ")).then((function(e){return e.default}))},loading:function(){return null}}),l=s()({loader:function(){return n.e(142).then(n.bind(null,"Lu0H")).then((function(e){return e.default}))},loading:function(){return null}}),u=s()({loader:function(){return n.e(143).then(n.bind(null,"0Gec")).then((function(e){return e.default}))},loading:function(){return null}}),d=s()({loader:function(){return n.e(144).then(n.bind(null,"Hf5e")).then((function(e){return e.default}))},loading:function(){return null}}),p=s()({loader:function(){return n.e(145).then(n.bind(null,"NFEA")).then((function(e){return e.default}))},loading:function(){return null}}),f=s()({loader:function(){return n.e(146).then(n.bind(null,"ihs0")).then((function(e){return e.default}))},loading:function(){return null}}),h=s()({loader:function(){return n.e(155).then(n.bind(null,"RKOy")).then((function(e){return e.default}))},loading:function(){return null}}),m=s()({loader:function(){return n.e(156).then(n.bind(null,"tn4c")).then((function(e){return e.default}))},loading:function(){return null}}),v=s()({loader:function(){return n.e(157).then(n.bind(null,"OTWs")).then((function(e){return e.default}))},loading:function(){return null}}),b=s()({loader:function(){return n.e(158).then(n.bind(null,"bOW9")).then((function(e){return e.default}))},loading:function(){return null}}),g=s()({loader:function(){return n.e(159).then(n.bind(null,"AFPq")).then((function(e){return e.default}))},loading:function(){return null}}),y=s()({loader:function(){return n.e(160).then(n.bind(null,"ZvzI")).then((function(e){return e.default}))},loading:function(){return null}}),O=s()({loader:function(){return n.e(161).then(n.bind(null,"+HG5")).then((function(e){return e.default}))},loading:function(){return null}}),w=s()({loader:function(){return n.e(162).then(n.bind(null,"2GFn")).then((function(e){return e.default}))},loading:function(){return null}}),E=s()({loader:function(){return n.e(163).then(n.bind(null,"KK9x")).then((function(e){return e.default}))},loading:function(){return null}}),k=s()({loader:function(){return n.e(164).then(n.bind(null,"7ZGp")).then((function(e){return e.default}))},loading:function(){return null}}),x=s()({loader:function(){return n.e(165).then(n.bind(null,"H+WN")).then((function(e){return e.default}))},loading:function(){return null}}),_=s()({loader:function(){return n.e(166).then(n.bind(null,"M2hx")).then((function(e){return e.default}))},loading:function(){return null}}),T=s()({loader:function(){return n.e(167).then(n.bind(null,"KOKj")).then((function(e){return e.default}))},loading:function(){return null}}),C=s()({loader:function(){return n.e(168).then(n.bind(null,"vJWv")).then((function(e){return e.default}))},loading:function(){return null}});s()({loader:function(){return Promise.resolve().then(n.bind(null,"yy2Y")).then((function(e){return e.default}))},loading:function(){return null}});var S=function(e){var t=e.level,o=Object(r.__rest)(e,["level"]),a=s()({loader:function(){return function(e){switch(e){case 1:return n.e(149).then(n.bind(null,"NdLK"));case 2:return n.e(150).then(n.bind(null,"CRVH"));case 3:return n.e(151).then(n.bind(null,"mjI5"));case 4:return n.e(152).then(n.bind(null,"QW5t"));case 5:return n.e(153).then(n.bind(null,"DI6X"));case 6:default:return n.e(154).then(n.bind(null,"GKhH"))}}(t).then((function(e){return e.default}))},loading:function(){return null}});return i.a.createElement(a,Object(r.__assign)({},o))},j=s()({loader:function(){return n.e(148).then(n.bind(null,"IN+k")).then((function(e){return e.default}))},loading:function(){return null}}),M=s()({loader:function(){return n.e(147).then(n.bind(null,"oJ61")).then((function(e){return e.default}))},loading:function(){return null}})},lzcg:function(e,t,n){"use strict";var r,o,i=n("D57K"),a=n("Dsue"),s=n("ERkP"),c=n("KsTJ"),l=n("dDc+"),u=n("RZTm"),d=n("L21V"),p=n("bigP"),f=n("kiYx"),h=n("+3hD"),m=c.default.span(r||(r=Object(i.__makeTemplateObject)(["\n  border-radius: ","px;\n  padding: 2px 4px;\n  margin: 0 1px;\n  position: relative;\n  transition: background 0.3s;\n  white-space: nowrap;\n  cursor: ",";\n\n  ",";\n"],["\n  border-radius: ","px;\n  padding: 2px 4px;\n  margin: 0 1px;\n  position: relative;\n  transition: background 0.3s;\n  white-space: nowrap;\n  cursor: ",";\n\n  ",";\n"])),Object(u.f)(),(function(e){return e.onClick?"pointer":"unset"}),(function(e){var t=Object(h.a)(function(e){if(!e||"grey"===e)return{light:[l.colors.N30A,l.colors.N800,l.colors.N40],dark:[l.colors.DN70,l.colors.DN800,l.colors.DN60]};var t=l.colors,n=e.toUpperCase().charAt(0),r=[t[n+"50"],t[n+"500"],t[n+"75"]];return{light:r,dark:r}}(e.color))(e);""===t&&(t=["","",""]);var n=Object(i.__read)(t,3);return"\n      background: "+n[0]+";\n      color: "+n[1]+";\n      &:hover {\n        background: "+n[2]+";\n      }\n    "})),v=n("RTm1"),b=n.n(v),g=function(e){return!!e.onClick},y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnClick=function(e){g(t.props)&&t.props.onClick(t.props.value,e)},t.renderContent=function(){return t.props.children?"function"==typeof t.props.children?t.props.children(t.props):t.props.children:b()(t.props.value,t.props.format)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return s.createElement(m,{className:this.props.className,onClick:g(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())},t.defaultProps={format:"DD/MM/YYYY",color:"grey"},t}(s.Component),O=n("Wots"),w=Object(c.default)(y)(o||(o=Object(i.__makeTemplateObject)(["\n  .dateView-content-wrap.ProseMirror-selectednode & {\n    position: relative;\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n    }\n  }\n"],["\n  .dateView-content-wrap.ProseMirror-selectednode & {\n    position: relative;\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n    }\n  }\n"])),l.colors.B200,Object(u.f)()),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.nativeEvent.stopImmediatePropagation();var n=t.props.view,r=n.state,o=n.dispatch;Object(O.d)(r.selection.from)(r,o)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.node.attrs.timestamp,n=e.view.state,r=n.schema,o=n.selection,i=e.intl,a=o.$from.parent,c=a.type===r.nodes.taskItem&&"DONE"!==a.attrs.state,l=c&&Object(p.a)(t)?"red":void 0;return s.createElement("span",{className:f.a.DATE_WRAPPER,onClick:this.handleClick},s.createElement(w,{color:l,value:t},c?Object(p.d)(t,i):Object(p.c)(t,i)))},t}(s.Component),k=Object(d.h)(E),x=n("RLFc");n.d(t,"b",(function(){return _}));var _=new a.PluginKey("datePlugin");t.a=function(e){var t=e.dispatch,n=e.portalProviderAPI;return new a.Plugin({state:{init:function(){return{showDatePickerAt:null}},apply:function(e,n){var r=e.getMeta(_);if(r){var o=void 0;return o=r.showDatePickerAt===n.showDatePickerAt?Object(i.__assign)(Object(i.__assign)({},n),{showDatePickerAt:null}):Object(i.__assign)(Object(i.__assign)({},n),r),t(_,o),o}if(e.docChanged&&n.showDatePickerAt){var a=e.mapping.mapResult(n.showDatePickerAt),s=a.pos;if((o={showDatePickerAt:a.deleted?null:s}).showDatePickerAt!==n.showDatePickerAt)return t(_,o),o}return n}},key:_,props:{nodeViews:{date:x.b.fromComponent(k,n)}}})}},"m+cI":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("D57K"),o=n("Dsue"),i=n("YybV"),a=new o.PluginKey("macroPlugin");t.a=function(){return{name:"macro",pmPlugins:function(){return[{name:"macro",plugin:function(e){return function(e,t){return new o.Plugin({state:{init:function(){return{macroProvider:null}},apply:function(t,n){var o=t.getMeta(a);if(o){var i=Object(r.__assign)(Object(r.__assign)({},n),o);return e(a,i),i}return n}},key:a,view:function(e){var n=function(t,n){return n&&Object(i.c)(n)(e)};return e.dom.parentNode&&t.subscribe("macroProvider",n),{destroy:function(){t.unsubscribe("macroProvider",n)}}}})}(e.dispatch,e.providerFactory)}}]}}}},m23B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dsue"),o=n("I9T1"),i=n("0Hbo"),a=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=R(e[r])(n.selection);if(i){var a=m(i.pos,t)(n);if(a!==n)return a}}return n}},s=function(e){return function(t){if(p(t.selection)){var n=t.selection,i=n.$from,a=n.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return h(t.replaceWith(i.pos,a.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(i.pos))))}return t}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},l=function(e){return e.type&&e.type.spec.selectable},u=function(e,t,n){return function(e){return l(e)&&e.type.isLeaf}(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):c(t)(n)},d=function(e,t,n){return function(r){var o="number"==typeof t,i=r.selection.$from,c=o?r.doc.resolve(t):p(r.selection)?r.doc.resolve(i.pos+1):i,d=c.parent;if(p(r.selection)&&n&&r!==(r=s(e)(r)))return r;if(O(d)&&r!==(r=a(d.type,e)(r))){var f=l(e)?c.before(c.depth):c.pos;return u(e,f,r)}if(y(c,e)){r.insert(c.pos,e);var m=o?c.pos:l(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return h(u(e,m,r))}for(var v=c.depth;v>0;v--){var b=c.after(v),g=r.doc.resolve(b);if(y(g,e))return r.insert(b,e),h(u(e,b,r))}return r}},p=function(e){return e instanceof r.NodeSelection},f=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},h=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},m=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(v(o,t)){var i=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=c(Math.max(i,0),-1)(n),n=c(n.selection.$from.start())(n),h(n)}return n}},v=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},b=function(e){return function(t){var n=t.doc.nodeAt(e);return h(t.delete(e,e+n.nodeSize))}},g=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},y=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},O=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},E=function(e){return function(t){for(var n=i.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),a=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),s=0,c=o.length;s<c;s++)if(-1===a.indexOf(o[s]))return!1;return!0}},k=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},x=function(e){for(var t=i.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],a={},s=0;s<t.width;s++){var c=t.map[r*t.width+s],l=e.nodeAt(c),u=t.findCell(c);a[c]||u.top!==r?o.push(null):(a[c]=!0,o.push(l))}n.push(o)}return n},_=function(e,t){for(var n=[],r=i.TableMap.get(e),o=0;o<r.height;o++){for(var a=e.child(o),s=[],c=0;c<r.width;c++)if(t[o][c]){var l=r.map[o*r.width+c],u=t[o][c],d=e.nodeAt(l).type.createChecked(Object.assign({},u.attrs),u.content,u.marks);s.push(d)}n.push(a.type.createChecked(a.attrs,s,a.marks))}return e.type.createChecked(e.attrs,n,e.marks)},T=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),a=i.length%2==0?1:0,s=void 0;return s=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-a+1:-1===o?n[0]:n[n.length-1]-a,e.splice.apply(e,[s,0].concat(i)),e},C=function(e,t,n,r){var o="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===(e>t?-1:1)){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(o)}else if(-1!==n.slice(1).indexOf(t))throw new Error(o);return!0},S=function(e){return function(t){var n=t.$from;return j(n,e)}},j=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},M=function(e,t){return function(n){var r=S(e)(n);if(r)return I(r.pos,t)}},A=function(e){return function(t){return!!S(e)(t)}},R=function(e){return function(t){return S((function(t){return f(e,t)}))(t)}},N=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=R(t.type)(n);return o?o.pos:n.$from.pos}},I=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},P=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},D=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return P(e,n).filter((function(e){return t(e.node)}))},L=function(e,t,n){return D(e,(function(e){return e.type===t}),n)};var B=function(e){return S((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},z=function(e){return e instanceof i.CellSelection},H=function(e){if(z(e)){var t=i.TableMap.get(e.$anchorCell.node(-1));return E({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},F=function(e){return function(t){var n=B(t);if(n){var r=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},U=function(e){return function(t){var n=B(t);if(n){var r=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},W=function(e){return function(t,n){return function(r){var o=B(r.selection),a="row"===e;if(o){var s=i.TableMap.get(o.node);if(t>=0&&t<(a?s.height:s.width)){var c=a?0:t,l=a?t:0,u=a?s.width:t+1,d=a?t+1:s.height;if(n){var p=J(r.selection.$from);if(!p)return r;var f=s.findCell(p.pos-o.start);a?(l=Math.min(l,f.top),d=Math.max(d,f.bottom)):(c=Math.min(c,f.left),u=Math.max(u,f.right))}var m=s.cellsInRect({left:c,top:l,right:a?u:c+1,bottom:a?l+1:d}),v=d-l==1?m:s.cellsInRect({left:a?c:u-1,top:a?d-1:l,right:u,bottom:d}),b=o.start+m[0],g=o.start+v[v.length-1],y=r.doc.resolve(b),O=r.doc.resolve(g);return h(r.setSelection(new i.CellSelection(O,y)))}}return r}}},K=W("column"),V=W("row"),G=function(e){return function(t){var n=B(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,a=g(o.type.schema),s=n.start,c=0;c<e+1;c++)s+=o.child(c).nodeSize;var l=o.child(e),u=[],p=0;if(l.forEach((function(e){1===e.attrs.rowspan&&(p+=e.attrs.colspan,u.push(a[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),p<r.width){for(var f=[],h=function(n){var r=Q(n,(function(t,r){var o=t.node.attrs.rowspan;return o>1&&n+o>e}))(t);f.push.apply(f,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))},m=e;m>=0;m--)h(m);f.length&&f.forEach((function(e){t=X(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return d(a.row.create(l.attrs,u),s)(t)}}return t}},q=function(e){return function(t){var n=B(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.width)return Y(t);if(e>=0&&e<=r.width)return i.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),h(t)}return t}},$=function(e){return function(t){var n=B(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.height)return Y(t);if(e>=0&&e<=r.height)return i.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),h(t)}return t}},Y=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return h(e.delete(t.before(n),t.after(n)))}return e},X=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),h(n)):n}},J=function(e){return j(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},Z=function(e){var t=J(e);if(t){var n=function(e){return j(e,(function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)}))}(e),r=i.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},Q=function(e,t){return function(n){var r=[],o=U(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}},ee=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=F(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var a=function(e){var n=F(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var c=F(i)(t.selection);c&&c.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var l=F(n)(t.selection),u=U(0)(t.selection),d=t.doc.resolve(l[l.length-1].pos),p=void 0,f=r;f>=n;f--){var h=F(f)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}return{$anchor:d,$head:t.doc.resolve(p.pos),indexes:s}}},te=function(e){return function(t){for(var n=e,r=e,o=function(e){U(e)(t.selection).forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var a=function(e){U(e)(t.selection).forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var c=U(i)(t.selection);c&&c.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var l=U(n)(t.selection),u=F(0)(t.selection),d=t.doc.resolve(l[l.length-1].pos),p=void 0,f=r;f>=n;f--){var h=U(f)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){p=h[0];break}if(p)break}}return{$anchor:d,$head:t.doc.resolve(p.pos),indexes:s}}};t.isNodeSelection=p,t.canInsert=y,t.convertTableNodeToArrayOfRows=x,t.convertArrayOfRowsToTableNode=_,t.findParentNode=S,t.findParentNodeClosestToPos=j,t.findParentDomRef=M,t.hasParentNode=A,t.findParentNodeOfType=R,t.findParentNodeOfTypeClosestToPos=function(e,t){return j(e,(function(e){return f(t,e)}))},t.hasParentNodeOfType=function(e){return function(t){return A((function(t){return f(e,t)}))(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return M((function(t){return f(e,t)}),t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(p(t)){var n=t.node,r=t.$from;if(f(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.findPositionOfNodeBefore=N,t.findDomRefAtPos=I,t.flatten=P,t.findChildren=D,t.findTextNodes=function(e,t){return D(e,(function(e){return e.isText}),t)},t.findInlineNodes=function(e,t){return D(e,(function(e){return e.isInline}),t)},t.findBlockNodes=function(e,t){return D(e,(function(e){return e.isBlock}),t)},t.findChildrenByAttr=function(e,t,n){return D(e,(function(e){return!!t(e.attrs)}),n)},t.findChildrenByType=L,t.findChildrenByMark=function(e,t,n){return D(e,(function(e){return t.isInSet(e.marks)}),n)},t.contains=function(e,t){return!!L(e,t).length},t.findTable=B,t.isCellSelection=z,t.getSelectionRect=function(e){if(z(e)){var t=e.$anchorCell.start(-1);return i.TableMap.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(z(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return E({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(z(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return E({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=H,t.getCellsInColumn=F,t.getCellsInRow=U,t.getCellsInTable=function(e){var t=B(e);if(t){var n=i.TableMap.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},t.selectColumn=K,t.selectRow=V,t.selectTable=function(e){var t=B(e.selection);if(t){var n=i.TableMap.get(t.node).map;if(n&&n.length){var r=t.start+n[0],o=t.start+n[n.length-1],a=e.doc.resolve(r),s=e.doc.resolve(o);return h(e.setSelection(new i.CellSelection(s,a)))}}return e},t.emptyCell=function(e,t){return function(n){if(e){var r=g(t).cell.createAndFill().content;if(!e.node.content.eq(r))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r),h(n)}return n}},t.addColumnAt=function(e){return function(t){var n=B(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.width)return h(i.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},t.moveRow=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=B(r.selection);if(!i)return r;var a=te(e)(r).indexes,s=te(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&C(e,t,s,"row");var c=function(e,t,n,r){var o=x(e.node);return o=T(o,t,n,r),_(e.node,o)}(i,a,s,o.direction);return h(r).replaceWith(i.pos,i.pos+i.node.nodeSize,c)}},t.moveColumn=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=B(r.selection);if(!i)return r;var a=ee(e)(r).indexes,s=ee(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&C(e,t,s,"column");var c=function(e,t,n,r){var o=k(x(e.node));return o=T(o,t,n,r),o=k(o),_(e.node,o)}(i,a,s,o.direction);return h(r).replaceWith(i.pos,i.pos+i.node.nodeSize,c)}},t.addRowAt=function(e,t){return function(n){var r=B(n.selection);if(r){var o=i.TableMap.get(r.node),a=e-1;if(t&&a>=0)return h(G(a)(n));if(e>=0&&e<=o.height)return h(i.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},t.cloneRowAt=G,t.removeColumnAt=q,t.removeRowAt=$,t.removeTable=Y,t.removeSelectedColumns=function(e){var t=e.selection;if(H(t))return Y(e);if(z(t)){var n=B(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.right-1;i.removeColumn(e,a,s),s!==a.left;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return h(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(H(t))return Y(e);if(z(t)){var n=B(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var a=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),s=a.bottom-1;i.removeRow(e,a,s),s!==a.top;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return h(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var n=Z(e);return n?q(n.left)(c(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var n=Z(e);return n?$(n.top)(c(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,n){return function(o){var i=F(e)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=t(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}return h(o)}return o}},t.forEachCellInRow=function(e,t,n){return function(o){var i=U(e)(o.selection);if(i){for(var a=i.length-1;a>=0;a--)o=t(i[a],o);if(n){var s=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(s))}}return o}},t.setCellAttrs=X,t.createTable=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=g(e),a=i.cell,s=i.header_cell,c=i.row,l=i.table,u=[],d=[],p=0;p<n;p++)u.push(w(a,o)),r&&d.push(w(s,o));for(var f=[],h=0;h<t;h++)f.push(c.createChecked(null,r&&0===h?d:u));return l.createChecked(null,f)},t.findCellClosestToPos=J,t.findCellRectClosestToPos=Z,t.getSelectionRangeInColumn=ee,t.getSelectionRangeInRow=te,t.removeParentNodeOfType=function(e){return function(t){var n=R(e)(t.selection);return n?b(n.pos)(t):t}},t.replaceParentNodeOfType=a,t.removeSelectedNode=function(e){if(p(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return h(e.delete(t,n))}return e},t.replaceSelectedNode=s,t.setTextSelection=c,t.safeInsert=d,t.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=R(e)(o.selection);return i?h(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},t.selectParentNodeOfType=function(e){return function(t){if(!p(t.selection)){var n=R(e)(t.selection);if(n)return h(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=N(e.selection);return"number"==typeof t?b(t)(e):e}},m5cL:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("aWzz"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onContextUpdate=function(){t.forceUpdate()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.context.editorActions._privateSubscribe(this.onContextUpdate)},t.prototype.componentWillUnmount=function(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)},t.prototype.render=function(){return this.props.render(this.context.editorActions)},t.contextTypes={editorActions:i.object.isRequired},t}(o.Component);t.a=a},mGva:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var r,o=n("D57K"),i=n("zS/y"),a=n("NFZB");!function(e){e.ASC="asc",e.DESC="desc"}(r||(r={}));var s,c=30;!function(e){e.ALL_CONTROLS_HOVER="CONTROLS_HOVER",e.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",e.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",e.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",e.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",e.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",e.COLUMN_SELECTED="COLUMN_SELECTED",e.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",e.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",e.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT"}(s||(s={}));var l=Object(o.__assign)(Object(o.__assign)({},a.a),{COLUMN_CONTROLS:i.l+"-column-controls",COLUMN_CONTROLS_DECORATIONS:i.l+"-column-controls-decoration",COLUMN_SELECTED:i.l+"-column__selected",ROW_CONTROLS_WRAPPER:i.l+"-row-controls-wrapper",ROW_CONTROLS:i.l+"-row-controls",ROW_CONTROLS_INNER:i.l+"-row-controls__inner",ROW_CONTROLS_BUTTON_WRAP:i.l+"-row-controls__button-wrap",ROW_CONTROLS_BUTTON:i.l+"-row-controls__button",CONTROLS_BUTTON:i.l+"-controls__button",CONTROLS_BUTTON_ICON:i.l+"-controls__button-icon",CONTROLS_INSERT_BUTTON:i.l+"-controls__insert-button",CONTROLS_INSERT_BUTTON_INNER:i.l+"-controls__insert-button-inner",CONTROLS_INSERT_BUTTON_WRAP:i.l+"-controls__insert-button-wrap",CONTROLS_INSERT_LINE:i.l+"-controls__insert-line",CONTROLS_BUTTON_OVERLAY:i.l+"-controls__button-overlay",LAYOUT_BUTTON:i.l+"-layout-button",CONTROLS_INSERT_MARKER:i.l+"-controls__insert-marker",CONTROLS_INSERT_COLUMN:i.l+"-controls__insert-column",CONTROLS_INSERT_ROW:i.l+"-controls__insert-row",CONTROLS_DELETE_BUTTON_WRAP:i.l+"-controls__delete-button-wrap",CONTROLS_DELETE_BUTTON:i.l+"-controls__delete-button",CONTROLS_FLOATING_BUTTON_COLUMN:i.l+"-controls-floating__button-column",CONTROLS_FLOATING_BUTTON_ROW:i.l+"-controls-floating__button-row",CORNER_CONTROLS:i.l+"-corner-controls",CORNER_CONTROLS_INSERT_ROW_MARKER:i.l+"-corner-controls__insert-row-marker",CORNER_CONTROLS_INSERT_COLUMN_MARKER:i.l+"-corner-controls__insert-column-marker",CONTROLS_CORNER_BUTTON:i.l+"-corner-button",NUMBERED_COLUMN:i.l+"-numbered-column",NUMBERED_COLUMN_BUTTON:i.l+"-numbered-column__button",HOVERED_COLUMN:i.l+"-hovered-column",HOVERED_ROW:i.l+"-hovered-row",HOVERED_TABLE:i.l+"-hovered-table",HOVERED_CELL:i.l+"-hovered-cell",HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:i.l+"-hovered-cell__warning",HOVERED_DELETE_BUTTON:i.l+"-hovered-delete-button",WITH_CONTROLS:i.l+"-with-controls",RESIZING_PLUGIN:i.l+"-resizing-plugin",RESIZE_CURSOR:i.l+"-resize-cursor",IS_RESIZING:i.l+"-is-resizing",RESIZE_HANDLE:i.l+"-resize-handle",RESIZE_HANDLE_DECORATION:i.l+"-resize-decoration",CONTEXTUAL_SUBMENU:i.l+"-contextual-submenu",CONTEXTUAL_MENU_BUTTON_WRAP:i.l+"-contextual-menu-button-wrap",CONTEXTUAL_MENU_BUTTON:i.l+"-contextual-menu-button",CONTEXTUAL_MENU_ICON:i.l+"-contextual-submenu-icon",SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:i.l+"-table__selected",TABLE_CELL:i.i,TABLE_HEADER_CELL:i.k,TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:i.l+"-last-item-in-cell",WITH_RESIZE_LINE:i.l+"-column-resize-line"})},mJDO:function(e,t,n){"use strict";e.exports=function(e){var t="";return function e(n){if("string"==typeof n||"number"==typeof n)t+=n;else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var r=n.props.children;Array.isArray(r)?r.forEach((function(t){return e(t)})):e(r)}}(e),t}},mKtu:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("0Hbo");var r=n("m23B"),o=function(e,t){return!(t||!e)||Object(r.isCellSelection)(e)!==Object(r.isCellSelection)(t)||Object(r.isCellSelection)(e)&&Object(r.isCellSelection)(t)&&e.ranges!==t.ranges},i=function(e){for(var t=[],n=e.left;n<e.right;n++)t.push(n);return t},a=function(e){for(var t=[],n=e.top;n<e.bottom;n++)t.push(n);return t}},mLjB:function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},mN0p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 0 0 1.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e))};s.displayName="StatusIcon";var c=s;t.default=c},mS26:function(e,t,n){var r=n("kidG");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},mURL:function(e,t,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,o=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,i,a,s,c,l,u=e.pos;return 60===e.src.charCodeAt(u)&&(!((n=e.src.slice(u)).indexOf(">")<0)&&(o.test(n)?(s=(i=n.match(o))[0].slice(1,-1),c=e.md.normalizeLink(s),!!e.md.validateLink(c)&&(t||((l=e.push("link_open","a",1)).attrs=[["href",c]],l.markup="autolink",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(s),(l=e.push("link_close","a",-1)).markup="autolink",l.info="auto"),e.pos+=i[0].length,!0)):!!r.test(n)&&(s=(a=n.match(r))[0].slice(1,-1),c=e.md.normalizeLink("mailto:"+s),!!e.md.validateLink(c)&&(t||((l=e.push("link_open","a",1)).attrs=[["href",c]],l.markup="autolink",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(s),(l=e.push("link_close","a",-1)).markup="autolink",l.info="auto"),e.pos+=a[0].length,!0))))}},mUT7:function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},"mVB+":function(e,t,n){"use strict";var r=n("T1Ll").assign,o=n("T1Ll").unescapeAll,i=n("T1Ll").escapeHtml,a={};function s(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var s,c,l,u,d=e[t],p=d.info?o(d.info).trim():"",f="";return p&&(f=p.split(/\s+/g)[0]),0===(s=n.highlight&&n.highlight(d.content,f)||i(d.content)).indexOf("<pre")?s+"\n":p?(c=d.attrIndex("class"),l=d.attrs?d.attrs.slice():[],c<0?l.push(["class",n.langPrefix+f]):l[c][1]+=" "+n.langPrefix+f,u={attrs:l},"<pre><code"+a.renderAttrs(u)+">"+s+"</code></pre>\n"):"<pre><code"+a.renderAttrs(d)+">"+s+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},s.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},s.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden?i=!1:-1===r.nesting&&r.tag===a.tag&&(i=!1))),o+=i?">\n":">")},s.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,s=e.length;a<s;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},s.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type&&(r+=this.renderInlineAsText(e[o].children,t,n));return r},s.prototype.render=function(e,t,n){var r,o,i,a="",s=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==s[i]?a+=s[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=s},"mu0/":function(e,t,n){"use strict";function r(e,t){try{window.AJS.EventQueue.push({name:e,properties:t})}catch(e){console.warn("Unable to send analytics event via Herment - has it been initialized?",e)}}var o=function(){function e(){this.trackEvent="undefined"!=typeof window&&window.AJS&&window.AJS.EventQueue&&"function"==typeof window.AJS.EventQueue.push?r:function(){return null}}return Object.defineProperty(e.prototype,"handler",{set:function(e){this.trackEvent=e||function(){}},enumerable:!0,configurable:!0}),e}();t.a=new o},nLZQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("N+1D"),o=n("hJWs"),i=function(e){return Object(r.a)({type:o.a.SET_KEYBOARD_HEIGHT,keyboardHeight:e})},a=function(e){return Object(r.a)({type:o.a.SET_HEIGHT_DIFF,heightDiff:e})},s=function(e){return Object(r.a)({type:o.a.SET_WINDOW_HEIGHT,windowHeight:e})}},nVNJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorBoldIcon";var c=s;t.default=c},njjQ:function(e,t,n){"use strict";var r=n("D57K"),o=n("I9T1"),i=n("Dsue"),a=n("kWTW"),s=n("kbCE"),c=n("BH7h"),l=n("i1+U");function u(e){var t=Object(r.__assign)({},e);return delete t.marks,t}function d(e){return Object(l.a)(e,{text:function(e){return e&&Array.isArray(e.marks)?Object(r.__assign)(Object(r.__assign)({},e),{marks:e.marks.filter((function(e){return"typeAheadQuery"!==e.type}))}):e},status:function(e){return!(!e.attrs||!e.attrs.text)&&u(e)},emoji:u,mention:u,date:u,hardBreak:u,inlineCard:u})}var p=n("m23B"),f=function(){function e(){this.listeners=[]}return e.from=function(t,n,r){var o=new e;return o._privateRegisterEditor(t,n,r),o},e.prototype._privateGetEditorView=function(){return this.editorView},e.prototype._privateGetEventDispatcher=function(){return this.eventDispatcher},e.prototype._privateRegisterEditor=function(e,t,n){if(this.contentTransformer=n,this.eventDispatcher=t,!this.editorView&&e)this.editorView=e,this.listeners.forEach((function(n){return n(e,t)}));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.");this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))},e.prototype._privateUnregisterEditor=function(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0},e.prototype._privateSubscribe=function(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)},e.prototype._privateUnsubscribe=function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))},e.prototype.focus=function(){return!(!this.editorView||this.editorView.hasFocus())&&(this.editorView.focus(),this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0)},e.prototype.blur=function(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)},e.prototype.clear=function(){if(!this.editorView)return!1;var e=this.editorView,t=e.state,n=e.state.tr.setSelection(i.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0},e.prototype.getValue=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,Object(a.b)(this.editorView)];case 1:return(e=n.sent())?[2,Object(s.k)((function(e){return t.contentEncode?t.contentEncode(o.Node.fromJSON(t.editorView.state.schema,e)):e}),d,s.L)(e)]:[2]}}))}))},e.prototype.replaceDocument=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),!this.editorView||null==e)return!1;var r=this.editorView.state,o=r.schema,a=this.contentTransformer?this.contentTransformer.parse(e).toJSON():e,s=Object(c.l)(o,a);if(!s)return!1;var l=r.tr.replaceWith(0,r.doc.nodeSize-2,s.content);return t||l.selectionSet||l.setSelection(i.Selection.atStart(l.doc)),t&&(l=l.scrollIntoView()),n||l.setMeta("addToHistory",!1),this.editorView.dispatch(l),!0},e.prototype.replaceSelection=function(e,t){if(!this.editorView)return!1;var n=this.editorView.state;if(!e){var r=n.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(r),!0}var o=n.schema,i=Object(c.l)(o,e);return!!i&&(this.editorView.dispatch(Object(p.safeInsert)(i,void 0,t)(n.tr).scrollIntoView()),!0)},e.prototype.appendText=function(e){if(!this.editorView||!e)return!1;var t=this.editorView.state,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;var r=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(r),!0},e}();t.a=f},oISN:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return w}));var r=n("D57K"),o=n("Dsue"),i=n("7bKp"),a=n("Mtm3"),s=n("ljjB"),c=n("fjMk"),l=n("N01o"),u=n("kbCE"),d=n("B9aC");function p(e){return function(t,n){var r=t.schema.nodes;if(e===a.k.name&&r.paragraph)return function(e,t){var n=e.tr,r=e.selection,o=r.$from,i=r.$to,a=e.schema;t&&t(n.setBlockType(o.pos,i.pos,a.nodes.paragraph));return!0}(t,n);var o=a.d[e];return!!(o&&r.heading&&o.level)&&v(o.level)(t,n)}}function f(e,t){return function(n,r){var o=n.schema.nodes;if(e===a.k.name&&o.paragraph)return m(t)(n,r);var i=a.d[e];return!!(i&&o.heading&&i.level)&&b(i.level,t)(n,r)}}function h(e){return function(t,n,o){var i,a,s,c=t.schema.nodes,l=c.heading,d=c.paragraph,p=Object(u.n)(t.doc,t.selection.from,t.selection.to,(function(e){return e.type===l||e.type===d}));try{for(var f=Object(r.__values)(p),h=f.next();!h.done;h=f.next()){var m=h.value,v=m.node.type===l?m.node.attrs.level:0;if(s){if(v!==s){s=void 0;break}}else s=v}}catch(e){i={error:e}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return e(s)(t,n,o)}}function m(e){return h((function(t){return Object(c.e)({action:l.a.FORMATTED,actionSubject:l.b.TEXT,eventType:l.d.TRACK,actionSubjectId:l.c.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})((function(e,t){var n=e.tr,r=e.selection,o=r.$from,i=r.$to,a=e.schema;return t&&t(n.setBlockType(o.pos,i.pos,a.nodes.paragraph)),!0}))}))}function v(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,s=t.schema;return n&&n(r.setBlockType(i.pos,a.pos,s.nodes.heading,{level:e})),!0}}var b=function(e,t){return h((function(n){return Object(c.e)({action:l.a.FORMATTED,actionSubject:l.b.TEXT,eventType:l.d.TRACK,actionSubjectId:l.c.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:n}})(v(e))}))};function g(e){return function(t,n){var r=t.schema.nodes;switch(e){case a.a.name:if(r.paragraph&&r.blockquote)return O(r.blockquote)(t,n);break;case a.b.name:if(r.codeBlock)return function(e,t){var n=e.tr,r=e.selection.$to,i=e.schema.nodes.codeBlock,a=e.doc.nodeAt(r.pos+1),s=a&&a.isText?0:1;return n.replaceRangeWith(r.pos+s,r.pos+s,i.createAndFill()),n.setSelection(o.Selection.near(n.doc.resolve(e.selection.to+s))),t&&t(n),!0}(t,n);break;case a.m.name:if(r.panel&&r.paragraph)return O(r.panel)(t,n)}return!1}}var y=function(e,t){switch(e){case a.a.name:return Object(c.e)({action:l.a.FORMATTED,actionSubject:l.b.TEXT,eventType:l.d.TRACK,actionSubjectId:l.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(g(e));case a.b.name:return Object(c.e)({action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,actionSubjectId:l.c.CODE_BLOCK,attributes:{inputMethod:t},eventType:l.d.TRACK})(g(e));case a.m.name:return Object(c.e)({action:l.a.INSERTED,actionSubject:l.b.DOCUMENT,actionSubjectId:l.c.PANEL,attributes:{inputMethod:t,panelType:d.a.INFO},eventType:l.d.TRACK})(g(e));default:return g(e)}};function O(e){return function(t,n){var r=t.tr,a=t.selection,c=a.$from,l=a.$to,u=t.schema.nodes.paragraph,d=t.schema.marks,p=d.alignment,f=d.indentation;r=Object(s.c)(t,[p,f])||r;var h=c.blockRange(l),m=h&&Object(i.findWrapping)(h,e);return h&&m?r.wrap(h,m).scrollIntoView():(r.replaceRangeWith(l.pos+1,l.pos+1,e.createAndFill({},u.create())),r.setSelection(o.Selection.near(r.doc.resolve(t.selection.to+1)))),n&&n(r),!0}}var w=function(e,t){var n=e.selection.$cursor;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){var r=e.tr,o=e.schema.nodes.paragraph,i=n.parent;return r.setNodeMarkup(0,o,i.attrs,[]),t&&t(r),!0}return!1}},oIsD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D57K"),o=n("I9T1"),i=n("7bKp"),a=function(e){function t(t,n){var r=e.call(this)||this;return r.pos=t,r.attrs=n,r}return Object(r.__extends)(t,e),t.prototype.apply=function(e){var t=e.nodeAt(this.pos);if(!t)return i.StepResult.fail("No node at given position");var n=Object(r.__assign)(Object(r.__assign)({},t.attrs||{}),this.attrs||{}),a=t.type.create(n,o.Fragment.empty,t.marks),s=new o.Slice(o.Fragment.from(a),0,t.isLeaf?0:1);return i.StepResult.fromReplace(e,this.pos,this.pos+1,s)},t.prototype.invert=function(e){var n=e.nodeAt(this.pos);return new t(this.pos,n?n.attrs:{})},t.prototype.map=function(e){var n=e.mapResult(this.pos,1);return n.deleted?null:new t(n.pos,this.attrs)},t.prototype.toJSON=function(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}},t.fromJSON=function(e,n){if("number"!=typeof n.pos||null!==n.attrs&&"object"!=typeof n.attrs)throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new t(n.pos,n.attrs)},t}(i.Step);i.Step.jsonID("setAttrs",a)},oL1A:function(e,t,n){"use strict";var r,o=n("LzaW"),i=n("Dsue");!function(e){e.UPDATE="UPDATE"}(r||(r={}));var a=function(e,t){switch(t.type){case r.UPDATE:return{canUndo:t.canUndo,canRedo:t.canRedo}}return e},s=n("MMa6"),c=function(e){var t=function(e){return e.plugins.find((function(e){return e.key===s.a}))}(e);if(t)return t.getState(e)};n.d(t,"b",(function(){return l}));var l=new i.PluginKey("historyPlugin"),u=function(){return{canUndo:!1,canRedo:!1}},d=Object(o.a)(l,a),p=d.createPluginState,f=d.getPluginState;t.a=function(){return{name:"history",pmPlugins:function(){return[{name:"history",plugin:function(e){return function(e){return new i.Plugin({state:p(e,u),key:l,appendTransaction:function(e,t,n){if(e.find((function(e){return e.docChanged&&!1!==e.getMeta("addToHistory")}))){var o=c(n);if(!o)return;var i=o.done.eventCount>0,a=o.undone.eventCount>0,s=f(n),u=s.canUndo,d=s.canRedo;if(i!==u||a!==d){var p={type:r.UPDATE,canUndo:i,canRedo:a};return n.tr.setMeta(l,p)}}}})}(e.dispatch)}}]}}}},oOSh:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("NJOB"),o=n("I9T1"),i=n("mu0/"),a=n("iBxf"),s=n("fjMk"),c=n("N01o"),l=n("GcKS"),u=n("uS5U"),d=function(e,t,n,r){if(!e.selection.empty)return null;var i=null;if(Object(u.b)(e).newInsertionBehaviour&&(i=e.tr.replaceWith(t,n,o.Fragment.empty),i=Object(l.a)(e.schema.nodes.rule.createChecked(),i.selection.from)(i)),!i){var a=e.selection.$from,d=e.doc.resolve(a.after()),p=e.schema.nodes.paragraph;d.nodeAfter&&d.nodeAfter.type===p&&(n+=1),i=e.tr.replaceWith(t,n,o.Fragment.from(e.schema.nodes.rule.createChecked()))}return Object(s.a)(e,i,{action:c.a.INSERTED,actionSubject:c.b.DOCUMENT,actionSubjectId:c.c.DIVIDER,attributes:{inputMethod:r},eventType:c.d.TRACK})},p=function(e,t,n){return i.a.trackEvent("atlassian.editor.format.horizontalrule.autoformatting"),d(e,t,n,c.e.FORMATTING)};t.b=function(e){var t=[];if(e.nodes.rule&&(t.push(Object(a.a)(/^(\-\-\-|\*\*\*)$/,(function(e,t,n,r){return p(e,n-1,r)}),!0)),t.push(Object(a.a)(new RegExp(a.c+"(\\-\\-\\-|\\*\\*\\*)"),(function(e,t,n,r){var o=e.schema.nodes.hardBreak;return e.doc.resolve(n).nodeAfter.type!==o?null:p(e,n,r)}),!0))),0!==t.length)return Object(r.inputRules)({rules:t})}},otMq:function(e,t,n){"use strict";var r=n("T1Ll").normalizeReference,o=n("T1Ll").isSpace;e.exports=function(e,t){var n,i,a,s,c,l,u,d,p,f="",h=e.pos,m=e.posMax,v=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((l=s+1)<m&&40===e.src.charCodeAt(l)){for(b=!1,l++;l<m&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(l>=m)return!1;for(v=l,(u=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(f=e.md.normalizeLink(u.str),e.md.validateLink(f)?l=u.pos:f=""),v=l;l<m&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(u=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<m&&v!==l&&u.ok)for(p=u.str,l=u.pos;l<m&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);else p="";(l>=m||41!==e.src.charCodeAt(l))&&(b=!0),l++}if(b){if(void 0===e.env.references)return!1;if(l<m&&91===e.src.charCodeAt(l)?(v=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?a=e.src.slice(v,l++):l=s+1):l=s+1,a||(a=e.src.slice(c,s)),!(d=e.env.references[r(a)]))return e.pos=h,!1;f=d.href,p=d.title}return t||(e.pos=c,e.posMax=s,e.push("link_open","a",1).attrs=n=[["href",f]],p&&n.push(["title",p]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=l,e.posMax=m,!0}},"p29/":function(e,t,n){"use strict";var r=n("D57K"),o=n("Dsue"),i=function(e,t){switch(t.type){case"QUEUE":return function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{requests:e.requests.concat(t.requests)})}(e,t);case"SET_PROVIDER":return function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{provider:t.provider})}(e,t);case"RESOLVE":return function(e,t){var n=e.requests.reduce((function(e,n){return n.url!==t.url&&e.push(n),e}),[]);return Object(r.__assign)(Object(r.__assign)({},e),{requests:n})}(e,t);case"REGISTER":return function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{cards:Object(r.__spread)(e.cards,[t.info])})}(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type})}(e,t)}},a=n("x5Wp"),s=n("WvVb"),c=n("ERkP"),l=n("aWzz"),u=n("vdYO"),d=n("hdUu"),p=n("U6Bd"),f=n("kbCE"),h=n("9HKk"),m=n("hZtx");function v(e,t){var n;return(n=function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={isError:!1},e}return Object(r.__extends)(o,n),o.prototype.render=function(){var n=Object(m.d)(this.props.node).url;if(n&&!Object(h.a)(n))return c.createElement(t,null);if(this.state.isError)return n?c.createElement("a",{href:n,onClick:function(e){e.preventDefault()}},n):c.createElement(t,null);var o=this.context.contextAdapter?this.context.contextAdapter.card:void 0;return c.createElement(e,Object(r.__assign)({cardContext:o},this.props))},o.prototype.componentDidCatch=function(e){this.setState({isError:!0})},o}(c.Component)).contextTypes={contextAdapter:l.object},n}var b=n("V3z3"),g=n("RLFc"),y=v(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){},t.onResolve=function(e){var n=t.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=e.title,s=e.url;Object(p.a)((function(){return o.dispatch(Object(a.c)({title:i,url:s,pos:r()})(o.state.tr))}))()}},t}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.props.view,t=Object(d.c)(e.dom);this.scrollContainer=t||void 0},t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=e.cardContext,o=t.attrs,i=o.url,a=o.data,s=c.createElement("span",null,c.createElement("span",null,f.a),c.createElement("span",{className:"card"},c.createElement(u.a,{url:i,data:a,appearance:"inline",isSelected:n,onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve})));return r?c.createElement(r.Provider,{value:r.value},s):s},t.contextTypes={contextAdapter:l.object},t}(c.PureComponent),b.a),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return c.createElement(y,{node:this.node,selected:this.insideSelection(),view:this.view,getPos:this.getPos})},t}(g.a),w=n("DJeL"),E=v(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){},t.onResolve=function(e){var n=t.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=e.title,s=e.url;Object(p.a)((function(){return o.dispatch(Object(a.c)({title:i,url:s,pos:r()})(o.state.tr))}))}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.node,n=e.selected,r=e.cardContext,o=t.attrs,i=o.url,a=o.data,s=c.createElement(c.Fragment,null,c.createElement(u.a,{url:i,data:a,appearance:"block",isSelected:n,onClick:this.onClick,onResolve:this.onResolve}),c.createElement("span",{contentEditable:!0}));return c.createElement("div",null,r?c.createElement(r.Provider,{value:r.value},s):s)},t.contextTypes={contextAdapter:l.object},t}(c.PureComponent),w.a),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return c.createElement(E,{node:this.node,selected:this.insideSelection(),view:this.view,getPos:this.getPos})},t}(g.a);n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return C}));var x=new o.PluginKey("cardPlugin"),_=function(e){return x.getState(e)},T=function(e,t,n,r){var o=e.state.doc.resolve(r.pos),i=o.parent,c="paragraph"===i.type.name&&1===i.childCount&&i.firstChild.type.isText&&i.firstChild.text===r.url&&"doc"===o.node(o.depth-1).type.name;t[r.url]=n.resolve(r.url,c?"block":"inline").then((function(e){return delete t[r.url],e})).then(function(e,t){return function(n){return Object(s.e)(t.url,n)(e.state,e.dispatch),n}}(e,r),function(e,t){return function(){e.dispatch(Object(a.d)(t.url)(e.state.tr))}}(e,r))},C=function(e){var t=e.portalProviderAPI,n=e.providerFactory;return new o.Plugin({state:{init:function(){return{requests:[],provider:null,cards:[],showLinkingToolbar:!1}},apply:function(e,t){var n=Object(r.__assign)(Object(r.__assign)({},t),{requests:t.requests.map((function(t){return Object(r.__assign)(Object(r.__assign)({},t),{pos:e.mapping.map(t.pos)})})),cards:t.cards.map((function(t){return Object(r.__assign)(Object(r.__assign)({},t),{pos:e.mapping.map(t.pos)})}))}),o=e.getMeta(x);return o?i(n,o):n}},view:function(e){var t=function(t,n){"cardProvider"===t&&n&&n.then((function(t){var n=e.state;(0,e.dispatch)(Object(a.e)(t)(n.tr))}))};n.subscribe("cardProvider",t);var r={};return{update:function(e,t){var n=_(e.state),o=_(t);if(n&&n.provider){var i=o?n.requests.filter((function(e){return!o.requests.find((function(t){return t.url===e.url&&t.pos===e.pos}))})):n.requests,a=n.provider;i.forEach((function(t){T(e,r,a,t)}))}},destroy:function(){Object.keys(r).forEach((function(e){return Promise.reject(r[e])})),n.unsubscribe("cardProvider",t)}}},props:{nodeViews:{inlineCard:function(e,r,o){return new O(e,r,o,t,{providerFactory:n},void 0,!0).init()},blockCard:function(e,r,o){return new k(e,r,o,t,{providerFactory:n},void 0,!0).init()}}},key:x})}},"pAx/":function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},pFVA:function(e,t,n){var r=n("kidG");e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},pVcW:function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,s;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],s=n>0&&t[n-1].end===r.end+1&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1&&t[n-1].marker===r.marker,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=s?"strong_open":"em_open",i.tag=s?"strong":"em",i.nesting=1,i.markup=s?a+a:a,i.content="",(i=e.tokens[o.token]).type=s?"strong_close":"em_close",i.tag=s?"strong":"em",i.nesting=-1,i.markup=s?a+a:a,i.content="",s&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,jump:n,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},puzq:function(e,t,n){"use strict";function r(e,t){var n=e[t];return n||console.warn("Text color palette does not have an internationalization message for color "+t.toUpperCase()+".\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n"),n}n.d(t,"a",(function(){return r}))},pz3b:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("ERkP"),a=n("KsTJ"),s=n("RZTm"),c=n("+3hD"),l=n("dDc+"),u=a.default.span(r||(r=Object(o.__makeTemplateObject)(["\n  flex: 0 0 16px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  align-self: start;\n  margin: 2px ","px 0 0;\n\n  & > input[type='checkbox'] {\n    position: absolute;\n    outline: none;\n    margin: 0;\n    opacity: 0;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n\n    + label {\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n      width: 100%;\n      cursor: pointer;\n\n      &::after {\n        background: ","\n        background-size: 16px;\n        border-radius: 3px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: ","\n        box-sizing: border-box;\n        content: '';\n        height: 16px;\n        left: 50%;\n        position: absolute;\n        transition: border-color 0.2s ease-in-out;\n        top: 8px;\n        width: 16px;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &:not([disabled]) + label:hover::after {\n      background: ","\n      transition: border 0.2s ease-in-out;\n    }\n    &[disabled] + label {\n      opacity: 0.5;\n      cursor: default;\n    }\n    &:checked {\n      + label::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n        border: 0;\n        border-color: transparent;\n        border-radius: 0; /* FS-1392 */\n      }\n      &:not([disabled]) + label:hover::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n      }\n    }\n  }\n"],["\n  flex: 0 0 16px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  align-self: start;\n  margin: 2px ","px 0 0;\n\n  & > input[type='checkbox'] {\n    position: absolute;\n    outline: none;\n    margin: 0;\n    opacity: 0;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n\n    + label {\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n      width: 100%;\n      cursor: pointer;\n\n      &::after {\n        background: ","\n        background-size: 16px;\n        border-radius: 3px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: ","\n        box-sizing: border-box;\n        content: '';\n        height: 16px;\n        left: 50%;\n        position: absolute;\n        transition: border-color 0.2s ease-in-out;\n        top: 8px;\n        width: 16px;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &:not([disabled]) + label:hover::after {\n      background: ","\n      transition: border 0.2s ease-in-out;\n    }\n    &[disabled] + label {\n      opacity: 0.5;\n      cursor: default;\n    }\n    &:checked {\n      + label::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n        border: 0;\n        border-color: transparent;\n        border-radius: 0; /* FS-1392 */\n      }\n      &:not([disabled]) + label:hover::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n      }\n    }\n  }\n"])),Object(s.l)(),Object(c.a)({light:l.colors.N0,dark:l.colors.DN80}),Object(c.a)({light:l.colors.N50,dark:l.colors.DN90}),Object(c.a)({light:l.colors.N30,dark:l.colors.B75})),d=n("lYt+"),p=n("2sr0"),f=n("OEBU"),h=Object(f.a)("fabric-elements"),m=0,v=function(e){return e+"-"+m++},b=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=function(e){var t=n.props,r=t.onChange,o=t.taskId,i=t.isDone,a=t.createAnalyticsEvent,s=!i;r&&r(o,s),a&&h({action:s?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:o}})(a)},n.checkBoxId=v(t.taskId),n}return Object(o.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.taskId!==this.props.taskId&&(this.checkBoxId=v(e.taskId))},t.prototype.render=function(){var e=this.props,t=e.appearance,n=e.isDone,r=e.contentRef,o=e.children,a=e.placeholder,s=e.showPlaceholder,c=e.disabled,l=i.createElement(u,{contentEditable:!1},i.createElement("input",{id:this.checkBoxId,name:this.checkBoxId,type:"checkbox",onChange:this.handleOnChange,checked:!!n,disabled:!!c,suppressHydrationWarning:!0}),i.createElement("label",{htmlFor:this.checkBoxId,suppressHydrationWarning:!0}));return i.createElement(d.a,{appearance:t,contentRef:r,icon:l,placeholder:a,showPlaceholder:s},o)},t.defaultProps={appearance:"inline"},t}(i.PureComponent),g=Object(p.a)()(b),y=n("Vutt"),O=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.onUpdate=function(e){n.setState({isDone:"DONE"===e})},n.handleOnChange=function(e,t){var r=n.props,o=r.taskDecisionProvider,i=r.objectAri,a=r.onChange;n.setState({isDone:t}),o&&i?o.then((function(r){n.mounted&&(r.toggleTask({localId:e,objectAri:i},t?"DONE":"TODO"),a&&a(e,t))})):a&&a(e,t)},n.state={isDone:t.isDone},n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.isDone!==this.state.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))},t.prototype.componentWillUnmount=function(){this.unsubscribe(),this.mounted=!1},t.prototype.subscribe=function(e,t,n){var r=this;e&&t&&e.then((function(e){if(r.mounted){var i=r.props.taskId,a={localId:i,objectAri:t},s=Object(o.__assign)(Object(o.__assign)({},a),{state:n?"DONE":"TODO",lastUpdateDate:new Date,type:"TASK"});e.subscribe({localId:i,objectAri:t},r.onUpdate,s)}}))},t.prototype.unsubscribe=function(){var e=this,t=this.props,n=t.taskDecisionProvider,r=t.taskId,o=t.objectAri;n&&o&&n.then((function(t){t.unsubscribe({localId:r,objectAri:o},e.onUpdate)}))},t.prototype.render=function(){var e=this.state.isDone,t=this.props,n=t.appearance,r=t.children,o=t.contentRef,a=t.objectAri,s=t.showPlaceholder,c=t.placeholder,l=t.taskId,u=t.disabled;return i.createElement(y.e,{data:{objectAri:a}},i.createElement(g,{isDone:e,taskId:l,onChange:this.handleOnChange,appearance:n,contentRef:o,showPlaceholder:s,placeholder:c,disabled:u},r))},t.defaultProps={appearance:"inline"},t}(i.PureComponent);t.a=O},qRgY:function(e,t,n){"use strict";var r,o,i=n("D57K"),a=n("ERkP"),s=n("aWzz"),c=n("Dsue"),l=n("aGmo"),u=n("L21V"),d=n("lCOr"),p=n("bw97"),f=n("qp5z"),h=n("+ELd"),m=n("BH7h"),v=n("R9eX"),b=n("/C+m");!function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(r||(r={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(o||(o={}));var g=n("N01o"),y=n("fjMk"),O=n("A/E9"),w=n("mu0/"),E=n("I9T1"),k=n("Rak/"),x=n("wndT"),_=n("4fYq"),T={plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","typeAhead","typeAheadKeymap","typeAheadInputRule","indentationKeymap","lists","textColor","alignmentPlugin","listsInputRule","listsKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","tasksAndDecisionsKeyMap","table","tableKeymap","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaKeymap","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","date","dateKeymap","floatingToolbar","clearMarksOnChange","reactNodeView","history","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileScroll","scrollGutterPlugin","analytics","history"],nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","date","layoutSection","layoutColumn","inlineCard","blockCard"],marks:["link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation"]};function C(e){return function(t,n){return T[e].indexOf(t.name)-T[e].indexOf(n.name)}}function S(e){var t=e.reduce((function(e,t){return t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((function(n){e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e}),{});return e.reduce((function(e,n){var r,o,a;return n.pmPlugins&&(r=e.pmPlugins).push.apply(r,Object(i.__spread)(n.pmPlugins(n.name?t[n.name]:void 0))),n.nodes&&(o=e.nodes).push.apply(o,Object(i.__spread)(n.nodes())),n.marks&&(a=e.marks).push.apply(a,Object(i.__spread)(n.marks())),n.contentComponent&&e.contentComponents.push(n.contentComponent),n.primaryToolbarComponent&&e.primaryToolbarComponents.push(n.primaryToolbarComponent),n.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(n.secondaryToolbarComponent),e}),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[]})}function j(e){var t=function(e){var t=Object.keys(e),n=new Set(t.map((function(t){return e[t].group})));return t.forEach((function(t){var r=e[t];r.excludes&&(r.excludes=r.excludes.split(" ").filter((function(e){return n.has(e)})).join(" "))})),e}(e.marks.sort(C("marks")).reduce((function(e,t){return e[t.name]=t.mark,e}),{})),n=Object(k.b)(e.nodes.sort(C("nodes")).reduce((function(e,t){return e[t.name]=t.node,e}),{}),t);return new E.Schema({nodes:n,marks:t})}function M(e){var t=e.editorConfig,n=e.schema,r=e.dispatch,o=e.eventDispatcher,i=e.providerFactory,a=e.errorReporter,s=e.portalProviderAPI,c=e.reactContext,l=e.dispatchAnalyticsEvent;return t.pmPlugins.sort(C("plugins")).map((function(e){return(0,e.plugin)({schema:n,dispatch:r,providerFactory:i,errorReporter:a,eventDispatcher:o,portalProviderAPI:s,reactContext:c,dispatchAnalyticsEvent:l})})).filter((function(e){return!!e}))}var A=function(e,t){var n={type:e.type.name,pos:t,nodeSize:e.nodeSize},r=R(e.content,t);r.length>0&&(n.content=r);var o=I(e);return o.length>0&&(n.marks=o),n},R=function(e,t){if(!e||!e.content||!e.content.length)return[];var n=[],r=e.content;if(r[0].isBlock){var o;n=r.map((function(e){return t+=o?o.nodeSize:1,o=e,A(e,t)}))}else{var i=N(r,t);n=i.inlineNodes,t=i.pos}return n},N=function(e,t){return{inlineNodes:e.map((function(e){var n=e.nodeSize,r={type:e.type.name,pos:t,nodeSize:n},o=I(e);return o.length>0&&(r.marks=o),t+=n,r})),pos:t}},I=function(e){return e.marks.map((function(e){return e.type.name}))},P=n("ezNr"),D=n("GGnZ");function L(e){if(!e.hasFocus())return window.setTimeout((function(){e.focus()}),0)}var B=function(e){function t(t){var n,a,s=e.call(this,t)||this;s.canDispatchTransactions=!0,s.formatFullWidthAppearance=function(e){return"full-width"===e?o.FULL_WIDTH:o.FIXED_WIDTH},s.reconfigureState=function(e){if(s.view){s.view.dom instanceof HTMLElement&&s.view.hasFocus()&&s.view.dom.blur(),s.config=S(s.getPlugins(e.editorProps,s.props.editorProps,e.createAnalyticsEvent));var t=s.editorState,n=M({schema:t.schema,dispatch:s.dispatch,errorReporter:s.errorReporter,editorConfig:s.config,eventDispatcher:s.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:function(){return s.context},dispatchAnalyticsEvent:s.dispatchAnalyticsEvent}),r=t.reconfigure({plugins:n});return s.view.updateState(r),s.view.update(Object(i.__assign)(Object(i.__assign)({},s.view.props),{state:r}))}},s.createEditorState=function(e){if(s.view)return console.warn("The editor does not support changing the schema dynamically."),s.editorState;s.config=S(s.getPlugins(e.props.editorProps,void 0,e.props.createAnalyticsEvent));var t,n,r=j(s.config),o=e.props.editorProps,i=o.contentTransformerProvider,a=o.defaultValue,l=M({schema:r,dispatch:s.dispatch,errorReporter:s.errorReporter,editorConfig:s.config,eventDispatcher:s.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:s.props.portalProviderAPI,reactContext:function(){return s.context},dispatchAnalyticsEvent:s.dispatchAnalyticsEvent});s.contentTransformer=i?i(r):void 0,e.replaceDoc&&(t=s.contentTransformer&&"string"==typeof a?s.contentTransformer.parse(a):Object(m.l)(r,a,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent)),t&&(n=Object(P.a)(e.props.editorProps.appearance)?c.Selection.atStart(t):c.Selection.atEnd(t));var u=n&&c.Selection.findFrom(n.$head,-1,!0)||void 0;return c.EditorState.create({schema:r,plugins:l,doc:t,selection:u})},s.dispatchTransaction=function(e){if(s.view){var t=Object(v.a)(e);if(Object(v.d)(t)){var n=s.view.state.apply(e);s.view.updateState(n),s.props.editorProps.onChange&&e.docChanged&&s.props.editorProps.onChange(s.view),s.editorState=n}else{var r=t.filter((function(e){return!Object(v.c)(e)})).map((function(e){return function(e){try{return A(e,0)}catch(e){return"Error logging document structure: "+e}}(e)}));w.a.trackEvent("atlaskit.fabric.editor.invalidtransaction",{invalidNodes:JSON.stringify(r)}),s.dispatchAnalyticsEvent({action:g.a.DISPATCHED_INVALID_TRANSACTION,actionSubject:g.b.EDITOR,eventType:g.d.OPERATIONAL,attributes:{analyticsEventPayloads:Object(y.c)(e),invalidNodes:r}})}}},s.getDirectEditorProps=function(e){return{state:e||s.editorState,dispatchTransaction:function(e){s.canDispatchTransactions&&s.dispatchTransaction(e)},editable:function(e){return!s.props.editorProps.disabled},attributes:{"data-gramm":"false"}}},s.createEditorView=function(e){Object(d.a)(D.a.PROSEMIRROR_RENDERED,(function(e,t){s.view&&s.dispatchAnalyticsEvent({action:g.a.PROSEMIRROR_RENDERED,actionSubject:g.b.EDITOR,attributes:{duration:e,startTime:t,nodes:Object(m.c)(s.view.state.doc),ttfb:Object(p.a)()},eventType:g.d.OPERATIONAL})})),s.view=new l.EditorView({mount:e},s.getDirectEditorProps())},s.handleEditorViewRef=function(e){if(!s.view&&e){s.createEditorView(e);var t=s.view;s.props.onEditorCreated({view:t,config:s.config,eventDispatcher:s.eventDispatcher,transformer:s.contentTransformer}),s.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(s.focusTimeoutId=L(t)),s.forceUpdate()}else s.view&&!e&&(s.props.onEditorDestroyed({view:s.view,config:s.config,eventDispatcher:s.eventDispatcher,transformer:s.contentTransformer}),s.view.destroy(),s.view=void 0)},s.dispatchAnalyticsEvent=function(e){s.props.allowAnalyticsGASV3&&s.eventDispatcher&&Object(h.b)(s.eventDispatcher)(O.a,{payload:e})},s.eventDispatcher=new h.a,s.dispatch=Object(h.b)(s.eventDispatcher),s.errorReporter=(n=t.editorProps.errorReporterHandler,a=new x.a,n&&(a.handler=n),a),s.editorState=s.createEditorState({props:t,replaceDoc:!0});var u,f=t.createAnalyticsEvent;return t.allowAnalyticsGASV3&&s.activateAnalytics(f),u=t.editorProps.analyticsHandler,w.a.handler=u||function(){},w.a.trackEvent("atlassian.editor.start",{name:_.a,version:_.b}),s.dispatchAnalyticsEvent({action:g.a.STARTED,actionSubject:g.b.EDITOR,attributes:{platform:r.WEB},eventType:g.d.UI}),s}return Object(i.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:function(t){return!e.editorProps.disabled}}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=L(this.view))),this.props.allowAnalyticsGASV3!==e.allowAnalyticsGASV3?e.allowAnalyticsGASV3?this.activateAnalytics(e.createAnalyticsEvent):this.deactivateAnalytics():this.props.allowAnalyticsGASV3&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent&&(this.deactivateAnalytics(),this.activateAnalytics(e.createAnalyticsEvent));var t=this.props.editorProps.appearance,n=e.editorProps.appearance;n!==t&&(this.reconfigureState(e),"full-width"!==n&&"full-width"!==t||this.dispatchAnalyticsEvent({action:g.a.CHANGED_FULL_WIDTH_MODE,actionSubject:g.b.EDITOR,eventType:g.d.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(t),newMode:this.formatFullWidthAppearance(n)}}))},t.prototype.deactivateAnalytics=function(){this.analyticsEventHandler&&this.eventDispatcher.off(O.a,this.analyticsEventHandler)},t.prototype.activateAnalytics=function(e){e&&(this.analyticsEventHandler=Object(y.b)(e),this.eventDispatcher.on(O.a,this.analyticsEventHandler))},t.prototype.componentDidMount=function(){this.canDispatchTransactions=!0},t.prototype.componentWillUnmount=function(){if(this.canDispatchTransactions=!1,this.eventDispatcher.destroy(),clearTimeout(this.focusTimeoutId),this.view){var e=this.view.state;e.plugins.forEach((function(t){var n=t.getState(e);n&&n.destroy&&n.destroy()}))}},t.prototype.getPlugins=function(e,t,n){return Object(b.a)(e,t,n)},t.prototype.render=function(){var e=a.createElement("div",{className:z(),key:"ProseMirror",ref:this.handleEditorViewRef});return this.props.render?this.props.render({editor:e,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent}):e},t.contextTypes={getAtlaskitAnalyticsEventHandlers:s.func,intl:u.i},t}(a.Component);t.a=B;function z(){return f.a.chrome?"ua-chrome":f.a.ie?"ua-ie":f.a.gecko?"ua-firefox":""}},qW1w:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},qYTr:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v}));var r,o=n("Dsue"),i=n("m23B"),a=n("lqZG"),s=n("KU7H"),c=n("yWiF"),l=n("lY9u"),u=n("kbCE"),d=n("xqjs"),p=((r={})[a.a.LEFT]=-1,r[a.a.RIGHT]=1,r[a.a.UP]=-1,r[a.a.DOWN]=1,r[a.a.BACKWARD]=-1,r[a.a.FORWARD]=1,r);var f=function(e,t){return function(n,r,d){var f=n.doc,h=n.schema,m=n.selection,v=n.tr,b=Object(a.b)(e)?m.$from:m.$to,g=m.empty;if(m instanceof o.TextSelection){if(!t||!t(e.toString()))return!1;if(e===a.a.UP&&!Object(u.d)(n)&&Object(c.e)(f,h,b,-1)||e===a.a.DOWN&&(Object(u.f)(n)||Object(c.e)(f,h,b,1)))return!1;b=f.resolve(Object(a.b)(e)?b.before():b.after()),g=!1}if(m instanceof o.NodeSelection&&(e===a.a.UP||e===a.a.DOWN))return!1;if(!function(e,t){var n=t.doc,r=t.schema,i=t.selection,s=Object(a.b)(e)?i.$from:i.$to;if(i instanceof o.TextSelection){if(e===a.a.UP&&!Object(u.d)(t)||e===a.a.DOWN&&!Object(u.f)(t))if(l=Object(c.b)(n,s,r,p[e]))return!1;if(e===a.a.LEFT||e===a.a.RIGHT){var l=Object(c.b)(n,s,r,p[e]),d=r.nodes.mediaSingle;if(l&&l.type===d&&("wrap-right"===l.attrs.layout||"wrap-left"===l.attrs.layout))return!1}}if(i instanceof o.NodeSelection&&(e===a.a.LEFT||e===a.a.RIGHT)){var f=n.nodeAt(i.$from.pos);d=r.nodes.mediaSingle;if(f&&f.type===d&&("wrap-right"===f.attrs.layout||"wrap-left"===f.attrs.layout))return!1}return!0}(e,n))return!1;if(m instanceof s.a&&Object(l.a)(Object(a.b)(e)?b.nodeBefore:b.nodeAfter)&&(Object(a.b)(e)&&m.side===s.c.LEFT||Object(a.c)(e)&&m.side===s.c.RIGHT))return r&&r(v.setSelection(new s.a(b,m.side===s.c.RIGHT?s.c.LEFT:s.c.RIGHT)).scrollIntoView()),!0;if(d){var y=d.domAtPos.bind(d),O=Object(i.findDomRefAtPos)(b.pos,y);if(O&&O.textContent===u.a)return!1}var w=s.a.findFrom(b,Object(a.b)(e)?-1:1,g);return!!w&&(Object(l.a)(Object(a.c)(e)?w.$from.nodeBefore:w.$from.nodeAfter)?(r&&r(v.setSelection(w).scrollIntoView()),!0):(r&&r(v.setSelection(new s.a(w.$from,Object(a.c)(e)?s.c.LEFT:s.c.RIGHT)).scrollIntoView()),!0))}},h=function(e){return function(t,n){if(t.selection instanceof s.a){var r=t.selection,c=r.$from,l=r.$anchor,u=t.tr;if(Object(a.b)(e)){if("left"===t.selection.side)return u.setSelection(new s.a(l,s.c.RIGHT)),n&&n(u),!0;u=Object(i.removeNodeBefore)(t.tr)}else c.nodeAfter&&(u=u.delete(c.pos,c.pos+c.nodeAfter.nodeSize));return n&&n(u.setSelection(o.Selection.near(u.doc.resolve(u.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1}},m=function(e,t){return void 0===t&&(t=s.c.LEFT),function(n,r){if(e>n.doc.content.size)return!1;var o=n.doc.resolve(e);return!!s.a.valid(o)&&(r&&r(n.tr.setSelection(new s.a(o,t))),!0)}},v=function(e,t,n,r){return function(i,a){if(!d.b.get(i))return!1;var c=function(e,t,n,r){var o=t.getBoundingClientRect();if(e.clientY<o.top)return{position:0,side:s.c.LEFT};if(o.left>0){var i=n({left:o.left,top:e.clientY});if(i&&i.inside>-1){var a=r.doc.resolve(i.inside).before(1),c=e.clientX<o.left?s.c.LEFT:s.c.RIGHT,l=void 0;if(c===s.c.LEFT)l=a;else{var u=r.doc.nodeAt(a);u&&(l=a+u.nodeSize)}return{position:l,side:c}}}return null}(e,t,n,i);if(!c)return!1;var u=void 0!==c.position?i.doc.resolve(c.position):null;if(null===u)return!1;if((c.side===s.c.LEFT?Object(l.a)(u.nodeAfter):Object(l.a)(u.nodeBefore))&&s.a.valid(u))return i.selection instanceof s.a&&a&&a(i.tr.setSelection(o.Selection.near(u))),a&&a(i.tr.setSelection(new s.a(u,c.side))),!0;if(!1===r){var p=o.Selection.findFrom(u,c.side===s.c.LEFT?1:-1,!0);if(p)return a&&a(i.tr.setSelection(p)),!0}return!1}}},"qsl+":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g}));var r=n("D57K"),o=n("Dsue"),i=n("m23B"),a=n("EPLb"),s=n("DSoh"),c=n("N01o"),l=n("fjMk"),u=n("KU7H"),d=function(e){return Object(a.a)({type:"SET_EXPAND_REF",data:{ref:e}},(function(e){return e.setMeta("addToHistory",!1)}))},p=function(e,t){return function(n,r){if(!t||isNaN(e))return!1;var o={action:c.a.DELETED,actionSubject:t.type===n.schema.nodes.expand?c.b.EXPAND:c.b.NESTED_EXPAND,attributes:{inputMethod:c.e.TOOLBAR},eventType:c.d.TRACK};return t&&r&&r(Object(l.a)(n,n.tr.delete(e,e+t.nodeSize),o)),!0}},f=function(){return function(e,t){var n=Object(s.a)(e);return!!n&&p(n.pos,n.node)(e,t)}},h=function(e){return function(t,n){return n&&n(t.tr.setSelection(new o.NodeSelection(t.doc.resolve(e)))),!0}},m=function(e,t,n){return function(o,i){var a=o.doc.nodeAt(t);if(a&&a.type===n&&i){var s=o.tr;s.setNodeMarkup(t,a.type,Object(r.__assign)(Object(r.__assign)({},a.attrs),{title:e}),a.marks),i(s)}return!0}},v=function(e,t){return function(n,o){var i=n.doc.nodeAt(e);if(i&&i.type===t&&o){var a=n.tr,c=!i.attrs.__expanded;a.setNodeMarkup(e,i.type,Object(r.__assign)(Object(r.__assign)({},i.attrs),{__expanded:c}),i.marks),!1===c&&Object(s.a)(n)&&a.setSelection(new u.a(n.doc.resolve(e+i.nodeSize),u.c.RIGHT)),o(a.setMeta("isRemote",!0))}return!0}},b=function(e){var t=e.schema.nodes,n=t.expand,r=t.nestedExpand;return(Object(i.findTable)(e.selection)?r:n).createAndFill({})},g=function(e,t){var n=b(e),r={action:c.a.INSERTED,actionSubject:c.b.DOCUMENT,actionSubjectId:n.type===e.schema.nodes.expand?c.c.EXPAND:c.c.NESTED_EXPAND,attributes:{inputMethod:c.e.INSERT_MENU},eventType:c.d.TRACK};return t&&t(Object(l.a)(e,Object(i.safeInsert)(n)(e.tr).scrollIntoView(),r)),!0}},r1DZ:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=function(e,t){return 0===t.length?e:t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))},o=["left","right"],i=["align-start","align-end"],a={left:"start",right:"end"}},rTsN:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("Dsue"),o=n("0Hbo"),i=n("m23B"),a=n("eZO1"),s=n("ad10"),c=n("Td+v"),l=function(e){return function(t,n){var a=Object(i.addColumnAt)(e)(t.tr),s=Object(i.findTable)(a.selection);if(!s)return!1;var c=o.TableMap.get(s.node).positionAt(0,e,s.node);return n&&n(a.setSelection(r.Selection.near(a.doc.resolve(s.start+c)))),!0}},u=function(e,t){return function(n,a){var l=Object(s.b)(n);if(0===e&&l)return!1;var u=l&&e>1||!l&&e>0?Object(c.a)(n.schema)(e)(n.tr):Object(i.addRowAt)(e)(n.tr),d=Object(i.findTable)(u.selection);if(!d)return!1;if(a){var p=n.selection;if(t){var f=o.TableMap.get(d.node).positionAt(e,0,d.node);u.setSelection(r.Selection.near(u.doc.resolve(d.start+f)))}else u.setSelection(p.map(u.doc,u.mapping));a(u)}return!0}},d=function(e,t){if(!Object(a.d)(e))return!1;var n=Object(i.createTable)(e.schema);return t&&t(Object(i.safeInsert)(n)(e.tr).scrollIntoView()),!0}},raEW:function(e,t){for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c=o&&(s||+o[1]<57)||a&&s,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),r[l]=String.fromCharCode(l);for(var u in n)r.hasOwnProperty(u)||(r[u]=n[u]);function d(e){var t=!(c&&(e.ctrlKey||e.altKey||e.metaKey)||i&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}e.exports=d,d.base=n,d.shift=r},rhur:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n.n(o),a=n("Dsue"),s=n("lt2v"),c=n("4fYq"),l=n("lMAd"),u=n("fjMk"),d=n("N01o"),p=function(e,t){var n,r="",o="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var s=i[a];if(s.r.test(e)){r=s.s;break}}switch(/Windows/.test(r)&&(o=(n=/Windows (.*)/.exec(r))&&n[1],r="Windows"),r){case"Mac OS X":o=(n=/Mac OS X (10[\.\_\d]+)/.exec(e))&&n[1];break;case"Android":o=(n=/Android ([\.\_\d]+)/.exec(e))&&n[1];break;case"iOS":o=(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&n[1]+"."+n[2]+"."+(n[3]||0)}return r+" "+o},f=function(e){var t,n,r,o,i;return-1!==(o=e.indexOf("OPR/"))?(t="Opera",n=e.substring(o+4)):-1!==(o=e.indexOf("Opera"))?(t="Opera",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+6)):-1!==(o=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(t="Safari",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+7)):-1!==(o=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(o+8)):(r=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))?(t=e.substring(r,o),n=e.substring(o+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),t+" "+n},h=function(e,t,n,o){return new Promise((function(i,a){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(r){return window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:function(e){"function"==typeof e?i(e):a("Failed to initialize showCollectorDialog")},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:e||[],customfield_11712:"version: "+t+"@"+o+" ("+n+")\n              Browser: "+f(navigator.userAgent)+"\n              OS: "+p(navigator.userAgent,navigator.appVersion)},environment:{"Editor Package":t,"Editor Version":o,"Editor Core Version":n},priority:"1",components:"15306"},window.jQuery.ajax({url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):a("jQuery is not defined"),[2]}))}))}))};n.d(t,"b",(function(){return g}));new a.PluginKey("feedbackDialogPlugin");var m,v,b,g=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var o,i,a,s;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:if(o=Object(r.__assign)(Object(r.__assign)({},b),e),i=function(e){var t=e.product,n=e.packageName,o=e.packageVersion,i=e.labels;return Object(r.__spread)([t,n,o],i||[]).join("|")}(o),m&&v===i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,h(Object(r.__spread)([o.product||"n/a"],o.labels||[]),o.packageName||"",c.b,o.packageVersion||"")];case 2:return m=l.sent(),v=i,[3,4];case 3:return a=l.sent(),n(a),[3,4];case 4:return s=window.setTimeout(m,0),t(s),[2]}}))}))}))]}))}))};t.a=function(e){return b=e,{name:"feedbackDialog",pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{title:n(l.b.feedbackDialog),description:n(l.b.feedbackDialogDescription),priority:400,keywords:["feedback","bug"],icon:function(){return i.a.createElement(s.h,{label:n(l.b.feedbackDialog)})},action:function(t,n){var r=t("");return g(e),Object(u.a)(n,r,{action:d.a.OPENED,actionSubject:d.b.FEEDBACK_DIALOG,attributes:{inputMethod:d.e.QUICK_INSERT},eventType:d.d.UI})}}]}}}}},s1lm:function(e,t,n){"use strict";var r=n("1798"),o=[["text",n("Bpyo")],["newline",n("OOYR")],["escape",n("XWar")],["backticks",n("Vtgc")],["strikethrough",n("/t9N").tokenize],["emphasis",n("pVcW").tokenize],["link",n("otMq")],["image",n("UKA5")],["autolink",n("mURL")],["html_inline",n("j4SW")],["entity",n("DIje")]],i=[["balance_pairs",n("I+gj")],["strikethrough",n("/t9N").postProcess],["emphasis",n("pVcW").postProcess],["text_collapse",n("mLjB")]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,s=e.cache;if(void 0===s[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[r]=e.pos}else e.pos=s[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,s=new this.State(e,t,n,r);for(this.tokenize(s),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](s)},a.prototype.State=n("zwr4"),e.exports=a},s3oS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7.818 12.56l4.243 4.243 4.242-4.242-4.242-4.243-4.243 4.243zm-1.414 1.415a1.995 1.995 0 0 1 0-2.828l4.243-4.243a1.995 1.995 0 0 1 2.828 0l4.243 4.243c.78.78.786 2.041 0 2.828l-4.243 4.243a1.996 1.996 0 0 1-2.828 0l-4.243-4.243zM6.5 13h11l-5.44 5.218L6.5 13zm2.732-8.925a1 1 0 0 1 1.414 0l3.536 3.536-1.414 1.414L9.232 5.49a1 1 0 0 1 0-1.415zM18 16s1.5 2 1.5 3.5c0 1-1 1.5-1.5 1.5s-1.5-.4-1.5-1.5C16.5 18 18 16 18 16z" fill="currentColor"/></svg>'},e))};s.displayName="EditorBackgroundColorIcon";var c=s;t.default=c},sa74:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"n",(function(){return w})),n.d(t,"p",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"r",(function(){return x})),n.d(t,"q",(function(){return _})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return S})),n.d(t,"j",(function(){return j}));var r=n("D57K"),o=n("OEBU"),i=n("bU8X"),a=Object(o.a)("fabric-elements"),s=function(e,t,n,o,a){return void 0===a&&(a={}),{eventType:e,action:t,actionSubject:n,actionSubjectId:o,attributes:Object(r.__assign)({packageName:i.a,packageVersion:i.b},a)}},c=function(e,t,n){return void 0===t&&(t={}),s("ui",e,"emojiPicker",n,t)},l=function(){return c("opened")},u=function(e){return c("closed",e)},d=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],p=function(e){var t,n;if(!e)return{};try{for(var o=Object(r.__values)(d),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.id,c=a.skinToneModifier;if(-1!==e.indexOf(s))return{skinToneModifier:c,baseEmojiId:e.replace(s,"")}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{}},f=function(e){return c("clicked",Object(r.__assign)(Object(r.__assign)({},p(e.emojiId)),e),"emoji")},h=function(e){return c("clicked",e,"category")},m=function(e){return c("searched",e,"query")},v=function(e,t){return void 0===t&&(t={}),s("ui",e,"emojiSkintoneSelector",void 0,t)},b=function(e){return v("clicked",e)},g=function(e){return v("opened",e)},y=function(){return v("cancelled")},O=function(e,t,n){return s("ui",e,"emojiUploader",t,n)},w=function(){return O("clicked","addButton")},E=function(e){return O("clicked","confirmButton",e)},k=function(){return O("clicked","cancelButton")},x=function(e){return s("operational","finished","emojiUploader",void 0,e)},_=function(e){return s("operational","failed","emojiUploader",void 0,e)},T=function(e){return s("ui","clicked","emojiPicker","deleteEmojiTrigger",e)},C=function(e){return s("ui","clicked","emojiPicker","deleteEmojiConfirm",e)},S=function(e){return s("ui","clicked","emojiPicker","deleteEmojiCancel",e)},j=function(){return s("ui","clicked","emojiUploader","selectFile")}},sdcR:function(e,t,n){"use strict";var r=n("D57K"),o=n("/sMe"),i=n("wMvT"),a=n.n(i),s=n("dDc+"),c=n("IJlJ"),l=n("O94r"),u=n.n(l),d=n("ERkP"),p=n("xN70"),f=n("aJ+w"),h=n("nYST"),m=n("BtZz"),v=n("dHKo"),b=function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===f.g)){var n=e.emoji,r=e.onSelected;t.preventDefault(),r&&Object(m.a)(t)&&r(Object(h.q)(n),n,t)}},g=function(e,t){var n=e.emoji,r=e.onMouseMove;r&&r(Object(h.q)(n),n,t)},y=function(e){var t,n,i,l,m=e.emoji,y=e.fitToHeight,O=e.selected,w=e.selectOnHover,E=e.className,k=e.showTooltip,x=e.showDelete,_=((t={})[v.k]=!0,t[v.p]=!0,t[v.F]=O,t[v.E]=w,t);E&&(_[E]=!0);var T,C=Object(p.d)(m,y)?m.altRepresentation:m.representation;Object(h.i)(C)?(l=C.imagePath,n=C.width,i=C.height):Object(h.l)(C)&&(l=C.mediaPath,n=C.width,i=C.height),x&&(T=d.createElement("span",{className:v.g},d.createElement(o.a,{iconBefore:d.createElement(a.a,{label:f.g,primaryColor:s.colors.N500,size:"small"}),onClick:function(t){return function(e,t){var n=e.emoji,r=e.onDelete;r&&r(Object(h.q)(n),n,t)}(e,t)},appearance:"subtle-link",spacing:"none"})));var S={};y&&n&&i&&(S={width:y/i*n,height:y});var j=d.createElement("img",Object(r.__assign)({src:l,key:l,alt:m.shortName,"data-emoji-short-name":m.shortName,"data-emoji-id":m.id,"data-emoji-text":m.fallback||m.shortName,className:"emoji",style:{visibility:"visible"},onError:function(t){!function(e,t){var n=e.emoji,r=e.onLoadError;t.target&&(t.target.style.visibility="hidden");r&&r(Object(h.q)(n),n,t)}(e,t)}},S));return d.createElement("span",{className:u()(_),onMouseDown:function(t){b(e,t)},onMouseMove:function(t){g(e,t)},"aria-label":m.shortName},T,k?d.createElement(c.a,{tag:"span",content:m.shortName},j):j)};t.a=function(e){var t=e.emoji;return Object(h.o)(t.representation)?function(e){var t,n=e.emoji,o=e.fitToHeight,i=e.selected,a=e.selectOnHover,s=e.className,l=e.showTooltip,p=n.representation,f=p.sprite,h=((t={})[v.n]=!0,t[v.p]=!0,t[v.F]=i,t[v.E]=a,t);s&&(h[s]=!0);var m={};o&&(m={width:o+"px",height:o+"px"});var y=100/(f.column-1)*(p.xIndex-0),O=100/(f.row-1)*(p.yIndex-0),w=Object(r.__assign)({backgroundImage:"url("+f.url+")",backgroundPosition:y+"% "+O+"%",backgroundSize:100*f.column+"% "+100*f.row+"%"},m),E=d.createElement("span",{className:v.t,style:w}," ");return d.createElement("span",{className:u()(h),onMouseDown:function(t){b(e,t)},onMouseMove:function(t){g(e,t)},"aria-label":n.shortName},l?d.createElement(c.a,{tag:"span",content:n.shortName},E):E)}(e):y(e)}},sgQ3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),o=n("ERkP");function i(){var e=document.createElement("span");return e.contentEditable="false",e.classList.add("inline-node--mobile"),e}var a,s=n("KsTJ").default.span(a||(a=Object(r.__makeTemplateObject)(["\n  display: block;\n"],["\n  display: block;\n"]))),c=function(e){var t=e.useInlineWrapper,n=e.children;return t?o.createElement(s,null,n):o.createElement(o.Fragment,null,n)};c.displayName="InlineNodeWrapper",t.b=c},sgYd:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"k",(function(){return b}));var r=n("mGva"),o=n("kbCE"),i=n("C37w"),a=n("gON+"),s=function(e){return e&&(["TH","TD"].indexOf(e.tagName)>-1||!!Object(o.j)(e,"."+r.c.TABLE_HEADER_CELL)||!!Object(o.j)(e,"."+r.c.TABLE_CELL))},c=function(e){return Object(i.a)(e,r.c.CONTROLS_CORNER_BUTTON)},l=function(e){return Object(i.a)(e,r.c.CONTROLS_INSERT_ROW)||Object(o.j)(e,"."+r.c.CONTROLS_INSERT_ROW)||Object(i.a)(e,r.c.CONTROLS_BUTTON_OVERLAY)&&Object(o.j)(e,"."+r.c.ROW_CONTROLS)},u=function(e){return[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)]},d=function(e){return Object(i.a)(e,r.c.COLUMN_CONTROLS_DECORATIONS)},p=function(e){return Object(i.a)(e,r.c.ROW_CONTROLS_BUTTON)||Object(i.a)(e,r.c.NUMBERED_COLUMN_BUTTON)},f=function(e){return Object(i.a)(e,r.c.RESIZE_HANDLE_DECORATION)},h=function(e){return Object(i.a)(e,r.c.CONTROLS_BUTTON)||Object(i.a)(e,r.c.ROW_CONTROLS_BUTTON_WRAP)},m=function(e,t){var n=e.target;if(n instanceof HTMLElement){var r=n.getBoundingClientRect();if(r.width<=0)return null;var o=r.left,i=r.width,a=e.clientX-o;if(!t)return a/i>.5?"right":"left";if(a<=t)return"left";if(a>=i-t)return"right"}return null},v=function(e){var t=e.target;if(t instanceof HTMLElement){var n=t.getBoundingClientRect();return n.height<=0?null:(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},b=function(e){if(e){var t=e.offsetHeight+a.m,n=Array.from(e.querySelectorAll("."+r.c.RESIZE_HANDLE));n&&n.length&&n.forEach((function(e){e.style.height=t+"px"}))}}},ssre:function(e,t,n){"use strict";var r=n("36MB"),o=n("OqJb").HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,s,c,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(c=e.src.slice(l,u),o=0;o<i.length&&!i[o][0].test(c);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(c))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(l=e.bMarks[a]+e.tShift[a],u=e.eMarks[a],c=e.src.slice(l,u),i[o][1].test(c)){0!==c.length&&a++;break}return e.line=a,(s=e.push("html_block","",0)).map=[t,a],s.content=e.getLines(t,a,e.blkIndent,!0),!0}},"t+9L":function(e,t,n){"use strict";var r=n("5z8k");function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},td2y:function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));var r=n("D57K"),o=n("ERkP"),i=n("L21V"),a=n("nVNJ"),s=n.n(a),c=n("02+/"),l=n.n(c),u=n("jwaM"),d=n("Wtp3"),p=n("9O50"),f=n("A+BJ"),h=n("xqwH"),m=n("N01o"),v=Object(i.g)({bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or “strong” formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."}}),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleBoldClick=Object(u.a)("atlassian.editor.format.strong.button",(function(){if(!t.props.textFormattingState.strongDisabled){var e=t.props.editorView,n=e.state,r=e.dispatch;return Object(h.k)({inputMethod:m.e.TOOLBAR})(n,r)}return!1})),t.handleItalicClick=Object(u.a)("atlassian.editor.format.em.button",(function(){if(!t.props.textFormattingState.emDisabled){var e=t.props.editorView,n=e.state,r=e.dispatch;return Object(h.g)({inputMethod:m.e.TOOLBAR})(n,r)}return!1})),t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.isReducedSpacing,r=e.textFormattingState,i=e.intl.formatMessage,a=r.strongHidden,c=r.strongActive,u=r.strongDisabled,h=r.emHidden,m=r.emActive,b=r.emDisabled,g=i(v.bold),y=i(v.italic);return o.createElement(f.b,{width:n?"small":"large"},a?null:o.createElement(p.a,{spacing:n?"none":"default",onClick:this.handleBoldClick,selected:c,disabled:t||u,title:Object(d.renderTooltipContent)(g,d.toggleBold),iconBefore:o.createElement(s.a,{label:g})}),h?null:o.createElement(p.a,{spacing:n?"none":"default",onClick:this.handleItalicClick,selected:m,disabled:t||b,title:Object(d.renderTooltipContent)(y,d.toggleItalic),iconBefore:o.createElement(l.a,{label:y})}))},t}(o.PureComponent);t.a=Object(i.h)(b)},trDh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M9.864 10.736c.77-.746 1.893-.536 2.72.265.826.8 1.043 1.888.273 2.634-1.816 1.76-5.482 2.002-4.765 1.207 1.587-1.76.578-2.949 1.772-4.106zM19.968 4.03c.402.378-3.1 4.732-4.427 5.98-.659.62-1.012.826-1.276 1.016-.115.082-.15-.027-.177-.076a3.743 3.743 0 0 0-.63-.801c-.236-.222-.607-.445-.867-.572-.053-.025-.169-.058-.08-.166.201-.249.421-.58 1.08-1.2 1.327-1.247 5.974-4.56 6.377-4.181zM18.38 19.946a1.033 1.033 0 0 1-.332.054.946.946 0 0 1-.913-.628c-.343-.957-1.14-1.642-2.257-1.933-2.182-.568-3.22-.264-5.053.995l-.16.11a9.341 9.341 0 0 1-1.049.644c-1.477.755-2.632.825-3.482.419-.586-.28-.989-.794-1.1-1.407-.254-1.403.93-2.647 2.602-3.156a.906.906 0 0 1 1.155.601.92.92 0 0 1-.62 1.186c-.33.1-.717.311-.978.533-.195.165-.33.355-.306.434.042.138.088.185.16.214.155.063.445.029.818-.096.164-.055.34-.126.524-.21.196-.088.348-.165.58-.287.076-.04.177-.11.445-.303 1.09-.784 1.802-1.198 2.845-1.52 1.562-.482 3.18-.39 4.802.272 1.399.57 2.399 1.589 2.883 2.94.174.483-.07.97-.564 1.138z" fill="currentColor"/></svg>'},e))};s.displayName="MediaServicesAnnotateIcon";var c=s;t.default=c},tv4J:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 5a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 0 0 6.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm.27 1.583a.626.626 0 0 1 .932.834A3.63 3.63 0 0 1 12 15.125a3.63 3.63 0 0 1-2.698-1.204.625.625 0 0 1 .93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorEmojiIcon";var c=s;t.default=c},tvQe:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("Dsue"),o=n("LzaW"),i=new r.PluginKey("editorDisabledPlugin");var a=Object(o.a)(i,(function(e,t){return t})),s=a.createPluginState,c=a.getPluginState;t.a=function(){return{name:"editorDisabled",pmPlugins:function(){return[{name:"editorDisabled",plugin:function(e){return function(e){return new r.Plugin({key:i,state:s(e,(function(){return{editorDisabled:!1}})),view:function(){return{update:function(e){if(c(e.state).editorDisabled!==!e.editable){var t=e.state.tr.setMeta(i,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}}}})}(e.dispatch)}}]}}}},"u+Vw":function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},uJU4:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("D57K"),o=n("Dsue"),i=new o.PluginKey("widthPlugin");t.a=function(){return{name:"width",pmPlugins:function(){return[{name:"width",plugin:function(e){return function(e){return new o.Plugin({key:i,state:{init:function(){return{width:document.body.offsetWidth}},apply:function(t,n){var o=t.getMeta(i);if(!o)return n;var a=Object(r.__assign)(Object(r.__assign)({},n),o);return!a||n.width===a.width&&n.lineLength===a.lineLength?n:(e(i,a),a)}}})}(e.dispatch)}}]},contentComponent:function(e){var t=e.editorView,n=e.containerElement,r=n?n.querySelector(".ProseMirror"):void 0,o={lineLength:r?r.clientWidth:void 0};n&&(o.width=n.offsetWidth);var a=t.state.tr.setMeta(i,o);return t.dispatch(a),null}}}},uS5U:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("D57K"),o=n("Dsue"),i=new o.PluginKey("featureFlagsContextPlugin"),a=function(e){return i.getState(e)};t.a=function(e){return void 0===e&&(e={}),{name:"featureFlagsContext",pmPlugins:function(){return[{name:"featureFlagsContext",plugin:function(){return new o.Plugin({key:i,state:{init:function(){return Object(r.__assign)({},e)},apply:function(e,t){return t}}})}}]}}}},ucQ5:function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),l=["%","/","?",";","#"].concat(c),u=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,i,s,c,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var v=a.exec(m);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var b=o.exec(m);if(b&&(i=(b=b[0]).toLowerCase(),this.protocol=b,m=m.substr(b.length)),(t||b||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===m.substr(0,2))||b&&f[b]||(m=m.substr(2),this.slashes=!0)),!f[b]&&(c||b&&!h[b])){var g,y,O=-1;for(n=0;n<u.length;n++)-1!==(s=m.indexOf(u[n]))&&(-1===O||s<O)&&(O=s);for(-1!==(y=-1===O?m.lastIndexOf("@"):m.lastIndexOf("@",O))&&(g=m.slice(0,y),m=m.slice(y+1),this.auth=g),O=-1,n=0;n<l.length;n++)-1!==(s=m.indexOf(l[n]))&&(-1===O||s<O)&&(O=s);-1===O&&(O=m.length),":"===m[O-1]&&O--;var w=m.slice(0,O);m=m.slice(O),this.parseHost(w),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E){var k=this.hostname.split(/\./);for(n=0,r=k.length;n<r;n++){var x=k[n];if(x&&!x.match(d)){for(var _="",T=0,C=x.length;T<C;T++)x.charCodeAt(T)>127?_+="x":_+=x[T];if(!_.match(d)){var S=k.slice(0,n),j=k.slice(n+1),M=x.match(p);M&&(S.push(M[1]),j.unshift(M[2])),j.length&&(m=j.join(".")+m),this.hostname=S.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var A=m.indexOf("#");-1!==A&&(this.hash=m.substr(A),m=m.slice(0,A));var R=m.indexOf("?");return-1!==R&&(this.search=m.substr(R),m=m.slice(0,R)),m&&(this.pathname=m),h[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}},uvSL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 17h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zM4 5h16a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaFullWidthIcon";var c=s;t.default=c},uw3h:function(e,t,n){"use strict";var r,o=n("D57K"),i=n("aGmo"),a=n("Dsue"),s=n("ERkP"),c=n("L21V"),l=n("KsTJ"),u=n("LbML"),d=n("dDc+"),p=n("RZTm"),f=n("RLFc"),h=n("sgQ3"),m=n("kbCE"),v=Object(c.g)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"}}),b=l.default.span(r||(r=Object(o.__makeTemplateObject)(["\n  cursor: pointer;\n\n  display: inline-block;\n  opacity: ",";\n\n  max-width: 100%;\n\n  /* Prevent responsive layouts increasing height of container. */\n  line-height: 0;\n\n  * ::selection {\n    background-color: transparent;\n  }\n\n  .ProseMirror-selectednode & {\n    position: relative;\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      /* Size selection larger (around) status node */\n      top: -1px;\n      left: -1px;\n      width: calc(100% + 2px);\n      height: calc(100% + 2px);\n      pointer-events: none;\n    }\n  }\n"],["\n  cursor: pointer;\n\n  display: inline-block;\n  opacity: ",";\n\n  max-width: 100%;\n\n  /* Prevent responsive layouts increasing height of container. */\n  line-height: 0;\n\n  * ::selection {\n    background-color: transparent;\n  }\n\n  .ProseMirror-selectednode & {\n    position: relative;\n    &::before {\n      content: '';\n      border: 2px solid ",";\n      background: transparent;\n      border-radius: ","px;\n      box-sizing: border-box;\n      position: absolute;\n      /* Size selection larger (around) status node */\n      top: -1px;\n      left: -1px;\n      width: calc(100% + 2px);\n      height: calc(100% + 2px);\n      pointer-events: none;\n    }\n  }\n"])),(function(e){return e.placeholderStyle?.5:1}),d.colors.B200,Object(p.f)()),g=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()},n}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.color,r=e.localId,o=e.style,i=e.intl.formatMessage,a=t||i(v.placeholder);return s.createElement(b,{placeholderStyle:!t},s.createElement(u.a,{text:a,color:n,localId:r,style:o,onClick:this.handleClick}))},t.displayName="StatusContainerView",t}(s.Component),y=Object(c.h)(g),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.createDomRef=function(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(h.a)():e.prototype.createDomRef.call(this)},t.prototype.setDomAttrs=function(e,t){var n=e.attrs,r=n.color,o=n.localId,i=n.style;t.dataset.color=r,t.dataset.localId=o,t.dataset.style=i},t.prototype.render=function(e){var t=e.options,n=this.node.attrs,r=n.text,o=n.color,i=n.localId,a=n.style;return s.createElement(h.b,{useInlineWrapper:t&&t.useInlineWrapper},s.createElement(y,{view:this.view,text:r,color:o,style:a,localId:i}),t&&t.allowZeroWidthSpaceAfter&&m.a)},t}(f.b);function w(e,t){return function(n,r,o){return new O(n,r,o,e,{options:t}).init()}}var E=n("gHUL");n.d(t,"b",(function(){return k}));var k=new a.PluginKey("statusPlugin");t.a=function(e,t,n){return new a.Plugin({state:{init:function(){return{isNew:!1,showStatusPickerAt:null}},apply:function(t,n,r){var i=t.getMeta(k);if(i){var a=Object(o.__assign)(Object(o.__assign)({},n),i);return e(k,a),a}if(t.docChanged&&n.showStatusPickerAt){var s=t.mapping.mapResult(n.showStatusPickerAt),c=s.pos,l=s.deleted?null:c;if((a=Object(o.__assign)(Object(o.__assign)({},n),{showStatusPickerAt:l})).showStatusPickerAt!==n.showStatusPickerAt)return e(k,a),a}if(!t.selection.eq(r.selection)){var u=t.selection.from,d=t.doc.nodeAt(u);l=null;if(d&&d.type===r.schema.nodes.status&&(l=u),l!==n.showStatusPickerAt){a=Object(o.__assign)(Object(o.__assign)({},n),{isNew:!1,showStatusPickerAt:l});return e(k,a),a}}return n}},appendTransaction:function(e,t,n){var r=!1,o=n.tr;if(e.find((function(e){return e.selectionSet}))){var i=Object(E.b)(t.selection),a=Object(E.b)(n.selection);if(i&&(a&&i.localId!==a.localId||!a)&&Object(E.a)(i)){var s=t.selection.from;o.delete(o.mapping.map(s),o.mapping.map(s+1)),r=!0}}return r?o:void 0},key:k,props:{nodeViews:{status:w(t,n)},decorations:function(e){var t=e.tr,r=t.doc.nodeAt(t.selection.from);if(n&&n.allowZeroWidthSpaceAfter&&r&&r.type===e.schema.nodes.status){var o=i.Decoration.widget(t.selection.from,(function(){return document.createTextNode(m.a)}),{side:1,key:"#status-zero-width-char-decoration"}),a=e.doc;return i.DecorationSet.create(a,[o])}return null}}})}},"v/9i":function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("KsTJ"),a=n("Dsue"),s=n("m23B"),c=n("o2pg"),l=n("9VoA"),u=n("XoQQ"),d=n("uJU4"),p=n("dDc+"),f=n("L21V"),h=n("17eC"),m=n("XxXR"),v=n.n(m),b=n("R50B"),g=n.n(b),y=n("9O50"),O=["codeBlock","layoutSection","expand"];function w(e){return-1!==O.indexOf(e.type.name)}function E(e){return function(t,n){var r=Object(s.findParentNode)(w)(t.selection);if(!r)return!1;var o=t.tr.setNodeMarkup(r.pos,r.node.type,r.node.attrs,[t.schema.marks.breakout.create({mode:e})]);return o.setMeta("scrollIntoView",!1),n&&n(o),!0}}function k(){return function(e,t){var n=Object(s.findParentNode)(w)(e.selection);if(!n)return!1;var r=n.node.marks.filter((function(e){return"breakout"!==e.type.name})),o=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,r);return o.setMeta("scrollIntoView",!1),t&&t(o),!0}}var x=n("238x"),_=n("NY/I");var T,C=p.colors.B300,S=p.colors.N300,j=p.colors.N20A,M=i.default.div(T||(T=Object(r.__makeTemplateObject)(["\n  button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: white !important;\n    }\n  }\n"],["\n  button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: white !important;\n    }\n  }\n"])),j,S,C),A={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"},R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){return function(){var n=t.props.editorView,r=n.state,o=n.dispatch;-1!==[A.WIDE,A.FULL_WIDTH].indexOf(e)?E(e)(r,o):k()(r,o)}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.intl.formatMessage,n=e.mountPoint,r=e.boundariesElement,i=e.scrollableElement,a=e.editorView,c=e.node,l=a.state;if(!c||!function(e){if(!e.schema.marks.breakout)return!1;var t=Object(s.findParentNode)(w)(e.selection);return!(!t||0===t.depth)&&e.selection.$from.node(t.depth-1).type.allowsMarkType(e.schema.marks.breakout)}(l))return null;var u,d=function(e){var t=Object(s.findParentNode)(w)(e.selection);if(t){var n=t.node.marks.find((function(e){return"breakout"===e.type.name}));if(n)return n.attrs.mode}}(a.state),p=t(function(e){switch(e){case A.FULL_WIDTH:return x.a.layoutFixedWidth;case A.WIDE:return x.a.layoutFullWidth;default:return x.a.layoutWide}}(d)),f=(u=d)===A.FULL_WIDTH?A.CENTER:u===A.WIDE?A.FULL_WIDTH:A.WIDE,m=l.selection,b=D(l),O=Object(s.findParentDomRefOfType)(b.breakoutNode.type,a.domAtPos.bind(a))(m),E=O.querySelector("."+_.a.BREAKOUT_MARK_DOM);return E&&E.firstChild&&(O=E.firstChild),o.createElement(h.a,{ariaLabel:p,target:O,offset:[5,0],alignY:"start",alignX:"end",mountTo:n,boundariesElement:r,scrollableElement:i,stick:!0,forcePlacement:!0},o.createElement(M,null,o.createElement(y.a,{title:p,onClick:this.handleClick(f),iconBefore:d===A.FULL_WIDTH?o.createElement(v.a,{label:p}):o.createElement(g.a,{label:p})})))},t.displayName="LayoutButton",t}(o.Component),N=Object(f.h)(R);n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return D}));var I=Object(i.css)(H||(H=Object(r.__makeTemplateObject)(["\n  .ProseMirror > .","[data-layout='full-width'],\n  .ProseMirror > .","[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"],["\n  .ProseMirror > .","[data-layout='full-width'],\n  .ProseMirror > .","[data-layout='wide'] {\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"])),_.a.BREAKOUT_MARK,_.a.BREAKOUT_MARK),P=new a.PluginKey("breakoutPlugin"),D=function(e){return P.getState(e)},L=null,B=function(){function e(e,t,n){var o=this;this.updateWidth=function(){var e=d.b.getState(o.view.state),t=Object(l.b)(o.node.attrs.mode,e.width);o.dom.style.width=t},this.updateState=function(){L&&clearTimeout(L),L=setTimeout((function(){var e=P.getState(o.view.state);if(o.node!==e.breakoutNode){var t=Object(r.__assign)(Object(r.__assign)({},e),{breakoutNode:o.node});o.eventDispatcher.emit(P.key,t)}L=null}))};var i=document.createElement("div");i.className=_.a.BREAKOUT_MARK_DOM;var a=document.createElement("div");a.className=_.a.BREAKOUT_MARK,a.setAttribute("data-layout",e.attrs.mode),a.appendChild(i),this.dom=a,this.node=e,this.view=t,this.contentDOM=i,this.eventDispatcher=n,n.on(d.b.key,this.updateWidth),this.updateWidth(),this.updateState()}return e.prototype.destroy=function(){this.eventDispatcher.off(d.b.key,this.updateWidth)},e}();function z(e){var t=e.dispatch,n=e.eventDispatcher;return new a.Plugin({state:{init:function(){return{breakoutNode:null}},apply:function(e,n){var o=Object(s.findParentNode)(w)(e.selection),i=o?o.node:null;if(i!==n.breakoutNode){var a=Object(r.__assign)(Object(r.__assign)({},n),{breakoutNode:i});return t(P,a),a}return n}},key:P,props:{nodeViews:{breakout:function(e,t){return new B(e,t,n)}}}})}var H;t.b=function(e){return{name:"breakout",pmPlugins:function(){return[{name:"breakout",plugin:z}]},marks:function(){return[{name:"breakout",mark:c.a}]},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,i=t.popupsBoundariesElement,a=t.popupsScrollableElement;return e&&!e.allowBreakoutButton?null:o.createElement(u.a,{plugins:{pluginState:P},render:function(e){var t=e.pluginState;return o.createElement(N,{editorView:n,mountPoint:r,boundariesElement:i,scrollableElement:a,node:t.breakoutNode})}})}}}},vtBm:function(e,t,n){"use strict";var r=n("T1Ll"),o=n("WQPC"),i=n("mVB+"),a=n("Nc4I"),s=n("IYLv"),c=n("s1lm"),l=n("mpTe"),u=n("BmNk"),d=n("ssRi"),p={default:n("20jC"),zero:n("45E7"),commonmark:n("atAw")},f=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!f.test(t)||!!h.test(t)}var v=["http:","https:","mailto:"];function b(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return u.encode(u.format(t))}function g(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return u.decode(u.format(t))}function y(e,t){if(!(this instanceof y))return new y(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new s,this.core=new a,this.renderer=new i,this.linkify=new l,this.validateLink=m,this.normalizeLink=b,this.normalizeLinkText=g,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return r.assign(this.options,e),this},y.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},y.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},vtGW:function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},vu0X:function(e,t,n){"use strict";t.Any=n("7EA0"),t.Cc=n("RYQf"),t.Cf=n("bUrk"),t.P=n("gtbP"),t.Z=n("Ckiu")},weJF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm8-8h4a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2zm0 4h4a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2zM6 9h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0-4h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorMediaWrapLeftIcon";var c=s;t.default=c},wndT:function(e,t,n){"use strict";var r=function(){function e(){this.handlerStorage=null}return e.prototype.captureMessage=function(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)},e.prototype.captureException=function(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)},Object.defineProperty(e.prototype,"handler",{set:function(e){this.handlerStorage=e},enumerable:!0,configurable:!0}),e}();t.a=r},x5Wp:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("p29/"),o=function(e,t){return e.setMeta(r.b,t)},i=function(e){return function(t){return o(t,{type:"RESOLVE",url:e})}},a=function(e){return function(t){return o(t,{type:"QUEUE",requests:e})}},s=function(e){return function(t){return o(t,{type:"REGISTER",info:e})}},c=function(e){return function(t){return o(t,{type:"SET_PROVIDER",provider:e})}},l=function(e){return o(e,{type:"SHOW_LINK_TOOLBAR"})},u=function(e){return o(e,{type:"HIDE_LINK_TOOLBAR"})}},x6PW:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("D57K"),o=n("X0ma"),i=n("QA2Q"),a=n("oIsD"),s=function(e,t,n){return function(r,s){var c,l=o.b.getState(r);if(n)c=Object(i.a)(l,e);else{var u=Object(i.b)(l,e,n);c=u?[u]:[]}var d=r.schema.nodes.media;if(0===(c=c.filter((function(e){var t;try{t=r.doc.nodeAt(e.getPos())}catch(e){return!1}return t&&t.type===d}))).length)return!1;if(s){var p=r.tr;c.forEach((function(e){var n=e.getPos;return p.step(new a.a(n(),t))})),p.setMeta("addToHistory",!1),s(p)}return!0}},c=function(e,t,n){return function(r,s){var c=o.b.getState(r),l=Object(i.b)(c,e,n);return!!l&&(s&&s(r.tr.step(new a.a(l.getPos(),t)).setMeta("addToHistory",!1)),!0)}},l=function(e,t){return function(n,o){return!!o&&(o(n.tr.step(new a.a(e,Object(r.__assign)({type:"file",url:null},t))).setMeta("addToHistory",!1)),!0)}}},xF5d:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("D57K"),o=n("Dsue"),i=n("m23B"),a=n("DLwO"),s=n("ljjB"),c=new o.PluginKey("listsPlugin"),l=function(e){return new o.Plugin({state:{init:function(){return{bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1}},apply:function(t,n,o,s){var l=s.schema.nodes,u=l.bulletList,d=l.orderedList,p=Object(i.findParentNodeOfType)([u,d])(t.selection),f=!!p&&p.node.type===u,h=!!p&&p.node.type===d,m=!(f||h||Object(a.b)(u,s)),v=!(f||h||Object(a.b)(d,s));if(f!==n.bulletListActive||h!==n.orderedListActive||m!==n.bulletListDisabled||v!==n.orderedListDisabled){var b=Object(r.__assign)(Object(r.__assign)({},n),{bulletListActive:f,orderedListActive:h,bulletListDisabled:m,orderedListDisabled:v});return e(c,b),b}return n}},view:function(){return{update:function(e){var t=e.state,n=e.dispatch,r=t.schema.nodes,o=r.bulletList,a=r.orderedList,c=t.schema.marks,l=c.alignment,u=c.indentation;if(Object(i.findParentNodeOfType)([o,a])(t.tr.selection)){var d=Object(s.c)(t,[l,u]);d&&n(d)}}}},key:c})}},xN8d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 7h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm0 4h10a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm0 4h5a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignLeftIcon";var c=s;t.default=c},xTlW:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"b",(function(){return E}));var r=n("D57K"),o=n("z4jD"),i=n("79mQ"),a=n("Dsue"),s=n("QQ6y"),c=n("fjMk"),l=n("N01o"),u=n("WvVb"),d=n("KVxf");function p(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&n.isText}}function f(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&t.schema.marks.link.isInSet(n.marks)}}function h(e,t,n,a){return Object(s.b)(p(t),(function(s,c){var l=s.doc.resolve(t),u=s.doc.nodeAt(t),d=s.schema.marks.link,p=d.isInSet(u.marks),f=Object(o.f)(e);if(p&&p.attrs.href===f)return!1;var h=n&&t!==n?n:t-l.textOffset+u.nodeSize,m=s.tr.removeMark(t,h,d);return e.trim()&&m.addMark(t,h,d.create(Object(r.__assign)(Object(r.__assign)({},p&&p.attrs||{}),{href:f}))),a||m.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),c&&c(m),!0}))}function m(e,t,n,a){return function(s,c){var l=s.doc.resolve(n),u=s.doc.nodeAt(n);if(!u)return!1;var d=Object(o.f)(e);if(!d)return!1;var p=s.schema.marks.link.isInSet(u.marks),f=s.schema.marks.link,h=a&&n!==a?a:n-l.textOffset+u.nodeSize,m=s.tr;m.insertText(t,n,h);var v=Object(r.__assign)(Object(r.__assign)({},p&&p.attrs||{}),{href:d});return m.addMark(n,n+t.length,f.create(v)),m.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),c&&c(m),!0}}function v(e,t,n){return Object(s.b)(f(t),(function(r,o){var a=r.doc.resolve(t),s=r.doc.nodeAt(t),c=r.schema.marks.link.isInSet(s.marks);if(s&&e.length>0&&e!==s.text){var l=n&&t!==n?n:t-a.textOffset+s.nodeSize,u=r.tr;return u.insertText(e,t,l),u.addMark(t,t+e.length,c),u.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),o&&o(u),!0}return!1}))}function b(e,t,n,r,c){return Object(s.b)(Object(i.c)(e,t),(function(s,l){var d=s.schema.marks.link;if(n.trim()){var p=s.tr,f=Object(o.f)(n);if(e===t){var h=r||n;p.insertText(h,e,t),p.addMark(e,e+h.length,d.create({href:f}))}else p.addMark(e,t,d.create({href:f})),p.setSelection(a.Selection.near(p.doc.resolve(t)));return Object(u.d)(s,p,c,!1),p.setMeta(i.e,{type:i.b.HIDE_TOOLBAR}),l&&l(p),!0}return!1}))}var g=function(e,t,n,r,o){return Object(c.e)(Object(d.a)(e,r))(b(t,n,r,o,e))};function y(e){return h("",e)}function O(){return function(e,t){return t&&t(e.tr.setMeta(i.e,{type:i.b.EDIT_INSERTED_TOOLBAR})),!0}}function w(e){return void 0===e&&(e=l.e.TOOLBAR),function(t,n){if(n){var r=t.tr.setMeta(i.e,{type:i.b.SHOW_INSERT_TOOLBAR});n(r=Object(c.a)(t,r,{action:l.a.INVOKED,actionSubject:l.b.TYPEAHEAD,actionSubjectId:l.c.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:l.d.UI}))}return!0}}function E(){return function(e,t){return t&&t(e.tr.setMeta(i.e,{type:i.b.HIDE_TOOLBAR})),!0}}},xZ8S:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=1e3},xjsc:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("U6Bd"),a=n("m23B"),s=n("qp5z"),c=n("NFZB"),l=n("Rr/J"),u=n("O94r"),d=n.n(u),p=n("0Hbo"),f=n("LrSM"),h=n("mGva"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=function(){var e=t.props,n=e.editorView,r=e.hoveredRows,o=e.isResizing,i=n.state.selection,s=Object(a.findTable)(i);return!!s&&(Object(a.isTableSelected)(i)||r&&r.length===p.TableMap.get(s.node).height&&!o)},t.clearHoverSelection=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(f.a)()(n,r)},t.selectTable=function(){var e=t.props.editorView,n=e.state;(0,e.dispatch)(Object(a.selectTable)(n.tr).setMeta("addToHistory",!1))},t.hoverTable=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(f.f)()(n,r)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isInDanger,n=e.tableRef,r=e.isHeaderColumnEnabled,i=e.isHeaderRowEnabled;if(!n)return null;var a=this.isActive();return o.createElement("div",{className:d()(h.c.CORNER_CONTROLS,{active:a})},o.createElement("button",{type:"button",className:d()(h.c.CONTROLS_CORNER_BUTTON,{danger:a&&t}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!i&&o.createElement("div",{className:h.c.CORNER_CONTROLS_INSERT_ROW_MARKER},o.createElement("div",{className:h.c.CONTROLS_INSERT_MARKER})),!r&&o.createElement("div",{className:h.c.CORNER_CONTROLS_INSERT_COLUMN_MARKER},o.createElement("div",{className:h.c.CONTROLS_INSERT_MARKER})))},t}(o.Component),v=n("Td+v"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clearHoverSelection=function(){var e=t.props.editorView,n=e.state,r=e.dispatch;Object(f.a)()(n,r)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.editorView,r=t.tableRef,i=t.hoveredRows,a=t.isInDanger,s=t.isResizing;if(!r)return null;var c=n.state.selection,l=Object(v.d)(r),u=Object(v.e)(l);return o.createElement("div",{className:h.c.ROW_CONTROLS},o.createElement("div",{className:h.c.ROW_CONTROLS_INNER},u.map((function(t){var n=t.startIndex,r=t.endIndex,l=t.height;return o.createElement("div",{className:h.c.ROW_CONTROLS_BUTTON_WRAP+" "+Object(v.b)(n,c,i,a,s),key:n,style:{height:l}},o.createElement("button",{type:"button",className:h.c.ROW_CONTROLS_BUTTON+"\n                  "+h.c.CONTROLS_BUTTON+"\n                ",onClick:function(t){return e.props.selectRow(n,t.shiftKey)},onMouseOver:function(){return e.props.hoverRows([n])},onMouseOut:e.clearHoverSelection,"data-start-index":n,"data-end-index":r}),o.createElement("div",{className:h.c.CONTROLS_INSERT_MARKER}))}))))},t}(o.Component),g=n("Dsue"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverRows=function(e){return t.props.tableActive?t.props.hoverRows([e]):null},t.selectRow=function(e,n){var r=t.props,o=r.tableActive,i=r.editorView,a=r.selectRow;if(!o&&n.target&&n.target instanceof Node){var s=i.state,c=s.doc,l=s.selection,u=s.tr,d=i.posAtDOM(n.target,1),p=c.resolve(d),f=l.head>d?g.Selection.near(c.resolve(d+(p.parent.nodeSize-3)),-1):g.Selection.near(p);i.dispatch(u.setSelection(f))}a(e,n.shiftKey)},t.clearHoverSelection=function(){var e=t.props,n=e.tableActive,r=e.editorView;if(n){var o=r.state,i=r.dispatch;Object(f.a)()(o,i)}},t.getClassNames=function(e){var n=t.props,r=n.hoveredRows,o=n.editorView,i=n.isInDanger,s=n.isResizing,c=Object(a.isRowSelected)(e)(o.state.selection)||-1!==(r||[]).indexOf(e)&&!s;return[h.c.NUMBERED_COLUMN_BUTTON,c?h.c.HOVERED_CELL_ACTIVE:"",c&&i?h.c.HOVERED_CELL_IN_DANGER:""].join(" ")},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tableRef,r=t.hasHeaderRow,i=n.querySelector("tbody");if(!i)return null;var a=i.querySelectorAll("tr");return o.createElement("div",{className:h.c.NUMBERED_COLUMN},Array.from(Array(a.length).keys()).map((function(t){return o.createElement("div",{key:"wrapper-"+t,className:e.getClassNames(t),"data-index":t,style:{height:a[t].offsetHeight+1},onClick:function(n){return e.selectRow(t,n)},onMouseOver:function(){return e.hoverRows(t)},onMouseOut:e.clearHoverSelection},r?t>0?t:null:t+1)})))},t}(o.Component),O=n("mKtu"),w=n("gguW"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectRow=function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;11===s.a.ie_version&&r.dom.blur(),Object(w.i)(e,n)(o,i)},t.hoverRows=function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;Object(f.e)(e,n)(o,i)},t}return Object(r.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.tableRef,r=t.isInDanger,o=t.isResizing,i=t.isHeaderRowEnabled,a=t.isNumberColumnEnabled,s=t.hoveredRows,c=t.selection,l=t.tableHeight,u=t.tableActive,d=t.isHeaderColumnEnabled;return t.ordering!==e.ordering||n!==e.tableRef||l!==e.tableHeight||u!==e.tableActive||r!==e.isInDanger||o!==e.isResizing||s!==e.hoveredRows||i!==e.isHeaderRowEnabled||d!==e.isHeaderColumnEnabled||a!==e.isNumberColumnEnabled||Object(O.c)(c,e.selection)},t.prototype.render=function(){var e=this.props,t=e.editorView,n=e.tableRef,r=e.isInDanger,i=e.isResizing,a=e.isNumberColumnEnabled,s=e.isHeaderRowEnabled,c=e.isHeaderColumnEnabled,l=e.tableActive,u=e.hasHeaderRow,d=e.hoveredRows;return n?o.createElement("div",{onMouseDown:function(e){return e.preventDefault()}},a?o.createElement(y,{editorView:t,hoverRows:this.hoverRows,tableRef:n,tableActive:l,hoveredRows:d,hasHeaderRow:u,isInDanger:r,isResizing:i,selectRow:this.selectRow}):null,o.createElement(m,{editorView:t,tableRef:n,isInDanger:r,isResizing:i,isHeaderRowEnabled:s,isHeaderColumnEnabled:c,hoveredRows:d}),o.createElement(b,{editorView:t,tableRef:n,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:r,isResizing:i,selectRow:this.selectRow})):null},t.displayName="TableFloatingControls",t}(o.Component),k=n("eZO1"),x=n("RXbC"),_=n("C2nh"),T=n("ch/M"),C=n("zCam"),S=n("ad10"),j=n("KdrV");n.d(t,"b",(function(){return R}));var M=11===s.a.ie_version,A=function(e){function t(t){var n=e.call(this,t)||this;n.state={scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0},n.handleScroll=function(e){n.wrapper&&e.target===n.wrapper&&n.setState({scroll:n.wrapper.scrollLeft})},n.handleTableResizing=function(){var e=n.props,t=e.node,r=e.containerWidth,o=e.options,i=n.node,a=i.attrs,s=a.layout!==t.attrs.layout&&a.__autoSize===t.attrs.__autoSize,c=n.getParentNodeWidth(),l=c&&c!==n.state.parentWidth,u=n.tableNodeLayoutSize(t,r.width,o);(s||l||a.isNumberColumnEnabled!==t.attrs.isNumberColumnEnabled||Object(S.i)(t,i)||u!==n.layoutSize)&&(n.scaleTable({parentWidth:c,layoutChanged:s}),n.updateParentWidth(c)),n.updateTableContainerWidth(),n.node=t,n.containerWidth=r,n.layoutSize=u},n.scaleTable=function(e){var t=n.props,o=t.view,i=t.node,a=t.getPos,s=t.containerWidth,c=t.options,l=o.state,u=o.dispatch,d=o.domAtPos.bind(o),p=s.width;n.frameId&&window&&window.cancelAnimationFrame(n.frameId),Object(x.b)(n.table,Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),{node:i,prevNode:n.node||i,start:a()+1,containerWidth:p,previousContainerWidth:n.containerWidth.width||p}),c),d)(l,u)},n.handleAutoSize=function(){if(n.table){var e=n.props,t=e.view,r=e.node,o=e.getPos,i=e.options,a=e.containerWidth;Object(w.c)(t,r,n.table,o(),{dynamicTextSizing:i&&i.dynamicTextSizing||!1,containerWidth:a.width})}},n.handleWindowResize=function(){var e=n.props,t=e.node,r=e.containerWidth,o=n.tableNodeLayoutSize(t);if(!(r.width>o)){var i=n.getParentNodeWidth();n.frameId=n.scaleTableDebounced(i)}},n.updateTableContainerWidth=function(){var e=n.props,t=e.node,r=e.containerWidth,o=e.options;o&&!1===o.isBreakoutEnabled||n.setState((function(e){var n=Object(c.b)(t.attrs.layout,r.width);return o&&!1===o.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:e.tableContainerWidth===n?null:{tableContainerWidth:n}}))},n.getParentNodeWidth=function(){return Object(j.a)(n.props.getPos(),n.props.view.state,n.props.containerWidth,n.props.options&&n.props.options.isFullWidthModeEnabled)},n.updateParentWidth=function(e){n.setState({parentWidth:e})},n.tableNodeLayoutSize=function(e,t,r){return Object(_.b)(e.attrs.layout,t||n.props.containerWidth.width,r||n.props.options||{})},n.scaleTableDebounced=Object(i.a)(n.scaleTable),n.handleTableResizingDebounced=Object(i.a)(n.handleTableResizing),n.handleScrollDebounced=Object(i.a)(n.handleScroll),n.handleAutoSizeDebounced=Object(i.a)(n.handleAutoSize),n.handleWindowResizeDebounced=Object(i.a)(n.handleWindowResize);var o=t.options,a=t.containerWidth,s=t.node;n.node=s,n.containerWidth=a;var l=!!o&&o.dynamicTextSizing,u=!!o&&o.wasFullWidthModeEnabled;return n.layoutSize=n.tableNodeLayoutSize(s,a.width,{dynamicTextSizing:l,isFullWidthModeEnabled:u}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((function(e){document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")})),requestAnimationFrame((function(){n.setState({isLoading:!1})})),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.allowColumnResizing;e&&this.wrapper&&!M&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),e&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.frameId=this.handleTableResizingDebounced(this.props))},t.prototype.componentWillUnmount=function(){this.wrapper&&!M&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.frameId&&window&&window.cancelAnimationFrame(this.frameId)},t.prototype.componentDidUpdate=function(e){if(R(this.wrapper,this.table,this.rightShadow,this.leftShadow),this.props.node.attrs.__autoSize)this.handleAutoSizeDebounced();else if(this.props.allowColumnResizing&&this.table){if(Object(S.h)(this.props.node,e.node)||Object(S.i)(this.props.node,e.node)){var t=this.props.view;Object(T.c)(this.table,this.props.node),Object(C.c)(t.state)}this.frameId=this.handleTableResizingDebounced(e)}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.view,i=n.node,s=n.pluginState,c=n.tableResizingPluginState,u=n.width,p=this.state,f=p.isLoading,m=p.tableContainerWidth,v=s.pluginConfig.allowControls,b=void 0===v||v,g=Object(k.d)(r.state),y=g.isInDanger,O=g.hoveredRows,w=this.table||void 0,x=this.table===s.tableRef,_=!!c&&!!c.dragging,T=[o.createElement("div",{key:0,className:h.c.ROW_CONTROLS_WRAPPER},o.createElement(E,{editorView:r,tableRef:w,tableActive:x,hoveredRows:O,isInDanger:y,isResizing:_,isNumberColumnEnabled:i.attrs.isNumberColumnEnabled,isHeaderRowEnabled:s.isHeaderRowEnabled,ordering:s.ordering,isHeaderColumnEnabled:s.isHeaderColumnEnabled,hasHeaderRow:Object(S.d)(r.state,i),selection:r.state.selection,tableHeight:w?w.offsetHeight:void 0}))];return o.createElement("div",{style:{width:m},className:d()(h.c.TABLE_CONTAINER,(e={},e[h.c.WITH_CONTROLS]=b&&x,e[h.c.HOVERED_DELETE_BUTTON]=y,e[h.c.TABLE_SELECTED]=Object(a.isTableSelected)(r.state.selection),e["less-padding"]=u<l.q,e)),"data-number-column":i.attrs.isNumberColumnEnabled,"data-layout":i.attrs.layout},b&&!f&&T,o.createElement("div",{ref:function(e){t.leftShadow=e},className:h.c.TABLE_LEFT_SHADOW}),o.createElement("div",{className:d()(h.c.TABLE_NODE_WRAPPER),ref:function(e){t.wrapper=e,t.props.contentDOM(e||void 0),e&&(t.table=e.querySelector("table"))}}),o.createElement("div",{ref:function(e){t.rightShadow=e},className:h.c.TABLE_RIGHT_SHADOW}))},t.displayName="TableComponent",t}(o.Component),R=function(e,t,n,r){if(t&&e){if(n){var o=t.offsetWidth-e.offsetWidth;n.style.display=o>0&&o>e.scrollLeft?"block":"none"}r&&(r.style.display=e.scrollLeft>0?"block":"none")}};t.a=A},xqjs:function(e,t,n){"use strict";var r=n("Dsue"),o=n("aGmo"),i=n("m23B"),a=n("0Hbo"),s=n("KU7H"),c=n("yWiF"),l=n("D57K"),u={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".media-single"},d=function(e,t){var n=Object(l.__read)(t),r=n[0],o=n.slice(1),i=[e.getPropertyValue(r)];"content-box"===e.getPropertyValue("box-sizing")&&o.forEach((function(t){i.push(e.getPropertyValue(t))}));for(var a=0,s=0;s<i.length;s++)a+=parseFloat(i[s]);return a},p=function(e,t){var n=e.state.selection,r=n.$from,o=n.side===s.c.RIGHT,i=o?r.nodeBefore:r.nodeAfter,a=t(),l=e.nodeDOM(a),p=document.createElement("span");if(p.className="ProseMirror-gapcursor "+(o?"-right":"-left"),p.appendChild(document.createElement("span")),l instanceof HTMLElement&&p.firstChild){var f=function(e){var t=Object.keys(u).find((function(t){return e.classList.contains(t)})),n=t&&u[t];if(n){var r=e.querySelector(n);if(r)return window.getComputedStyle(r)}}(l)||window.getComputedStyle(l),h=p.firstChild;h.style.height=function(e){return d(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"])}(f)+"px",(0!==a||i&&"table"===i.type.name)&&(h.style.marginTop=f.getPropertyValue("margin-top"));var m=i&&Object(c.a)(i);m?(h.setAttribute("layout",m),h.style.width=function(e){return d(e,["width","padding-left","padding-right","border-left-width","border-right-width"])}(f)+"px"):function(e,t,n){if(Object(c.d)(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{var r=parseFloat(t.getPropertyValue("margin-right"));r>0?e.style.marginLeft="-"+Math.abs(r)+"px":e.style.paddingRight=Math.abs(r)+"px"}}(h,f,n.side)}return p},f=n("qYTr"),h=n("lqZG");n.d(t,"b",(function(){return m}));var m=new r.PluginKey("gapCursorPlugin"),v=new r.Plugin({key:m,props:{decorations:function(e){var t=e.doc,n=e.selection;if(n instanceof s.a){var r=n.$from,a=n.side,l=n.head,u=a===s.c.RIGHT;if(u&&r.nodeBefore){var d=Object(i.findPositionOfNodeBefore)(n);"number"==typeof d&&(l=d)}var f=u?r.nodeBefore:r.nodeAfter,h=f&&Object(c.a)(f);return o.DecorationSet.create(t,[o.Decoration.widget(l,p,{key:s.b+"-"+a+"-"+h,side:h?-1:0})])}return null},createSelectionBetween:function(e,t,n){if(!(e&&e.state&&e.state.selection instanceof a.CellSelection))return t.pos===n.pos&&s.a.valid(n)?new s.a(n):void 0},handleClick:function(e,t,n){var r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!Object(c.c)(n.target)){var o=n.offsetX>20?s.c.RIGHT:s.c.LEFT;return Object(f.d)(t,o)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:function(e,t){return"deleteContentBackward"===t.inputType&&e.state.selection instanceof s.a&&(t.preventDefault(),Object(f.b)(h.a.BACKWARD)(e.state,e.dispatch))}}}});t.a=v},xqwH:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return E})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return _}));var r=n("Dsue"),o=n("gdUu"),i=n("mu0/"),a=n("QQ6y"),s=n("fjMk"),c=n("N01o"),l=function(){return function(e,t){var n=e.schema.marks.code,r=e.selection,i=r.empty,a=r.$cursor;if(!i||!a)return!1;var s=e.tr.storedMarks;if(n){var c=Object(o.d)(e,n.create()),l=e.doc.rangeHasMark(a.pos,a.pos,n),u=e.doc.rangeHasMark(a.pos,a.pos+1,n),d=!(l||u||s&&!s.length),p=!l&&u&&(!s||!s.length);if(!c&&p)return t&&t(e.tr.addStoredMark(n.create())),!0;if(c&&d)return t&&t(e.tr.removeStoredMark(n)),!0}return!1}},u=function(){return function(e,t){var n=e.schema.marks.code,i=e.selection,a=i.empty,s=i.$cursor;if(!a||!s)return!1;var c=e.tr.storedMarks;if(n){var l=n&&Object(o.d)(e,n.create()),u=Object(o.c)(e,s.pos),d=Object(o.c)(e,s.pos-1),p=Object(o.c)(e,s.pos-2),f=u&&!d&&Array.isArray(c),h=d&&!p&&(null===c||Array.isArray(c)&&!!c.length),m=(f&&Array.isArray(c)&&!c.length||!f&&null===c)&&!d&&p,v=!u&&d&&Array.isArray(c)&&!c.length;if(!l&&m){var b=e.tr.setSelection(r.Selection.near(e.doc.resolve(s.pos-1)));return t&&t(b.removeStoredMark(n)),!0}if(!l&&v)return t&&t(e.tr.addStoredMark(n.create())),!0;if(l&&h){b=e.tr.setSelection(r.Selection.near(e.doc.resolve(s.pos-1)));return t&&t(b.addStoredMark(n.create())),!0}var g=0===s.index(s.depth-1);if(l&&(f||!s.nodeBefore&&g))return t&&t(e.tr.removeStoredMark(n)),!0}return!1}},d=function(){return function(e,t){var n=e.schema.marks.em;return!!n&&Object(a.g)(n)(e,t)}},p=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_ITALIC,attributes:{inputMethod:t}})(d())},f=function(){return function(e,t){var n=e.schema.marks.strike;return!!n&&Object(a.g)(n)(e,t)}},h=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_STRIKE,attributes:{inputMethod:t}})(f())},m=function(){return function(e,t){var n=e.schema.marks.strong;return!!n&&Object(a.g)(n)(e,t)}},v=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_STRONG,attributes:{inputMethod:t}})(m())},b=function(){return function(e,t){var n=e.schema.marks.underline;return!!n&&Object(a.g)(n)(e,t)}},g=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_UNDERLINE,attributes:{inputMethod:t}})(b())},y=function(){return function(e,t){var n=e.schema.marks.subsup;return!!n&&Object(a.g)(n,{type:"sup"})(e,t)}},O=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_SUPER,attributes:{inputMethod:t}})(y())},w=function(){return function(e,t){var n=e.schema.marks.subsup;return!!n&&Object(a.g)(n,{type:"sub"})(e,t)}},E=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_SUB,attributes:{inputMethod:t}})(w())},k=function(){return function(e,t){var n=e.schema.marks.code;return!!n&&Object(a.g)(n)(e,t)}},x=function(e){var t=e.inputMethod;return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_CODE,attributes:{inputMethod:t}})(k())},_=function(e,t,n){return Object(s.e)({action:c.a.FORMATTED,actionSubject:c.b.TEXT,eventType:c.d.TRACK,actionSubjectId:c.c.FORMAT_CODE,attributes:{inputMethod:c.e.FORMATTING}})(function(e,t,n){return function(r,o){if(r.selection.empty){var s=r.doc.resolve(e).nodeBefore,c=r.doc.resolve(t).nodeAfter,l=s&&s.text&&s.text.endsWith("`"),u=c&&c.text&&c.text.startsWith("`");if(l&&u){i.a.trackEvent("atlassian.editor.format.code.autoformatting");var d=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(n));if(o){var p=r.schema.marks.code.create();o(d=Object(a.a)(d.mapping.map(e-1),d.mapping.map(t+1),!1,p,d).setStoredMarks([p]))}return!0}}return!1}}(e,t,n))}},xwRc:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("d3mg"),o=function(e,t){var n=e.tr;return e.selection.empty||n.deleteSelection(),n.setMeta(r.b,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n),!0},i=function(e){return function(t,n){return n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(r.b,{showInsertPanelAt:null}).scrollIntoView()),!0}},a=function(e,t){return t(e.tr.setMeta(r.b,{showInsertPanelAt:null})),!0}},xzME:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M7 7h10a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm2.78 11a1 1 0 0 1-.97-.757L7.156 10.62A.5.5 0 0 1 7.64 10h8.72a.5.5 0 0 1 .485.621l-1.656 6.622a1 1 0 0 1-.97.757H9.781zM11 6h2a1 1 0 0 1 1 1h-4a1 1 0 0 1 1-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorRemoveIcon";var c=s;t.default=c},yWiF:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n("mGva"),o=n("kbCE"),i=n("KU7H"),a=function(e){return e===i.c.LEFT};function s(e,t,n,r){void 0===r&&(r=-1);var o=t,i=null,a=n.nodes,s=a.mediaSingle,c=a.media,l=a.mediaGroup;do{if(!(o=e.resolve(-1===r?o.before():o.after())))return null;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===n.nodes.doc)return null;if(i.type===s||i.type===c||i.type===l)return i}while(o.depth>0);return null}var c=function(e,t,n,r){for(var o=n,i=null;o.depth>0;){if(!(o=e.resolve(-1===r?o.before():o.after())))return!1;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}for(var a=i;a&&a.firstChild;)if((a=a.firstChild)&&a.isTextblock)return!0;return!1};function l(e){var t;return e.attrs.layout&&(t=e.attrs.layout),e.marks&&e.marks.length&&(t=(e.marks.find((function(e){return"breakout"===e.type.name}))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}var u=function(e){if("BUTTON"===e.nodeName||Object(o.j)(e,"button"))return!0;for(var t,n=e;n;){if(n.className&&(n.getAttribute("class")||"").indexOf(r.c.TABLE_CONTAINER)>-1){t=n;break}n=n.parentNode}if(t){var i=t.querySelector("."+r.c.ROW_CONTROLS_WRAPPER),a=e&&e.classList&&e.classList.contains(r.c.COLUMN_CONTROLS_DECORATIONS);return i&&i.contains(e)||a}return!1}},ybZl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11 7h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorNumberListIcon";var c=s;t.default=c},yvY0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dsue"),o=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};function i(e,t,n){for(var r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(var i=0;i<t.length;i++)n.step(t[i]);for(var a=[],s=0,c=e.length;s<e.length;s++){var l=e[s].step.map(n.mapping.slice(c));c--,l&&!n.maybeStep(l).failed&&(n.mapping.setMirror(c,n.steps.length-1),a.push(new o(l,l.invert(n.docs[n.docs.length-1]),e[s].origin)))}return a}var a=function(e,t){this.version=e,this.unconfirmed=t};var s=new r.PluginKey("collab");t.rebaseSteps=i,t.collab=function(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new r.Plugin({key:s,state:{init:function(){return new a(e.version,[])},apply:function(e,t){var n=e.getMeta(s);return n||(e.docChanged?new a(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new o(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,historyPreserveItems:!0})},t.receiveTransaction=function(e,t,n,o){for(var c=s.getState(e),l=c.version+t.length,u=s.get(e).spec.config.clientID,d=0;d<n.length&&n[d]==u;)++d;var p=c.unconfirmed.slice(d);if(!(t=d?t.slice(d):t).length)return e.tr.setMeta(s,new a(l,p));var f=p.length,h=e.tr;if(f)p=i(p,t,h);else{for(var m=0;m<t.length;m++)h.step(t[m]);p=[]}var v=new a(l,p);return o&&o.mapSelectionBackard&&e.selection instanceof r.TextSelection&&(h.setSelection(r.TextSelection.between(h.doc.resolve(h.mapping.map(e.selection.head,-1)),h.doc.resolve(h.mapping.map(e.selection.anchor,-1)),-1)),h.updated&=-2),h.setMeta("rebased",f).setMeta("addToHistory",!1).setMeta(s,v)},t.sendableSteps=function(e){var t=s.getState(e);return 0==t.unconfirmed.length?null:{version:t.version,steps:t.unconfirmed.map((function(e){return e.step})),clientID:s.get(e).spec.config.clientID,get origins(){return this._origins||(this._origins=t.unconfirmed.map((function(e){return e.origin})))}}},t.getVersion=function(e){return s.getState(e).version}},yy2Y:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("ERkP");function o(e){var t=e.label,n=void 0===t?"":t;return r.createElement("div",{"aria-label":n,dangerouslySetInnerHTML:{__html:'<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="-26.046%" y1="100%" x2="62.626%" y2="0%" id="fallback-a"><stop stop-color="#B3BAC5" offset="0%"/><stop stop-color="#A5ADBA" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><path fill="#FFF" d="M0 0h40v40H0z"/><path fill="#DFE1E6" d="M20 16h12v12H20z"/><path fill="url(#fallback-a)" d="M8 16h12v12H8z"/><path d="M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z" fill="#A5ADBA"/><path fill="#B3BAC5" d="M17.5 13h5v3h-5z"/><path fill="#A5ADBA" d="M10 13h5v3h-5z"/><path fill="#DFE1E6" d="M25 13h5v3h-5z"/></g></svg>'}})}},z4jD:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return m}));var r=n("mpTe"),o=n.n(r),i=n("/Xcd"),a=n("9HKk"),s=/(https?|ftp):\/\/[^\s]+/,c=o()();c.add("sourcetree:","http:");var l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){if(!e)return null;var t=m(e);return t.length||(t=c.match(e)),t&&t[0]}l.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),c.tlds(l,!1);var d=function(){function e(){}return e.prototype.exec=function(e){if(e.endsWith(" ")){var t=e.slice(0,e.length-1).split(" "),n=t[t.length-1],r=c.match(n);if(r&&r.length>0){var o=r[r.length-1];return o.input=n,o.length=o.lastIndex-o.index+1,[o]}}return null},e}();function p(e){if(!e)return"";if(Object(a.a)(e))return e;var t=u(e);return t&&t.url||""}function f(e){return function(t){return Object(i.e)(t,(function(t,n){var r=!n||n.type!==e.nodes.codeBlock,o=t.type.schema.marks.link;if(r&&t.isText&&!o.isInSet(t.marks)){var i=[],a=t.text,s=function(e){var t=[],n=e&&c.match(e);n&&n.length>0&&n.forEach((function(e){t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(a),l=0;return s.forEach((function(e){e.start>0&&i.push(t.cut(l,e.start)),i.push(t.cut(e.start,e.end).mark(o.create({href:p(e.href)}).addToSet(t.marks))),l=e.end})),l<a.length&&i.push(t.cut(l)),i}return t}))}}function h(e){return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}var m=function(e){var t=[];if(!s.test(e))return t;for(var n,r=0;n=e.substr(r);){var o=(n.match(s)||[""])[0];if(!o)break;var i=n.search(s),a=i>=0?i+r:i,c=a+o.length;t.push({index:a,lastIndex:c,raw:o,url:o,text:o,schema:""}),r+=c}return t}},zCam:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("mGva"),o=n("eZO1"),i=n("C37w"),a=n("kbCE"),s=n("xjsc");var c=function(e){var t=Object(o.d)(e).tableRef;if(t&&t.querySelector("tr")){var n=t.parentElement;if(n&&n.parentElement){for(var i=t.querySelectorAll("tr"),a=n.parentElement.querySelectorAll("."+r.c.ROW_CONTROLS_BUTTON_WRAP),c=n.parentElement.querySelectorAll(r.c.NUMBERED_COLUMN_BUTTON),l=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){var i=o.getBoundingClientRect(),a=i?i.height:o.offsetHeight;t[n]=a}else t[n]=void 0}return t}(i),u=0,d=a.length;u<d;u++){var p=l[u];p&&(a[u].style.height=p+1+"px",c.length&&(c[u].style.height=p+1+"px"))}Object(s.b)(n,t,n.parentElement.querySelector("."+r.c.TABLE_RIGHT_SHADOW),n.parentElement.querySelector("."+r.c.TABLE_LEFT_SHADOW))}}},l=function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100},u=function(e,t,n){var o=t.target;if(!Object(i.a)(o,r.c.RESIZE_HANDLE_DECORATION))return null;var s=Object(a.j)(o,"td, th");return s?e.posAtDOM(s,0)-1:null}},"zGF/":function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.INDENT="indent",e.OUTDENT="outdent"}(r||(r={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock",e.TASK_LIST="taskList"}(o||(o={}))},zHUn:function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},"zP/5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("ERkP")),o=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" focusable="false" role="presentation"><path d="M6 17h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm8-8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorAlignImageRightIcon";var c=s;t.default=c},zTQz:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n("D57K"),o=n("I9T1"),i=n("Dsue"),a=n("m23B"),s=n("YybV"),c=n("6ZUl"),l=n("/Xcd"),u=function(e,t){return function(n,o){var l=Object(c.b)(n,!0);return!!l&&(t?(function(e,t){return function(n,o){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var s,c,l,u,d;return Object(r.__generator)(this,(function(p){switch(p.label){case 0:return n.schema.nodes.extension?(s=t.node.attrs.parameters,[4,e(s)]):[2];case 1:if(c=p.sent()){if(l=Object(r.__assign)(Object(r.__assign)({},t.node.attrs),{parameters:Object(r.__assign)(Object(r.__assign)({},s),c)}),!(u=n.schema.nodes.extension.createChecked(l)))return[2];d=(d=Object(a.replaceSelectedNode)(u)(n.tr)).setSelection(i.NodeSelection.create(d.doc,n.selection.anchor)),o&&o(d.scrollIntoView())}return[2]}}))}))}}(t,l)(n,o),!0):!!e&&(Object(s.a)(e,l.node,!0)(n,o),!0))}},d=function(e,t){var n=t.nodes.bodiedExtension,r=Object(l.d)(e.content,(function(t,r,o){if(t.type===n&&!r){var i=e.openStart&&0===o,a=e.openEnd&&o+1===e.content.childCount;if(i||a)return t.content}return t}));return new o.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)}},zirS:function(e,t,n){"use strict";var r=n("D57K"),o=n("ERkP"),i=n("aWzz"),a=n("njjQ"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.editorActions=t.editorActions||new a.a,n}return Object(r.__extends)(t,e),t.prototype.getChildContext=function(){return{editorActions:this.editorActions}},t.prototype.render=function(){return o.Children.only(this.props.children)},t.childContextTypes={editorActions:i.object},t}(o.Component);t.a=s},zwr4:function(e,t,n){"use strict";var r=n("5z8k"),o=n("T1Ll").isWhiteSpace,i=n("T1Ll").isPunctChar,a=n("T1Ll").isMdAsciiPunct;function s(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}s.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},s.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},s.prototype.scanDelims=function(e,t){var n,r,s,c,l,u,d,p,f,h=e,m=!0,v=!0,b=this.posMax,g=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<b&&this.src.charCodeAt(h)===g;)h++;return s=h-e,r=h<b?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),f=a(r)||i(String.fromCharCode(r)),u=o(n),(p=o(r))?m=!1:f&&(u||d||(m=!1)),u?v=!1:d&&(p||f||(v=!1)),t?(c=m,l=v):(c=m&&(!v||d),l=v&&(!m||f)),{can_open:c,can_close:l,length:s}},s.prototype.Token=r,e.exports=s}}]);
//# sourceMappingURL=33.9ZqtYjV3-v39.js.map