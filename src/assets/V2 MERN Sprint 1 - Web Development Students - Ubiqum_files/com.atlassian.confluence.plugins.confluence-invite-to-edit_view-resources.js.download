WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-invite-to-edit:view-resources', location = 'js/view-init.js' */
require(["ajs","skate","confluence/meta","confluence/invite-to-edit/service/share-page"],function(b,a,c,d){b.toInit(function(f){e(f)});function e(k){var o=c.get("content-type")==="page"?"Share page":"Share blog post";var h="Include an optional message";var j="#inviteToEdit";var l="shareInvitePopup";var m=k(j);var n=function(p){if(typeof p!=="undefined"){j=k(p)}d.initDialog(j,l,{},{heading:o,notePlaceholder:h,link:function(){return require("confluence/invite-to-edit/fetch/content-info")(c.get("content-id"),"current").pipe(function(q){return c.get("base-url")+q._links.webui})},entityId:function(){return c.get("page-id")},restriction:function(){return require("confluence/invite-to-edit/fetch/content-restrictions")(c.get("content-id")).pipe(function(q){var s=q.read.restrictions.user.size||q.read.restrictions.group.size||q.update.restrictions.user.size||q.update.restrictions.group.size;var r={};if(s){r.type="restrict";r.message="Restrictions on this page may prevent people viewing or editing."}return r})},permission:function(){return require("confluence/invite-to-edit/fetch/space-permissions")(c.get("space-key"))},inheritedPageRestrictions:function(){return require("confluence/invite-to-edit/fetch/full-page-restrictions")(c.get("content-id"))},copyOption:"share",shareType:"view",contentType:c.get("content-type"),errorText:"share.dialog.error",beforeLoad:function(){m.find(".aui-icon").css("visibility","hidden");m.parent().spin({left:"10px"})},afterLoad:function(){m.find(".aui-icon").css("visibility","visible");m.parent().spinStop()},onHide:function(){k(".dashboard-actions .explanation").hide()}})};var g=function(){k("#inline-dialog-"+l).remove()};var f=function(p){n(p)};var i=function(p){g()};a("webitem-invite-button",{type:a.types.CLASS,events:{},attached:f,detached:i})}});
}catch(e){WRMCB(e)};