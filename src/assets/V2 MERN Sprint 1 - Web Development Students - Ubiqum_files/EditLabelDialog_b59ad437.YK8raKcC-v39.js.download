(window.webpackJsonp=window.webpackJsonp||[]).push([["EditLabelDialog~b59ad437"],{"+EFR":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("kVkH"),o=t.n(a);const r=/\[messageKey=((?:\w|\.)+){1},\s*args=\[((?:.)+)?\]\]\]/;function i(e){let n="",t="";const a=[];if("object"==typeof e&&e.message&&(n=e.message),"string"==typeof n&&n.indexOf("messageKey")>=0&&r.test(n)){const e=r.exec(n);t=e[1];const i=e[2]?e[2].split(","):[];i&&(a[0]=o()(i),a[1]=i.slice(1).join(", "))}return{message:n,messageKey:t,args:a}}},An0M:function(e,n,t){"use strict";t("HbGN"),t("cxan"),t("fGyu"),t("pkwY"),t("9fIP"),t("MMYH"),t("K/z8"),t("sRHE"),t("8K1b"),t("pWxA"),t("zjfJ"),t("ERkP"),t("l1C2"),t("7nmT"),t("aWzz"),t("4wDe");var a=t("Un7B"),o=(t("5IAQ"),t("KD1n"),t("jynR"),t("hEw0")),r=t("FaXr"),i=t("YcyM"),s=Object(i.b)(a.a),l=Object(o.a)(s),c=Object(r.b)(l),d=t("Lz2b");n.a=Object(d.a)(c)},FaXr:function(e,n,t){"use strict";t.d(n,"b",(function(){return O}));var a=t("HbGN"),o=t("cxan"),r=(t("fGyu"),t("pkwY"),t("9fIP")),i=t("MMYH"),s=t("K/z8"),l=t("sRHE"),c=t("8K1b"),d=t("pWxA"),u=t("zjfJ"),p=t("ERkP"),h=t.n(p),b=(t("l1C2"),t("7nmT"),t("aWzz"),t("4wDe"),t("pQGW")),g=t("Un7B"),m=(t("5IAQ"),t("KD1n"),t("jynR"),t("hEw0")),f={cacheOptions:!1,defaultOptions:!1,filterOption:null},O=function(e){var n,t;return t=n=function(n){function t(e){var n;return Object(r.a)(this,t),n=Object(s.a)(this,Object(l.a)(t).call(this)),Object(u.a)(Object(d.a)(Object(d.a)(n)),"select",void 0),Object(u.a)(Object(d.a)(Object(d.a)(n)),"lastRequest",void 0),Object(u.a)(Object(d.a)(Object(d.a)(n)),"mounted",!1),Object(u.a)(Object(d.a)(Object(d.a)(n)),"optionsCache",{}),Object(u.a)(Object(d.a)(Object(d.a)(n)),"handleInputChange",(function(e,t){var a=n.props,o=a.cacheOptions,r=a.onInputChange,i=Object(b.k)(e,t,r);if(!i)return delete n.lastRequest,void n.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&n.optionsCache[i])n.setState({inputValue:i,loadedInputValue:i,loadedOptions:n.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var s=n.lastRequest={};n.setState({inputValue:i,isLoading:!0,passEmptyOptions:!n.state.loadedInputValue},(function(){n.loadOptions(i,(function(e){n.mounted&&(e&&(n.optionsCache[i]=e),s===n.lastRequest&&(delete n.lastRequest,n.setState({isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return i})),n.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},n}return Object(c.a)(t,n),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var n=this.props.defaultOptions,t=this.state.inputValue;!0===n&&this.loadOptions(t,(function(n){if(e.mounted){var t=!!e.lastRequest;e.setState({defaultOptions:n||[],isLoading:t})}}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,n){var t=this.props.loadOptions;if(!t)return n();var a=t(e,n);a&&"function"==typeof a.then&&a.then(n,(function(){return n()}))}},{key:"render",value:function(){var n=this,t=this.props,r=(t.loadOptions,Object(a.a)(t,["loadOptions"])),i=this.state,s=i.defaultOptions,l=i.inputValue,c=i.isLoading,d=i.loadedInputValue,u=i.loadedOptions,p=i.passEmptyOptions?[]:l&&d?u:s||[];return h.a.createElement(e,Object(o.a)({},r,{ref:function(e){n.select=e},options:p,isLoading:c,onInputChange:this.handleInputChange}))}}]),t}(p.Component),Object(u.a)(n,"defaultProps",f),t},v=Object(m.a)(g.a),k=O(v);n.a=k},HMAF:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(t("ERkP")),o=r(t("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11.221 9.322l-2.929 2.955a1.009 1.009 0 0 0 0 1.419.986.986 0 0 0 1.405 0l2.298-2.317 2.307 2.327a.989.989 0 0 0 1.407 0 1.01 1.01 0 0 0 0-1.419l-2.94-2.965A1.106 1.106 0 0 0 11.991 9c-.279 0-.557.107-.77.322z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ChevronUpIcon";var l=s;n.default=l},JByK:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("KD1n"),o=t("H5qd");function r(){const e=Object(a.a)(["\n  query LabelsQuery(\n    $contentId: ID!\n    $refetchQuery: Boolean!\n    $status: [String]\n  ) {\n    content(id: $contentId, status: $status) {\n      nodes {\n        id\n        type\n        operations @skip(if: $refetchQuery) {\n          operation\n          targetType\n        }\n        labels {\n          count\n          nodes {\n            id\n            label\n            name\n            prefix\n          }\n        }\n      }\n    }\n  }\n"]);return r=function(){return e},e}const i=t.n(o)()(r())},WB0a:function(e,n,t){"use strict";var a=t("zjfJ"),o=t("ERkP"),r=t.n(o),i=t("gQ5V"),s=(t("aWzz"),t("2sr0")),l=t("qdfj"),c=t("+EFR"),d=t("JByK"),u=t("icUP"),p=t("KD1n"),h=t("H5qd");function b(){const e=Object(p.a)(["\n  mutation DeleteLabelMutation($contentId: ID!, $label: String!) {\n    deleteLabel(input: { contentId: $contentId, label: $label }) {\n      contentId\n      label\n    }\n  }\n"]);return b=function(){return e},e}const g=t.n(h)()(b());var m,f,O=t("L21V"),v=t("kTS2");const k=Object(O.g)({deleteLabelText:{id:"labels.deleteLabel.action",defaultMessage:"Delete Label",description:"Aria label for button to delete label"}}),x=Object(O.h)((f=m=class extends o.Component{constructor(...e){super(...e),Object(a.a)(this,"onBeforeRemoveAction",()=>{const{deleteLabel:e}=this.props;return e(),!0})}render(){const{name:e,prefix:n,isDeletable:t,href:a,intl:{formatMessage:o}}=this.props,i=n&&"global"!==n&&"team"!==n,s=o(k.deleteLabelText);return r.a.createElement(v.a,{text:"".concat(i?"".concat(n,":"):"").concat(e),href:a,onBeforeRemoveAction:t?this.onBeforeRemoveAction:null,removeButtonText:t?s:null})}},Object(a.a)(m,"defaultProps",{isDeletable:!1}),f));var j,y;t.d(n,"a",(function(){return w}));const w=Object(s.a)()(Object(l.a)((y=j=class extends o.Component{constructor(...e){super(...e),Object(a.a)(this,"sendLabelDeletedAnalyticsEvent",()=>{const{contentId:e,name:n}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"deleted",actionSubject:"label",source:"labelComponent",attributes:{componentVersion:"v2",contentId:e,name:n}}}).fire()}),Object(a.a)(this,"generateDeleteLabel",e=>{const{contentId:n,name:t}=this.props;return()=>{e({variables:{contentId:n,label:t}})}}),Object(a.a)(this,"onError",e=>{this.props.onError(Object(c.a)(e))})}render(){const{contentId:e,spaceKey:n,prefix:t,name:a,isDeletable:o}=this.props;return r.a.createElement(i.a,{mutation:g,refetchQueries:[{query:d.a,variables:{contentId:e,refetchQuery:!0,status:u.a}}],onCompleted:this.sendLabelDeletedAnalyticsEvent,onError:this.onError},e=>{const i="/wiki/label/".concat(n,"/").concat(a);return r.a.createElement(x,{href:i,prefix:t,name:a,isDeletable:o,deleteLabel:this.generateDeleteLabel(e)})})}},Object(a.a)(j,"defaultProps",{onError:()=>{}}),y)))},WPSw:function(e){e.exports=JSON.parse('{"a":"@atlaskit/tag","b":"9.0.10"}')},YcyM:function(e,n,t){"use strict";t.d(n,"b",(function(){return x}));t("HbGN");var a=t("cxan"),o=t("fGyu"),r=t("pkwY"),i=t("9fIP"),s=t("MMYH"),l=t("K/z8"),c=t("sRHE"),d=t("8K1b"),u=t("pWxA"),p=t("zjfJ"),h=t("ERkP"),b=t.n(h),g=(t("l1C2"),t("7nmT"),t("aWzz"),t("4wDe"),t("pQGW")),m=t("Un7B"),f=(t("5IAQ"),t("KD1n"),t("jynR"),t("hEw0")),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,t=String(e).toLowerCase(),a=String(n.value).toLowerCase(),o=String(n.label).toLowerCase();return a===t||o===t},v={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,t){return!(!e||n.some((function(n){return O(e,n)}))||t.some((function(n){return O(e,n)})))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}},k=Object(r.a)({allowCreateWhileLoading:!1,createOptionPosition:"last"},v),x=function(e){var n,t;return t=n=function(n){function t(e){var n;Object(i.a)(this,t),n=Object(l.a)(this,Object(c.a)(t).call(this,e)),Object(p.a)(Object(u.a)(Object(u.a)(n)),"select",void 0),Object(p.a)(Object(u.a)(Object(u.a)(n)),"onChange",(function(e,t){var a=n.props,r=a.getNewOptionData,i=a.inputValue,s=a.isMulti,l=a.onChange,c=a.onCreateOption,d=a.value,u=a.name;if("select-option"!==t.action)return l(e,t);var p=n.state.newOption,h=Array.isArray(e)?e:[e];if(h[h.length-1]!==p)l(e,t);else if(c)c(i);else{var b=r(i,i),m={action:"create-option",name:u};l(s?[].concat(Object(o.a)(Object(g.f)(d)),[b]):b,m)}}));var a=e.options||[];return n.state={newOption:void 0,options:a},n}return Object(d.a)(t,n),Object(s.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=e.allowCreateWhileLoading,t=e.createOptionPosition,a=e.formatCreateLabel,r=e.getNewOptionData,i=e.inputValue,s=e.isLoading,l=e.isValidNewOption,c=e.value,d=e.options||[],u=this.state.newOption;u=l(i,Object(g.f)(c),d)?r(i,a(i)):void 0,this.setState({newOption:u,options:!n&&s||!u?d:"first"===t?[u].concat(Object(o.a)(d)):[].concat(Object(o.a)(d),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var n=this,t=this.state.options;return b.a.createElement(e,Object(a.a)({},this.props,{ref:function(e){n.select=e},options:t,onChange:this.onChange}))}}]),t}(h.Component),Object(p.a)(n,"defaultProps",k),t},j=x(m.a),y=Object(f.a)(j);n.a=y},cSFD:function(e,n,t){"use strict";var a,o,r,i,s,l,c,d,u,p,h,b,g=t("D57K"),m=t("ERkP"),f=t.n(m),O=t("OEBU"),v=t("YGBU"),k=t("2sr0"),x=t("gHio"),j=t.n(x),y=t("HMAF"),w=t.n(y),E=t("PLaw"),L=t.n(E),N=t("dnOA"),R=t("KsTJ"),_=t("RZTm"),C=t("hd9Z"),D=t("+3hD"),A=t("m7kQ"),B=Object(D.a)("appearance",{error:{light:A.R400,dark:A.R300},info:{light:A.N500,dark:A.N500},normal:{light:A.N0,dark:A.DN50},success:{light:A.G400,dark:A.G300},warning:{light:A.Y200,dark:A.Y300}}),I=Object(D.a)("appearance",{normal:{light:A.N60A}}),S=Object(D.a)("appearance",{error:{light:A.N0,dark:A.DN40},info:{light:A.N0,dark:A.DN600},normal:{light:A.N500,dark:A.DN600},success:{light:A.N0,dark:A.DN40},warning:{light:A.N700,dark:A.DN40}}),M=Object(D.a)("appearance",{error:{light:A.N50A,dark:A.N50A},info:{light:A.N50A,dark:A.N50A},normal:{light:A.N50A,dark:A.N50A},success:{light:A.N50A,dark:A.N50A},warning:{light:A.N50A,dark:A.N50A}}),T=Object(D.a)("appearance",{error:{light:A.N40,dark:A.N40},info:{light:A.N40,dark:A.N40},normal:{light:A.B100,dark:A.B100},success:{light:A.N40,dark:A.N40},warning:{light:A.N200,dark:A.N200}}),P={success:{light:"rgba(255, 255, 255, 0.08)",dark:A.N30A},info:{light:"rgba(255, 255, 255, 0.08)",dark:"rgba(255, 255, 255, 0.08)"},error:{light:"rgba(255, 255, 255, 0.08)",dark:A.N30A},warning:{light:A.N30A,dark:A.N30A},normal:{light:"none",dark:"none"}},F={success:{light:A.N0,dark:A.DN40},info:{light:A.N0,dark:A.DN600},error:{light:A.N0,dark:A.DN600},warning:{light:A.N700,dark:A.DN40},normal:{light:A.B400,dark:A.B100}},V=function(e){var n=e.appearance,t=void 0===n?"normal":n,a=e.mode;return F[t][void 0===a?"light":a]},K=function(e){return{background:(n=e,t=n.appearance,a=void 0===t?"normal":t,o=n.mode,P[a][void 0===o?"light":o]),color:V(e)};var n,t,a,o},z=R.default.div(a||(a=Object(g.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  box-shadow: ",";\n  color: ",";\n  padding: ","px;\n  transition: background-color 200ms;\n  width: 100%;\n  z-index: 600;\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px ",";\n  }\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  box-shadow: ",";\n  color: ",";\n  padding: ","px;\n  transition: background-color 200ms;\n  width: 100%;\n  z-index: 600;\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px ",";\n  }\n"])),B,_.f,(function(e){var n=I(e);return[n&&"0 0 1px "+n,"0 20px 32px -8px "+M(e)].filter((function(e){return e})).join(",")}),S,Object(C.multiply)(_.l,2),T),H=R.default.div(o||(o=Object(g.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  height: ","px;\n"],["\n  display: flex;\n  align-items: center;\n  height: ","px;\n"])),Object(C.multiply)(_.l,4)),W=R.default.div(r||(r=Object(g.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: ","px;\n"],["\n  flex: 0 0 auto;\n  width: ","px;\n"])),Object(C.multiply)(_.l,5)),q=R.default.span(i||(i=Object(g.__makeTemplateObject)(["\n  color: ",";\n  font-weight: 600;\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  color: ",";\n  font-weight: 600;\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),S),Q=R.default.button(s||(s=Object(g.__makeTemplateObject)(["\n  appearance: none;\n  background: none;\n  border: none;\n  border-radius: ","px;\n  color: ",";\n  cursor: pointer;\n  flex: 0 0 auto;\n  line-height: 1;\n  margin-left: ","px;\n  padding: 0;\n  white-space: nowrap;\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px ",";\n  }\n"],["\n  appearance: none;\n  background: none;\n  border: none;\n  border-radius: ","px;\n  color: ",";\n  cursor: pointer;\n  flex: 0 0 auto;\n  line-height: 1;\n  margin-left: ","px;\n  padding: 0;\n  white-space: nowrap;\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px ",";\n  }\n"])),_.f,S,_.l,T),U=R.default.div(l||(l=Object(g.__makeTemplateObject)(["\n  display: flex;\n  flex: 1 1 100%;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 0;\n  padding: 0 0 0 ","px;\n"],["\n  display: flex;\n  flex: 1 1 100%;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 0;\n  padding: 0 0 0 ","px;\n"])),Object(C.multiply)(_.l,5)),$=(R.default.div(c||(c=Object(g.__makeTemplateObject)(["\n  max-height: ","px;\n  opacity: ",";\n  overflow: ",";\n  transition: max-height 0.3s, opacity 0.3s;\n"],["\n  max-height: ","px;\n  opacity: ",";\n  overflow: ",";\n  transition: max-height 0.3s, opacity 0.3s;\n"])),(function(e){return e.isExpanded?150:0}),(function(e){return e.isExpanded?1:0}),(function(e){return e.isExpanded?"visible":"hidden"})),R.default.div(d||(d=Object(g.__makeTemplateObject)(["\n  color: ",";\n  word-wrap: break-word;\n"],["\n  color: ",";\n  word-wrap: break-word;\n"])),S)),G=R.default.div(u||(u=Object(g.__makeTemplateObject)(["\n  max-height: ","px;\n  opacity: ",";\n  overflow: ",";\n  transition: max-height 0.3s, opacity 0.3s;\n"],["\n  max-height: ","px;\n  opacity: ",";\n  overflow: ",";\n  transition: max-height 0.3s, opacity 0.3s;\n"])),(function(e){return e.isExpanded?150:0}),(function(e){return e.isExpanded?1:0}),(function(e){return e.isExpanded?"visible":"hidden"})),Y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isAnimating:!1},n.handleTransitionEnd=function(){n.setState({isAnimating:!1})},n}return Object(g.__extends)(n,e),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.isExpanded!==e.isExpanded&&this.setState({isAnimating:!0})},n.prototype.render=function(){var e=this.props,n=e.children,t=e.isExpanded,a=this.state.isAnimating||t?n:null;return f.a.createElement(G,{"aria-hidden":!t,isExpanded:t,onTransitionEnd:this.handleTransitionEnd},a)},n.defaultProps={isExpanded:!1},n}(m.Component),J=t("YF1/"),Z=t.n(J),X=t("/sMe"),ee=R.default.div(h||(h=Object(g.__makeTemplateObject)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding-top: ","px;\n  transform: ",";\n"],["\n  display: flex;\n  flex-wrap: wrap;\n  padding-top: ","px;\n  transform: ",";\n"])),_.l,(function(e){return e.appearance===ae?"translateX(-"+Object(_.l)()/2+"px)":0})),ne=R.default.div(b||(b=Object(g.__makeTemplateObject)(["\n  &::before {\n    color: ",";\n    text-align: center;\n    vertical-align: middle;\n\n    ",";\n  }\n"],["\n  &::before {\n    color: ",";\n    text-align: center;\n    vertical-align: middle;\n\n    ",";\n  }\n"])),S,(function(e){var n=e.hasDivider,t=e.useMidDot;return Object(R.css)(p||(p=Object(g.__makeTemplateObject)(["\n  display: ",';\n  content: "','";\n  width: ',"px;\n"],["\n  display: ",';\n  content: "','";\n  width: ',"px;\n"])),n?"inline-block":"none",t?"·":"",t?Object(C.multiply)(_.l,2):_.l)})),te=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getUniqueId=function(e){return e+"-"+Z()()},n}return Object(g.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.actions,a=n.appearance,o=n.linkComponent,r=a!==ae;return t.length?f.a.createElement(ee,{appearance:a},t.map((function(n,t){return f.a.createElement(ne,{key:e.getUniqueId("flag-action"),hasDivider:!!t,useMidDot:!r,"data-testid":n.testId},f.a.createElement(X.a,{onClick:n.onClick,href:n.href,target:n.target,appearance:"normal"===a?"link":a,component:o,spacing:"compact","data-testid":n.testId,theme:function(e,n){var t,o=e(n),r=o.buttonStyles,i=Object(g.__rest)(o,["buttonStyles"]);return Object(g.__assign)({buttonStyles:Object(g.__assign)(Object(g.__assign)(Object(g.__assign)({},r),K({appearance:a,mode:n.mode})),(t={appearance:a,mode:n.mode},{"&, a&":{fontWeight:"500",padding:"0 "+("normal"===t.appearance?0:Object(_.l)())+"px !important"},"&:focus":{boxShadow:"0 0 0 2px "+T(t)},"&:hover, &:active":{textDecoration:"underline"}}))},i)}},n.content))}))):null},n.defaultProps={appearance:ae,actions:[]},n}(m.Component);t.d(n,"a",(function(){return ae}));var ae="normal",oe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isExpanded:!1},n.dismissFlag=function(){n.props.isDismissAllowed&&n.props.onDismissed&&n.props.onDismissed(n.props.id)},n.isBold=function(){return n.props.appearance!==ae},n.toggleExpand=function(){n.setState({isExpanded:!n.state.isExpanded})},n.renderToggleOrDismissButton=function(){var e=n.props,t=e.appearance,a=e.description,o=e.actions,r=e.isDismissAllowed,i=e.onDismissed,s=n.isBold();if(!r||!s&&!i||s&&!a&&(!o||!o.length))return null;var l=n.state.isExpanded?w.a:L.a,c=s?l:j.a,d=s?"Toggle flag body":"Dismiss flag",u=s?n.toggleExpand:n.dismissFlag,p=c===l?"large":"small";return f.a.createElement(Q,{appearance:t,"aria-expanded":n.state.isExpanded,focusRingColor:T(n.props),onClick:u,type:"button"},f.a.createElement(c,{label:d,size:p}))},n.renderBody=function(){var e=n.props,t=e.actions,a=e.appearance,o=e.description,r=e.linkComponent,i=e.testId,s=!n.isBold()||n.state.isExpanded;return f.a.createElement(Y,{isExpanded:s},o&&f.a.createElement($,{appearance:a},o),f.a.createElement(te,{actions:t,appearance:a,linkComponent:r,"data-testid":i}))},n.handleMouseDown=function(e){e.preventDefault()},n}return Object(g.__extends)(n,e),n.prototype.UNSAFE_componentWillReceiveProps=function(e){var n=e.actions,t=e.description;!this.isBold()||!this.state.isExpanded||t||n&&n.length||this.toggleExpand()},n.prototype.render=function(){var e=this.props,n=e.appearance,t=e.icon,a=e.title,o=e.onMouseOver,r=e.onFocus,i=e.onMouseOut,s=e.onBlur,l=e.testId,c={onMouseOver:o,onFocus:r,onMouseOut:i,onBlur:s},d=this.renderToggleOrDismissButton,u=this.renderBody;return f.a.createElement(z,Object(g.__assign)({appearance:n,role:"alert",tabIndex:0,onMouseDown:this.handleMouseDown,"data-testid":l},c),f.a.createElement(H,null,f.a.createElement(W,null,t),f.a.createElement(q,{appearance:n},a),f.a.createElement(d,null)),f.a.createElement(U,null,f.a.createElement(u,null)))},n.defaultProps={actions:[],appearance:ae,isDismissAllowed:!1},n}(m.Component),re=Object(O.a)("atlaskit");n.b=Object(v.a)({componentName:"flag",packageName:N.a,packageVersion:N.b})(Object(k.a)({onBlur:re({action:"blurred",actionSubject:"flag",attributes:{componentName:"flag",packageName:N.a,packageVersion:N.b}}),onDismissed:re({action:"dismissed",actionSubject:"flag",attributes:{componentName:"flag",packageName:N.a,packageVersion:N.b}}),onFocus:re({action:"focused",actionSubject:"flag",attributes:{componentName:"flag",packageName:N.a,packageVersion:N.b}})})(oe))},dnOA:function(e){e.exports=JSON.parse('{"a":"@atlaskit/flag","b":"12.3.5"}')},icUP:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));const a=["current","draft"]},kTS2:function(e,n,t){"use strict";var a,o,r,i,s,l,c,d,u,p,h,b,g=t("D57K"),m=t("ERkP"),f=t.n(m),O=t("OEBU"),v=t("YGBU"),k=t("2sr0"),x=t("WPSw"),j=t("KsTJ"),y=t("+3hD"),w=t("RZTm"),E=t("m7kQ"),L=Object(y.a)({light:E.B100,dark:E.B75}),N=2.5*Object(w.l)(),R=N+"px",_=N,C=25*Object(w.l)(),D=C+"px",A=C-N,B=A+"px",I=Object(y.a)("color",{standard:{light:E.N700,dark:E.DN600},green:{light:E.N800,dark:E.N800},purple:{light:E.N800,dark:E.N800},red:{light:E.N800,dark:E.N800},yellow:{light:E.N800,dark:E.N800},grey:{light:E.N0,dark:E.N0},teal:{light:E.N800,dark:E.N800},blue:{light:E.N800,dark:E.N800},tealLight:{light:E.N500,dark:E.N500},blueLight:{light:E.B500,dark:E.B500},greenLight:{light:E.G500,dark:E.G500},purpleLight:{light:E.P500,dark:E.P500},redLight:{light:E.N500,dark:E.N500},yellowLight:{light:E.N500,dark:E.N500},greyLight:{light:E.N500,dark:E.N500}}),S=Object(y.a)("color",{standard:{light:E.N20,dark:E.DN100A},green:{light:E.G200,dark:E.G200},purple:{light:E.P100,dark:E.P100},red:{light:E.R100,dark:E.R100},yellow:{light:E.Y200,dark:E.Y200},grey:{light:E.N500,dark:E.N500},teal:{light:E.T200,dark:E.T200},blue:{light:E.B100,dark:E.B100},tealLight:{light:E.T100,dark:E.T100},blueLight:{light:E.B75,dark:E.B75},greenLight:{light:E.G100,dark:E.G100},purpleLight:{light:E.P75,dark:E.P75},redLight:{light:E.R75,dark:E.R75},yellowLight:{light:E.Y100,dark:E.Y100},greyLight:{light:E.N30,dark:E.N30}}),M=I,T=S,P=Object(y.a)("color",{standard:{light:E.N700,dark:E.B75},green:{light:E.B400,dark:E.B100},purple:{light:E.B400,dark:E.B100},red:{light:E.B400,dark:E.B100},yellow:{light:E.B400,dark:E.B100},grey:{light:E.B400,dark:E.B100},teal:{light:E.B400,dark:E.B100},blue:{light:E.B400,dark:E.B100},tealLight:{light:E.B400,dark:E.B100},blueLight:{light:E.B400,dark:E.B100},greenLight:{light:E.B400,dark:E.B100},purpleLight:{light:E.B400,dark:E.B100},redLight:{light:E.B400,dark:E.B100},yellowLight:{light:E.B400,dark:E.B100},greyLight:{light:E.B400,dark:E.B100}}),F=Object(y.a)("color",{standard:{light:E.N30,dark:E.DN60},green:{light:E.G100,dark:E.DN60},purple:{light:E.P75,dark:E.DN60},red:{light:E.R75,dark:E.DN60},yellow:{light:E.Y100,dark:E.DN60},grey:{light:E.N50,dark:E.DN60},teal:{light:E.T100,dark:E.DN60},blue:{light:E.B75,dark:E.DN60},tealLight:{light:E.T75,dark:E.DN60},blueLight:{light:E.B50,dark:E.DN60},greenLight:{light:E.G75,dark:E.DN60},purpleLight:{light:E.P50,dark:E.DN60},redLight:{light:E.R50,dark:E.DN60},yellowLight:{light:E.Y75,dark:E.DN60},greyLight:{light:E.N30,dark:E.DN60}}),V=Object(w.l)(),K=Object(y.a)({light:E.R500,dark:E.DN30}),z=Object(y.a)({light:E.N700,dark:E.DN30}),H=Object(y.a)({light:E.R50,dark:E.R100}),W=j.default.span(a||(a=Object(g.__makeTemplateObject)(["\n  &:focus {\n    box-shadow: 0 0 0 2px ",";\n    outline: none;\n  }\n\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  cursor: default;\n  display: flex;\n  height: ",";\n  line-height: 1;\n  margin: ","px;\n  padding: 0;\n  overflow: ",";\n\n  &:hover {\n    box-shadow: none;\n    background-color: ",";\n    color: ",";\n  }\n"],["\n  &:focus {\n    box-shadow: 0 0 0 2px ",";\n    outline: none;\n  }\n\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  cursor: default;\n  display: flex;\n  height: ",";\n  line-height: 1;\n  margin: ","px;\n  padding: 0;\n  overflow: ",";\n\n  &:hover {\n    box-shadow: none;\n    background-color: ",";\n    color: ",";\n  }\n"])),L,(function(e){return e.markedForRemoval?H(e):T(e)}),(function(e){return e.markedForRemoval?K(e):M(e)}),(function(e){return e.isRounded?_/2+"px":Object(w.f)()+"px"}),R,V/2,(function(e){var n=e.isRemoved,t=e.isRemoving;return n||t?"hidden":"initial"}),(function(e){return e.markedForRemoval?H(e):F(e)}),(function(e){return e.markedForRemoval?z(e):P(e)})),q=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleKeyPress=function(e){var t=" "===e.key||"Enter"===e.key;if(n.chromeRef&&t){var a=n.chromeRef.querySelector("a");a&&a.click()}},n.handleBlur=function(){n.props.onFocusChange(!1)},n.handleFocus=function(e){e.target===n.chromeRef&&n.props.onFocusChange(!0)},n}return Object(g.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.children,a=n.isLink,o=n.isRemovable,r=n.isRemoved,i=n.isRemoving,s=n.isRounded,l=n.markedForRemoval,c=n.color,d={innerRef:function(n){e.chromeRef=n},isRemovable:o,isRemoved:r,isRemoving:i,isRounded:s,markedForRemoval:l,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:this.handleKeyPress,tabIndex:-1,color:c,role:""};return a&&(d.role="link",d.tabIndex=0),f.a.createElement(W,Object(g.__assign)({},d),t)},n}(m.PureComponent),Q=t("hd9Z"),U=Object(j.css)(o||(o=Object(g.__makeTemplateObject)(["\n  font-size: ","px;\n  font-weight: normal;\n  line-height: 1;\n  margin-left: ","px;\n  margin-right: ","px;\n  padding: 2px 0;\n  max-width: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  font-size: ","px;\n  font-weight: normal;\n  line-height: 1;\n  margin-left: ","px;\n  margin-right: ","px;\n  padding: 2px 0;\n  max-width: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),w.j,Object(Q.divide)(w.l,2),Object(Q.divide)(w.l,2),(function(e){return e.isRemovable?A-_+"px":B})),$=j.default.span(r||(r=Object(g.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),U),G=Object(j.css)(c||(c=Object(g.__makeTemplateObject)(["\n  "," "," text-decoration: ",";\n\n  &:hover {\n    color: ",";\n    ",";\n  }\n"],["\n  "," "," text-decoration: ",";\n\n  &:hover {\n    color: ",";\n    ",";\n  }\n"])),U,(function(e){var n=e.isFocused,t=e.color,a=Object(g.__rest)(e,["isFocused","color"]);return"standard"!==t?Object(j.css)(i||(i=Object(g.__makeTemplateObject)(["\n      color: inherit;\n    "],["\n      color: inherit;\n    "]))):n?Object(j.css)(s||(s=Object(g.__makeTemplateObject)(["\n      color: ",";\n    "],["\n      color: ",";\n    "])),Object(E.link)(a)):null}),(function(e){return"standard"===e.color?"none":"underline"}),E.linkHover,(function(e){return"standard"===e.color?"":Object(j.css)(l||(l=Object(g.__makeTemplateObject)(["\n            color: inherit;\n          "],["\n            color: inherit;\n          "])))})),Y=j.default.a(d||(d=Object(g.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),G),J=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getLinkComponent=function(){var e=n.props,t=e.linkComponent;return e.href?t?Object(j.default)(t)(u||(u=Object(g.__makeTemplateObject)(["\n        ",";\n      "],["\n        ",";\n      "])),G):Y:null},n}return Object(g.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.children,t=e.href,a={isFocused:e.isFocused,isRemovable:e.isRemovable,markedForRemoval:e.markedForRemoval,color:e.color},o=this.getLinkComponent();return t&&o?f.a.createElement(o,Object(g.__assign)({},a,{href:t,tabIndex:-1}),n):f.a.createElement($,Object(g.__assign)({},a),n)},n}(m.Component),Z=j.default.span(p||(p=Object(g.__makeTemplateObject)(["\n  height: 16px;\n  width: 16px;\n  display: inline-block;\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    height: 16px;\n    width: 16px;\n    max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n"],["\n  height: 16px;\n  width: 16px;\n  display: inline-block;\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    height: 16px;\n    width: 16px;\n    max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n"]))),X=function(){return f.a.createElement(Z,{dangerouslySetInnerHTML:{__html:'<svg width="16" height="16" viewBox="0 0 16 16" focusable="false" role="presentation">\n<path d="M8,6.58578644 L9.29289322,5.29289322 C9.68341751,4.90236893 10.3165825,4.90236893 10.7071068,5.29289322 C11.0976311,5.68341751 11.0976311,6.31658249 10.7071068,6.70710678 L9.41421356,8 L10.7071068,9.29289322 C11.0976311,9.68341751 11.0976311,10.3165825 10.7071068,10.7071068 C10.3165825,11.0976311 9.68341751,11.0976311 9.29289322,10.7071068 L8,9.41421356 L6.70710678,10.7071068 C6.31658249,11.0976311 5.68341751,11.0976311 5.29289322,10.7071068 C4.90236893,10.3165825 4.90236893,9.68341751 5.29289322,9.29289322 L6.58578644,8 L5.29289322,6.70710678 C4.90236893,6.31658249 4.90236893,5.68341751 5.29289322,5.29289322 C5.68341751,4.90236893 6.31658249,4.90236893 6.70710678,5.29289322 L8,6.58578644 Z" fill="currentColor"></path>\n</svg>'}})},ee=Object(y.a)({light:E.R300,dark:E.R200}),ne=j.default.button(h||(h=Object(g.__makeTemplateObject)(["\n  align-items: center;\n  align-self: center;\n  appearance: none;\n  background: none;\n  border: none;\n  border-radius: ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  height: 16px;\n  margin: 0;\n  padding: 0;\n\n  &::-moz-focus-inner {\n    border: 0;\n    margin: 0;\n    padding: 0;\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px ",";\n    outline: none;\n  }\n\n  &:hover {\n    color: ",";\n\n    &:focus {\n      box-shadow: 0 0 0 2px ",";\n      outline: none;\n    }\n  }\n"],["\n  align-items: center;\n  align-self: center;\n  appearance: none;\n  background: none;\n  border: none;\n  border-radius: ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  height: 16px;\n  margin: 0;\n  padding: 0;\n\n  &::-moz-focus-inner {\n    border: 0;\n    margin: 0;\n    padding: 0;\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px ",";\n    outline: none;\n  }\n\n  &:hover {\n    color: ",";\n\n    &:focus {\n      box-shadow: 0 0 0 2px ",";\n      outline: none;\n    }\n  }\n"])),(function(e){return e.isRounded?_/2+"px":Object(w.f)()+"px"}),E.N500,ee,E.R500,L),te=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onKeyPress=function(e){(" "===e.key||"Enter"===e.key)&&(e.stopPropagation(),n.props.onRemoveAction&&n.props.onRemoveAction())},n.onMouseOver=function(){n.props.onHoverChange&&n.props.onHoverChange(!0)},n.onMouseOut=function(){n.props.onHoverChange&&n.props.onHoverChange(!1)},n.onBlur=function(){},n.onFocus=function(){},n}return Object(g.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isRounded,t=e.onRemoveAction,a=e.removeText;return f.a.createElement(ne,{"aria-label":a,isRounded:n,onClick:t,onKeyPress:this.onKeyPress,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver,onBlur:this.onBlur,onFocus:this.onFocus,type:"button"},f.a.createElement(X,null))},n}(m.PureComponent),ae=j.default.span(b||(b=Object(g.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"],["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"]))),oe=Object(j.keyframes)(re||(re=Object(g.__makeTemplateObject)(["\n  0% {\n    animation-timing-function: cubic-bezier(0.23830050393398, 0, 0.25586732616931, 0.79011192334632);\n    max-width: ",";\n  }\n  20% {\n    animation-timing-function: cubic-bezier(0.21787238302442, 0.98324004924648, 0.58694150667646, 1);\n    max-width: ","px;\n  }\n  100% { max-width: 0; }\n"],["\n  0% {\n    animation-timing-function: cubic-bezier(0.23830050393398, 0, 0.25586732616931, 0.79011192334632);\n    max-width: ",";\n  }\n  20% {\n    animation-timing-function: cubic-bezier(0.21787238302442, 0.98324004924648, 0.58694150667646, 1);\n    max-width: ","px;\n  }\n  100% { max-width: 0; }\n"])),D,.8*C);var re,ie,se=j.default.div(ie||(ie=Object(g.__makeTemplateObject)(["\n  box-sizing: border-box;\n  display: inline-block;\n\n  "," ",";\n"],["\n  box-sizing: border-box;\n  display: inline-block;\n\n  "," ",";\n"])),(function(e){var n;return e.isRemoving&&(n="animation: "+oe+" 250ms forwards; will-change: width;"),n}),(function(e){var n;return e.isRemoved&&(n="width: 0; visibility: hidden;"),n})),le=["standard","green","blue","red","purple","grey","teal","yellow","greenLight","blueLight","redLight","purpleLight","greyLight","tealLight","yellowLight"],ce=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isRemoving:!1,isRemoved:!1,markedForRemoval:!1,isFocused:!1},n.handleRemoveRequest=function(){n.props.onBeforeRemoveAction&&n.props.onBeforeRemoveAction()&&n.setState({isRemoving:!0,isRemoved:!1})},n.handleRemoveComplete=function(){n.props.onAfterRemoveAction&&n.props.onAfterRemoveAction(n.props.text),n.setState({isRemoving:!1,isRemoved:!0})},n.handleHoverChange=function(e){n.setState({markedForRemoval:e})},n.handleFocusChange=function(e){n.setState({isFocused:e})},n}return Object(g.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.state,t=n.isFocused,a=n.isRemoved,o=n.isRemoving,r=n.markedForRemoval,i=this.props,s=i.appearance,l=i.elemBefore,c=i.href,d=i.removeButtonText,u=i.text,p=i.color,h=i.linkComponent,b=le.includes(p)?p:"standard",m=Boolean(d),O={isFocused:t,isRemovable:m,isRemoved:a,isRemoving:o,isRounded:"rounded"===s,markedForRemoval:r,color:b};return f.a.createElement(se,Object(g.__assign)({},O,{onAnimationEnd:function(){return o&&e.handleRemoveComplete()}}),f.a.createElement(q,Object(g.__assign)({},O,{isLink:!!c,onFocusChange:this.handleFocusChange}),l?f.a.createElement(ae,null,l):null,f.a.createElement(J,Object(g.__assign)({linkComponent:h},O,{href:c}),u),m?f.a.createElement(te,Object(g.__assign)({},O,{onHoverChange:this.handleHoverChange,onRemoveAction:this.handleRemoveRequest,removeText:d})):null))},n.defaultProps={color:"standard",appearance:"default",elemBefore:null,onAfterRemoveAction:function(){},onBeforeRemoveAction:function(){return!0}},n}(m.Component),de=Object(O.a)("atlaskit");n.a=Object(v.a)({componentName:"tag",packageName:x.a,packageVersion:x.b})(Object(k.a)({onAfterRemoveAction:de({action:"removed",actionSubject:"tag",attributes:{componentName:"tag",packageName:x.a,packageVersion:x.b}})})(ce))},p7S1:function(e,n,t){"use strict";t.r(n);var a=t("ERkP"),o=t.n(a),r=t("gQ5V"),i=(t("aWzz"),t("icUP")),s=t("KD1n"),l=t("H5qd"),c=t.n(l);function d(){const e=Object(s.a)(["\n  query EditLabelDialogQuery($contentId: ID!, $status: [String]) {\n    content(id: $contentId, status: $status) {\n      nodes {\n        id\n        labels {\n          count\n          nodes {\n            id\n            label\n            name\n            prefix\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}const u=c()(d());function p(){const e=Object(s.a)(["\n  mutation AddLabelsMutation($contentId: ID!, $labels: [LabelInput!]!) {\n    addLabels(input: { contentId: $contentId, labels: $labels }) {\n      labels {\n        count\n        nodes {\n          id\n          prefix\n          name\n          label\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}const h=c()(p());var b=t("cxan"),g=t("pkwY"),m=t("zjfJ"),f=t("L21V"),O=t("nnRT"),v=t.n(O),k=t("KsTJ"),x=t("p+ff"),j=t("8gCJ"),y=t("/sMe"),w=t("cSFD"),E=t("1whV"),L=t.n(E),N=t("dDc+"),R=t("2sr0"),_=t("+EFR"),C=t("WB0a"),D=t("wej5"),A=t("ymuQ"),B=t("gwLK"),I=t("RNvQ"),S=t.n(I),M=t("CDCO"),T=t("An0M");function P(){const e=Object(s.a)(["\n  query LabelSearchQuery($contentId: ID!, $searchText: String!) {\n    contentLabelSearch(contentId: $contentId, searchText: $searchText) {\n      suggestedLabels {\n        prefix\n        name\n        id\n        label\n      }\n      otherLabels {\n        prefix\n        name\n        id\n        label\n      }\n    }\n  }\n"]);return P=function(){return e},e}const F=c()(P()),V=e=>e.options&&e.options.length?o.a.createElement(M.z.Menu,e,e.children):null;V.displayName="CustomMenu";const K={DropdownIndicator:null,NoOptionsMessage:()=>null,Menu:V},z={menuList:e=>Object(g.a)({},e,{maxHeight:"70"})};class H extends a.Component{constructor(...e){super(...e),Object(m.a)(this,"onChange",e=>{const n=e.map(e=>({name:e.value,prefix:e.prefix||""}));this.props.onSelectSuggestion(n)}),Object(m.a)(this,"onCreateOption",e=>{this.props.onCreateOption(e)}),Object(m.a)(this,"makeSearchQuery",async e=>{var n;const{apolloClient:t,contentId:a}=this.props,{data:o}=await t.query({query:F,variables:{searchText:e,contentId:a}});let r=(null!=(n=o)&&null!=(n=n.contentLabelSearch)?n.suggestedLabels:n).slice(0,5);if(r.length<5){var i;const e=null!=(i=o)&&null!=(i=i.contentLabelSearch)?i.otherLabels:i;r=r.concat(e.slice(0,5-r.length))}return r}),Object(m.a)(this,"loadOptions",S()((e,n)=>{this.makeSearchQuery(e).then(e=>{n(e.map(e=>({label:e.label,value:e.label})))})},300))}render(){const{inputLabelsValue:e,setSelectInputRef:n}=this.props;return o.a.createElement(T.a,{isClearable:!0,isMulti:!0,cacheOptions:!0,autoFocus:!0,components:K,styles:z,value:(t=e,t.map(e=>({label:e.name,value:e.name}))),onCreateOption:this.onCreateOption,loadOptions:this.loadOptions,allowCreateWhileLoading:this.props.allowCreateWhileLoading,onChange:this.onChange,placeholder:"",ref:n});var t}}H.displayName="LabelSearchComponent",Object(m.a)(H,"defaultProps",{allowCreateWhileLoading:!1,setSelectInputRef:()=>{}});class W extends a.Component{render(){const{contentId:e,inputLabelsValue:n,onSelectSuggestion:t,onCreateOption:a,setSelectInputRef:r}=this.props;return o.a.createElement(B.a,null,i=>o.a.createElement(H,{apolloClient:i,contentId:e,onSelectSuggestion:t,onCreateOption:a,inputLabelsValue:n,setSelectInputRef:r}))}}function q(){const e=Object(s.a)(["\n  flex-basis: 100%;\n  flex-shrink: 0;\n"]);return q=function(){return e},e}function Q(){const e=Object(s.a)(["\n  margin-right: 12px;\n  flex-grow: 1;\n"]);return Q=function(){return e},e}function U(){const e=Object(s.a)(["\n  align-items: baseline;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: wrap;\n  padding-top: 20px;\n  visibility: visible;\n  min-height: 150px;\n"]);return U=function(){return e},e}W.displayName="LabelSearch";const $=k.default.div(U()),G=k.default.span(Q()),Y=k.default.div(q()),J=Object(f.g)({"please.enter.a.label":{id:"labels.error.enterLabel",defaultMessage:"Please enter a label.",description:"User did not select label(s) before submitting"},"label.not.found":{id:"labels.error.notFound",defaultMessage:"Label Not Found",description:"Could not find label to delete"},"label.contains.invalid.chars":{id:"labels.error.invalidChars",defaultMessage:"{0} contains invalid characters ({1}).",description:"Message when user tries to add label with invalid characters"},"label.name.is.too.long":{id:"labels.error.tooLong",defaultMessage:"Label names must be less than {0} characters.",description:"User tried to add label with too many characters"},"only.personal.labels.permitted":{id:"labels.error.onlyPersonal",defaultMessage:"You are only permitted to add personal labels on this page.",description:"User only has permission to add personal labels"},dismissAction:{id:"labels.error.action.dismiss",defaultMessage:"Dismiss",description:"Action to dismiss error message"},errorTitle:{id:"labels.error.title",defaultMessage:"Error",description:"Title of error message"}}),Z=Object(R.a)()(Object(f.h)(class extends a.Component{constructor(...e){super(...e),Object(m.a)(this,"state",{inputLabelsValue:[],error:null,isAdding:!1}),Object(m.a)(this,"selectInput",null),Object(m.a)(this,"setSelectInputRef",e=>{this.selectInput=e}),Object(m.a)(this,"sendAddLabelAnalyticsEvent",e=>{const{contentId:n}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"add",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:n,newLabels:e}}}).fire()}),Object(m.a)(this,"onAddLabels",()=>{const{addLabels:e,contentId:n,labels:t}=this.props,{inputLabelsValue:a}=this.state;e({variables:{contentId:n,labels:a},optimisticResponse:{__typename:"Mutation",addLabels:{__typename:"AddLabelsPayload",labels:{__typename:"PaginatedLabelList",count:t.length+a.length,nodes:t.concat(a.map(e=>Object(g.a)({},e,{id:"".concat(Math.round(-1e6*Math.random())),label:e.name,__typename:"Label"})))}}}}).then(()=>{this.sendAddLabelAnalyticsEvent(a)}).catch(e=>{this.onError(Object(_.a)(e))}),this.selectInput&&this.selectInput.focus(),this.setState({inputLabelsValue:[]})}),Object(m.a)(this,"onSelectSuggestion",e=>{this.setState({inputLabelsValue:e})}),Object(m.a)(this,"onCreateOption",e=>{const{inputLabelsValue:n}=this.state,t=e.trim().split(" ").map(e=>({name:e,prefix:""}));this.setState({inputLabelsValue:[...n,...t]})}),Object(m.a)(this,"closeErrorMessage",()=>{this.setState({error:null})}),Object(m.a)(this,"onError",e=>{this.setState({error:e})})}shouldComponentUpdate(e,n){return!v()(this.props,e)||!v()(this.state,n)}parseErrorMessage(){const{intl:{formatHTMLMessage:e}}=this.props,n=this.state.error;let t="";return n&&"object"==typeof n&&(n.messageKey?t=e(J[n.messageKey],n.args):n.message&&(t=n.message)),t}sendLabelErrorAnalyticsEvent(e){const{contentId:n}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"error",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:n,errorMessage:e}}}).fire()}renderErrorMessage(){const e=this.parseErrorMessage();if(e){const{intl:{formatMessage:n}}=this.props;this.sendLabelErrorAnalyticsEvent(e);const t=n(J.errorTitle),a=o.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),r=[{content:n(J.dismissAction),onClick:this.closeErrorMessage}];return o.a.createElement(w.b,{appearance:"error",title:t,actions:r,description:a,icon:o.a.createElement(L.a,{secondaryColor:N.colors.R300}),isDismissAllowed:!0})}return null}renderLabelList(){const{labels:e,spaceKey:n,contentId:t}=this.props,a={onError:this.onError,spaceKey:n,contentId:t,isDeletable:!0};return e&&0!==e.length?e.map(e=>{const n={id:e.id,prefix:e.prefix,name:e.name};return o.a.createElement(C.a,Object(b.a)({},n,a,{key:e.id}))}):null}render(){const{isAdding:e,closeDialog:n,contentId:t}=this.props,{inputLabelsValue:a}=this.state,r={components:{Header:D.a,Footer:A.a},width:"medium",onClose:n,autoFocus:!1};return o.a.createElement(x.b,null,o.a.createElement(j.a,r,this.renderErrorMessage(),o.a.createElement($,{"data-test-id":"modal-content"},o.a.createElement(G,null,o.a.createElement(W,{contentId:t,inputLabelsValue:a,onSelectSuggestion:this.onSelectSuggestion,onCreateOption:this.onCreateOption,setSelectInputRef:this.setSelectInputRef})),o.a.createElement(y.a,{appearance:"default",isDisabled:e,onClick:this.onAddLabels},o.a.createElement(f.c,{id:"labels.verb.add",defaultMessage:"Add",description:"Action to add a label to content"})),o.a.createElement(Y,{id:"dialog-label-list",className:"label-list","data-ready":"true"},this.renderLabelList()))))}}));t.d(n,"EditLabelDialog",(function(){return X}));class X extends a.Component{render(){const{contentId:e,spaceKey:n,closeDialog:t}=this.props;return o.a.createElement(r.b,{query:u,variables:{contentId:e,status:i.a}},({data:a,error:s,loading:l})=>{var c;if(s)return null;const d=(null!=(c=a)&&null!=(c=c.content)&&null!=(c=c.nodes)&&null!=(c=c[0])&&null!=(c=c.labels)?c.nodes:c)||[];return o.a.createElement(r.a,{mutation:h,update:(n,{data:t})=>{var a;const o=null!=(a=t)&&null!=(a=a.addLabels)?a.labels:a,r=n.readQuery({query:u,variables:{contentId:e,status:i.a}});r.content.nodes[0].labels=o,n.writeQuery({query:u,variables:{contentId:e,status:i.a},data:r})}},(a,{loading:r})=>o.a.createElement(Z,{labels:d,contentId:e,spaceKey:n,closeDialog:t,addLabels:a,isAdding:r||l}))})}}X.displayName="EditLabelDialog"},wej5:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var a=t("KD1n"),o=t("ERkP"),r=t.n(o),i=t("P2dZ"),s=t("L21V"),l=t("KsTJ"),c=t("dDc+");function d(){const e=Object(a.a)(["\n  color: ",";\n"]);return d=function(){return e},e}function u(){const e=Object(a.a)(["\n  color: ",";\n"]);return u=function(){return e},e}const p=l.default.h2(u(),c.colors.N800),h=l.default.a(d(),c.colors.B400);class b extends o.PureComponent{renderHelpLink(){return r.a.createElement(h,{href:"https://confluence.atlassian.com/confcloud/use-labels-to-organize-your-content-724764874.html",target:"_blank",rel:"noopener"},r.a.createElement(s.c,{id:"labels.help.link.text",defaultMessage:"Help",description:"Link text to help page"}))}render(){return r.a.createElement("div",null,r.a.createElement(i.e,null,r.a.createElement(p,null,r.a.createElement(s.c,{id:"labels.modal.title",defaultMessage:"Labels",description:"Title for modal to edit content labels"})),this.renderHelpLink()))}}b.displayName="EditLabelDialogHeader"},ymuQ:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var a=t("KD1n"),o=t("ERkP"),r=t.n(o),i=t("P2dZ"),s=t("/sMe"),l=t("L21V"),c=(t("aWzz"),t("KsTJ")),d=t("dDc+");function u(){const e=Object(a.a)(["\n  color: ",";\n"]);return u=function(){return e},e}const p=c.default.span(u(),d.colors.N300),h=r.a.createElement(p,null,r.a.createElement(l.b,{id:"labels.dialog.shortcut.tip",defaultMessage:"Shortcut tip: In page view, pressing <b>{shortcut}</b> also opens this dialog box",values:{shortcut:"l"}}));class b extends o.Component{render(){const{onClose:e}=this.props;return r.a.createElement(i.d,null,h,r.a.createElement(s.a,{appearance:"primary",onClick:e},r.a.createElement(l.c,{id:"labels.dialog.close",defaultMessage:"Close",description:"Verb to close dialog"})))}}b.displayName="EditLabelDialogFooter"}}]);
//# sourceMappingURL=EditLabelDialog~b59ad437.YK8raKcC-v39.js.map