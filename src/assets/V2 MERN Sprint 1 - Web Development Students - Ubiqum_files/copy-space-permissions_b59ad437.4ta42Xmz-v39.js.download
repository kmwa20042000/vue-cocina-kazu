(window.webpackJsonp=window.webpackJsonp||[]).push([["copy-space-permissions~b59ad437"],{"0L74":function(e,t,n){"use strict";var o=n("pkwY"),a=n("KD1n"),i=n("ERkP"),s=n.n(i),r=n("L21V"),c=n("1U1M"),l=n("KsTJ"),p=n("T20J"),u=n("YkBR"),d=n("6n9r"),m=n("pm4f"),f=n("KQKp"),h=n("H5qd"),g=n.n(h),b=n("uMk2"),y=n("mu/F");function O(){const e=Object(a.a)(["\n  query CopySpacePermissionsSelectorQuery {\n    ...EditionFragment\n    ...UserPrivilegeFragment\n  }\n\n  ","\n  ","\n"]);return O=function(){return e},e}const S=g()(O(),b.a,y.a);function E(){const e=Object(a.a)(["\n  display: inline-block;\n  margin-right: 15px;\n  padding: 5px 0 0 0;\n  text-align: right;\n  width: 130px;\n  word-wrap: break-word;\n"]);return E=function(){return e},e}function v(){const e=Object(a.a)(["\n  margin-top: 7px;\n"]);return v=function(){return e},e}const _=l.default.div(v()),j=l.default.label(E()),w={display:"inline-block",marginTop:"2px",width:"300px"},I={container:e=>Object(o.a)({},e,w)};var M=n("V4Gf"),C=n("cxan"),P=n("CDCO"),N=n("iyp1"),T=n("ZUFC"),R=n("+352"),x=n("mvtW");function A({analyticsEventSourceName:e}){return s.a.createElement(T.a,{autoFocus:!1,appearanceType:R.g.FLAT,body:s.a.createElement(r.c,{id:"copy-space-permissions.upsell.message",defaultMessage:"Quickly copy your unique permissions from another space with Premium",description:"Message to the user about copy space permissions",tagName:"p"}),upgradeEditionActionSubjectId:"copySpacePermissionsUpsellTryNow",learnMoreLinkActionSubjectId:"copySpacePermissionsUpsellLearnMore",source:e,targetEdition:x.a.PREMIUM,title:s.a.createElement(r.c,{id:"copy-space-permissions.upsell.title",defaultMessage:"Upgrade to copy permissions",description:"Title for the Copy Space Permissions upsell section"})})}A.displayName="CopySpacePermissionsUpSell";var D=n("dDc+");function k(){const e=Object(a.a)(["\n  padding: 3px 4px;\n"]);return k=function(){return e},e}function L(){const e=Object(a.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return L=function(){return e},e}function F(){const e=Object(a.a)(["\n  font-size: 14px;\n"]);return F=function(){return e},e}const{N0:V,N200:U}=D.colors,B=l.default.div(F()),Y=l.default.div(L(),e=>e.isSelected?"".concat(V):"".concat(U)),K=l.default.div(k()),H=({label:e,description:t,isSelected:n})=>s.a.createElement(K,null,s.a.createElement(B,null,e),s.a.createElement(Y,{isSelected:n},t));H.displayName="OptionWithDescription";const z=Object(r.h)((function({analyticsEventSourceName:e,options:t,defaultValue:n,intl:o,label:a,onChange:i,onMenuOpen:c,showUpsell:l,value:p,isDisabled:u}){const d=[{label:o.formatMessage(Q.onlyVisibleToMe),description:o.formatMessage(Q.onlyVisibleToMeDescription),value:M.a.ONLY_VISIBLE_TO_ME},{label:o.formatMessage(Q.defaultPermissions),description:o.formatMessage(Q.defaultPermissionsDescription),value:M.a.DEFAULT_PERMISSIONS},{label:o.formatMessage(Q.copyPermissions),description:o.formatMessage(Q.copyPermissionsDescription),value:M.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE},{label:"",value:"",alternateComponent:s.a.createElement(A,{analyticsEventSourceName:e}),isDisabled:!0}].filter(({value:e})=>""===e?l:-1!==t.indexOf(e)),m=s.a.createElement(N.a,{className:"single-select",classNamePrefix:"option-select",components:{Option:G},defaultValue:d.find(e=>e.value===n),formatOptionLabel:W,id:"copy-space-perms-option-select",isDisabled:u||1===d.length,maxMenuHeight:350,onChange:e=>{"function"==typeof i&&i(e.value)},onMenuOpen:()=>{"function"==typeof c&&c()},options:d,placeholder:o.formatMessage(Q.placeholder),styles:I,value:d.find(e=>e.value===p)});return a?s.a.createElement("div",null,s.a.createElement(j,{htmlFor:"copy-space-perms-option-select"},s.a.createElement(r.c,a)),m):m})),W=(e,{context:t,selectValue:n})=>{if("menu"===t){var o;const t=null!=(o=n)&&null!=(o=o[0])?o.value:o,a=!!t&&t===e.value;return s.a.createElement(H,{label:e.label,description:e.description,isSelected:a})}return e.label},G=e=>{const{data:t,innerProps:n,innerRef:o}=e;return t.alternateComponent?s.a.createElement("div",Object(C.a)({ref:o},n),t.alternateComponent):s.a.createElement(P.z.Option,e)},Q=Object(r.g)({placeholder:{id:"copy-space-permissions.selector.placeholder",defaultMessage:"Select an option",description:"The placeholder of the dropdown inviting the user to select the 'Copy space permissions' option to apply to a target space"},defaultPermissions:{id:"copy-space-permissions.selector.items.default",defaultMessage:"Default permissions",description:"The dropdown option for when the user wants to use the default set of permissions for this space"},defaultPermissionsDescription:{id:"copy-space-permissions.selector.items.default.description",defaultMessage:"Use the space permissions set by your admin",description:"Description text for the dropdown option for when the user wants to use the default set of permissions for this space"},onlyVisibleToMe:{id:"copy-space-permissions.selector.items.private",defaultMessage:"Only visible to me",description:"The dropdown option for when the user wants to make this space private"},onlyVisibleToMeDescription:{id:"copy-space-permissions.selector.items.private.description",defaultMessage:"Only you can view this space",description:"Description text for the dropdown option for when the user wants to make this space private"},copyPermissions:{id:"copy-space-permissions.selector.items.copy.from.existing.space",defaultMessage:"Copy permissions from another space",description:"The dropdown option for when the user wants to copy the permissions from an existing space into this space"},copyPermissionsDescription:{id:"copy-space-permissions.selector.items.copy.from.existing.space.description",defaultMessage:"Use the permissions from a similar space",description:"Description text for the dropdown option for when the user wants to copy the permissions from an existing space into this space"}});var J=n("/Ixg");const q=({label:e,onChange:t,filterSourceSpaceOptions:n,placeholder:o,validationState:a="default"})=>s.a.createElement(_,null,e&&s.a.createElement(j,{htmlFor:"copy-space-perms-space-select"},s.a.createElement(r.c,e)),s.a.createElement("div",{style:w},s.a.createElement(J.a,{id:"copy-space-perms-space-select",onChange:t,placeholder:o&&s.a.createElement(r.c,o),showDefaultSpace:!1,showSpaceLabel:!1,styles:I,validationState:a,filterOption:n})));function $(){const e=Object(a.a)(["\n  color: #de350b;\n  min-height: 20px;\n"]);return $=function(){return e},e}function Z(){const e=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n"]);return Z=function(){return e},e}function X(){const e=Object(a.a)(["\n  margin-left: 10px;\n"]);return X=function(){return e},e}q.displayName="SourceSpaceSelector",n.d(t,"b",(function(){return te})),n.d(t,"a",(function(){return ie})),n.d(t,"c",(function(){return se}));const ee=Object(r.g)({sourceSpaceSelectorPlaceholder:{id:"copy-space-permissions.space-selector.placeholder",defaultMessage:"Choose a space",description:"The placeholder text for the dropdown where the user selects the space to copy permissions from into another space"},sourceSpaceSelectorLabel:{id:"copy-space-permissions.space-selector.prompt",defaultMessage:"Copy from",description:"The label for the dropdown where the user selects the space to copy permissions from into another space"},sourceSpaceValidationError:{id:"copy-space-permissions.option-select.source-space.validation-error",defaultMessage:"This space can't be used as a source.",description:"The validation message appearing with an invalid source space selection, for users selecting a permission set to copy in Copy Space Permissions UI"}}),te={isRestricted:!1,key:"",name:""},ne=l.default.div(X()),oe=l.default.div(Z()),ae=l.default.div($());function ie({analyticsEventSourceName:e,defaultOption:t,isDisabled:n,label:a,onChange:l,options:h,renderApplyButton:g,showUpsell:b,filterSourceSpaceOptions:y,sourceSpaceSelectorValidationState:O="default"}){const[E,v]=Object(i.useState)(t),[_,I]=Object(i.useState)(te),{createAnalyticsEvent:C}=Object(p.a)(),{data:P}=Object(c.c)(S),N=Object(i.useMemo)(()=>{const t=Object(d.a)(P),n=Object(m.a)(P);return Object(u.a)(C,e,Object(o.a)({},t&&{edition:t},n&&{userPrivilege:n}))},[C,e,P]);return"default"===O&&Boolean(_.key)&&!se(E,_)&&(O="error"),s.a.createElement(i.Fragment,null,s.a.createElement(oe,null,s.a.createElement(z,{analyticsEventSourceName:e,isDisabled:n,label:a,onChange:e=>{v(e),_!==te&&I(te),Object(f.i)(N,f.e,Object(f.j)(e)),l({option:e,sourceSpace:te})},onMenuOpen:()=>{Object(f.i)(N,f.e,f.f)},options:h,showUpsell:b,value:E}),"function"==typeof g?s.a.createElement(ne,null,g({isDisabled:n||!E||!se(E,_)||"error"===O,createAnalyticsEvent:N})):null),E===M.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE?s.a.createElement(i.Fragment,null,s.a.createElement(q,{onChange:({isRestricted:e,spaceKey:t,spaceName:n})=>{if(_.key!==t||_.name!==n){const o={isRestricted:e,key:t,name:n};I(o),Object(f.i)(N,f.h,f.g),l({option:E,sourceSpace:o})}},label:a?ee.sourceSpaceSelectorLabel:void 0,placeholder:ee.sourceSpaceSelectorPlaceholder,validationState:O,filterSourceSpaceOptions:y}),a?s.a.createElement(j,null):null,s.a.createElement(ae,{style:w},"error"===O?s.a.createElement(r.c,ee.sourceSpaceValidationError):null)):null)}function se(e,t){return e!=M.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE||t&&Boolean(t.key)&&!t.isRestricted}ie.displayName="CopySpacePermissionsSelector"},"1IWH":function(e,t,n){"use strict";n("HbGN"),n("cxan"),n("fGyu"),n("pkwY");var o=n("9fIP"),a=n("MMYH"),i=n("K/z8"),s=n("sRHE"),r=n("8K1b"),c=n("pWxA"),l=n("zjfJ"),p=n("ERkP"),u=n.n(p),d=n("lSUb"),m=n("l1C2"),f=(n("7nmT"),n("aWzz"),n("4wDe"),n("Un7B")),h=(n("5IAQ"),n("KD1n"),n("jynR"),n("hEw0")),g=n("zEpV"),b=(p.Component,Object(h.a)(f.a));t.a=b},"54Mv":function(e,t,n){"use strict";n.r(t);var o=n("ERkP"),a=n.n(o),i=n("7nmT"),s=n.n(i),r=n("pkwY"),c=n("KD1n"),l=n("L21V"),p=n("KsTJ"),u=n("IC1n"),d=n.n(u),m=n("mvtW"),f=n("37V8"),h=n("hpu0"),g=n("3VMZ"),b=n("7M9M"),y=n("Ua4J"),O=n("/sMe"),S=n("KQKp"),E=n("cxan"),v=n("gQ5V"),_=n("VPHB"),j=n("p+ff"),w=n("8gCJ"),I=n("P2dZ"),M=n("/MSF"),C=n("6esG"),P=n("T+Mg"),N=n("WlwD"),T=n("tqyq"),R=n("V4Gf");const x={option:void 0,sourceSpaceName:""},A=Object(l.g)({["title".concat(R.a.ONLY_VISIBLE_TO_ME)]:{id:"copy-space-permissions.from-existing-space.completion-flag.title.only-visible-to-me",defaultMessage:"Visibility restricted to you",description:"The title of the flag which notifies the user that a target space has successfully been made private"},["title".concat(R.a.DEFAULT_PERMISSIONS)]:{id:"copy-space-permissions.from-existing-space.completion-flag.title.default-permissions",defaultMessage:"Default permissions set",description:"The title of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the default permissions"},["title".concat(R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE)]:{id:"copy-space-permissions.from-existing-space.completion-flag.title.copy-permissions-from-another-space",defaultMessage:"Space permissions copied",description:"The title of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the permissions of a specific source space"},["description".concat(R.a.ONLY_VISIBLE_TO_ME)]:{id:"copy-space-permissions.from-existing-space.completion-flag.description.only-visible-to-me",defaultMessage:"Your space is now visible only to you",description:"The description of the flag which notifies the user that a target space has successfully been made private"},["description".concat(R.a.DEFAULT_PERMISSIONS)]:{id:"copy-space-permissions.from-existing-space.completion-flag.description.default-permissions",defaultMessage:"Your space is now using the default space permissions",description:"The description of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the default permissions"},["description".concat(R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE)]:{id:"copy-space-permissions.from-existing-space.completion-flag.description.copy-permissions-from-another-space",defaultMessage:"Your space is now using the permissions from the <b>{sourceSpaceName}</b> space",description:"The description of the flag which notifies the user that the permissions of a target space have successfully been overwritten with the permissions of a specific source space"}}),D=Object(P.a)(({flags:e})=>{const[t,n]=Object(o.useState)(x),{option:i,sourceSpaceName:s}=t;return Object(o.useEffect)(()=>{N.b.getItem(T.a.COPIED_SPACE_PERMISSIONS).then(e=>{if(e){const o=e.indexOf(":"),a=e.substring(0,-1===o?void 0:o);if(a in R.a){const i=R.a[a],s=-1===o?"":e.substring(o+1);return void(t.option===i&&t.sourceSpaceName===s||n({option:i,sourceSpaceName:s}))}N.b.removeItem(T.a.COPIED_SPACE_PERMISSIONS)}n(x)},()=>n(x))},[]),Object(o.useEffect)(()=>{i&&e.showSuccessFlag({title:a.a.createElement(l.c,A["title".concat(i)]),description:a.a.createElement(l.b,Object(E.a)({},A["description".concat(i)],{values:{sourceSpaceName:s}})),onClose:k})},[e,i,s]),null});function k(){N.b.removeItem(T.a.COPIED_SPACE_PERMISSIONS)}var L=n("H5qd"),F=n.n(L);function V(){const e=Object(c.a)(["\n  mutation DefaultPermissions($spaceKey: String!) {\n    copyDefaultSpacePermissions(spaceKey: $spaceKey) {\n      status\n    }\n  }\n"]);return V=function(){return e},e}function U(){const e=Object(c.a)(["\n  mutation CopyPermissionsFromAnotherSpace(\n    $sourceKey: String!\n    $targetKey: String!\n  ) {\n    copySpacePermissions(\n      sourceSpaceKey: $sourceKey\n      targetSpaceKey: $targetKey\n    ) {\n      status\n    }\n  }\n"]);return U=function(){return e},e}const B=F()(U()),Y=F()(V()),K=Object(l.g)({["heading".concat(R.a.ONLY_VISIBLE_TO_ME)]:{id:"copy-space-permissions.from-existing-space.confirmation.heading.only-visible-to-me",defaultMessage:"Restrict visibility to you?",description:"The title of the modal dialog which asks the user for confirmation before really making the target space private"},["heading".concat(R.a.DEFAULT_PERMISSIONS)]:{id:"copy-space-permissions.from-existing-space.confirmation.heading.default-permissions",defaultMessage:"Use default permissions?",description:"The title of the modal dialog which asks the user for confirmation before really overwriting with the default permissions"},["heading".concat(R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE)]:{id:"copy-space-permissions.from-existing-space.confirmation.heading.copy-permissions-from-another-space",defaultMessage:"Copy space permissions?",description:"The title of the modal dialog which asks the user for confirmation before really copying/overwriting space permissions"},["body".concat(R.a.ONLY_VISIBLE_TO_ME)]:{id:"copy-space-permissions.from-existing-space.confirmation.body.only-visible-to-me",defaultMessage:"You’re about to make your space visible only to you. This will override all permissions on the space. <b>It can’t be undone.<b>",description:"The body of the modal dialog which asks the user for confirmation before really making the target space private"},["body".concat(R.a.DEFAULT_PERMISSIONS)]:{id:"copy-space-permissions.from-existing-space.confirmation.body.default-permissions",defaultMessage:"You’re about to use the default space permissions set by your admin. The default permissions will override all permissions on your space. <b>This can’t be undone.<b>",description:"The body of the modal dialog which asks the user for confirmation overwriting with the default permissions"},["body".concat(R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE)]:{id:"copy-space-permissions.from-existing-space.confirmation.body.copy-permissions-from-another-space",defaultMessage:"You’re about to copy the permissions from <b>{sourceSpaceName}</b>. The permissions from <b>{sourceSpaceName}</b> will override all permissions on your space. <b>This can’t be undone.<b>",description:"The body of the modal dialog which asks the user for confirmation before really copying/overwriting space permissions"},cancel:{id:"copy-space-permissions.from-existing-space.confirmation.cancel",defaultMessage:"Cancel",description:"The text of the button of the modal dialog which cancels the copy/overwrite of space permissions"},["apply".concat(R.a.ONLY_VISIBLE_TO_ME)]:{id:"copy-space-permissions.from-existing-space.confirmation.apply.only-visible-to-me",defaultMessage:"Restrict visibility",description:"The text of the button of the modal dialog which applies/confirms making the target space private"},["apply".concat(R.a.DEFAULT_PERMISSIONS)]:{id:"copy-space-permissions.from-existing-space.confirmation.apply.default-permissions",defaultMessage:"Use defaults",description:"The text of the button of the modal dialog which applies/confirms the overwrite with the default permissions"},["apply".concat(R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE)]:{id:"copy-space-permissions.from-existing-space.confirmation.apply.copy-permissions-from-another-space",defaultMessage:"Copy permissions",description:"The text of the button of the modal dialog which applies/confirms the copy/overwrite of space permissions"},errorFlagTitle:{id:"copy-space-permissions.from-existing-space.confirmation.error-flag.title",defaultMessage:"Couldn't change space permissions",description:"The title of the Flag which notifies the user that the attempt to change the space permissions has failed"},errorFlagDescription:{id:"copy-space-permissions.from-existing-space.confirmation.error-flag.description",defaultMessage:"If this keeps happening, let us know at {atlassianSupportLink}",description:"The description of the Flag which notifies the user that the attempt to change the space permissions has failed"}});function H(e){const{onClose:t,selection:{option:n,sourceSpace:i}}=e,[s,r]=Object(o.useState)(!0),c=(e,o)=>{if(r(!1),!e){const e={selectedOption:n};o?Object(C.b)(g.a.COPY_SPACE_PERMISSIONS,o,e):Object(h.a)().abort({name:g.a.COPY_SPACE_PERMISSIONS,reason:"Canceled by user",attributes:e})}"function"==typeof t&&t(e,o)};return a.a.createElement(j.b,null,s&&a.a.createElement(w.a,{appearance:"warning",components:{Footer:()=>a.a.createElement(I.d,null,a.a.createElement("div",null)," ",a.a.createElement(z,Object(E.a)({},e,{onClose:c})))},heading:a.a.createElement(l.c,K["heading".concat(n)]),width:"small",onClose:()=>c(!1)},a.a.createElement(l.b,Object(E.a)({},K["body".concat(n)],{values:{sourceSpaceName:i.name||i.key}}))))}H.displayName="ApplyConfirmation";const z=Object(P.a)(({flags:e,selection:{option:t,sourceSpace:{key:n,name:o=n}},onClose:i,targetSpaceKey:s})=>{let r,c;switch(t){case R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE:n&&s&&(r=B,c={sourceKey:n,targetKey:s});break;case R.a.DEFAULT_PERMISSIONS:s&&(r=Y,c={spaceKey:s});break;case void 0:return null}const p=()=>i(!1);if(r){const n=()=>{N.b.setItem(T.a.COPIED_SPACE_PERMISSIONS,function(e,t){let n=Object.keys(R.a).find(t=>R.a[t]===e);return n&&t&&(n+=":".concat(t)),n}(t,o)).finally(()=>i(!0))},s=t=>{i(!1,t),e.showErrorFlag({title:a.a.createElement(l.c,K.errorFlagTitle),description:a.a.createElement(l.c,Object(E.a)({},K.errorFlagDescription,{values:{atlassianSupportLink:a.a.createElement(M.b,{showHostname:!0})}}))})};return a.a.createElement(v.a,{mutation:r,variables:c,onCompleted:n,onError:s},(e,{loading:n})=>a.a.createElement(W,{loading:n,onApplyClick:e,onCancelClick:p,option:t}))}return(a.a.createElement(W,{onCancelClick:p,option:t}))});function W({loading:e,onApplyClick:t,onCancelClick:n,option:o}){const i="function"!=typeof t,s="function"!=typeof n;return a.a.createElement(_.a,null,a.a.createElement(O.a,{appearance:"default",autoFocus:i,isDisabled:s,onClick:n},a.a.createElement(l.c,K.cancel)),a.a.createElement(O.a,{appearance:"warning",autoFocus:!i,isDisabled:i,isLoading:e,onClick:e?void 0:t},a.a.createElement(l.c,K["apply".concat(o)])))}function G({createAnalyticsEvent:e,selection:t,targetSpaceKey:n,onClick:i,isDisabled:s}){const{option:r}=t,[c,p]=Object(o.useState)(!1);return a.a.createElement(o.Fragment,null,a.a.createElement(O.a,{appearance:"primary",isDisabled:s,onClick:()=>{Object(S.i)(e,S.d,S.a),p(!0),"function"==typeof i&&i()}},a.a.createElement(l.c,{id:"copy-space-permissions.from-existing-space.apply.button",defaultMessage:"Apply",description:"The label for the button that initiates the copying of space permissions"})),c&&a.a.createElement(H,{onClose:t=>{const n=t?S.c:S.b;Object(S.i)(e,S.d,n),p(!1),t&&(Object(h.a)().succeed({name:g.a.COPY_SPACE_PERMISSIONS,attributes:{selectedOption:r}}),window.location.reload())},selection:t,targetSpaceKey:n}))}W.displayName="CancelAndApplyButtons",G.displayName="ApplyButton";var Q=n("0L74");function J(){const e=Object(c.a)(["\n  font-weight: bold;\n  margin-bottom: 10px;\n"]);return J=function(){return e},e}function q(){const e=Object(c.a)(["\n  margin-bottom: 20px;\n  margin-top: 10px;\n"]);return q=function(){return e},e}const $=p.default.div(q()),Z=p.default.div(J()),X={option:void 0,sourceSpace:Q.b},ee=Object(l.g)({optionSelectLabel:{id:"copy-space-permissions.for-existing-space.option-select.label",defaultMessage:"Override all permissions",description:"The label for the dropdown where the user to selects which set of permissions to copy into a target space: default, private, etc."}});function te({analyticsEventSourceName:e,edition:t,targetSpaceKey:n}){const i=Object(o.useMemo)(()=>Object(R.b)(t).filter(e=>e!==R.a.ONLY_VISIBLE_TO_ME),[t]),s=1===i.length?i[0]:X.option,[c,p]=Object(o.useState)(Object(r.a)({},X,{option:s})),[u,f]=Object(o.useState)(!1),b=(e=c.option)=>{if(!u){f(!0);const t=()=>f(!1);Object(h.a)().start({name:g.a.COPY_SPACE_PERMISSIONS,id:d()(),attributes:{selectedOption:e},onAbort:t,onFailure:t,onSuccess:t})}},y=t===m.a.FREE;let O="default";c.option===R.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE&&c.sourceSpace.key===n&&(O="error");return a.a.createElement($,null,a.a.createElement(Z,null,a.a.createElement(l.c,ee.optionSelectLabel)),a.a.createElement(Q.a,{analyticsEventSourceName:e,options:i,defaultOption:s,label:void 0,onChange:({option:e,sourceSpace:t})=>{c.option===e&&c.sourceSpace===t||(e&&-1===i.indexOf(e)&&(e=void 0),b(e),p({option:e,sourceSpace:t}))},filterSourceSpaceOptions:({spaceKey:e})=>e!==n,renderApplyButton:e=>a.a.createElement(G,{createAnalyticsEvent:e.createAnalyticsEvent,isDisabled:y||e.isDisabled||!n||"error"===O,onClick:b,selection:c,targetSpaceKey:n}),showUpsell:t===m.a.STANDARD,sourceSpaceSelectorValidationState:O}),a.a.createElement(D,null))}function ne({analyticsEventSourceName:e}){return a.a.createElement(y.a.Consumer,null,({getHref:t})=>{const n=function(e){const t=b.SPACE_PERMISSION.match(e());return t?t.params.spaceKey:null}(t);return n?a.a.createElement(f.a,null,({loading:t,error:o,edition:i})=>t||o?null:a.a.createElement(te,{analyticsEventSourceName:e,edition:i,targetSpaceKey:n})):null})}te.displayName="CopySpacePermissionsInnerComponent",ne.displayName="CopySpacePermissionsForExistingSpace",n.d(t,"CopySpacePermissionsForExistingSpacePortal",(function(){return oe}));const oe=()=>{const[e,t]=Object(o.useState)(!1);if(Object(o.useEffect)(()=>{document.getElementById("copy-space-permissions-portal-container")&&t(!0)},[]),e){const e=document.getElementById("copy-space-permissions-portal-container");if(e)return s.a.createPortal(a.a.createElement(ne,{analyticsEventSourceName:"viewSpacePerms"}),e)}return null}},F0GY:function(e,t,n){"use strict";var o=Array.isArray,a=Object.keys,i=Object.prototype.hasOwnProperty,s="undefined"!=typeof Element;e.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var r,c,l,p=o(t),u=o(n);if(p&&u){if((c=t.length)!=n.length)return!1;for(r=c;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(p!=u)return!1;var d=t instanceof Date,m=n instanceof Date;if(d!=m)return!1;if(d&&m)return t.getTime()==n.getTime();var f=t instanceof RegExp,h=n instanceof RegExp;if(f!=h)return!1;if(f&&h)return t.toString()==n.toString();var g=a(t);if((c=g.length)!==a(n).length)return!1;for(r=c;0!=r--;)if(!i.call(n,g[r]))return!1;if(s&&t instanceof Element&&n instanceof Element)return t===n;for(r=c;0!=r--;)if(!("_owner"===(l=g[r])&&t.$$typeof||e(t[l],n[l])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},KQKp:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"j",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return f}));var o=n("V4Gf");const a="selectDropdown",i="spaceSelect",s="button",r="copySpacePermissionsSpacePermissionsDropdownOpen",c=new Map([[o.a.ONLY_VISIBLE_TO_ME,"copySpacePermissionsMakePrivate"],[o.a.DEFAULT_PERMISSIONS,"copySpacePermissionsUseDefaults"],[o.a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE,"copySpacePermissionsCopyFromExisting"]]),l=e=>c.get(e)||"",p="copySpacePermissionsSourceSpaceSelected",u="copySpacePermissionsApplyPermissions",d="copySpacePermissionsCancelApply",m="copySpacePermissionsConfirmApply",f=(e,t,n)=>{e({type:"sendUIEvent",data:{action:"clicked",actionSubject:t,actionSubjectId:n}}).fire()}},Lz2b:function(e,t,n){"use strict";var o={};n.r(o),n.d(o,"ClearIndicator",(function(){return V})),n.d(o,"DropdownIndicator",(function(){return U})),n.d(o,"LoadingIndicator",(function(){return B})),n.d(o,"MultiValueRemove",(function(){return Y})),n.d(o,"IndicatorSeparator",(function(){return K}));var a=n("D57K"),i=n("ERkP"),s=n.n(i),r=n("Un7B"),c=n("HbGN"),l=n("cxan"),p=n("pkwY"),u=n("9fIP"),d=n("MMYH"),m=n("K/z8"),f=n("sRHE"),h=n("8K1b"),g=n("pWxA"),b=n("zjfJ"),y=n("lSUb"),O=n("l1C2"),S=(n("7nmT"),n("aWzz"),n("4wDe"),n("CDCO")),E=(n("5IAQ"),n("KD1n"),n("jynR"),n("eeTS")),v=function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=Object(c.a)(t,["in","onExited","appear","enter","exit"]);return s.a.createElement(e,n)}},_=function(e){var t=e.component,n=e.duration,o=void 0===n?1:n,a=e.in,i=(e.onExited,Object(c.a)(e,["component","duration","in","onExited"])),r={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(o,"ms")},exiting:{opacity:0},exited:{opacity:0}};return s.a.createElement(E.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:o},(function(e){var n={style:Object(p.a)({},r[e])};return s.a.createElement(t,Object(l.a)({innerProps:n},i))}))},j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a))),Object(b.a)(Object(g.a)(Object(g.a)(n)),"duration",260),Object(b.a)(Object(g.a)(Object(g.a)(n)),"rafID",void 0),Object(b.a)(Object(g.a)(Object(g.a)(n)),"state",{width:"auto"}),Object(b.a)(Object(g.a)(Object(g.a)(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),Object(b.a)(Object(g.a)(Object(g.a)(n)),"getWidth",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),Object(b.a)(Object(g.a)(Object(g.a)(n)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),Object(b.a)(Object(g.a)(Object(g.a)(n)),"getTransition",(function(e){return n.transition[e]})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.in,a=this.state.width;return s.a.createElement(E.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:this.duration},(function(t){var o=Object(p.a)({},e.getStyle(a),e.getTransition(t));return s.a.createElement("div",{ref:e.getWidth,style:o},n)}))}}]),t}(i.Component),w=function(e){return function(t){var n=t.in,o=t.onExited,a=Object(c.a)(t,["in","onExited"]);return s.a.createElement(j,{in:n,onExited:o},s.a.createElement(e,Object(l.a)({cropWithEllipsis:n},a)))}},I=function(e){return function(t){return s.a.createElement(_,Object(l.a)({component:e,duration:t.isMulti?260:1},t))}},M=function(e){return function(t){return s.a.createElement(_,Object(l.a)({component:e},t))}},C=function(e){return function(t){return s.a.createElement(E.TransitionGroup,Object(l.a)({component:e},t))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(S.x)({components:e}),n=t.Input,o=t.MultiValue,a=t.Placeholder,i=t.SingleValue,s=t.ValueContainer,r=Object(c.a)(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return Object(p.a)({Input:v(n),MultiValue:w(o),Placeholder:I(a),SingleValue:M(i),ValueContainer:C(s)},r)},N=P(),T=(N.Input,N.MultiValue,N.Placeholder,N.SingleValue,N.ValueContainer,Object(y.a)(P,S.y)),R=n("F0GY"),x=n.n(R),A=n("ViU2"),D=n.n(A),k=n("Ydxy"),L=n("NU1A"),F=n.n(L),V=function(e){return Object(O.f)(S.z.ClearIndicator,Object(a.__assign)({},e),Object(O.f)(D.a,{size:"small",primaryColor:"inherit",label:"clear"}))},U=function(e){return Object(O.f)(S.z.DropdownIndicator,Object(a.__assign)({},e),Object(O.f)(F.a,{label:"open"}))},B=function(e){return Object(O.f)("div",Object(a.__assign)({css:e.getStyles("loadingIndicator",e)},e.innerProps),Object(O.f)(k.a,{size:"small"}))},Y=function(e){return s.a.createElement(S.z.MultiValueRemove,Object(a.__assign)({},e),s.a.createElement(D.a,{label:"Clear",size:"small",primaryColor:"transparent",secondaryColor:"inherit"}))},K=null,H=n("RZTm"),z=n("m7kQ"),W=Object(H.l)()-2;function G(e,t){return{container:function(e,t){var n=t.isDisabled;return Object(a.__assign)(Object(a.__assign)({},e),{pointerEvents:"all",cursor:n?"not-allowed":void 0})},control:function(n,o){var i=o.isFocused,s=o.isDisabled,r=i?z.B100:z.N20,c=i?z.N0:z.N20;s&&(c=z.N20),"error"===e&&(r=z.R400),"success"===e&&(r=z.G400);var l=i?z.B100:z.N30;"error"===e&&(l=z.R400),"success"===e&&(l=z.G400);return Object(a.__assign)(Object(a.__assign)({},n),{pointerEvents:s?"none":void 0,backgroundColor:c,borderColor:r,borderStyle:"solid",borderRadius:"3px",borderWidth:"2px",boxShadow:"none",minHeight:t?4*Object(H.l)():5*Object(H.l)(),padding:0,transition:"background-color 200ms ease-in-out,\n        border-color 200ms ease-in-out",msOverflowStyle:"-ms-autohiding-scrollbar","::-webkit-scrollbar":{height:Object(H.l)(),width:Object(H.l)()},"::-webkit-scrollbar-corner":{display:"none"},":hover":{"::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)"},cursor:"pointer",backgroundColor:i?z.N0:z.N30,borderColor:l},"::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0,0,0,0.4)"}})},valueContainer:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{paddingLeft:W,paddingRight:W,paddingBottom:t?0:2,paddingTop:t?0:2})},clearIndicator:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{color:z.N70,paddingLeft:2,paddingRight:2,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:z.N500}})},loadingIndicator:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{paddingBottom:t?0:6,paddingTop:t?0:6})},dropdownIndicator:function(e,n){var o=n.isDisabled,i=z.N500;return o&&(i=z.N70),Object(a.__assign)(Object(a.__assign)({},e),{color:i,paddingLeft:2,paddingRight:2,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:z.N200}})},indicatorsContainer:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{paddingRight:W-2})},option:function(e,t){var n,o=t.isFocused,i=t.isSelected,s=i?z.N0:void 0;return i?n=z.N500:o&&(n=z.N30),Object(a.__assign)(Object(a.__assign)({},e),{paddingTop:"6px",paddingBottom:"6px",backgroundColor:n,color:s})},placeholder:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{color:z.N100})},singleValue:function(e,t){var n=t.isDisabled;return Object(a.__assign)(Object(a.__assign)({},e),{color:n?z.N70:z.N800,lineHeight:2*Object(H.l)()+"px"})},menuList:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{paddingTop:Object(H.l)(),paddingBottom:Object(H.l)()})},multiValue:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{borderRadius:"2px",backgroundColor:z.N40,color:z.N500,maxWidth:"100%"})},multiValueLabel:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{padding:"2px",paddingRight:"2px"})},multiValueRemove:function(e,t){var n=t.isFocused;return Object(a.__assign)(Object(a.__assign)({},e),{backgroundColor:n&&z.R75,color:n&&z.R400,paddingLeft:"2px",paddingRight:"2px",borderRadius:"0px 2px 2px 0px",":hover":{color:z.R400,backgroundColor:z.R75}})}}}function Q(e){var t;return(t=function(t){function n(e){var n=t.call(this,e)||this;return n.components={},n.select=null,n.cacheComponents=function(e,t){n.components=t?T(Object(a.__assign)(Object(a.__assign)({},o),e)):Object(a.__assign)(Object(a.__assign)({},o),e)},n.onSelectRef=function(e){n.select=e;var t=n.props.innerRef;"object"==typeof t&&(t.current=e),"function"==typeof t&&t(e)},n.cacheComponents=Object(y.a)(n.cacheComponents,x.a).bind(n),n.cacheComponents(e.components||{},e.enableAnimation),n}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.cacheComponents(e.components,e.enableAnimation)},n.prototype.focus=function(){this.select&&this.select.focus()},n.prototype.blur=function(){this.select&&this.select.blur()},n.prototype.render=function(){var t=this.props,n=t.styles,o=t.validationState,i=t.spacing,c=t.isMulti,l=Object(a.__rest)(t,["styles","validationState","spacing","isMulti"]),p="compact"===i;return s.a.createElement(e,Object(a.__assign)({ref:this.onSelectRef,isMulti:c},l,{components:this.components,styles:Object(r.c)(G(o,p),n)}))},n}(i.Component)).defaultProps={enableAnimation:!0,validationState:"default",spacing:"default",onClickPreventDefault:!0,tabSelectsValue:!1,components:{},styles:{}},t}n.d(t,"a",(function(){return Q}))},NU1A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ERkP")),a=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var r=function(e){return o.default.createElement(a.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6.744 8.744a1.053 1.053 0 0 0 0 1.49l4.547 4.557a1 1 0 0 0 1.416 0l4.55-4.558a1.051 1.051 0 1 0-1.488-1.488l-3.77 3.776-3.768-3.776a1.051 1.051 0 0 0-1.487 0z" fill="currentColor"/></svg>'},e))};r.displayName="HipchatChevronDownIcon";var c=r;t.default=c},V4Gf:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var o=n("mvtW");let a;!function(e){e.ONLY_VISIBLE_TO_ME="OnlyVisibleToMe",e.DEFAULT_PERMISSIONS="DefaultPermissions",e.COPY_PERMISSIONS_FROM_ANOTHER_SPACE="CopyPermissionsFromAnotherSpace"}(a||(a={}));const i={[o.a.FREE]:[a.DEFAULT_PERMISSIONS],[o.a.STANDARD]:[a.DEFAULT_PERMISSIONS,a.ONLY_VISIBLE_TO_ME],[o.a.PREMIUM]:[a.DEFAULT_PERMISSIONS,a.COPY_PERMISSIONS_FROM_ANOTHER_SPACE,a.ONLY_VISIBLE_TO_ME]};function s(e){switch(e){case o.a.PREMIUM:case o.a.STANDARD:return i[e];case o.a.FREE:default:return i[o.a.FREE]}}},ViU2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ERkP")),a=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var r=function(e){return o.default.createElement(a.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="9"/><path d="M16.155 14.493a1.174 1.174 0 1 1-1.662 1.663L12 13.662l-2.494 2.494a1.172 1.172 0 0 1-1.662 0 1.176 1.176 0 0 1 0-1.663L10.337 12 7.844 9.507a1.176 1.176 0 0 1 1.662-1.662L12 10.338l2.493-2.493a1.174 1.174 0 1 1 1.662 1.662L13.662 12l2.493 2.493z" fill="inherit"/></g></svg>'},e))};r.displayName="SelectClearIcon";var c=r;t.default=c},W98l:function(e,t,n){"use strict";n.r(t),n.d(t,"CopySpacePermissionsForNewSpace",(function(){return v}));var o=n("KD1n"),a=n("ERkP"),i=n.n(a),s=n("7nmT"),r=n.n(s),c=n("L21V"),l=n("KsTJ"),p=n("37V8"),u=n("mvtW"),d=n("0L74"),m=n("V4Gf");function f(){const e=Object(o.a)(["\n  position: fixed;\n"]);return f=function(){return e},e}function h(){const e=Object(o.a)(["\n  margin-top: 2px;\n  position: absolute;\n"]);return h=function(){return e},e}const g="#".concat("create-dialog"," textarea"),b=Object(c.g)({optionSelectLabel:{id:"copy-space-permissions.for-new-space.option-select.label",defaultMessage:"Space permissions",description:"The label for the dropdown where the user to selects which set of permissions to use for a new space: default, private, etc."}}),y=l.default.div(h()),O=l.default.div(f()),S=()=>i.a.createElement("style",null,"\n      /********************************************************************/\n      /* Begin section for Copy Space Permissions on Create Space Dialog  */\n      /********************************************************************/\n\n      #".concat("create-dialog"," .dialog-wizard-page-main {\n        padding-top: 10px;\n      }\n\n      #").concat("create-dialog"," .dialog-wizard-page-description {\n        padding-top: 10px;\n      }\n\n      #").concat("create-dialog"," .error {\n        margin-top: 3px;\n      }\n\n      /* Force the Team Space Template's Team Member field to have maximum height of 2 rows.\n        The unmodified version of this field has unlimited height, which gets ugly especially\n        with the additional Copy Space Permissions now below it. */\n      #").concat("create-dialog"," ul.select2-choices {\n        max-height: 54px;\n        overflow: auto;\n      }\n   "));S.displayName="SpaceTemplateCssOverride";const E=e=>{var t;return null!=(t=e)&&null!=(t=t.constructor)?t.name:t},v=()=>{const[e,t]=Object(a.useState)(!1),[,n]=Object(a.useState)(0),o=()=>{n(Date.now())},s=({option:e,sourceSpace:t})=>{(e=>{const t=document.getElementById("permission-private");if("HTMLInputElement"===E(t)){t.checked=e}})(e===m.a.ONLY_VISIBLE_TO_ME),(e=>{const t=document.getElementById("copy-space-permissions-key-for-create");if("HTMLInputElement"===E(t)){t.value=e}})(t.key),((e,t)=>{const n=document.getElementById("copy-space-permissions-fields-valid");if("HTMLInputElement"===E(n)){const o=n;o.value=e&&Object(d.c)(e,t)?"true":"",o.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}})(e,t)},c=()=>{!e&&document.getElementById("new-space-permissions-portal-container")&&t(!0),o()};if(Object(a.useEffect)(()=>{e&&document.getElementById("new-space-permissions-portal-container")&&((()=>{const e=document.getElementById("space-form-permissions");e&&e.classList.add("hidden")})(),(()=>{const e=document.getElementById("new-space-permissions-portal-container");if(e){const t=e.parentElement;t&&t.appendChild(e)}})(),document.querySelectorAll(g).forEach(e=>{"HTMLTextAreaElement"===E(e)&&(e.style.resize="none")}),(()=>{const e=document.getElementById("team-description");if("HTMLTextAreaElement"===E(e)){e.rows=2}})(),(()=>{const e=document.getElementById("team-members");e&&!e.classList.contains("portal-change-listener")&&(e.classList.add("portal-change-listener"),e.onchange=()=>o())})())}),Object(a.useEffect)(()=>{const e=window.legacyMessageQueue;e&&"function"==typeof e.push&&e.push({type:"ATLASSIAN_CONFLUENCE_NEW_SPACE_REGISTER_CALLBACK",payload:c})},[]),e){const e=document.getElementById("new-space-permissions-portal-container");if(e)return r.a.createPortal(i.a.createElement(p.a,null,({edition:e,error:t,loading:n})=>n||t?null:i.a.createElement(y,null,i.a.createElement(O,null,i.a.createElement(d.a,{analyticsEventSourceName:"createSpaceModal",defaultOption:m.a.DEFAULT_PERMISSIONS,isDisabled:e===u.a.FREE,label:b.optionSelectLabel,onChange:s,options:Object(m.b)(e),showUpsell:e===u.a.STANDARD})),i.a.createElement(S,null))),e)}return null}},YkBR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("pkwY");function a(e,t,n){return a=>{const{data:i}=a;if(!i)throw new Error("payload.data should be defined");return e(Object(o.a)({},a,{data:Object(o.a)({},i,{source:t,attributes:Object(o.a)({},n,i.attributes)})}))}}},iyp1:function(e,t,n){"use strict";var o=n("1IWH"),a=n("OEBU"),i=n("YGBU"),s=n("2sr0"),r=n("za5U"),c=n("Lz2b"),l=Object(c.a)(o.a),p=Object(a.a)("atlaskit");t.a=Object(i.a)({componentName:"select",packageName:r.a,packageVersion:r.b})(Object(s.a)({onChange:p({action:"changed",actionSubject:"option",attributes:{componentName:"select",packageName:r.a,packageVersion:r.b}})})(l))},"mu/F":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("KD1n"),a=n("H5qd"),i=n.n(a);function s(){const e=Object(o.a)(["\n  fragment UserPrivilegeFragment on Query {\n    ...IsProductAdminFragment\n    ...IsSiteAdminFragment\n  }\n\n  ","\n  ","\n"]);return s=function(){return e},e}function r(){const e=Object(o.a)(["\n  fragment IsSiteAdminFragment on Query {\n    spaViewModel {\n      isSiteAdmin\n    }\n  }\n"]);return r=function(){return e},e}function c(){const e=Object(o.a)(["\n  fragment IsProductAdminFragment on Query {\n    user(current: true) {\n      id\n      confluence {\n        operations {\n          operation\n          targetType\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}const l=i()(c()),p=i()(r()),u=i()(s(),l,p)},pm4f:function(e,t,n){"use strict";let o;!function(e){e.NON_ADMIN="nonAdmin",e.PRODUCT_ADMIN="productAdmin",e.SITE_ADMIN="siteAdmin"}(o||(o={}));n.d(t,"a",(function(){return a}));const a=e=>{const t=(e=>{var t;return e&&Boolean(null!=(t=e)&&null!=(t=t.spaViewModel)?t.isSiteAdmin:t)})(e),n=(e=>{var t;return e&&((null!=(t=e)&&null!=(t=t.user)&&null!=(t=t.confluence)?t.operations:t)||[]).some(({operation:e,targetType:t})=>"administer"===e&&"application"===t)})(e);return void 0===t?void 0:t?o.SITE_ADMIN:n?o.PRODUCT_ADMIN:o.NON_ADMIN}},za5U:function(e){e.exports=JSON.parse('{"a":"@atlaskit/select","b":"11.0.5"}')}}]);
//# sourceMappingURL=copy-space-permissions~b59ad437.4ta42Xmz-v39.js.map