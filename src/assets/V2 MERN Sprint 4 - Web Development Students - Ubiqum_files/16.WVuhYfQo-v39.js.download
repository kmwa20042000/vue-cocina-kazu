(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+SJH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.UnorderedSearchIndex=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenToUidToDocumentMap={}}return i(e,[{key:"indexDocument",value:function(e,t,n){"object"!==r(this._tokenToUidToDocumentMap[e])&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=n}},{key:"search",value:function(e,t){for(var n={},i=this._tokenToUidToDocumentMap,o=0,a=e.length;o<a;o++){var u=i[e[o]];if(!u)return[];if(0===o)for(var s=0,c=(h=Object.keys(u)).length;s<c;s++){n[f=h[s]]=u[f]}else for(s=0,c=(h=Object.keys(n)).length;s<c;s++){var f=h[s];"object"!==r(u[f])&&delete n[f]}}var h,d=[];for(o=0,c=(h=Object.keys(n)).length;o<c;o++){f=h[o];d.push(n[f])}return d}}]),e}()},"2Vsb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}},"36mx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AllSubstringsIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t,n=[],r=0,i=e.length;r<i;++r){t="";for(var o=r;o<i;++o)t+=e.charAt(o),n.push(t)}return n}}]),e}()},"4uLs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=/[^a-zа-яё0-9\-']+/i;t.SimpleTokenizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"tokenize",value:function(e){return e.split(i).filter((function(e){return e}))}}]),e}()},"6Hz9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.PrefixIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t=[],n="",r=0,i=e.length;r<i;++r)n+=e.charAt(r),t.push(n);return t}}]),e}()},"6L3W":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.StemmingTokenizer=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stemmingFunction=t,this._tokenizer=n}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).map(this._stemmingFunction)}}]),e}()},"7NDX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("4uLs");Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return r.SimpleTokenizer}});var i=n("6L3W");Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return i.StemmingTokenizer}});var o=n("xew/");Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return o.StopWordsTokenizer}})},BQ5h:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("VB+a");Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return r.CaseSensitiveSanitizer}});var i=n("NQDk");Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return i.LowerCaseSanitizer}})},"Dl3+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("36mx");Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}});var i=n("bb35");Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return i.ExactWordIndexStrategy}});var o=n("6Hz9");Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return o.PrefixIndexStrategy}})},Fga3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenHighlighter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("Dl3+"),o=n("BQ5h");t.TokenHighlighter=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indexStrategy=t||new i.PrefixIndexStrategy,this._sanitizer=n||new o.LowerCaseSanitizer,this._wrapperTagName=r||"mark"}return r(e,[{key:"highlight",value:function(e,t){for(var n=this._wrapText("").length,r=Object.create(null),i=0,o=t.length;i<o;i++)for(var a=this._sanitizer.sanitize(t[i]),u=this._indexStrategy.expandToken(a),s=0,c=u.length;s<c;s++){var f=u[s];r[f]?r[f].push(a):r[f]=[a]}for(var h="",d="",p=0,l=(i=0,e.length);i<l;i++){var m=e.charAt(i);" "===m?(h="",d="",p=i+1):(h+=m,d+=this._sanitizer.sanitize(m)),r[d]&&r[d].indexOf(d)>=0&&(h=this._wrapText(h),e=e.substring(0,p)+h+e.substring(i+1),i+=n,l+=n)}return e}},{key:"_wrapText",value:function(e){var t=this._wrapperTagName;return"<"+t+">"+e+"</"+t+">"}}]),e}()},FxRD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}));var r,i=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){t({width:r.naturalWidth,height:r.naturalHeight})})),r.addEventListener("error",n),r.src=e}))},o=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t({src:r.src})},r.onerror=function(){return n()},r.src=e}))},a=function(e){return e&&e.size>1048576},u=function(){return(void 0!==r?Promise.resolve(r):new Promise((function(e){var t=new Image,n=function(){r=2===t.height,e(r)};t.addEventListener("load",n),t.addEventListener("error",n),t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}))).then((function(e){return e?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8"}))}},HC21:function(e,t,n){"use strict";var r=n("D57K"),i=n("sWty"),o=n("aJ+w"),a=n("nYST"),u=n("WmVM"),s=new RegExp("[⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿯豈-舘並-龎]|[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ|0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]+[̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀఄా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯|']*[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]*","gi");var c=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.chain=e}return e.prototype.compare=function(e,t){for(var n=0;n<this.chain.length;n++){var r=this.chain[n].compare(e,t);if(0!==r)return r}return 0},e}(),f=function(){function e(e){this.query=e}return e.prototype.compare=function(e,t){var n=e.ascii&&-1!==e.ascii.indexOf(this.query),r=t.ascii&&-1!==t.ascii.indexOf(this.query);return n&&!r?-1:!n&&r?1:0},e}(),h=function(){function e(e){this.colonQuery=":"+e+":",this.typeComparator=new d(!0)}return e.prototype.compare=function(e,t){return e.shortName===this.colonQuery&&t.shortName===this.colonQuery?this.typeComparator.compare(e,t):e.shortName===this.colonQuery?-1:t.shortName===this.colonQuery?1:0},e}(),d=function(){function e(e){this.typeToNumber=e?new Map([["SITE",0],["ATLASSIAN",1],["STANDARD",2]]):new Map([["STANDARD",0],["ATLASSIAN",1],["SITE",2]])}return e.prototype.compare=function(e,t){return this.emojiTypeToOrdinal(e)-this.emojiTypeToOrdinal(t)},e.prototype.emojiTypeToOrdinal=function(e){var t=this.typeToNumber.get(e.type);return void 0===t&&(t=10),t},e}(),p=function(){function e(e){var t=this;this.positionLookup=new Map,e.map((function(e,n){return t.positionLookup.set(e,n+1)}))}return e.prototype.compare=function(e,t){return e.id&&t.id?this.getPositionInOrder(e)-this.getPositionInOrder(t):0},e.prototype.getPositionInOrder=function(e){var t=e.id?e.id:"0";Object(a.h)(e)&&(t=e.baseId);var n=this.positionLookup.get(t);return n||o.a},e}(),l=function(){function e(e,t){if(this.query=e,!t)throw new Error("propertyToCompare is required");this.propertyName=t}return e.prototype.getScore=function(e){var t=e[this.propertyName],n=t?t.indexOf(this.query):o.a;return-1===n?o.a:n},e.prototype.compare=function(e,t){return this.getScore(e)-this.getScore(t)},e}(),m=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return this.INSTANCE||(this.INSTANCE=new this)},enumerable:!0,configurable:!0}),e.prototype.compare=function(e,t){return(e.order?e.order:o.a)-(t.order?t.order:o.a)},e}(),y=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return this.INSTANCE||(this.INSTANCE=new this)},enumerable:!0,configurable:!0}),e.prototype.compare=function(e,t){return e.shortName.localeCompare(t.shortName)},e}(),g=function(){function e(e){if(e.maxDuplicates<1)throw new RangeError("The maxDuplicates option must be at least 1");if(e.minUniqueItems<1)throw new RangeError("The minUniqueItems option must be at least 1");this.maximumSize=e.maxDuplicates*e.minUniqueItems,this.perItemSize=e.maxDuplicates,this.createEmptyState()}return e.prototype.enqueue=function(e){this.enqueueWithoutOrdering(e),this.itemsOrderedByFrequency=this.orderItemsByFrequency()},e.prototype.getItemsOrderedByDuplicateCount=function(){return this.itemsOrderedByFrequency},e.prototype.clear=function(){this.createEmptyState()},e.prototype.bulkEnqueue=function(e){var t=this;e.map((function(e){return t.enqueueWithoutOrdering(e)})),this.itemsOrderedByFrequency=this.orderItemsByFrequency()},e.prototype.getItems=function(){return this.items},e.prototype.createEmptyState=function(){this.items=new Array,this.itemCountMap=new Map,this.itemsOrderedByFrequency=new Array},e.prototype.enqueueWithoutOrdering=function(e){var t=this.itemCountMap.get(e);t&&t>=this.perItemSize?this.removeFirstOccurrence(e):this.items.length>=this.maximumSize&&this.remove(),this.add(e)},e.prototype.orderItemsByFrequency=function(){return Array.from(this.itemCountMap.entries()).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}))},e.prototype.decrementCount=function(e){var t=this.itemCountMap.get(e);t&&(--t>0?this.itemCountMap.set(e,t):this.itemCountMap.delete(e))},e.prototype.removeFirstOccurrence=function(e){var t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.decrementCount(e))},e.prototype.remove=function(){var e=this.items.shift();return void 0!==e&&this.decrementCount(e),e},e.prototype.add=function(e){this.items.push(e);var t=this.itemCountMap.get(e);t?this.itemCountMap.set(e,t+1):this.itemCountMap.set(e,1)},e}(),v=n("rhKZ"),b=function(e){function t(n){var r=e.call(this,n)||this;return r.storage=n.storage,r.prefixedStorageKey=n.storagePrefix+"."+t.storageKey,r.load(),r}return Object(r.__extends)(t,e),t.prototype.enqueue=function(t){e.prototype.enqueue.call(this,t),this.save()},t.prototype.clear=function(){e.prototype.clear.call(this),this.storage.removeItem(this.prefixedStorageKey)},t.prototype.load=function(){var e=this.storage.getItem(this.prefixedStorageKey);if(e)try{var t=JSON.parse(e);this.bulkEnqueue(t)}catch(e){Object(v.a)("Error parsing the queue stored as "+this.prefixedStorageKey+" key from storage",e)}},t.prototype.save=function(){var e=JSON.stringify(this.getItems());try{this.storage.setItem(this.prefixedStorageKey,e)}catch(e){Object(v.a)("Error saving the queued items as "+this.prefixedStorageKey,e)}},t.storageKey="lastUsed",t}(g),j=function(){function e(t){void 0===t&&(t=!0);var n=e.queueOptions;if(t&&n.storage){var i=Object(r.__assign)(Object(r.__assign)({},n),{storage:n.storage});this.queue=new b(i)}else this.queue=new g(n);this.gateway=new w(10)}return e.prototype.recordUsage=function(e){var t=this,n=e.id;n&&(Object(a.h)(e)&&(n=e.baseId),this.gateway.submit((function(){n&&t.queue.enqueue(n)})))},e.prototype.getOrder=function(){return this.queue.getItemsOrderedByDuplicateCount()},e.prototype.clear=function(){this.queue.clear()},e.queueOptions={storage:"undefined"!=typeof window&&window.localStorage,storagePrefix:o.k,maxDuplicates:25,minUniqueItems:5},e}(),w=function(){function e(e){if(e<1)throw new RangeError("The maximumPermitted parameter must be 1 or more.");this.maximumPermitted=e,this.count=0}return e.prototype.submit=function(e){var t=this;if(this.count>=this.maximumPermitted)return!1;this.count++;return window.setTimeout((function(){try{e()}finally{t.completed()}})),!0},e.prototype.completed=function(){this.count--},e}();n.d(t,"b",(function(){return I}));var S=function(){function e(){}return e.prototype.tokenize=function(e){return this.tokenizeAsTokens(e).map((function(e){return e.token}))},e.prototype.tokenizeAsTokens=function(e){var t,n=[];for(s.lastIndex=0;null!==(t=s.exec(e));)t[0]&&n.push({token:t[0],start:t.index});return n},e}(),k=function(e,t,n){var r=t(e);n.has(r)||n.set(r,[]);var i=n.get(r);if(i&&i.push(e),Object(a.g)(e)){var o=e.skinVariations;o&&o.forEach((function(e){return k(e,t,n)}))}},O=function(e,t){var n=e.get(t);if(n&&n.length)return n[n.length-1]},I=function(e,t){if(Object(a.g)(e)&&t){var n=t.skinTone;if(n&&e.skinVariations&&e.skinVariations.length){var r=e.skinVariations[n-1];if(r)return r}}return e},T=function(){function e(e,t){this.emojis=e,this.initMembers(t)}return e.prototype.all=function(){var e={sort:u.a.None};return this.search("",e)},e.prototype.search=function(e,t){var n=[],r=function(e){return void 0===e&&(e=""),0===e.indexOf(":")?{nameQuery:e.slice(1),asciiQuery:e}:{nameQuery:e,asciiQuery:""}}(e),i=r.nameQuery,o=r.asciiQuery;return i?(n=this.fullSearch.search(i),o&&(n=this.withAsciiMatch(o,n))):n=this.getAllSearchableEmojis(),{emojis:n=this.applySearchOptions(n,e,t),query:e}},e.prototype.findAllMatchingShortName=function(e){return this.shortNameMap.get(e)||[]},e.prototype.findByShortName=function(e){return O(this.shortNameMap,e)},e.prototype.findById=function(e){return O(this.idMap,e)},e.prototype.findByAsciiRepresentation=function(e){return this.asciiMap.get(e)},e.prototype.findInCategory=function(e){return e===o.j?this.getFrequentlyUsed():this.all().emojis.filter((function(t){return t.category===e}))},e.prototype.addUnknownEmoji=function(e){this.emojis=Object(r.__spread)(this.emojis,[e]),this.fullSearch.addDocuments([e]),this.addToMaps(e),this.addToDynamicCategories(e)},e.prototype.getAsciiMap=function(){return this.asciiMap},e.prototype.getFrequentlyUsed=function(e){var t=this,n=this.usageTracker.getOrder().map((function(e){return t.findById(e)})).filter((function(e){return void 0!==e}));return e&&(n=this.applySearchOptions(n,"",e)),n},e.prototype.getDynamicCategoryList=function(){return this.dynamicCategoryList.slice()},e.prototype.used=function(e){var t=this;this.usageTracker.recordUsage(e),-1===this.dynamicCategoryList.indexOf(o.j)&&window.setTimeout((function(){t.dynamicCategoryList.push(o.j)}))},e.prototype.delete=function(e){var t,n,r,i,o=(t=this.emojis,r=(n=e).id,i=-1,t.forEach((function(e,t){(e.id&&e.id===r||!e.id&&!r&&e.shortName===n.shortName)&&(i=t)})),i);-1!==o&&(this.emojis.splice(o,1),this.initMembers(this.usageTracker))},e.prototype.withAsciiMatch=function(e,t){var n=t,i=this.findByAsciiRepresentation(e);return i&&(n=t.filter((function(e){return e.id!==i.id})),n=Object(r.__spread)([i],n)),n},e.prototype.applySearchOptions=function(e,t,n){var i;return n||(n={}),void 0===n.sort&&(n.sort=u.a.Default),n.sort===u.a.Default?i=function(e,t){var n=e?e.replace(/:/g,"").toLowerCase().trim():void 0,i=[];e&&i.push(new f(e)),n&&i.push(new h(n)),t&&t.length&&i.push(new p(t)),n&&i.push(new l(n,"shortName"),new l(n,"name")),i.push(m.Instance,y.Instance);var o=new(c.bind.apply(c,Object(r.__spread)([void 0],i)));return o.compare=o.compare.bind(o),o}(t,this.usageTracker.getOrder()):n.sort===u.a.UsageFrequency&&(i=function(e){var t=new c(new p(e),new d,m.Instance);return t.compare=t.compare.bind(t),t}(this.usageTracker.getOrder())),i&&(i.compare=i.compare.bind(i),e=e.sort(i.compare)),n.limit&&n.limit>0&&(e=e.slice(0,n.limit)),n.skinTone?e.map((function(e){return I(e,n)})):e},e.prototype.initMembers=function(e){this.usageTracker=e||new j,this.initRepositoryMetadata(),this.initSearchIndex()},e.prototype.initRepositoryMetadata=function(){var e=this;this.shortNameMap=new Map,this.idMap=new Map,this.asciiMap=new Map;var t=new Set;this.emojis.forEach((function(n){t.add(n.category),e.addToMaps(n)})),this.usageTracker.getOrder().length&&t.add(o.j),this.dynamicCategoryList=Array.from(t).filter((function(e){return-1===o.e.indexOf(e)}))},e.prototype.initSearchIndex=function(){this.fullSearch=new i.Search("id"),this.fullSearch.tokenizer=new S,this.fullSearch.searchIndex=new i.UnorderedSearchIndex,this.fullSearch.addIndex("name"),this.fullSearch.addIndex("shortName"),this.fullSearch.addDocuments(this.getAllSearchableEmojis())},e.prototype.getAllSearchableEmojis=function(){return this.emojis.filter((function(e){return e.searchable}))},e.prototype.addToMaps=function(t){var n=this;void 0!==t.order&&-1!==t.order||(t.order=e.defaultEmojiWeight),void 0===t.id&&(t.id=e.defaultEmojiWeight.toString()),k(t,(function(e){return e.shortName}),this.shortNameMap),k(t,(function(e){return e.id}),this.idMap),t.ascii&&t.ascii.forEach((function(e){return n.asciiMap.set(e,t)}))},e.prototype.addToDynamicCategories=function(e){var t=Object(a.e)(e);-1===o.e.indexOf(t)&&-1===this.dynamicCategoryList.indexOf(t)&&this.dynamicCategoryList.push(t)},e.defaultEmojiWeight=1e6,e}();t.a=T},HUcV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.StopWordsMap={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};r.constructor=!1,r.hasOwnProperty=!1,r.isPrototypeOf=!1,r.propertyIsEnumerable=!1,r.toLocaleString=!1,r.toString=!1,r.valueOf=!1},JpEQ:function(e,t,n){"use strict";var r=n("D57K"),i=n("F00T"),o=n("aJ+w"),a=n("nYST"),u=n("rhKZ"),s=n("xN70"),c=function(){function e(e){this.config=e}return e.prototype.loadEmoji=function(){return Object(s.b)(this.config).then((function(e){return Object(s.a)(e)}))},e}(),f=n("HC21"),h=n("BRUJ"),d=n("FxRD"),p=function(){function e(e,t){this.mediaImageQueue=[],this.activeProcessing=0,this.pendingRequests=new Map,this.concurrentDownloadLimit=t&&t.concurrentDownloadLimit||16,this.tokenManager=e}return e.prototype.loadMediaImage=function(e){var t=this,n=this.pendingRequests.get(e);if(void 0!==n)return n;var r=new Promise((function(n,r){t.mediaImageQueue.push({url:e,resolve:n,reject:r}),t.processFromQueue()})).then((function(n){return t.pendingRequests.delete(e),n})).catch((function(n){throw t.pendingRequests.delete(e),n}));return this.pendingRequests.set(e,r),r},e.prototype.getQueueSize=function(){return this.mediaImageQueue.length},e.prototype.getActiveDownloads=function(){return this.activeProcessing},e.prototype.processFromQueue=function(){for(var e=this,t=function(){n.activeProcessing++;var t=n.mediaImageQueue.shift(),r=t.url,i=t.resolve,o=t.reject;n.tokenManager.getToken("read",!1).then((function(t){e.requestMediaEmoji(r,t,!0).then((function(t){i(t),e.completedItem()})).catch((function(t){o(t),e.completedItem()}))})).catch((function(t){o(t),e.completedItem()}))},n=this;this.activeProcessing<this.concurrentDownloadLimit&&this.mediaImageQueue.length>0;)t()},e.prototype.completedItem=function(){this.activeProcessing--,this.processFromQueue()},e.prototype.requestMediaEmoji=function(e,t,n){var r=this;return Object(d.c)().then((function(i){var o={headers:{Authorization:"Bearer "+t.jwt,"X-Client-Id":t.clientId,Accept:i}};return fetch(e,o).then((function(t){if(403===t.status&&n)return r.tokenManager.getToken("read",!0).then((function(t){return r.requestMediaEmoji(e,t,!1)}));if(t.ok)return t.blob().then((function(e){return r.readBlob(e)}));throw new Error("Unable to load media image. Status="+t.status+" "+t.statusText)}))}))},e.prototype.readBlob=function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){return t(r.result)})),r.addEventListener("error",(function(){return n(r.error)})),r.readAsDataURL(e)}))},e}(),l=n("bShy"),m=function(e,t){return t?e.altRepresentation:e.representation},y=function(){function e(e){this.cachedImageUrls=new Set,Object(u.a)("BrowserCacheStrategy"),this.mediaImageLoader=e}return e.prototype.loadEmoji=function(e,t){var n=this,r=m(e,t);if(!Object(a.l)(r))return e;var i=r.mediaPath;return this.cachedImageUrls.has(i)?e:this.mediaImageLoader.loadMediaImage(i).then((function(){return n.cachedImageUrls.add(i),e})).catch((function(){}))},e.prototype.optimisticRendering=function(){return!0},e.supported=function(e,t){return n=!!document.documentMode,r=!n&&!!window.StyleMedia,n||r?Promise.resolve(!1):t.loadMediaImage(e).then((function(){return new Promise((function(t){var n=new Image;n.addEventListener("load",(function(){t(!0)})),n.addEventListener("error",(function(){t(!1)})),n.src=e}))})).catch((function(){return!1}));var n,r},e}(),g=function(){function e(e){Object(u.a)("MemoryCacheStrategy"),this.mediaImageLoader=e,this.dataURLCache=new l.LRUCache(1e3)}return e.prototype.loadEmoji=function(e,t){var n=this,r=m(e,t);if(!Object(a.l)(r))return e;var i=r.mediaPath,o=this.dataURLCache.get(i);return o?Object(a.d)(e,o,t):this.mediaImageLoader.loadMediaImage(i).then((function(r){var o=Object(a.d)(e,r,t);return r.length<=1e4?n.dataURLCache.put(i,r):Object(u.a)("No caching as image is too large",r.length,r.slice(0,15),e.shortName),o})).catch((function(){}))},e.prototype.optimisticRendering=function(){return!1},e}(),v=function(){function e(e){this.waitingInitUrls=[],Object(u.a)("MediaEmojiCache"),this.mediaImageLoader=new p(e)}return e.prototype.loadEmoji=function(e,t){var n=m(e,t);if(!Object(a.l)(n))return e;var r=n.mediaPath,i=this.getCache(r);return Object(a.n)(i)?i.then((function(n){return n.loadEmoji(e,t)})).catch((function(){})):i.loadEmoji(e,t)},e.prototype.optimisticRendering=function(e){var t=this.getCache(e);return Object(a.n)(t)?t.then((function(e){return e.optimisticRendering()})).catch((function(){return!1})):t.optimisticRendering()},e.prototype.getCache=function(e){var t=this;return this.cache?this.cache:(this.waitingInitUrls.push(e),this.cacheLoading||(this.cacheLoading=this.initCache().then((function(e){return t.cache=e,t.cacheLoading=void 0,e})).catch((function(e){throw t.cacheLoading=void 0,e}))),this.cacheLoading)},e.prototype.initCache=function(){var e=this,t=this.waitingInitUrls.pop();return t?y.supported(t,this.mediaImageLoader).then((function(t){return e.waitingInitUrls=[],e.cacheLoading=void 0,t?new y(e.mediaImageLoader):new g(e.mediaImageLoader)})).catch((function(){return e.initCache()})):Promise.reject("Unable to initialise cache based on provided url(s)")},e}(),b=function(){function e(e){this.siteServiceConfig=e,this.tokens=new Map}return e.prototype.addToken=function(e,t){this.tokens.set(e,{mediaApiToken:t})},e.prototype.getToken=function(e,t){var n=this.tokens.get(e);n||(n={},this.tokens.set(e,n));var r=n.mediaApiToken,o=n.activeTokenRefresh;if(r){if(Date.now()/1e3<r.expiresAt-30&&!t)return Promise.resolve(r);if(o)return o;n.mediaApiToken=void 0}var a="token/"+e;return n.activeTokenRefresh=i.b.requestService(this.siteServiceConfig,{path:a}).then((function(e){return n.activeTokenRefresh=void 0,n.mediaApiToken=e,e})),n.activeTokenRefresh},e}(),j=function(){function e(e,t){var n=this;this.postToEmojiService=function(e,t){var o=e.shortName,u=e.name,c=e.width,f=e.height,h={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortName:o,name:u,width:c,height:f,fileId:t})};return i.b.requestService(n.siteServiceConfig,{requestInit:h}).then((function(e){var t=e.emojis;if(t.length){var n=t[0],i=n.altRepresentations,o=Object(r.__rest)(n,["altRepresentations"]),u=Object(r.__assign)(Object(r.__assign)({},o),{representation:Object(a.c)(o.representation)}),c=Object(s.c)(i||{}),f=c?Object(a.c)(c):void 0;return Object(a.a)(u,f)}throw new Error("No emoji returns from upload. Upload failed.")}))},this.siteServiceConfig=e,this.mediaApiToken=t,this.tokenManager=new b(e),this.tokenManager.addToken("read",t),this.mediaEmojiCache=new v(this.tokenManager)}return e.prototype.loadMediaEmoji=function(e,t){if(!Object(a.k)(e))throw new Error("Only supported for media emoji");return this.mediaEmojiCache.loadEmoji(e,t)},e.prototype.optimisticRendering=function(e,t){var n=t?e.altRepresentation:e.representation;if(!Object(a.l)(n))throw new Error("Only supported for media emoji");var r=n.mediaPath;return this.mediaEmojiCache.optimisticRendering(r)},e.prototype.uploadEmoji=function(e,t){var n=this,r=Date.now();return this.tokenManager.getToken("upload").then((function(i){var o=Date.now()-r;return Object(u.a)("upload token load time",o),new Promise((function(a,s){var c=i.url,f=i.clientId,d=i.collectionName,p=Object(h.a)({authProvider:function(){return Promise.resolve({clientId:f,token:i.jwt,baseUrl:c})}}).file.upload({content:e.dataURL,name:e.filename,collection:d}).subscribe({next:function(i){if("uploading"===i.status&&t)t({percent:.95*i.progress});else if("processing"===i.status){p.unsubscribe();var c=Date.now()-r,f=c-o;Object(u.a)("total upload / media upload times",c,f),n.postToEmojiService(e,i.id).then((function(e){a(e)})).catch((function(e){s(e.reason||e)}))}},error:function(e){s(e)}})}))}))},e.prototype.hasUploadToken=function(){return this.tokenManager.getToken("upload").then((function(e){return void 0!==e}),(function(){return!1}))},e.prototype.prepareForUpload=function(){this.tokenManager.getToken("upload")},e.prototype.findEmoji=function(e){var t="../"+e.id;return Object(s.b)(this.siteServiceConfig,{path:t}).then((function(e){return Object(s.a)(e).emojis[0]})).catch((function(t){Object(u.a)("failed to load emoji",e,t)}))},e.prototype.deleteEmoji=function(e){if(!Object(a.k)(e)&&!Object(a.j)(e))return Promise.reject(!1);var t=""+e.id;return i.b.requestService(this.siteServiceConfig,{path:t,requestInit:{method:"DELETE"}}).then((function(){return!0})).catch((function(){return!1}))},e}();n.d(t,"b",(function(){return w}));var w=function(e){var t=e,n=t.isUploadSupported,r=t.prepareForUpload,i=t.uploadCustomEmoji;return!!(n&&r&&i)},S=function(e){function t(t){var n=e.call(this,t)||this;return n.allowUpload=!!t.allowUpload,n}return Object(r.__extends)(t,e),t.prototype.isUploadSupported=function(){var e=this;return this.allowUpload?this.siteEmojiResource?this.siteEmojiResource.hasUploadToken():this.retryIfLoading((function(){return e.isUploadSupported()}),!1):Promise.resolve(!1)},t.prototype.uploadCustomEmoji=function(e){var t=this;return this.isUploadSupported().then((function(n){return n&&t.siteEmojiResource?t.siteEmojiResource.uploadEmoji(e).then((function(e){return t.addUnknownEmoji(e),t.refreshLastFilter(),e})):Promise.reject("No media api support is configured")}))},t.prototype.prepareForUpload=function(){var e=this;return this.siteEmojiResource&&this.siteEmojiResource.prepareForUpload(),this.retryIfLoading((function(){return e.prepareForUpload()}),void 0)},t}(function(e){function t(t){var n=e.call(this)||this;n.activeLoaders=0,n.retries=new Map,n.isLoaded=function(){return 0===n.activeLoaders&&n.emojiRepository},n.recordConfig=t.recordConfig,n.currentUser=t.currentUser;var r=[];if(n.activeLoaders=t.providers.length,t.providers.forEach((function(e,t){new c(e).loadEmoji().then((function(i){r[t]=i,n.initEmojiRepository(r),n.initSiteEmojiResource(i,e).then((function(){n.activeLoaders--,n.performRetries(),n.refreshLastFilter()}))})).catch((function(e){n.activeLoaders--,n.notifyError(e)}))})),"undefined"!=typeof window&&window.localStorage&&(n.selectedTone=n.loadStoredTone()),0===t.providers.length)throw new Error("No providers specified");return n}return Object(r.__extends)(t,e),t.prototype.initEmojiRepository=function(e){var t=[];e.forEach((function(e){t=t.concat(e.emojis)})),this.emojiRepository=new f.a(t)},t.prototype.initSiteEmojiResource=function(e,t){if(!this.siteEmojiResource&&e.mediaApiToken){this.siteEmojiResource=new j(t,e.mediaApiToken);var n=e.emojis;if(n.length){var r=this.siteEmojiResource.optimisticRendering(n[0]);if(Object(a.n)(r))return r.then((function(){Object(u.a)("Primed siteEmojiResource")})).catch((function(){Object(u.a)("Failed to prime siteEmojiResource")}));Object(u.a)("Already primed siteEmojiResource")}else Object(u.a)("No emoji to prime siteEmojiResource with")}return Promise.resolve()},t.prototype.performRetries=function(){var e=this.retries;this.retries=new Map,e.forEach((function(e,t){var n=t();Object(a.n)(n)?n.then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)})):e.resolve(n)}))},t.prototype.loadStoredTone=function(){var e=window.localStorage.getItem(o.l);if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}},t.prototype.refreshLastFilter=function(){if(void 0!==this.lastQuery){var e=this.lastQuery,t=e.query,n=e.options;this.filter(t,n)}},t.prototype.retryIfLoading=function(e,t){var n=this;return this.isLoaded()?Promise.resolve(t):new Promise((function(t,r){n.retries.set(e,{resolve:t,reject:r})}))},t.prototype.notifyResult=function(t){this.lastQuery&&t.query===this.lastQuery.query&&e.prototype.notifyResult.call(this,t)},t.prototype.loadMediaEmoji=function(e,t){return this.siteEmojiResource&&Object(a.k)(e)?this.siteEmojiResource.loadMediaEmoji(e,t):e},t.prototype.optimisticMediaRendering=function(e,t){if(!Object(a.k)(e))return!0;if(!this.siteEmojiResource)return!1;var n=this.siteEmojiResource.optimisticRendering(e,t);return!Object(a.n)(n)&&n},t.prototype.filter=function(e,t){this.lastQuery={query:e,options:t},this.emojiRepository?this.notifyResult(this.emojiRepository.search(e,t)):this.notifyNotReady()},t.prototype.findByShortName=function(e){var t=this;return this.isLoaded()?this.emojiRepository.findByShortName(e):this.retryIfLoading((function(){return t.findByShortName(e)}),void 0)},t.prototype.findByEmojiId=function(e){var t=this,n=e.id,r=e.shortName;if(this.emojiRepository){if(!n)return this.findByShortName(r);var i=this.emojiRepository.findById(n);if(i)return i;if(this.isLoaded())return this.siteEmojiResource?this.siteEmojiResource.findEmoji(e).then((function(e){return e?(t.addUnknownEmoji(e),e):t.findByShortName(r)})):this.findByShortName(r)}return this.retryIfLoading((function(){return t.findByEmojiId(e)}),void 0)},t.prototype.findById=function(e){var t=this;return this.isLoaded()?this.emojiRepository.findById(e):this.retryIfLoading((function(){return t.findById(e)}),void 0)},t.prototype.findInCategory=function(e){var t=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.findInCategory(e)):this.retryIfLoading((function(){return t.findInCategory(e)}),[])},t.prototype.getAsciiMap=function(){var e=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getAsciiMap()):this.retryIfLoading((function(){return e.getAsciiMap()}),new Map)},t.prototype.getFrequentlyUsed=function(e){var t=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getFrequentlyUsed(e)):this.retryIfLoading((function(){return t.getFrequentlyUsed(e)}),[])},t.prototype.recordSelection=function(e){var t=this.recordConfig;if(this.emojiRepository&&this.emojiRepository.used(e),t){var n={emojiId:Object(a.q)(e)};return i.b.requestService(t,{queryParams:n,requestInit:{method:"POST"}})}return Promise.resolve()},t.prototype.deleteSiteEmoji=function(e){var t=this;return this.siteEmojiResource&&e.id?this.siteEmojiResource.deleteEmoji(e).then((function(n){return!(!n||!t.emojiRepository)&&(t.emojiRepository.delete(e),!0)})).catch((function(e){return console.error("failed to delete site emoji",e),!1})):this.retryIfLoading((function(){return t.deleteSiteEmoji(e)}),!1)},t.prototype.getSelectedTone=function(){return this.selectedTone},t.prototype.setSelectedTone=function(e){if(this.selectedTone=e,window.localStorage)try{window.localStorage.setItem(o.l,e?e.toString():"")}catch(e){console.error("failed to store selected emoji skin tone",e)}},t.prototype.calculateDynamicCategories=function(){var e=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getDynamicCategoryList()):this.retryIfLoading((function(){return e.calculateDynamicCategories()}),[])},t.prototype.getCurrentUser=function(){return this.currentUser},t.prototype.addUnknownEmoji=function(e){this.emojiRepository&&this.emojiRepository.addUnknownEmoji(e)},t}(i.a));t.a=S},NQDk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LowerCaseSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.toLocaleLowerCase().trim():""}}]),e}()},"VB+a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.CaseSensitiveSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.trim():""}}]),e}()},aNTK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("2Vsb"),a=(r=o)&&r.__esModule?r:{default:r},u=n("Dl3+"),s=n("BQ5h"),c=n("eOXs"),f=n("7NDX");t.Search=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new u.PrefixIndexStrategy,this._searchIndex=new c.TfIdfSearchIndex(t),this._sanitizer=new s.LowerCaseSanitizer,this._tokenizer=new f.SimpleTokenizer,this._documents=[],this._searchableFields=[]}return i(e,[{key:"addDocument",value:function(e){this.addDocuments([e])}},{key:"addDocuments",value:function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)}},{key:"addIndex",value:function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])}},{key:"search",value:function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)}},{key:"indexDocuments_",value:function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,i=this._searchIndex,o=this._tokenizer,u=this._uidFieldName,s=0,c=e.length;s<c;s++){var f,h=e[s];f=u instanceof Array?(0,a.default)(h,u):h[u];for(var d=0,p=t.length;d<p;d++){var l,m=t[d];if(null!=(l=m instanceof Array?(0,a.default)(h,m):h[m])&&"string"!=typeof l&&l.toString&&(l=l.toString()),"string"==typeof l)for(var y=o.tokenize(r.sanitize(l)),g=0,v=y.length;g<v;g++)for(var b=y[g],j=n.expandToken(b),w=0,S=j.length;w<S;w++){var k=j[w];i.indexDocument(k,f,h)}}}}},{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),e}()},bb35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ExactWordIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){return e?[e]:[]}}]),e}()},eOXs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("qmmM");Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return r.TfIdfSearchIndex}});var i=n("+SJH");Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return i.UnorderedSearchIndex}})},qmmM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TfIdfSearchIndex=void 0;var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("2Vsb"),u=(r=a)&&r.__esModule?r:{default:r};t.TfIdfSearchIndex=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}return o(e,[{key:"indexDocument",value:function(e,t,n){this._tokenToIdfCache={};var r,o=this._tokenMap;"object"!==i(o[e])?o[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=o[e]).$totalNumOccurrences++;var a=r.$uidMap;"object"!==i(a[t])?(r.$numDocumentOccurrences++,a[t]={$document:n,$numTokenOccurrences:1}):a[t].$numTokenOccurrences++}},{key:"search",value:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var a=e[r],u=this._tokenMap[a];if(!u)return[];if(0===r)for(var s=0,c=(f=Object.keys(u.$uidMap)).length;s<c;s++){n[h=f[s]]=u.$uidMap[h].$document}else{var f;for(s=0,c=(f=Object.keys(n)).length;s<c;s++){var h=f[s];"object"!==i(u.$uidMap[h])&&delete n[h]}}}var d=[];for(var h in n)d.push(n[h]);var p=this._createCalculateTfIdf();return d.sort((function(n,r){return p(e,r,t)-p(e,n,t)}))}},{key:"_createCalculateIdf",value:function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var i=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+i))}return t[n]}}},{key:"_createCalculateTfIdf",value:function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,i,o){for(var a=0,s=0,c=r.length;s<c;++s){var f,h=r[s],d=n(h,o);d===1/0&&(d=0),f=t instanceof Array?i&&(0,u.default)(i,t):i&&i[t],a+=(void 0!==e[h]&&void 0!==e[h].$uidMap[f]?e[h].$uidMap[f].$numTokenOccurrences:0)*d}return a}}}]),e}()},sWty:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Dl3+");Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}}),Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return r.ExactWordIndexStrategy}}),Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return r.PrefixIndexStrategy}});var i=n("BQ5h");Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return i.CaseSensitiveSanitizer}}),Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return i.LowerCaseSanitizer}});var o=n("eOXs");Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return o.TfIdfSearchIndex}}),Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return o.UnorderedSearchIndex}});var a=n("7NDX");Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return a.SimpleTokenizer}}),Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return a.StemmingTokenizer}}),Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return a.StopWordsTokenizer}});var u=n("aNTK");Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return u.Search}});var s=n("HUcV");Object.defineProperty(t,"StopWordsMap",{enumerable:!0,get:function(){return s.StopWordsMap}});var c=n("Fga3");Object.defineProperty(t,"TokenHighlighter",{enumerable:!0,get:function(){return c.TokenHighlighter}})},"xew/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWordsTokenizer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("HUcV");t.StopWordsTokenizer=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenizer=t}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).filter((function(e){return!i.StopWordsMap[e]}))}}]),e}()}}]);
//# sourceMappingURL=16.WVuhYfQo-v39.js.map