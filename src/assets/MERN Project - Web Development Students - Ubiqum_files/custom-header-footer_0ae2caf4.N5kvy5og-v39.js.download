(window.webpackJsonp=window.webpackJsonp||[]).push([["custom-header-footer~0ae2caf4"],{"/4Yv":function(e,n,t){"use strict";t.r(n);var r=t("ERkP"),a=t.n(r),o=t("gQ5V"),c=t("+mzV"),s=t("FdGg"),l=t("X2PC"),u=t("L21V"),i=t("OOEx"),d=t.n(i),m=t("dDc+"),p=t("aoYE"),f=t("AqZj"),h=t("7OEs"),y=t("pxb7"),g=t("KD1n"),b=t("KsTJ");function E(){const e=Object(g.a)(["\n  margin-top: 50px;\n  text-align: center;\n  display: block;\n"]);return E=function(){return e},e}function j(){const e=Object(g.a)(["\n  text-align: center;\n  display: block;\n"]);return j=function(){return e},e}function v(){const e=Object(g.a)(["\n  & > span {\n    vertical-align: middle;\n  }\n"]);return v=function(){return e},e}function w(){const e=Object(g.a)(["\n  margin: 0;\n  padding: 15px 20px;\n"]);return w=function(){return e},e}const O=b.default.div(w()),M=b.default.div(v()),H=b.default.div(j()),C=b.default.div(E()),K=Object(u.g)({unsupportedMacrosTitle:{id:"custom-header-footer.unsupported.macros.title",defaultMessage:"Unsupported macros",description:"Space cutomized header and footer is imcompitable with unsupported macros"}}),A=Object(u.h)(({spaUnfriendlyMacros:e=[],type:n,js:t,css:o,html:c,intl:s})=>{const l=n===y.a.HEADER?H:C,i=a.a.createRef(),g=a.a.createRef();return Object(r.useEffect)(()=>{g.current&&i.current&&Object(p.a)().then(()=>{g.current&&Object(f.a)(g.current,t).then(()=>{i.current&&Object(h.a)(i.current)})})}),a.a.createElement(O,null,e.length?a.a.createElement(M,null,a.a.createElement(d.a,{primaryColor:m.colors.Y500,label:s.formatMessage(K.unsupportedMacrosTitle)}),a.a.createElement(u.c,{id:"custom-header-footer.unsupported.macros.list",defaultMessage:"The following macros are not currently supported in the {type}:",description:"The warning message when a custom space header or footer contain incompatible macros. type variable equals to 'header' or 'footer'",values:{type:n}}),a.a.createElement("ul",null,e.map(e=>e&&e.name&&a.a.createElement("li",{key:e.name},e.name)))):null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),a.a.createElement(l,{"data-test-id":"custom-settings-".concat(n),dangerouslySetInnerHTML:{__html:c},innerRef:i}),a.a.createElement("div",{ref:g}))});var F=t("H5qd");function k(){const e=Object(g.a)(["\n  query CustomHeaderAndFooterQuery($spaceKey: String) {\n    space(key: $spaceKey) {\n      id\n      settings {\n        customHeaderAndFooter {\n          header {\n            html\n            js\n            css\n            spaUnfriendlyMacros {\n              name\n            }\n          }\n          footer {\n            html\n            js\n            css\n            spaUnfriendlyMacros {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return k=function(){return e},e}const x=t.n(F)()(k());function T({type:e}){return a.a.createElement(s.a,{attribution:l.a.BACKBONE},a.a.createElement(c.a.Consumer,null,({spaceKey:n})=>a.a.createElement(o.b,{query:x,variables:{spaceKey:n}},({loading:n,error:t,data:r})=>{var o,c;if(n||t||!(null!=(c=r)&&null!=(c=c.space)&&null!=(c=c.settings)&&null!=(c=c.customHeaderAndFooter)&&null!=(c=c[e])?c.html:c))return null;const s=null!=(o=r)&&null!=(o=o.space)&&null!=(o=o.settings)&&null!=(o=o.customHeaderAndFooter)?o[e]:o;return a.a.createElement(A,{spaUnfriendlyMacros:s.spaUnfriendlyMacros,type:e,css:s.css,js:s.js,html:s.html})})))}t.d(n,"CustomHeaderFooter",(function(){return T})),T.displayName="CustomHeaderFooter"},AqZj:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));t("KD1n");var r=t("daKX");Object(r.a)("wrm");function a(e,n){if(!n.length)return Promise.resolve();const t=window.document.createDocumentFragment(),r=n.map(e=>new Promise((n,r)=>{const a=window.document.createElement("script");a.async=!1,a.src=e,a.onload=n,a.onerror=r,t.appendChild(a)}));return e.appendChild(t),Promise.all(r).catch((...e)=>{0})}}}]);
//# sourceMappingURL=custom-header-footer~0ae2caf4.N5kvy5og-v39.js.map