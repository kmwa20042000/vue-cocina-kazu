(window.webpackJsonp=window.webpackJsonp||[]).push([["right-sidebar~493df0b3"],{"/4nh":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n("Svze");function s(e){return!e||!o(e)}function o(e){return e?e.hasOwnProperty("size")?e.size:e.length:0}function r(e,t){t=parseInt(t,10),isNaN(t)&&(t=0),t=Math.abs(t),a.Set.isSet(e)&&(e=e.toJS());const n=e.get?e.get(t):e[t];return n&&n.toJS?n.toJS():n}function i(e,t){return void 0!==e&&(e.includes?e.includes(t):-1!==e.indexOf(t))}},"5azm":function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".WelcomeMessageEditHint_help_2UV{max-width:100%}",""]),t.locals={help:"WelcomeMessageEditHint_help_2UV"}},"6lDt":function(e,t,n){"use strict";t.a={TOOLS_MENU_CONTAINER:"system.content.action",TOOLS_MENU_MARKER:"system.content.action/marker",TOOLS_MENU_LEADING:"system.content.action/leading",TOOLS_MENU_PRIMARY:"system.content.action/primary",TOOLS_MENU_SECONDARY:"system.content.action/secondary",TOOLS_MENU_MODIFY:"system.content.action/modify",PAGE_BUTTONS:"system.content.button",SYSTEM_DASHBOARD:"system.dashboard",SYSTEM_DASHBOARD_BUTTON:"system.dashboard.button",SYSTEM_CONTENT_BYLINE:"system.content.byline",SYSTEM_CONTENT_METADATA:"system.content.metadata",PAGE_METADATA_BANNER:"page.metadata.banner",SYSTEM_HEADER_LEFT:"system.header/left",SYSTEM_HEADER_LEFT_BUTTON_GROUP:"system.header/left.button.group",SYSTEM_HELP:"system.help/pages",SYSTEM_USER_ANONYMOUS:"system.user/anonymous",SYSTEM_USER:"system.user",SYSTEM_ADMIN_SITE_SECTION:"system.admin.site/site_admin_section",SPACE_SIDEBAR:"system.space.sidebar/main-links",SYSTEM_ADMIN:"system.admin",SYSTEM_EDITOR_LINK_BROWSER_TABS:"system.editor.link.browser.tabs",SYSTEM_EDITOR_PRECURSOR_BUTTONS:"system.editor.precursor.buttons",CREATE_DIALOG:"system.create.dialog/content",DASHBOARD_LEFT:"atl.dashboard.left",DASHBOARD_SECONDARY:"atl.dashboard.secondary",ATL_GENERAL:"atl.general",ATL_FOOTER:"atl.footer",ATL_PAGE_METADATA:"atl.page.metadata.banner",ATL_PAGE_CONTENT_FOOTER_ACTIONS:"atl.page.content.footer.actions",ATL_EDITOR_SAVEBAR:"atl.editor.savebar",SYSTEM_ADMIN_SITE_ADMINISTRATION:"system.admin/siteadministration"}},CKyl:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const a=1;function s(e={}){return!!(e.button===a||e.metaKey||e.ctrlKey||e.shiftKey)}},IGvV:function(e,t,n){"use strict";var a=n("aWzz"),s=n.n(a),o=n("ERkP"),r=n.n(o);var i=function(...e){return t=>{class n extends r.a.Component{componentWillUnmount(){this.removeCss()}UNSAFE_componentWillMount(){this.removeCss=this.context.insertCss.apply(void 0,e)}render(){return r.a.createElement(t,this.props)}}return n.displayName="StyledComponent",n.displayName="WithStyles(".concat(t.displayName||t.name||"",")"),n.contextTypes={insertCss:s.a.func.isRequired},n}};var d=function(e){return t=>{class n extends o.Component{constructor(){super(),this.state={hasFetched:!1}}componentDidMount(){e().then(e=>{this.setState({hasFetched:!0}),this.removeCss=this.context.insertCss.apply(void 0,[e])})}componentWillUnmount(){this.removeCss&&this.removeCss()}render(){return this.state.hasFetched?r.a.createElement(t,this.props):null}}return n.displayName="StyledAsyncComponent",n.displayName="WithStylesAsync(".concat(t.displayName||t.name||"",")"),n.contextTypes={insertCss:s.a.func.isRequired},n}};n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}))},JzH8:function(e,t,n){"use strict";var a=n("cxan"),s=n("HbGN"),o=(n("aWzz"),n("ERkP")),r=n.n(o),i=n("7LQG");class d extends o.Component{render(){const e=this.props,{children:t,href:n}=e,o=Object(s.a)(e,["children","href"]);return n?r.a.createElement("a",Object(a.a)({},o,{href:0===n.indexOf(i.a)?n:"".concat(i.a).concat(n)}),t):r.a.createElement("span",o,t)}}d.displayName="ContextAwareLink",d.displayName="ContextAwareLink",t.a=d},M2LZ:function(e,t,n){"use strict";var a=n("S2j0");var s={require:(e,t)=>new Promise(n=>{Object(a.a)(e,e=>{n(e),t&&t(e)},()=>{0})})},o=n("cxan"),r=n("zjfJ"),i=n("pkwY"),d=n("ERkP"),c=n.n(d);var l=function(e,t){const n=Object(i.a)({isBlocking:!0},t);return t=>{class s extends d.Component{constructor(...e){super(...e),Object(r.a)(this,"state",{dependenciesLoaded:!1}),Object(r.a)(this,"markAsLoaded",()=>{this.mounted&&this.setState({dependenciesLoaded:!0})})}componentDidMount(){this.mounted=!0,e&&e.length>0?Object(a.a)(e,this.markAsLoaded,()=>{0}):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!n.isBlocking?c.a.createElement(t,Object(o.a)({},this.props,{wrmDependenciesLoaded:e})):null}}return s.displayName="WRMComponent",s.displayName="WRMComponent(".concat(t.displayName||t.name,")"),s}};n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}))},PXD2:function(e,t,n){var a=n("j3Mn"),s=n("7l8p");"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},Rl8C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("ERkP")),s=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=function(e){return a.default.createElement(s.default,r({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.148 6.852a.502.502 0 0 1 .708.004l2.288 2.288a.5.5 0 0 1 .004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};i.displayName="EditorEditIcon";var d=i;t.default=d},XbFG:function(e,t,n){"use strict";var a=n("D57K"),s=n("ERkP"),o=n.n(s),r=n("l1C2"),i=n("RZTm"),d=Object(i.f)()+"px",c=function(e){var t=e.backgroundColor,n=e.textColor,a=e.children,s=e.testId;return Object(r.f)("span",{css:{backgroundColor:t,borderRadius:d,boxSizing:"border-box",color:n,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":s},a)},l=Object(i.l)()/2+"px",u=function(e){var t=e.maxWidth,n=e.children;return Object(r.f)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+l,maxWidth:"number"==typeof t?t+"px":t,width:"100%"}},n)},h=n("mn8z"),m=n("m7kQ"),p={default:{light:m.N40,dark:m.N40},inprogress:{light:m.B50,dark:m.B50},moved:{light:m.Y75,dark:m.Y75},new:{light:m.P50,dark:m.P50},removed:{light:m.R50,dark:m.R50},success:{light:m.G50,dark:m.G50}},b={default:{light:m.N500,dark:m.N500},inprogress:{light:m.B500,dark:m.B500},moved:{light:m.N800,dark:m.N800},new:{light:m.P500,dark:m.P500},removed:{light:m.R500,dark:m.R500},success:{light:m.G500,dark:m.G500}},g={default:{light:m.N500,dark:m.N500},inprogress:{light:m.B400,dark:m.B400},moved:{light:m.Y500,dark:m.Y500},new:{light:m.P400,dark:m.P400},removed:{light:m.R400,dark:m.R400},success:{light:m.G400,dark:m.G400}},_={default:{light:m.N0,dark:m.N0},inprogress:{light:m.N0,dark:m.N0},moved:{light:m.N800,dark:m.N800},new:{light:m.N0,dark:m.N0},removed:{light:m.N0,dark:m.N0},success:{light:m.N0,dark:m.N0}},E=Object(h.a)((function(e){var t=e.appearance,n=e.isBold,s=e.maxWidth;return Object(a.__assign)(Object(a.__assign)({},"object"==typeof t?Object(a.__assign)({backgroundColor:(n?g:p).default.light,textColor:(n?_:b).default.light},t):{backgroundColor:(n?g[t]:p[t]).light,textColor:(n?_[t]:b[t]).light}),{maxWidth:s})})),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.children,s=e.testId;return o.a.createElement(E.Provider,{value:t},o.a.createElement(E.Consumer,Object(a.__assign)({},this.props),(function(e){return o.a.createElement(c,Object(a.__assign)({testId:s},e),o.a.createElement(u,Object(a.__assign)({},e),n))})))},t.defaultProps={isBold:!1,appearance:"default",maxWidth:200},t}(s.PureComponent);t.a=f},bkSV:function(e,t,n){"use strict";n.r(t);var a=n("zjfJ"),s=n("IC1n"),o=n.n(s),r=(n("aWzz"),n("ERkP")),i=n.n(r),d=n("gQ5V"),c=n("O94r"),l=n.n(c),u=n("nnRT"),h=n.n(u),m=n("IGvV"),p=n("M2LZ"),b=n("r9hL"),g=n("hpu0"),_=n("3VMZ"),E=n("vdGo"),f=n("MV18"),S=n("3Z2R"),C=n("E2Aa"),O=n("66dv");class y extends r.Component{render(){const{webItems:e,onCreateSpace:t}=this.props;return e.map(e=>("add-space"===e.moduleKey&&(e.onClick=function(e){t(),e.preventDefault()}),e)),i.a.createElement(O.a,{webItems:e,buttonType:"dashboard-button-web-item",disableIcons:!0})}}y.displayName="DashboardWebItems",y.displayName="DashboardWebItems";var T,N=n("pkwY"),A=n("Rl8C"),R=n.n(A),M=n("/4nh"),w=n("JzH8"),v=n("L21V"),k=n("vPKW"),x=n.n(k);let B=Object(m.a)(x.a)(T=class extends r.Component{shouldComponentUpdate(e,t){return!h()(this.props,e)||!h()(this.state,t)}render(){return i.a.createElement("div",{className:l()("aui-help","aui-help-text","welcome-message-edit",x.a.help)},i.a.createElement("div",{className:"aui-help-content"},i.a.createElement(v.c,{id:"welcome.message.edit",tagName:"p"}),i.a.createElement(w.a,{className:"welcome-message-edit-button",href:"/".concat(this.props.editUrl),onMouseOver:this.props.onMouseOverCallToAction,onMouseOut:this.props.onMouseOutCallToAction,onClick:this.props.onClickEditButton},i.a.createElement(v.c,{id:"welcome.message.edit.link"}))))}})||T;B.displayName="WelcomeMessageEditHint";class L extends r.Component{constructor(e){super(e),this.state={isHovered:!1,isAboutToEdit:!1,dependenciesLoaded:!1},this._showBackground=this._toggleBackground.bind(this,!0),this._hideBackground=this._toggleBackground.bind(this,!1),this._showEditButton=this._toggleEditButton.bind(this,!0),this._hideEditButton=this._toggleEditButton.bind(this,!1)}componentDidMount(){this.isUnmounted=!1}shouldComponentUpdate(e,t){return!h()(this.props,e)||!h()(this.state,t)}componentWillUnmount(){this.isUnmounted=!0}UNSAFE_componentWillReceiveProps(e){if(this.state.dependenciesLoaded&&e.resourceContexts===this.props.resourceContexts&&e.resourceKeys===this.props.resourceKeys)return;const t=e.resourceContexts,n=e.resourceKeys,a=[],s=[];Object(M.c)(t)||t.forEach(e=>a.push("wrc!".concat(e))),Object(M.c)(n)||n.forEach(e=>s.push("wr!".concat(e)));const o=a.concat(s);o.length>0?p.a.require(o,()=>{!1===this.isUnmounted&&this.setState({dependenciesLoaded:!0})}):this.setState({dependenciesLoaded:!0})}_toggleEditButton(e){this.setState({isHovered:e})}_toggleBackground(e){this.setState({isAboutToEdit:e})}render(){let e;const{showEditButton:t,showEditHint:n,onClickEditButton:a,content:s,editUrl:o}=this.props,{isHovered:r,isAboutToEdit:d}=this.state;let c,l;return t&&r&&(e=i.a.createElement(w.a,{style:{position:"absolute",top:10,right:10,paddingTop:1},href:"/".concat(o),className:"aui-button welcome-message-edit-button",onMouseEnter:this._showBackground,onMouseLeave:this._hideBackground,onClick:a},i.a.createElement(R.a,null))),d&&(c={backgroundColor:"#f5f5f5"}),n&&(l=i.a.createElement(B,{editUrl:o,onClickEditButton:a,onMouseOverCallToAction:this._showBackground,onMouseOutCallToAction:this._hideBackground})),i.a.createElement("div",{className:"welcome-message-wrapper",style:Object(N.a)({position:"relative"},c),onMouseEnter:this._showEditButton,onMouseLeave:this._hideEditButton},i.a.createElement("div",{id:"welcome-message",className:"welcome-message wiki-content",dangerouslySetInnerHTML:{__html:s}}),l,e)}}L.displayName="WelcomeMessage",L.displayName="WelcomeMessage";var I=L,D=n("7OEs");class P extends r.PureComponent{constructor(...e){super(...e),this._setContainerRef=this._setContainerRef.bind(this)}componentDidMount(){Object(D.a)(this.panelContainer)}componentDidUpdate(){Object(D.a)(this.panelContainer)}_setContainerRef(e){this.panelContainer=e}render(){return i.a.createElement("div",{ref:this._setContainerRef,dangerouslySetInnerHTML:{__html:this.props.html}})}}P.displayName="WebPanel";var j=n("d3tz"),W=n("6lDt"),H=n("CKyl"),U=n("utTn"),Y=n("KD1n"),G=n("H5qd");function z(){const e=Object(Y.a)(["\n  query RightSidebarQuery {\n    spaViewModel {\n      welcomeMessageHtml\n      resourceContexts\n      resourceKeys\n      welcomeMessageEditUrl\n      showEditButton\n      showWelcomeMessageEditHint\n    }\n  }\n"]);return z=function(){return e},e}const K=n.n(G)()(z());var V,F=n("PXD2"),q=n.n(F);n.d(t,"default",(function(){return J}));let J=Object(m.a)(q.a)(V=Object(b.b)(j.a.DASHBOARD)(V=class extends r.Component{constructor(e){super(e),Object(a.a)(this,"state",{teamCalendarWRMLoaded:!1,welcomeMessageLoaded:!1,dashboardLoaded:!1,secondaryLoaded:!1,leftLoaded:!1}),Object(a.a)(this,"onClickEditWelcomeMessage",e=>{this.props.triggerAnalytics("edit-welcome-message.clicked",{usingMeta:Object(H.a)(e)})}),Object(a.a)(this,"onCreateSpace",()=>(Object(U.c)(),!1)),Object(a.a)(this,"loadTeamCalendarWRM",()=>{p.a.require(["wrc!com.atlassian.confluence.extra.team-calendars:calendar-init"]).then(()=>{this.setState({teamCalendarWRMLoaded:!0})})}),Object(a.a)(this,"renderPanels",e=>{const{teamCalendarWRMLoaded:t}=this.state;return e.map(e=>e.completeKey.includes("team-calendars")&&(this.loadTeamCalendarWRM(),!t)?null:i.a.createElement("li",{key:e.completeKey,className:l()("web-panel",q.a.webPanel)},i.a.createElement(P,{html:e.html})))}),Object(a.a)(this,"dashboardSuccess",e=>{e&&!this.state.dashboardLoaded&&this.setState({dashboardLoaded:!0})}),Object(a.a)(this,"secondarySuccess",e=>{e&&!this.state.secondaryLoaded&&this.setState({secondaryLoaded:!0})}),Object(a.a)(this,"leftSuccess",e=>{e&&!this.state.leftLoaded&&this.setState({leftLoaded:!0})});const t=o()();Object(g.a)().start({name:_.a.ACTIVITY_CREATE_SPACE_BUTTON,id:t}),Object(g.a)().start({name:_.a.ACTIVITY_RIGHT_SIDEBAR,id:t})}shouldComponentUpdate(e,t){return!h()(this.props,e)||!h()(this.state,t)}_renderWelcomeMessage(){return i.a.createElement(d.b,{query:K},({data:e,error:t,loading:n})=>{if(t||n)return t?i.a.createElement(E.a,{name:_.a.ACTIVITY_RIGHT_SIDEBAR,id:this.id,error:t}):null;const{spaViewModel:a}=e;return this.state.welcomeMessageLoaded||this.setState({welcomeMessageLoaded:!0}),i.a.createElement(I,{content:a.welcomeMessageHtml,resourceContexts:a.resourceContexts,resourceKeys:a.resourceKeys,editUrl:a.welcomeMessageEditUrl,showEditButton:a.showEditButton,showEditHint:a.showWelcomeMessageEditHint,onClickEditButton:this.onClickEditWelcomeMessage})})}render(){return i.a.createElement("div",{className:q.a.adg3},i.a.createElement(S.a,{location:W.a.SYSTEM_DASHBOARD_BUTTON},({webItems:e})=>i.a.createElement("div",{className:l()("dashboard-buttons",q.a.dashboardButtons)},i.a.createElement(r.Fragment,null,i.a.createElement(f.a,{name:_.a.ACTIVITY_CREATE_SPACE_BUTTON}),i.a.createElement(y,{webItems:e,onCreateSpace:this.onCreateSpace})))),this.state.welcomeMessageLoaded&&this.state.dashboardLoaded&&this.state.secondaryLoaded&&this.state.leftLoaded&&i.a.createElement(f.a,{name:_.a.ACTIVITY_RIGHT_SIDEBAR}),this._renderWelcomeMessage(),i.a.createElement(S.a,{location:W.a.SYSTEM_DASHBOARD,experienceSuccess:this.dashboardSuccess},({webItems:e})=>i.a.createElement("div",{className:l()("dashboard-items",q.a.dashboardItems)},i.a.createElement(y,{webItems:e}))),i.a.createElement("div",{className:l()("web-panels",q.a.dashboardPanels)},i.a.createElement("ul",{id:"web-panels",className:l()("web-panels",q.a.webPanels)},i.a.createElement(C.a,{location:W.a.DASHBOARD_SECONDARY,experienceSuccess:this.secondarySuccess},({panels:e})=>this.renderPanels(e)),i.a.createElement(C.a,{location:W.a.DASHBOARD_LEFT,experienceSuccess:this.leftSuccess},({panels:e})=>{this.renderPanels(e)}))))}})||V)||V},j3Mn:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".RightSidebar_dashboardButtons_3Hx{margin-top:9px;margin-bottom:20px;padding-bottom:18px;border-bottom:2px solid #ddd;min-height:35px}.RightSidebar_adg3_3s9 .RightSidebar_dashboardButtons_3Hx{min-height:65px;border-bottom-color:#ebecf0}.RightSidebar_dashboardItems_2Vq{margin-top:20px;min-height:35px;padding-top:20px}.RightSidebar_dashboardItems_2Vq,.RightSidebar_dashboardPanels_3wr{display:inline-block;vertical-align:middle;width:100%}.RightSidebar_webPanels_2nh{list-style:none;padding:0}.RightSidebar_webPanels_2nh .RightSidebar_webPanel_2lm{margin-top:20px}",""]),t.locals={dashboardButtons:"RightSidebar_dashboardButtons_3Hx",adg3:"RightSidebar_adg3_3s9",dashboardItems:"RightSidebar_dashboardItems_2Vq",dashboardPanels:"RightSidebar_dashboardPanels_3wr",webPanels:"RightSidebar_webPanels_2nh",webPanel:"RightSidebar_webPanel_2lm"}},utTn:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return c}));var a=n("Jygk"),s=n.n(a),o=n("M2LZ");const r=function(){o.a.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then(()=>{s.a.Confluence.SpaceBlueprint.Dialog.launch()})},i=function(){o.a.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then(()=>{s.a.Confluence.Blueprint.loadDialogAndOpenTemplate({})})},d=function(){return Confluence.Link};"undefined"!=typeof Confluence&&Confluence;const c=()=>"undefined"!=typeof Confluence&&Confluence.Binder&&Confluence.Binder.userHover&&Confluence.Binder.userHover()},vPKW:function(e,t,n){var a=n("5azm"),s=n("7l8p");"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}}}]);
//# sourceMappingURL=right-sidebar~493df0b3.6cMhJ43z-v39.js.map