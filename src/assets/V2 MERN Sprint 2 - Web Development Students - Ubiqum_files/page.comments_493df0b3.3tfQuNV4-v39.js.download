(window.webpackJsonp=window.webpackJsonp||[]).push([["page.comments~493df0b3","dashboard.popular~675cf4e2"],{"+Wce":function(e,t,n){"use strict";n.r(t);var o,r,a,i=n("pkwY"),s=n("zjfJ"),c=(n("aWzz"),n("ERkP")),d=n.n(c),l=n("sRL2"),m=n("gQ5V"),u=n("uDfI"),p=n("kD2R"),h=n("2srY"),f=n.n(h),b=n("zr3P"),C=n.n(b),y=n("f6W2"),_=n("FdGg"),g=n("OC+J"),E=n("Wt1t"),v=n("Dsoe"),I=n("3VMZ"),O=n("KuZF"),k=n("6lDt"),w=n("Jn8G"),A=n("EfWO"),j=n.n(A),x=n("nnRT"),T=n.n(x),S=n("lKOy"),N=n.n(S),P=n("uZih"),D=n.n(P),L=n("L21V"),M=n("swvn"),F=n.n(M),R=n("IC1n"),H=n.n(R),B=n("2sr0"),U=n("IGvV"),V=n("qkqg"),W=n("J7sl"),q=n("hpu0"),z=n("A79P"),G=n("vdGo"),Y=n("MV18"),J=n("o0lc"),K=n("uJ/C"),Q=n("bfiC"),X=n("WRP3"),$=n("ON/h"),Z=n("jqY8"),ee=n("Xzcx"),te=n("utTn"),ne=n("UbDs"),oe=n.n(ne);const re="addComment",ae="editComment",ie="replyComment",se=null;let ce=(o=Object(U.a)(oe.a),r=Object(B.a)(),Object(L.h)(a=o(a=r(a=class extends c.Component{constructor(...e){super(...e),Object(s.a)(this,"state",{commentsIds:this.props.commentsIds,updatedCommentsIds:[],hasNextPage:this.props.hasNextPage,editorState:{contentId:null,mode:se,errorMessage:"",errorType:null,updateTime:0,isEditorLoaded:!1,errorDetails:""}}),Object(s.a)(this,"domNodes",{}),Object(s.a)(this,"_showEditor",e=>{Object(W.a)({name:I.a.ADD_PAGE_COMMENT,id:H()(),attributes:{editor:w.a.FABRIC,mode:e.mode}},{name:I.a.ADD_PAGE_COMMENT_LOAD},{name:I.a.ADD_PAGE_COMMENT_PUBLISH}),this.setState({editorState:Object(i.a)({},this.state.editorState,e)})}),Object(s.a)(this,"_hideEditor",()=>{const e={contentId:null,mode:se,isEditorLoaded:!1};this.setState({editorState:Object(i.a)({},this.state.editorState,e)})}),Object(s.a)(this,"_onEditorLoaded",()=>{Object(q.a)().succeed({name:I.a.ADD_PAGE_COMMENT_LOAD}),this.setState({editorState:Object(i.a)({},this.state.editorState,{isEditorLoaded:!0})})}),Object(s.a)(this,"_replyCommentAction",e=>{this._showEditor({contentId:e,mode:ie})}),Object(s.a)(this,"_editCommentAction",e=>{this._showEditor({mode:ae,contentId:e})}),Object(s.a)(this,"_showAddCommentEditor",e=>{const{contentId:t}=this.props;e&&e.preventDefault(),this._warnCommentLost(()=>{this._showEditor({mode:re,contentId:t})})}),Object(s.a)(this,"_triggerShowAddCommentEditor",e=>{setTimeout(()=>this.scrollToElement("addcomment"),0),this._showAddCommentEditor(e)}),Object(s.a)(this,"_warnCommentLost",e=>{const{formatMessage:t}=this.props.intl;this.state.editorState&&this.state.editorState.isEditorLoaded&&!Object(Z.b)(t({id:"unsaved.comment.lost"}))||e()}),Object(s.a)(this,"_callAnalyticsEvent",e=>{this.props.createAnalyticsEvent({type:"sendTrackEvent",data:e}).fire()}),Object(s.a)(this,"_getCommentAnalyticsObject",e=>{const{id:t,spaceId:n,ownerId:o,requestType:r,isInlineComment:a,contentType:i,parentId:s}=e;return{containerType:"space",containerId:n,source:"viewPageScreen",objectType:"page",objectId:o.toString(),action:"editComment"===r?"updated":"created",actionSubject:"comment",actionSubjectId:t,attributes:{commentType:a?"inline":"page",pageType:i,parentCommentId:s.toString(),editor:"v2"}}}),Object(s.a)(this,"_editorSaveHandler",e=>{const{formatMessage:t}=this.props.intl,{saveComment:n,onRefetchComments:o}=this.props,{editorState:r}=this.state;if(Object(V.a)(e.adf)){const e={errorMessage:t({id:"content.empty"}),errorType:"warning"};return void this.setState({editorState:Object(i.a)({},this.state.editorState,e)})}const{mode:a}=r;e.requestType=a,a===ie&&(e.showCommentAfter=this._getThreadLastCommentId(r.contentId)),a!==se&&Object(q.a)().start({name:I.a.ADD_PAGE_COMMENT_PUBLISH,id:H()(),timeout:z.a.EDITOR_PUBLISH,attributes:{editor:w.a.FABRIC,mode:a}}),n(e).then(t=>{const{data:{experimentalSaveFabricComment:{id:n,ancestors:i,container:s,extensions:c}}}=t,{spaceId:d,contentType:l,isTopCommentEditorEnabled:m}=this.props,u=i[0]&&i[0].id||0,p=s&&s.id,h="footer"!==c.location,f=this._getCommentAnalyticsObject({id:n,spaceId:d,parentId:u,contentType:l,ownerId:p,isInlineComment:h,requestType:e.requestType});this._callAnalyticsEvent(f);const b={commentId:n,threadLastCommentId:this._getThreadLastCommentId(r.contentId),parentId:u,mode:r.mode};o(b).then(()=>{this._hideEditor(),h||this.state.editorState.mode!==se||(m&&"addComment"===a&&this.scrollToElement("comment-".concat(n)),Object(q.a)().succeed({name:I.a.ADD_PAGE_COMMENT_PUBLISH}))})}).catch(e=>{const n={errorMessage:t({id:"comment.editor.cant.publish.changes"}),errorType:"error",errorDetails:e};this.setState({editorState:Object(i.a)({},this.state.editorState,n)})}),this._removeSlowCommentURLParams()}),Object(s.a)(this,"_editorCancelHandler",({isEditorAborted:e})=>{this._hideEditor(),e&&(this._removeSlowCommentURLParams(),Object(q.a)().abort({name:I.a.ADD_PAGE_COMMENT,reason:"CommentsSectionFabricComponent _editorCancelHandler"}))}),Object(s.a)(this,"_onDeleteComment",e=>this.props.deleteComment(e)),Object(s.a)(this,"_onReplyToComment",e=>{this._warnCommentLost(()=>this._replyCommentAction(e))}),Object(s.a)(this,"_onEditComment",e=>{this._warnCommentLost(()=>this._editCommentAction(e))}),Object(s.a)(this,"_getCommentActions",()=>({deleteComment:this._onDeleteComment,replyToComment:this._onReplyToComment,editComment:this._onEditComment})),Object(s.a)(this,"_closeEditorError",()=>{this.setState({editorState:Object(i.a)({},this.state.editorState,{errorMessage:"",updateTime:0})})}),Object(s.a)(this,"_getReference",e=>t=>this.domNodes[e]=t)}static getDerivedStateFromProps(e,t){return!T()(t.commentsIds,e.commentsIds)&&!1===t.hasNextPage&&!1===e.hasNextPage&&e.hasFetchedComments?{commentsIds:e.commentsIds,hasNextPage:e.hasNextPage,updatedCommentsIds:N()(e.commentsIds,t.commentsIds)}:Object(i.a)({},t,{commentsIds:e.commentsIds,hasNextPage:e.hasNextPage})}componentDidMount(){const{replyToCommentId:e,shouldOpenAddComment:t,openEditCommentId:n,isEditCommentFound:o,focusOnCommentId:r,readyToScrollToElement:a,canAddComments:i,isEditCommentAllowed:s}=this.props,{editorState:c}=this.state;n&&o&&(this.scrollToElement("comment-".concat(n)),s&&this._editCommentAction(n)),e&&c.contentId!==e&&i&&this._replyCommentAction(e),t&&i&&this._triggerShowAddCommentEditor(),r&&a&&this.scrollToElement("comment-".concat(r)),t&&a&&this.scrollToElement("addcomment")}componentDidUpdate(){Object(te.d)()}componentWillUnmount(){this._hideEditor()}scrollToElement(e){const t=Object(ee.d)(e);t&&this.scrollElementIntoView&&this.scrollElementIntoView(t)}_getThreadLastCommentId(e){const{commentsData:t}=this.props;let n,o,r,a;return t.forEach(t=>{n||(void 0!==o&&(o>=t.depthLevel?n=r:a=t.id),t.id===e&&(o=t.depthLevel),r=t.id)}),n||(n=a||e),n}_removeSlowCommentURLParams(){const{replace:e,location:t}=this.props,n=t.query,o=["showCommentArea","showComments","editComment","commentId"];if(!o.map(e=>void 0!==n[e]).filter(e=>e).length)return;const r=D()(t.query,o);e(Object(i.a)({},t,{query:r,search:j.a.format({query:r})}))}_canViewProfile(){const{isAnonymous:e,currentUserCanViewProfile:t}=this.props.currentUserInfo;return e?!0===t:!1!==t}_isAddCommentEditorEnabled(){const{contentId:e}=this.props,{editorState:t}=this.state;return t.contentId===e&&t.mode===re}_renderHeadLine(){const{totalComments:e}=this.props;return e?d.a.createElement("h2",{"data-test-id":"comments-count"},1===e?d.a.createElement(L.c,{id:"comment.singular",values:{0:e}}):d.a.createElement(L.c,{id:"comment.plural",values:{0:e}})):null}_renderEditCommentErrorFlag(){const{openEditCommentId:e,isEditCommentFound:t,isEditCommentAllowed:n}=this.props;return e&&!t?d.a.createElement(F.a,{type:"error"},d.a.createElement(L.c,{id:"comment.edit.not.found"})):t&&!n?d.a.createElement(F.a,{type:"error"},d.a.createElement(L.c,{id:"comment.edit.permission",defaultMessage:"Permissions settings don’t allow you to edit this comment.",description:"User visits a page/blog through email to edit comment and does not have edit comment permissions"})):null}_renderAddCommentErrorFlag(){const{canAddComments:e,replyToCommentId:t,shouldOpenAddComment:n}=this.props;return(t||n)&&!e?d.a.createElement(F.a,{type:"error"},d.a.createElement(L.c,{id:"comment.add.permission",defaultMessage:"Permissions settings don’t allow you to add or reply to comments.",description:"User visits a page/blog through email and does not have add comment permissions"})):null}_renderCommentsList(){const{contentId:e,currentUserInfo:t,commentsData:n,contentType:o,focusOnCommentId:r,editedCommentsIds:a,atlToken:i,spaceId:s}=this.props,{updatedCommentsIds:c,commentsIds:l,editorState:m}=this.state,u={atlToken:i,commentsIds:l,contentType:o,contentId:e,comments:n,commentActions:this._getCommentActions(),showAuthorLabel:"blogpost"===o,focusOnCommentId:r,highlightedComments:a.length>0?a:c,userInfo:t,editor:m,canViewProfile:this._canViewProfile(),editorSaveHandler:this._editorSaveHandler,editorCancelHandler:this._editorCancelHandler,onEditorLoaded:this._onEditorLoaded,spaceId:s};return d.a.createElement(Q.a,u)}_renderAddCommentField(){const{contentId:e,canAddComments:t,currentUserInfo:n,atlToken:o,contentType:r,spaceId:a}=this.props,{editorState:i}=this.state;if(!t)return;const s={style:{paddingTop:20},contentId:e,atlToken:o,mode:"add",id:"addcomment",userInfo:n,isEditorEnabled:this._isAddCommentEditorEnabled(),onClickCommentAddPrompt:this._showAddCommentEditor,editor:i,canViewProfile:this._canViewProfile(),editorSaveHandler:this._editorSaveHandler,editorCancelHandler:this._editorCancelHandler,onEditorLoaded:this._onEditorLoaded,contentType:r,comment:{isFabricComment:!0},spaceId:a};return d.a.createElement(X.a,s)}_renderEditorMessage(){const{editorState:e}=this.state;return d.a.createElement(c.Fragment,null,d.a.createElement(K.a,{isShowing:!0,type:e.errorType||"error",body:e.errorMessage,close:"manual",onClose:this._closeEditorError}),"error"===e.errorType?d.a.createElement(G.a,{name:I.a.ADD_PAGE_COMMENT,error:new Error(e.errorDetails)}):null)}_renderDeleteCommentErrorMessage(){const{formatMessage:e}=this.props.intl;return d.a.createElement("div",{id:"delete-comment-flag"},d.a.createElement(K.a,{isShowing:!0,type:"error",body:e({id:"comment.delete.error",defaultMessage:"Something went wrong when deleting this comment",description:"Message to be displayed when error occurs during Delete Comment"}),close:"manual",onClose:this._closeEditorError}))}render(){const{contentId:e,deleteCommentError:t,totalComments:n,hasNextPage:o,isTopCommentEditorEnabled:r}=this.props,a=this._isAddCommentEditorEnabled(),{editorState:i}=this.state;return d.a.createElement("div",{className:oe.a.root,ref:this._getReference("root"),id:"comments-section-fabric","data-test-id":"comments-section-fabric-new"},this._renderHeadLine(),this._renderEditCommentErrorFlag(),this._renderAddCommentErrorFlag(),t?this._renderDeleteCommentErrorMessage():null,r?this._renderAddCommentField():null,this._renderCommentsList(),r?null:this._renderAddCommentField(),i.errorMessage?this._renderEditorMessage():null,a?null:d.a.createElement($.a,{contentId:e,onClick:this._triggerShowAddCommentEditor}),o?null:d.a.createElement(Y.a,{name:I.a.VIEW_PAGE_COMMENTS,attributes:{totalComments:n}}),d.a.createElement(J.a,null,({scrollToElement:e})=>(this.scrollElementIntoView=e,null)))}})||a)||a)||a);var de=n("KD1n"),le=n("H5qd"),me=n.n(le),ue=n("746O");function pe(){const e=Object(de.a)(['\n  query CommentsSectionFabricQuery($offset: Int, $first: Int, $contentId: ID!) {\n    content(id: $contentId) {\n      child {\n        comment(\n          offset: $offset\n          first: $first\n          location: ["footer"]\n          depth: "all"\n        ) {\n          ...commentListFragment\n          edges {\n            cursor\n            node {\n              ...commentDataFragment\n              body {\n                atlas_doc_format {\n                  value\n                }\n                view {\n                  value\n                  webresource {\n                    keys\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      nodes {\n        ...contentFragment\n      }\n    }\n    user(current: true) {\n      ...userFragment\n    }\n  }\n\n  ',"\n  ","\n  ","\n  ","\n"]);return pe=function(){return e},e}const he=me()(pe(),ue.d,ue.c,ue.b,ue.a);function fe(){const e=Object(de.a)(["\n  mutation CommentsSectionFabricQuerySaveComment(\n    $params: ExperimentalFabricCommentInput\n  ) @experimental {\n    experimentalSaveFabricComment(params: $params) {\n      id\n      ancestors {\n        id\n      }\n      container {\n        id\n      }\n      extensions {\n        location\n      }\n    }\n  }\n"]);return fe=function(){return e},e}const be=me()(fe());var Ce=n("B5F7");function ye(){const e=Object(de.a)(["\n  query CommentsSectionGetSingleFabricCommentQuery($contentId: ID!) {\n    content(id: $contentId) {\n      nodes {\n        ...commentDataFragment\n        body {\n          atlas_doc_format {\n            value\n          }\n          view {\n            value\n            webresource {\n              keys\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return ye=function(){return e},e}const _e=me()(ye(),ue.a);class ge extends Error{constructor(...e){super(...e);const t=e[0];this.message=t.message,this.graphQLErrors=t.graphQLErrors}}const Ee=Object(u.connect)((function(e,t){const{commentsData:n,hasFetchedComments:o}=t,r=n.map(e=>e.id),a=Object(y.a)(e),{focusedCommentId:i,replyToComment:s,showCommentArea:c,editComment:d,commentId:l}=a.query,m=i||s,u="true"===d&&l||"",p=!!u&&-1!==r.indexOf(u),h=!(!p||!n.find(e=>e.id===u).operations.find(e=>"update"===e.operation));return{focusOnCommentId:m,replyToCommentId:s,shouldOpenAddComment:"true"===c,openEditCommentId:u,isEditCommentFound:p,readyToScrollToElement:o,hasFetched:o,commentsData:n,commentsIds:r,location:a,atlToken:"",isEditCommentAllowed:h}}),(function(e){return{replace:t=>e(Object(p.replace)(t))}}))(ce);let ve=[];const Ie=Object(l.b)(class extends c.Component{constructor(...e){super(...e),Object(s.a)(this,"state",{webPanels:null}),Object(s.a)(this,"_loadedCursor",{}),Object(s.a)(this,"fetchWebPanels",()=>{const{contentId:e,client:t}=this.props,n={contentId:e,location:k.a.ATL_PAGE_CONTENT_FOOTER_ACTIONS};t.query({query:O.a,variables:n,fetchPolicy:"cache-first"}).then(e=>{const{data:t}=e,n=f()(t,"webPanels");this.setState({webPanels:n})})}),Object(s.a)(this,"_getCommentVersion",e=>({id:f()(e,"node.id"),by:f()(e,"node.version.by"),when:f()(e,"node.version.when"),number:f()(e,"node.version.number")})),Object(s.a)(this,"_buildUserInfo",e=>({displayName:f()(e,"displayName"),avatarUrl:f()(e,"photos.length")&&f()(e,"photos").find(e=>e.isPrimary).value,accountId:f()(e,"id")})),Object(s.a)(this,"_saveComment",(e,t,n)=>o=>{const{contentId:r,commentId:a="",adf:i,requestType:s,version:c}=o;return n({variables:{params:{location:"footer",contentId:r||e,contentType:t,adfContent:JSON.stringify(i),commentId:a,requestType:s,version:c}}})}),Object(s.a)(this,"_deleteComment",(e,t)=>e=>t({variables:{contentId:e}})),Object(s.a)(this,"_onRefetchComments",(e,t)=>{const{commentId:n}=e;return t({variables:{contentId:n},query:_e,updateQuery:(t,{fetchMoreResult:o})=>{const r=f()(o,"content.nodes[0]");if(!r)return t;const a=C()(t);let i=[];const{threadLastCommentId:s,parentId:c,mode:d}=e;if("editComment"===d){const e=t.content.child.comment.edges.findIndex(e=>e.node.id===n);i=[...a.content.child.comment.edges.slice(0,e),...[{cursor:e.toString(),node:r,__typename:"ContentEdge"}],...a.content.child.comment.edges.slice(e+1)],ve=[n]}else if("replyComment"===d){const e=s||c,n=t.content.child.comment.edges.findIndex(t=>t.node.id===e);i=[...a.content.child.comment.edges.slice(0,n+1),...[{cursor:(n+1).toString(),node:r,__typename:"ContentEdge"}],...a.content.child.comment.edges.slice(n+1)],ve=[]}else"addComment"!==d&&"0"!==c||(i=a.content.child.comment.edges.concat([{cursor:t.content.child.comment.count.toString(),node:r,__typename:"ContentEdge"}]),ve=[]);return Object.assign({},t,{content:{child:{comment:{count:i.length,pageInfo:{endCursor:(i.length-1).toString(),hasNextPage:!1,__typename:a.content.child.comment.pageInfo.__typename},edges:i,__typename:a.content.child.comment.__typename},__typename:a.content.child.__typename},nodes:[...a.content.nodes],__typename:a.content.__typename}})}})})}componentDidMount(){this.fetchWebPanels()}_getADF(e){if(e)try{return JSON.parse(e)}catch(e){console.error("Invalid adf document",e)}return null}_buildCommentsData(e){const t=f()(e,"content.child.comment.edges");return t&&0!==t.length?t.map(t=>{const n=f()(t,"node.ancestors")||[],o=f()(n,"length")||0,r=f()(n,"ancestors[0].id")||null;return{adf:this._getADF(f()(t,"node.body.atlas_doc_format.value")),ancestors:n,depthLevel:o,parentId:r,bodyExportView:f()(t,"node.body.view.value")||"",version:this._getCommentVersion(t),webResourceKeys:f()(t,"node.body.view.webresource.key")||[],createdBy:Object(g.a)(f()(t,"node.history.createdBy")),createdByAuthor:Boolean(f()(e,"content.nodes[0].history.createdBy.accountId")&&f()(t,"node.version.by.accountId")&&f()(e,"content.nodes[0].history.createdBy.accountId")===f()(t,"node.version.by.accountId")),id:f()(t,"node.id")||"",linkWebui:f()(t,"node.links.webui")||"",operations:f()(t,"node.operations")||[],createdFriendly:f()(t,"node.version.friendlyWhen")||"",createdDate:f()(t,"node.version.when")||"",isFabricComment:!0}}):[]}_fetchMore(e,t){return e({variables:t,updateQuery:(e,{fetchMoreResult:t})=>{if(!t)return e;return Object.assign({},e,{content:{child:{comment:{count:e.content.child.comment.count+t.content.child.comment.count,pageInfo:Object(i.a)({},t.content.child.comment.pageInfo,{__typename:t.content.child.comment.pageInfo.__typename}),edges:[...e.content.child.comment.edges,...t.content.child.comment.edges],__typename:t.content.child.comment.__typename},__typename:t.content.child.__typename},nodes:[...t.content.nodes],__typename:t.content.__typename}})}})}render(){const{contentId:e,isTopCommentEditorEnabled:t}=this.props;return e?d.a.createElement(_.a,{attribution:"fabric-comment"},d.a.createElement(v.a,{id:e,name:I.a.VIEW_PAGE_COMMENTS,attributes:{editor:w.a.FABRIC}}),d.a.createElement(m.b,{query:he,variables:{contentId:e,offset:0,first:100},fetchPolicy:"cache-and-network",errorPolicy:"all"},({data:n,loading:o,error:r,fetchMore:a,networkStatus:s})=>d.a.createElement(m.a,{mutation:be},(c,{data:l})=>d.a.createElement(m.a,{mutation:Ce.a,update:(t,{data:{experimentalDeleteComment:{contentId:n}}})=>{const o=t.readQuery({query:he,variables:{contentId:e,offset:0,first:100}}),r=o.content.child.comment.edges.filter(e=>e.node.id!==n).map(e=>{const t=e.node.ancestors.filter(e=>e.id!==n),{container:o,body:r,history:a,id:s,links:c,operations:d,version:l}=e.node,m={container:o,body:r,history:a,id:s,links:c,operations:d,version:l},{cursor:u}=e;return Object.assign({},e,{cursor:u,node:Object(i.a)({ancestors:t},m,{__typename:e.node.__typename}),__typename:e.__typename})}),a=o.user;t.writeQuery({query:he,variables:{contentId:e,offset:0,first:100},data:{content:{child:{comment:{count:r.length,pageInfo:{endCursor:(r.length-1).toString(),hasNextPage:!1,__typename:o.content.child.comment.pageInfo.__typename},edges:r,__typename:o.content.child.comment.__typename},__typename:o.content.child.__typename},nodes:[...o.content.nodes],__typename:o.content.__typename},user:a}})}},(i,{error:m,data:u})=>{if(r)throw new ge(r);if(!f()(n,"content.nodes[0]")||!f()(n,"content.child.comment"))return null;const{count:p,pageInfo:{hasNextPage:h,endCursor:b}}=f()(n,"content.child.comment"),{operations:C,space:{homepageId:y,id:_},type:g}=f()(n,"content.nodes[0]"),v=this._buildUserInfo(f()(n,"user")),{webPanels:I}=this.state,O=y===e,k=C.find(e=>"create"===e.operation&&"comment"===e.targetType)&&Boolean(!O||p>0);return!h||o||this._loadedCursor[b]||(this._loadedCursor[b]=!0,this._fetchMore(a,{contentId:e,offset:Number(b)+1})),d.a.createElement(E.a.Provider,{value:{isLikesEnabled:!!I}},d.a.createElement(Ee,{onRefetchComments:e=>this._onRefetchComments(e,a),canAddComments:k,currentUserInfo:v,canViewProfile:!!v,commentsData:this._buildCommentsData(n),contentId:e,contentType:g,spaceId:_,currentUserCanViewProfile:!!v,isAnonymous:!v,totalComments:h?0:p,hasFetchedComments:!o,hasNextPage:h,networkStatus:s,saveComment:this._saveComment(e,g,c),deleteComment:this._deleteComment(e,i),saveCommentData:l,deleteCommentData:u,deleteCommentError:m,editedCommentsIds:ve,isTopCommentEditorEnabled:t}))})))):null}});t.default=Ie},"+ypV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("ERkP")),r=a(n("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M4 12v7a.971.971 0 0 0 .278.704.99.99 0 0 0 .701.296H6v-9H4.98a.99.99 0 0 0-.701.296A.971.971 0 0 0 4 12zm15.281-.96a3.046 3.046 0 0 0-2.321-1.061h-2.634c.04-.181.08-.36.11-.532.515-2.934 0-4-.504-4.594A2.432 2.432 0 0 0 12.075 4a3.078 3.078 0 0 0-2.968 2.751c-.393 1.839-.454 2-.968 2.725l-.768 1.089a2.011 2.011 0 0 0-.363 1.141v6.273c.001.532.216 1.041.596 1.416s.896.585 1.433.584h7.247a3.014 3.014 0 0 0 2.997-2.507l.677-4a2.963 2.963 0 0 0-.677-2.432zm-1.998 6.1a1.007 1.007 0 0 1-1 .835H9.038v-6.269l.767-1.089a7.577 7.577 0 0 0 1.302-3.509c.036-.543.255-1.209.969-1.108.714.1.575 1.916.363 3.1a19.712 19.712 0 0 1-.868 2.882l5.39-.008c.297-.001.58.128.773.352a.993.993 0 0 1 .226.813l-.676 4.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="LikeIcon";var c=s;t.default=c},"03Pf":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return m}));var o=n("KD1n"),r=n("daKX");function a(){const e=Object(o.a)(["window.scroll() is not supported"]);return a=function(){return e},e}const i=Object(r.a)("scroll-to-element"),s=new Set;function c(e){return s.add(e),()=>s.delete(e)}function d(){s.forEach(e=>{try{e()}catch(e){Promise.all([n.e("monitoring~60420017").then(n.bind(null,"fFmz")),n.e("error-boundary~3652a975").then(n.bind(null,"fEZm"))]).then(([{getMonitoringClient:t},{Attribution:n}])=>{t().submitError(e,{attribution:n.CONTENT_EXPERIENCE})}).catch(()=>{})}})}function l(){d(),window.scrollTo(0,0)}function m(e,t){let n=0,o=e.offsetParent;for(;o instanceof HTMLElement;)n+=o.offsetTop,o=o.offsetParent;const r=e.offsetTop+(t||0)+n;d();try{window.scroll({top:r,behavior:"auto"})}catch(e){i.error(a())}}},"0LOj":function(e,t,n){"use strict";t.a=function(e){return e.displayName||e.name||"Component"}},"1esp":function(e,t,n){"use strict";var o=n("7Otk"),r=n("7hB0"),a=n("mQlO");t.a=Object(o.a)(Object(r.a)(a.a))},"2hrV":function(e,t,n){"use strict";n("aWzz");var o=n("ERkP"),r=n.n(o),a=n("Ydxy");const i={small:12,medium:26,large:36},s=({size:e})=>r.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},r.a.createElement("div",{"data-test-id":"spinner",style:{position:"absolute",left:"50%",top:"50%",marginLeft:-i[e]/2,marginTop:-i[e]/2,zIndex:100}},r.a.createElement(a.a,{size:i[e]})));s.displayName="Spinner",s.displayName="Spinner",s.defaultProps={size:"small"},t.a=s},"3oRx":function(e,t,n){"use strict";var o=n("pkwY"),r=n("ERkP"),a=n.n(r),i=n("q9qF"),s=n("Iy7w"),c=n("1U1M"),d=n("L21V"),l=n("EFtY"),m=n.n(l),u=n("p+ff"),p=n("dDc+"),h=n("8gCJ"),f=n("hATe"),b=n("EcEE");const C=Object(s.a)("div",{target:"e1s8o7tt0"})({name:"60afig",styles:"display:flex;padding-top:16px;"}),y=Object(s.a)("div",{target:"e1s8o7tt1"})({name:"qnh8h2",styles:"display:flex;flex-direction:column;padding-left:8px;> span{padding-top:4px;}"}),_=({onClose:e,content:t,user:n})=>a.a.createElement(h.a,{actions:[{text:"Close",onClick:()=>{e(!1)}}],width:"large"},a.a.createElement(C,null,a.a.createElement(f.a,{userId:n.userId,src:n.avatarUrl}),a.a.createElement(y,{onClick:t=>{t.target instanceof HTMLImageElement&&e(!1)}},a.a.createElement(b.a,{userId:n.userId,fullName:n.displayName}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}}))));_.displayName="LegacyContentModal";var g=n("KD1n"),E=n("H5qd");function v(){const e=Object(g.a)(["\n  query LegacyContentQuery($contentId: ID!) {\n    content(id: $contentId) {\n      nodes {\n        id\n        body {\n          view {\n            value\n          }\n        }\n        history {\n          createdBy {\n            ... on KnownUser {\n              accountId\n            }\n            ... on User {\n              accountId\n            }\n            profilePicture {\n              path\n            }\n            displayName\n          }\n        }\n        type\n      }\n    }\n  }\n"]);return v=function(){return e},e}const I=n.n(E)()(v()),O=Object(s.a)("span",{target:"e1e3cud20"})({name:"1r5b1jx",styles:"display:flex;padding:12px 0;> span:first-of-type{padding-right:8px;}> span:last-of-type{margin-top:-4px;}"}),k=Object(s.a)("div",{target:"e1e3cud21"})({name:"suayju",styles:"margin:0 auto;width:100%;"}),w=Object(s.a)("div",{target:"e1e3cud22"})({name:"13tntgw",styles:"display:flex;padding:12px 0 16px 0;span{padding-right:8px;}"}),A=Object(s.a)("div",{target:"e1e3cud23"})("background-color:",p.colors.N60,";border-radius:3px;height:12px;margin-bottom:8px;width:",e=>e.width,"%;"),j=({contentId:e})=>{var t;const[n,o]=Object(r.useState)(!1),{data:i,loading:s}=Object(c.c)(I,{variables:{contentId:e}}),l=Object(r.useCallback)(()=>{o(!0)},[e]),p=(e=>{var t,n,o;return{userId:null!=(o=e)&&null!=(o=o.content)&&null!=(o=o.nodes)&&null!=(o=o[0])&&null!=(o=o.history)&&null!=(o=o.createdBy)?o.accountId:o,avatarUrl:null!=(n=e)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])&&null!=(n=n.history)&&null!=(n=n.createdBy)&&null!=(n=n.profilePicture)?n.path:n,displayName:null!=(t=e)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.history)&&null!=(t=t.createdBy)?t.displayName:t}})(i),h=(null!=(t=i)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.body)&&null!=(t=t.view)?t.value:t)||"";return s?a.a.createElement(w,null,a.a.createElement(m.a,{label:"legacy-modal-shortcut"}),a.a.createElement(k,null,a.a.createElement(A,{width:100}),a.a.createElement(A,{width:100}),a.a.createElement(A,{width:75}))):a.a.createElement(r.Fragment,null,a.a.createElement(O,null,a.a.createElement(m.a,{label:"legacy-modal-shortcut"}),a.a.createElement("span",null,a.a.createElement("a",{href:"#",onClick:l},a.a.createElement(d.c,{id:"fabric-extension-handlers.fallback.action",defaultMessage:"Click to view content",description:"clickable link to display more content"}))," ",a.a.createElement(d.c,{id:"fabric-extension-handlers.fallback.reason",defaultMessage:"that can't display inline as it was created in a legacy version of Confluence.",description:"reason for why we cannot display the fallback content"}))),a.a.createElement(u.b,null,n&&a.a.createElement(_,{onClose:o,content:h,user:p})))};j.displayName="FallbackComponent",n.d(t,"a",(function(){return x}));const x=(e,t)=>{const n={[i.b.MACRO_CORE]:T(e)},r={[i.b.MIGRATION]:S(e,t)};return Object(o.a)({},n,r)},T=e=>t=>{const{extensionKey:n}=t;return e&&e(n),null},S=(e,t)=>n=>{const{extensionKey:o}=n;return o===i.d.INVALID&&e&&e(),o===i.a.INLINE_EXTERNAL_IMAGE?(e&&e(o),t?a.a.createElement(j,{contentId:t}):null):o===i.a.INLINE_MEDIA_IMAGE?(e&&e(o),t?a.a.createElement(j,{contentId:t}):null):null}},"6OdC":function(e,t,n){var o=n("NYSw");e.exports=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?o(e,t,void 0,n):!!r}},"6lDt":function(e,t,n){"use strict";t.a={TOOLS_MENU_CONTAINER:"system.content.action",TOOLS_MENU_MARKER:"system.content.action/marker",TOOLS_MENU_LEADING:"system.content.action/leading",TOOLS_MENU_PRIMARY:"system.content.action/primary",TOOLS_MENU_SECONDARY:"system.content.action/secondary",TOOLS_MENU_MODIFY:"system.content.action/modify",PAGE_BUTTONS:"system.content.button",SYSTEM_DASHBOARD:"system.dashboard",SYSTEM_DASHBOARD_BUTTON:"system.dashboard.button",SYSTEM_CONTENT_BYLINE:"system.content.byline",SYSTEM_CONTENT_METADATA:"system.content.metadata",PAGE_METADATA_BANNER:"page.metadata.banner",SYSTEM_HEADER_LEFT:"system.header/left",SYSTEM_HEADER_LEFT_BUTTON_GROUP:"system.header/left.button.group",SYSTEM_HELP:"system.help/pages",SYSTEM_USER_ANONYMOUS:"system.user/anonymous",SYSTEM_USER:"system.user",SYSTEM_ADMIN_SITE_SECTION:"system.admin.site/site_admin_section",SPACE_SIDEBAR:"system.space.sidebar/main-links",SYSTEM_ADMIN:"system.admin",SYSTEM_EDITOR_LINK_BROWSER_TABS:"system.editor.link.browser.tabs",SYSTEM_EDITOR_PRECURSOR_BUTTONS:"system.editor.precursor.buttons",CREATE_DIALOG:"system.create.dialog/content",DASHBOARD_LEFT:"atl.dashboard.left",DASHBOARD_SECONDARY:"atl.dashboard.secondary",ATL_GENERAL:"atl.general",ATL_FOOTER:"atl.footer",ATL_PAGE_METADATA:"atl.page.metadata.banner",ATL_PAGE_CONTENT_FOOTER_ACTIONS:"atl.page.content.footer.actions",ATL_EDITOR_SAVEBAR:"atl.editor.savebar",SYSTEM_ADMIN_SITE_ADMINISTRATION:"system.admin/siteadministration"}},"746O":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));var o=n("KD1n"),r=n("H5qd"),a=n.n(r);function i(){const e=Object(o.a)(["\n  fragment contentFragment on Content {\n    id\n    operations {\n      operation\n      targetType\n    }\n    space {\n      id\n      homepageId\n    }\n    type\n    history {\n      createdBy {\n        ... on KnownUser {\n          accountId\n        }\n        ... on User {\n          accountId\n        }\n      }\n    }\n  }\n"]);return i=function(){return e},e}function s(){const e=Object(o.a)(["\n  fragment commentListFragment on PaginatedContentList {\n    count\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n"]);return s=function(){return e},e}function c(){const e=Object(o.a)(["\n  fragment commentDataFragment on Content {\n    id\n    ancestors {\n      id\n    }\n    history {\n      createdBy {\n        type\n        profilePicture {\n          path\n        }\n        displayName\n        ... on KnownUser {\n          accountId\n        }\n        ... on User {\n          accountId\n        }\n      }\n    }\n    links {\n      webui\n    }\n    operations {\n      operation\n    }\n    version {\n      number\n      friendlyWhen\n      when\n      by {\n        type\n        displayName\n        ... on KnownUser {\n          accountId\n        }\n        ... on User {\n          accountId\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){const e=Object(o.a)(["\n  fragment userFragment on AtlassianUser {\n    displayName\n    photos {\n      isPrimary\n      value\n    }\n    id\n  }\n"]);return d=function(){return e},e}const l=a()(d()),m=a()(c()),u=a()(s()),p=a()(i())},"7Otk":function(e,t,n){"use strict";var o=n("97Jx"),r=n.n(o),a=n("m3Bd"),i=n.n(a),s=n("VrFO"),c=n.n(s),d=n("Y9Ll"),l=n.n(d),m=n("N+ot"),u=n.n(m),p=n("AuHH"),h=n.n(p),f=n("1Pcy"),b=n.n(f),C=n("5Yy7"),y=n.n(C),_=n("KEM+"),g=n.n(_),E=n("ERkP"),v=n.n(E),I=n("aWzz"),O=n.n(I),k=n("0LOj"),w=n("xbH5"),A=n("S6DC");t.a=function(e){var t,n;return n=t=function(t){function n(){var e,t;c()(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=u()(this,(e=h()(n)).call.apply(e,[this].concat(r))),g()(b()(t),"callContextFn",Object(w.a)(b()(t),A.a)),g()(b()(t),"shouldCloseAfterClick",(function(){return!t.props.isDisabled&&!t.props.href})),g()(b()(t),"handleClick",(function(e){t.props.onClick(e),t.shouldCloseAfterClick()&&t.callContextFn("itemClicked")})),g()(b()(t),"handleKeyDown",(function(e){t.props.onKeyDown?t.props.onKeyDown(e):"Space"!==e.key&&"Enter"!==e.key||t.handleClick(e)})),t}return y()(n,t),l()(n,[{key:"render",value:function(){var t=this.props,n=t.children,o=i()(t,["children"]);return v.a.createElement(e,r()({},o,{onClick:this.handleClick,onKeyDown:this.handleKeyDown}),n)}}]),n}(E.Component),g()(t,"displayName","WithItemClick(".concat(Object(k.a)(e),")")),g()(t,"defaultProps",{onClick:function(){}}),g()(t,"contextTypes",g()({},A.a,O.a.object)),n}},"7eka":function(e,t,n){var o=n("fLv1"),r=n("7l8p");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return r(o,e)}},"7hB0":function(e,t,n){"use strict";var o=n("97Jx"),r=n.n(o),a=n("m3Bd"),i=n.n(a),s=n("VrFO"),c=n.n(s),d=n("Y9Ll"),l=n.n(d),m=n("N+ot"),u=n.n(m),p=n("AuHH"),h=n.n(p),f=n("1Pcy"),b=n.n(f),C=n("5Yy7"),y=n.n(C),_=n("KEM+"),g=n.n(_),E=n("ERkP"),v=n.n(E),I=n("aWzz"),O=n.n(I),k=n("7nmT"),w=n.n(k),A=n("fN3Q"),j=n.n(A),x=n("0LOj"),T=n("xbH5"),S=n("S6DC");t.a=function(e){var t,n;return n=t=function(t){function n(){var e,t;c()(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=u()(this,(e=h()(n)).call.apply(e,[this].concat(r))),g()(b()(t),"contextId",void 0),g()(b()(t),"callContextFn",Object(T.a)(b()(t),S.b)),g()(b()(t),"isFocusable",(function(){return!t.props.isDisabled&&!t.props.isHidden})),g()(b()(t),"handleFocus",(function(){t.isFocusable()&&t.callContextFn("itemFocused",t.contextId)})),t}return y()(n,t),l()(n,[{key:"componentDidMount",value:function(){this.isFocusable()&&(this.contextId=j()(),this.callContextFn("registerItem",this.contextId,w.a.findDOMNode(this)))}},{key:"componentDidUpdate",value:function(){this.isFocusable()&&this.callContextFn("updateItem",this.contextId,w.a.findDOMNode(this))}},{key:"componentWillUnmount",value:function(){this.isFocusable()&&this.callContextFn("deregisterItem",this.contextId)}},{key:"render",value:function(){var t=this.props,n=t.children,o=i()(t,["children"]);return v.a.createElement(e,r()({onFocus:this.handleFocus,role:"menuitem"},o),n)}}]),n}(E.Component),g()(t,"displayName","WithItemFocus(".concat(Object(x.a)(e),")")),g()(t,"contextTypes",g()({},S.b,O.a.object)),n}},ABLC:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".CommentsSection_root_3ge{padding-top:1px;list-style:none}.aui-page-panel-inner{overflow:visible}",""]),t.locals={root:"CommentsSection_root_3ge"}},AqZj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("KD1n");var o=n("daKX");Object(o.a)("wrm");function r(e,t){if(!t.length)return Promise.resolve();const n=window.document.createDocumentFragment(),o=t.map(e=>new Promise((t,o)=>{const r=window.document.createElement("script");r.async=!1,r.src=e,r.onload=t,r.onerror=o,n.appendChild(r)}));return e.appendChild(n),Promise.all(o).catch((...e)=>{0})}},B5F7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("KD1n"),r=n("H5qd");function a(){const e=Object(o.a)(["\n  mutation CommentsSectionQueryDeleteComment($contentId: ID!) @experimental {\n    experimentalDeleteComment(contentId: $contentId) {\n      contentId\n      statusCode\n    }\n  }\n"]);return a=function(){return e},e}const i=n.n(r)()(a())},Cam2:function(e,t,n){"use strict";var o,r=n("D57K"),a=n("ERkP"),i=n.n(a),s=n("OEBU"),c=n("YGBU"),d=n("2sr0"),l=n("JEzt"),m=n.n(l),u=n("gp2w"),p=n("NI0Q"),h=n("RLdS"),f=n("FmgO"),b=n("KsTJ"),C=n("+3hD"),y=n("RZTm"),_=n("m7kQ"),g=n("hd9Z"),E=n("tD4N"),v=Object(C.a)({light:_.N0,dark:_.DN50}),I=Object(C.a)({light:_.N900,dark:_.DN600}),O=b.default.div(o||(o=Object(r.__makeTemplateObject)(["\n  background: ",";\n  border-radius: ","px;\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: ",";\n\n  ",";\n\n  &:focus {\n    outline: none;\n  }\n"],["\n  background: ",";\n  border-radius: ","px;\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: ",";\n\n  ",";\n\n  &:focus {\n    outline: none;\n  }\n"])),v,y.f,I,Object(g.multiply)(y.l,56),Object(g.multiply)(y.l,56),Object(g.multiply)(y.l,2),Object(g.multiply)(y.l,3),y.m.dialog,E.e200),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickOutside=function(e){var n=t.props,o=n.isOpen,r=n.onClose;if(!e.defaultPrevented){var a=t.containerRef,i=t.triggerRef,s=e.target;i&&i.contains(s)||o&&a&&!a.contains(s)&&r&&r({isOpen:!1,event:e})}},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){"undefined"!=typeof window&&(!e.isOpen&&this.props.isOpen?window.addEventListener("click",this.handleClickOutside,!0):e.isOpen&&!this.props.isOpen&&window.removeEventListener("click",this.handleClickOutside,!0))},t.prototype.componentDidMount=function(){"undefined"!=typeof window&&this.props.isOpen&&window.addEventListener("click",this.handleClickOutside,!0)},t.prototype.componentWillUnmount=function(){"undefined"!=typeof window&&window.removeEventListener("click",this.handleClickOutside,!0)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.placement,r=t.isOpen,a=t.content,s=t.onContentBlur,c=t.onContentFocus,d=t.onContentClick,l=t.testId,f=r?i.a.createElement(u.a,{placement:o},(function(t){var n=t.ref,o=t.style;return i.a.createElement(O,{onBlur:s,onFocus:c,onClick:d,innerRef:function(t){e.containerRef=t,"function"==typeof n?n(t):n.current=t},style:o,"data-testid":l},a)})):null;return i.a.createElement(p.c,null,i.a.createElement(h.a,null,(function(t){var o=t.ref;return i.a.createElement(m.a,{innerRef:function(t){e.triggerRef=t,"function"==typeof o?o(t):o.current=t}},n)})),f)},t.defaultProps={isOpen:!1,onContentBlur:function(){},onContentClick:function(){},onContentFocus:function(){},onClose:function(){},placement:"bottom-start"},t}(a.Component),w=Object(s.a)("atlaskit");t.a=Object(c.a)({componentName:"inlineDialog",packageName:f.a,packageVersion:f.b})(Object(d.a)({onClose:w({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:f.a,packageVersion:f.b}})})(k))},DZ5j:function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var o,r=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(o=0;o<r;o++)if(t.call(n,e[o],o,e))return e[o]}},Dsoe:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("ERkP"),r=n("hpu0");class a extends o.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,attributes:n,collect:o,onSuccess:a}=this.props;Object(r.a)().start({attributes:n,name:t,id:e,collect:o,onSuccess:a})}render(){return null}}a.displayName="ExperienceStart"},EcEE:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("ERkP"),r=n.n(o),a=n("L21V"),i=n("WA38"),s=n("TVRZ"),c=n("bR0+");const d=({userId:e,fullName:t,isAnonymous:n=!1,onUserLinkClick:o=(()=>{}),canViewProfile:d=!0,referralSource:l})=>n?r.a.createElement(a.c,{id:"profile.anonymous.name",defaultMessage:"Anonymous",description:"Text for Anonymous user profile link."}):r.a.createElement(s.a,{isAnonymous:n,canViewProfile:d,userId:e},r.a.createElement(i.a,{target:"_blank",onClick:o,href:Object(c.a)(e,l)},t))},EiJY:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var o=function(e){return{}},r=function(e,t){if(void 0===t&&(t=Object.create(Object.prototype)),!e)throw new Error("a default set of overrides *must* be passed in as the first argument");return function(n){var o=e[n],r=o.cssFn,a=o.attributesFn,i=o.component;if(!t[n])return{cssFn:r,attributesFn:a,component:i};var s=t[n],c=s.cssFn,d=s.attributesFn,l=s.component;return{cssFn:c?function(e){return c(r(e),e)}:r,attributesFn:d||a,component:l||i}}}},FmgO:function(e){e.exports=JSON.parse('{"a":"@atlaskit/inline-dialog","b":"12.1.7"}')},IGvV:function(e,t,n){"use strict";var o=n("aWzz"),r=n.n(o),a=n("ERkP"),i=n.n(a);var s=function(...e){return t=>{class n extends i.a.Component{componentWillUnmount(){this.removeCss()}UNSAFE_componentWillMount(){this.removeCss=this.context.insertCss.apply(void 0,e)}render(){return i.a.createElement(t,this.props)}}return n.displayName="StyledComponent",n.displayName="WithStyles(".concat(t.displayName||t.name||"",")"),n.contextTypes={insertCss:r.a.func.isRequired},n}};var c=function(e){return t=>{class n extends a.Component{constructor(){super(),this.state={hasFetched:!1}}componentDidMount(){e().then(e=>{this.setState({hasFetched:!0}),this.removeCss=this.context.insertCss.apply(void 0,[e])})}componentWillUnmount(){this.removeCss&&this.removeCss()}render(){return this.state.hasFetched?i.a.createElement(t,this.props):null}}return n.displayName="StyledAsyncComponent",n.displayName="WithStylesAsync(".concat(t.displayName||t.name||"",")"),n.contextTypes={insertCss:r.a.func.isRequired},n}};n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}))},IoON:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".CommentAddPrompt_root_24r{border:1px solid #ccc;border-radius:3px;height:42px;color:#999;padding-top:5px}.CommentAddPrompt_root_24r span{padding:6px}",""]),t.locals={root:"CommentAddPrompt_root_24r"}},JEzt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("JnXH");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},Jn8G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={FABRIC:"FABRIC",TINY_MCE:"TINY_MCE"}},JnXH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n("ERkP"),a=n("7nmT");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,a.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);t.default=c},JzH8:function(e,t,n){"use strict";var o=n("cxan"),r=n("HbGN"),a=(n("aWzz"),n("ERkP")),i=n.n(a),s=n("7LQG");class c extends a.Component{render(){const e=this.props,{children:t,href:n}=e,a=Object(r.a)(e,["children","href"]);return n?i.a.createElement("a",Object(o.a)({},a,{href:0===n.indexOf(s.a)?n:"".concat(s.a).concat(n)}),t):i.a.createElement("span",a,t)}}c.displayName="ContextAwareLink",c.displayName="ContextAwareLink",t.a=c},LOfW:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".CommentsList_root_47I{margin-top:5px}",""]),t.locals={root:"CommentsList_root_47I"}},"M/rd":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pkwY"),r=n("ERkP"),a=n.n(r),i=n("xBue"),s=n("Ua4J");const c=Object(r.forwardRef)(({children:e,className:t,target:n,testId:c,name:d,href:l=null,to:m=null,params:u={},onClick:p=(()=>{})},h)=>{const{toUrl:f,matchSupportedRoute:b,onPageReload:C}=Object(r.useContext)(s.a),y=e=>{C(e.target.getAttribute("href"),!1),p(e)},_=o=>a.a.createElement("a",{href:o,className:t,onClick:y,target:n,rel:"_blank"===n?"noreferrer":void 0,"data-testid":c,ref:h},e),g=l||m;if(!g&&!d)return _("");const E=g&&{href:g},v=f(d,Object(o.a)({},u,E)),I=b(v);return I?a.a.createElement(i.a,{to:"".concat(I.pathname).concat(I.search).concat(I.hash),className:t,onClick:p,innerRef:h},e):_(v)})},M2LZ:function(e,t,n){"use strict";var o=n("S2j0");var r={require:(e,t)=>new Promise(n=>{Object(o.a)(e,e=>{n(e),t&&t(e)},()=>{0})})},a=n("cxan"),i=n("zjfJ"),s=n("pkwY"),c=n("ERkP"),d=n.n(c);var l=function(e,t){const n=Object(s.a)({isBlocking:!0},t);return t=>{class r extends c.Component{constructor(...e){super(...e),Object(i.a)(this,"state",{dependenciesLoaded:!1}),Object(i.a)(this,"markAsLoaded",()=>{this.mounted&&this.setState({dependenciesLoaded:!0})})}componentDidMount(){this.mounted=!0,e&&e.length>0?Object(o.a)(e,this.markAsLoaded,()=>{0}):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!n.isBlocking?d.a.createElement(t,Object(a.a)({},this.props,{wrmDependenciesLoaded:e})):null}}return r.displayName="WRMComponent",r.displayName="WRMComponent(".concat(t.displayName||t.name,")"),r}};n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}))},MV18:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("ERkP"),r=n("hpu0");function a({name:e,attributes:t}){return Object(o.useEffect)(()=>Object(r.a)().succeed({name:e,attributes:t}),[e]),null}},N4KI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("ERkP")),r=a(n("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><rect fill="inherit" x="8" y="11" width="8" height="2" rx="1"/></g></svg>'},e))};s.displayName="CheckboxIndeterminateIcon";var c=s;t.default=c},NsQF:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("zjfJ"),r=n("ERkP"),a=n.n(r),i=(n("aWzz"),n("7nmT")),s=n.n(i),c=n("/FQd"),d=n("7M9M"),l=n("TVRZ"),m=n("bR0+");const u=["a.user-mention","a.confluence-userlink","a.userLogoLink","span.user-hover-trigger","img.confluence-userlink"];class p extends r.Component{constructor(...e){super(...e),Object(o.a)(this,"renderPortal",e=>{const{position:t}=this.props,n=e.props["data-account-id"];return s.a.createPortal(a.a.createElement(c.a,null,({featureFlags:o})=>(e.props.href=Object(m.a)(e.props["data-account-id"],null,o["confluence.frontend.people.directory"]?d.CONTEXT_PATH:""),a.a.createElement(l.a,{isAnonymous:!n,userId:n,position:t},a.a.createElement("a",e.props,e.props.children)))),e.placeholder)})}shouldComponentUpdate(e){return e.node!==this.props.node}getLegacyUserElements(){const{node:e}=this.props;return e?Array.from(e.querySelectorAll(u.join(","))):[]}render(){return Object(m.d)(this.getLegacyUserElements()).map(e=>this.renderPortal(e))}}p.displayName="LegacyUserElementsHover"},OKa2:function(e){e.exports=JSON.parse('{"a":"@atlaskit/checkbox","b":"10.1.3"}')},"ON/h":function(e,t,n){"use strict";n("aWzz");var o=n("ERkP"),r=n.n(o),a=n("7LQG");const i=({contentId:e,onClick:t})=>r.a.createElement("div",{id:"comments-actions",style:{display:"none"}},r.a.createElement("a",{href:"".concat(a.a,"/pages/viewpage.action?pageId=").concat(e,"&showComments=true&showCommentArea=true#addcomment"),id:"add-comment-rte",className:"full-load",onClick:t}));i.displayName="CommentLegacyAction",t.a=i,i.displayName="CommentLegacyAction"},PLaw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("ERkP")),r=a(n("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ChevronDownIcon";var c=s;t.default=c},RHpf:function(e,t,n){"use strict";n.r(t);var o=n("pkwY"),r=n("zjfJ"),a=(n("aWzz"),n("ERkP")),i=n.n(a),s=n("sRL2"),c=n("gQ5V"),d=n("uDfI"),l=n("kD2R"),m=n("2srY"),u=n.n(m),p=n("zr3P"),h=n.n(p),f=n("f6W2"),b=n("OC+J"),C=n("FdGg"),y=n("X2PC"),_=n("Wt1t"),g=n("Dsoe"),E=n("3VMZ"),v=n("KuZF");function I(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var O,k,w,A=n("6lDt"),j=n("Jn8G"),x=n("EfWO"),T=n.n(x),S=n("nnRT"),N=n.n(S),P=n("lKOy"),D=n.n(P),L=n("uZih"),M=n.n(L),F=n("L21V"),R=n("swvn"),H=n.n(R),B=n("IC1n"),U=n.n(B),V=n("2sr0"),W=n("IGvV"),q=n("bfgX"),z=n("J7sl"),G=n("hpu0"),Y=n("A79P"),J=n("vdGo"),K=n("6esG"),Q=n("MV18"),X=n("uJ/C"),$=n("bfiC"),Z=n("WRP3"),ee=n("ON/h"),te=n("V/ff"),ne=n("jqY8"),oe=n("Xzcx"),re=n("utTn"),ae=n("UbDs"),ie=n.n(ae);const se={"Captcha check failed":"captcha.response.failed"},ce="addComment",de="editComment",le="replyComment",me=null;let ue=(O=Object(W.a)(ie.a),k=Object(V.a)(),Object(F.h)(w=O(w=k(w=class extends a.Component{constructor(...e){super(...e),Object(r.a)(this,"state",{commentsIds:this.props.commentsIds,updatedCommentsIds:[],hasNextPage:this.props.hasNextPage,editorState:{contentId:null,mode:me,errorMessage:"",errorType:null,updateTime:0,isEditorLoaded:!1}}),Object(r.a)(this,"domNodes",{}),Object(r.a)(this,"_showEditor",e=>{Object(z.a)({name:E.a.ADD_PAGE_COMMENT,id:U()(),attributes:{editor:j.a.TINY_MCE,mode:e.mode}},{name:E.a.ADD_PAGE_COMMENT_LOAD},{name:E.a.ADD_PAGE_COMMENT_PUBLISH}),this.setState({editorState:Object(o.a)({},this.state.editorState,e)})}),Object(r.a)(this,"_hideEditor",()=>{const e={contentId:null,mode:me};this.setState({editorState:Object(o.a)({},this.state.editorState,e)})}),Object(r.a)(this,"_onEditorLoaded",()=>{Object(G.a)().succeed({name:E.a.ADD_PAGE_COMMENT_LOAD}),this.setState({editorState:Object(o.a)({},this.state.editorState,{isEditorLoaded:!0})})}),Object(r.a)(this,"_hideEditorIfNotForComments",()=>{const e=Object(te.c)();this.domNodes.root.querySelectorAll("#".concat(e.id)).length||this._hideEditor()}),Object(r.a)(this,"_replyCommentAction",e=>{this._showEditor({contentId:e,mode:le})}),Object(r.a)(this,"_editCommentAction",e=>{this._showEditor({mode:de,contentId:e})}),Object(r.a)(this,"_showAddCommentEditor",e=>{const{contentId:t}=this.props;e&&e.preventDefault(),this._warnCommentLost(()=>{this._showEditor({mode:ce,contentId:t})})}),Object(r.a)(this,"_triggerShowAddCommentEditor",e=>{setTimeout(()=>this.scrollToElement("addcomment"),0),this._showAddCommentEditor(e)}),Object(r.a)(this,"_warnCommentLost",e=>{const{formatMessage:t}=this.props.intl;Object(te.h)()&&!Object(ne.b)(t({id:"unsaved.comment.lost"}))||e()}),Object(r.a)(this,"_callAnalyticsEvent",e=>{this.props.createAnalyticsEvent({type:"sendTrackEvent",data:e}).fire()}),Object(r.a)(this,"_getCommentAnalyticsObject",e=>{const{id:t,spaceId:n,ownerId:o,requestType:r,isInlineComment:a,contentType:i,parentId:s}=e;return{containerType:"space",containerId:n,source:"viewPageScreen",objectType:"page",objectId:o.toString(),action:"editComment"===r?"updated":"created",actionSubject:"comment",actionSubjectId:t,attributes:{commentType:a?"inline":"page",pageType:i,parentCommentId:s.toString()}}}),Object(r.a)(this,"_editorSaveHandler",e=>{const{formatMessage:t}=this.props.intl,{saveComment:n,onRefetchComments:r}=this.props,{editorState:a}=this.state;if(!e.html||!e.html.trim()){const e={errorMessage:t({id:"content.empty"}),errorType:"warning"};return void this.setState({editorState:Object(o.a)({},this.state.editorState,e)})}const{mode:i}=a;e.requestType=i,i===le&&(e.showCommentAfter=this._getThreadLastCommentId(a.contentId)),i!==me&&Object(G.a)().start({name:E.a.ADD_PAGE_COMMENT_PUBLISH,id:U()(),timeout:Y.a.EDITOR_PUBLISH,attributes:{editor:j.a.TINY_MCE,mode:i}}),n(e).then(t=>{const{data:{experimentalSaveComment:{id:n,parentId:o,ownerId:i,isInlineComment:s}}}=t,{spaceId:c,contentType:d}=this.props,l=this._getCommentAnalyticsObject({id:n,spaceId:c,parentId:o,contentType:d,ownerId:i,isInlineComment:s,requestType:e.requestType});this._callAnalyticsEvent(l);const m={commentId:n,threadLastCommentId:this._getThreadLastCommentId(a.contentId),parentId:o,mode:a.mode};r(m).then(()=>{this._hideEditor(),s||this.state.editorState.mode!==me||Object(G.a)().succeed({name:E.a.ADD_PAGE_COMMENT_PUBLISH})})}).catch(()=>{const e={errorMessage:t({id:"comment.editor.cant.publish.changes"}),errorType:"error"};this.setState({editorState:Object(o.a)({},this.state.editorState,e)})}),this._removeSlowCommentURLParams()}),Object(r.a)(this,"_editorCancelHandler",()=>{this._hideEditor(),this._removeSlowCommentURLParams(),Object(G.a)().abort({name:E.a.ADD_PAGE_COMMENT,reason:"CommentsSectionFComponent _editorCancelHandler"})}),Object(r.a)(this,"_onDeleteComment",e=>this.props.deleteComment(e)),Object(r.a)(this,"_onReplyToComment",e=>{this._warnCommentLost(()=>this._replyCommentAction(e))}),Object(r.a)(this,"_onEditComment",e=>{this._warnCommentLost(()=>this._editCommentAction(e))}),Object(r.a)(this,"_getCommentActions",()=>({deleteComment:this._onDeleteComment,replyToComment:this._onReplyToComment,editComment:this._onEditComment})),Object(r.a)(this,"_closeEditorError",()=>{this.setState({editorState:Object(o.a)({},this.state.editorState,{errorMessage:"",updateTime:0})})}),Object(r.a)(this,"_getReference",e=>t=>this.domNodes[e]=t)}static getDerivedStateFromProps(e,t){return!N()(t.commentsIds,e.commentsIds)&&!1===t.hasNextPage&&!1===e.hasNextPage&&e.hasFetchedComments?{commentsIds:e.commentsIds,hasNextPage:e.hasNextPage,updatedCommentsIds:D()(e.commentsIds,t.commentsIds)}:Object(o.a)({},t,{commentsIds:e.commentsIds,hasNextPage:e.hasNextPage})}componentDidMount(){const{replyToCommentId:e,shouldOpenAddComment:t,openEditCommentId:n,isEditCommentFound:o,focusOnCommentId:r,readyToScrollToElement:a}=this.props,{editorState:i}=this.state;n&&o&&(this._editCommentAction(n),this.scrollToElement("comment-".concat(n))),e&&i.contentId!==e&&this._replyCommentAction(e),t&&this._triggerShowAddCommentEditor(),r&&a&&this.scrollToElement("comment-".concat(r)),t&&a&&this.scrollToElement("addcomment"),Object(q.a)("rte-quick-edit-ready",this._hideEditorIfNotForComments)}componentDidUpdate(){Object(re.d)()}componentWillUnmount(){Object(q.c)("rte-quick-edit-ready",this._hideEditorIfNotForComments),this._hideEditor()}scrollToElement(e){const t=Object(oe.d)(e);t&&t.scrollIntoView()}_getThreadLastCommentId(e){const{commentsData:t}=this.props;let n,o,r,a;return t.forEach(t=>{n||(void 0!==o&&(o>=t.depthLevel?n=r:a=t.id),t.id===e&&(o=t.depthLevel),r=t.id)}),n||(n=a||e),n}_removeSlowCommentURLParams(){const{replace:e,location:t}=this.props,n=t.query,r=["showCommentArea","showComments","editComment","commentId"];if(!r.map(e=>void 0!==n[e]).filter(e=>e).length)return;const a=M()(t.query,r);e(Object(o.a)({},t,{query:a,search:T.a.format({query:a})}))}_canViewProfile(){const{isAnonymous:e,currentUserCanViewProfile:t}=this.props.currentUserInfo;return e?!0===t:!1!==t}_isAddCommentEditorEnabled(){const{contentId:e}=this.props,{editorState:t}=this.state;return t.contentId===e&&t.mode===ce}_renderHeadLine(){const{totalComments:e}=this.props;return e?i.a.createElement("h2",{"data-test-id":"comments-count"},1===e?i.a.createElement(F.c,{id:"comment.singular",values:{0:e}}):i.a.createElement(F.c,{id:"comment.plural",values:{0:e}})):null}_renderEditCommentErrorFlag(){const{openEditCommentId:e,isEditCommentFound:t}=this.props;return e&&!t?i.a.createElement(H.a,{type:"error"},i.a.createElement(F.c,{id:"comment.edit.not.found"})):null}_renderCommentsList(){const{contentId:e,currentUserInfo:t,commentsData:n,contentType:o,focusOnCommentId:r,editedCommentsIds:a,atlToken:s}=this.props,{updatedCommentsIds:c,commentsIds:d,editorState:l}=this.state,m={atlToken:s,commentsIds:d,contentType:o,contentId:e,comments:n,commentActions:this._getCommentActions(),showAuthorLabel:"blogpost"===o,focusOnCommentId:r,highlightedComments:a.length>0?a:c,userInfo:t,editor:l,canViewProfile:this._canViewProfile(),editorSaveHandler:this._editorSaveHandler,editorCancelHandler:this._editorCancelHandler,onEditorLoaded:this._onEditorLoaded};return i.a.createElement($.a,m)}_renderAddCommentField(){const{contentId:e,canAddComments:t,currentUserInfo:n,atlToken:o}=this.props,{editorState:r}=this.state;if(!t)return;const a={style:{paddingTop:20},contentId:e,atlToken:o,mode:"add",id:"addcomment",userInfo:n,isEditorEnabled:this._isAddCommentEditorEnabled(),onClickCommentAddPrompt:this._showAddCommentEditor,editor:r,canViewProfile:this._canViewProfile(),editorSaveHandler:this._editorSaveHandler,editorCancelHandler:this._editorCancelHandler,onEditorLoaded:this._onEditorLoaded,comment:{isFabricComment:!1}};return i.a.createElement(Z.a,a)}_renderEditorMessage(){const{formatMessage:e}=this.props.intl,{editorState:t}=this.state;return i.a.createElement(a.Fragment,null,i.a.createElement(X.a,{isShowing:!0,type:t.errorType||"error",body:se[t.errorMessage]?e({id:se[t.errorMessage]}):t.errorMessage,close:"manual",onClose:this._closeEditorError}),"error"===t.errorType?i.a.createElement(J.a,{name:E.a.ADD_PAGE_COMMENT,error:new Error(t.errorMessage)}):null)}_renderGraphQLErrorMessage(){const{formatMessage:e}=this.props.intl,{saveCommentError:t,deleteCommentError:n}=this.props,o=t||n,r=u()(o,"graphQLErrors[0].message");return i.a.createElement(a.Fragment,null,i.a.createElement(X.a,{isShowing:!0,type:"error",body:se[r]?e({id:se[r]}):r,close:"manual",onClose:this._closeEditorError}),t&&i.a.createElement(K.a,{name:E.a.ADD_PAGE_COMMENT_PUBLISH,error:t}))}render(){const{contentId:e,saveCommentError:t,deleteCommentError:n,totalComments:o,hasNextPage:r}=this.props,{editorState:a}=this.state,s=this._isAddCommentEditorEnabled();return i.a.createElement("div",{className:ie.a.root,ref:this._getReference("root"),id:"comments-section","data-test-id":"comments-section-new"},this._renderHeadLine(),this._renderEditCommentErrorFlag(),t||n?this._renderGraphQLErrorMessage():null,this._renderCommentsList(),this._renderAddCommentField(),a.errorMessage?this._renderEditorMessage():null,s?null:i.a.createElement(ee.a,{contentId:e,onClick:this._triggerShowAddCommentEditor}),r?null:i.a.createElement(Q.a,{name:E.a.VIEW_PAGE_COMMENTS,attributes:{totalComments:o}}))}})||w)||w)||w);var pe=n("KD1n"),he=n("H5qd"),fe=n.n(he),be=n("746O");function Ce(){const e=Object(pe.a)(['\n  query CommentsSectionQuery($offset: Int, $first: Int, $contentId: ID!) {\n    content(id: $contentId) {\n      child {\n        comment(\n          offset: $offset\n          first: $first\n          location: ["footer"]\n          depth: "all"\n        ) {\n          ...commentListFragment\n          edges {\n            cursor\n            node {\n              ...commentDataFragment\n              body {\n                editor {\n                  value\n                }\n                view {\n                  value\n                  webresource {\n                    keys\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      nodes {\n        ...contentFragment\n      }\n    }\n    user(current: true) {\n      ...userFragment\n    }\n  }\n\n  ',"\n  ","\n  ","\n  ","\n"]);return Ce=function(){return e},e}const ye=fe()(Ce(),be.d,be.c,be.b,be.a);function _e(){const e=Object(pe.a)(["\n  mutation CommentsSectionQuerySaveComment($params: ExperimentalCommentInput)\n    @experimental {\n    experimentalSaveComment(params: $params) {\n      asyncRenderSafe\n      html\n      id\n      isInlineComment\n      ownerId\n      parentId\n    }\n  }\n"]);return _e=function(){return e},e}const ge=fe()(_e());var Ee=n("B5F7");function ve(){const e=Object(pe.a)(["\n  query CommentsSectionGetSingleCommentQuery($contentId: ID!) {\n    content(id: $contentId) {\n      nodes {\n        ...commentDataFragment\n        body {\n          editor {\n            value\n          }\n          view {\n            value\n            webresource {\n              keys\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return ve=function(){return e},e}const Ie=fe()(ve(),be.a);class Oe extends Error{constructor(...e){super(...e);const t=e[0];this.message=t.message,this.graphQLErrors=t.graphQLErrors}}const ke=Object(d.connect)((function(e,t){const{commentsData:n,hasFetchedComments:o}=t,r=n.map(e=>e.id),a=Object(f.a)(e),{focusedCommentId:i,replyToComment:s,showCommentArea:c,editComment:d,commentId:l}=a.query,m="true"===d&&l||"";return{focusOnCommentId:i||s,replyToCommentId:s,shouldOpenAddComment:"true"===c,openEditCommentId:m,isEditCommentFound:!!m&&-1!==r.indexOf(m),readyToScrollToElement:o,hasFetched:o,commentsData:n,commentsIds:r,location:a,atlToken:""}}),(function(e){return{replace:t=>e(Object(l.replace)(t))}}))(ue);let we=[];const Ae=Object(s.b)(class extends a.Component{constructor(...e){super(...e),Object(r.a)(this,"state",{webPanels:null}),Object(r.a)(this,"_loadedCursor",{}),Object(r.a)(this,"fetchWebPanels",()=>{const{contentId:e,client:t}=this.props,n={contentId:e,location:A.a.ATL_PAGE_CONTENT_FOOTER_ACTIONS};t.query({query:v.a,variables:n,fetchPolicy:"cache-first"}).then(e=>{const{data:t}=e,n=u()(t,"webPanels");this.setState({webPanels:n})})}),Object(r.a)(this,"_getCommentVersion",e=>({id:u()(e,"node.id"),by:u()(e,"node.version.by"),when:u()(e,"node.version.when")})),Object(r.a)(this,"_getADF",e=>{const t=u()(e,"node.body.atlas_doc_format.value");if(t)try{return JSON.parse(t)}catch(e){console.error("Invalid adf document",e)}return null}),Object(r.a)(this,"_buildUserInfo",e=>({displayName:u()(e,"displayName"),avatarUrl:u()(e,"photos.length")&&u()(e,"photos").find(e=>e.isPrimary).value,accountId:u()(e,"id")})),Object(r.a)(this,"_saveComment",(e,t)=>n=>{const{watch:o=!1,contentId:r,commentId:a="",html:i,requestType:s,captcha:c}=n;return t({variables:{params:{contentId:r||e,commentId:a,requestType:s,html:i,watch:o,uuid:"".concat(I()+I(),"-").concat(I(),"-").concat(I(),"-").concat(I(),"-").concat(I()).concat(I()).concat(I()),captcha:c}}})}),Object(r.a)(this,"_deleteComment",(e,t)=>e=>t({variables:{contentId:e}})),Object(r.a)(this,"_onRefetchComments",(e,t)=>{const{commentId:n}=e;return t({variables:{contentId:n},query:Ie,updateQuery:(t,{fetchMoreResult:o})=>{const r=u()(o,"content.nodes[0]");if(!r)return t;const a=h()(t);let i=[];const{threadLastCommentId:s,parentId:c,mode:d}=e;if("editComment"===d){const e=t.content.child.comment.edges.findIndex(e=>e.node.id===n);i=[...a.content.child.comment.edges.slice(0,e),...[{cursor:e.toString(),node:r,__typename:"ContentEdge"}],...a.content.child.comment.edges.slice(e+1)],we=[n]}else if("replyComment"===d){const e=s||c,n=t.content.child.comment.edges.findIndex(t=>t.node.id===e);i=[...a.content.child.comment.edges.slice(0,n+1),...[{cursor:(n+1).toString(),node:r,__typename:"ContentEdge"}],...a.content.child.comment.edges.slice(n+1)],we=[]}else"addComment"!==d&&"0"!==c||(i=a.content.child.comment.edges.concat([{cursor:t.content.child.comment.count.toString(),node:r,__typename:"ContentEdge"}]),we=[]);return Object.assign({},t,{content:{child:{comment:{count:i.length,pageInfo:{endCursor:(i.length-1).toString(),hasNextPage:!1,__typename:a.content.child.comment.pageInfo.__typename},edges:i,__typename:a.content.child.comment.__typename},__typename:a.content.child.__typename},nodes:[...a.content.nodes],__typename:a.content.__typename}})}})})}componentDidMount(){this.fetchWebPanels()}_buildCommentsData(e){const t=u()(e,"content.child.comment.edges");return t&&0!==t.length?t.map(e=>{const t=u()(e,"node.ancestors")||[],n=u()(t,"length")||0,o=u()(t,"ancestors[0].id")||null,r=u()(e,"node.body.view.value")||"",a=u()(e,"node.body.editor.value")||"",i=this._getADF(e),s=this._getCommentVersion(e),c=u()(e,"node.body.view.webresource.key")||[],d=Object(b.a)(u()(e,"node.history.createdBy"));return{ancestors:t,depthLevel:n,parentId:o,bodyExportView:r,contentContainerCreatedBy:Object(b.a)(u()(e,"node.container.history.createdBy")),bodyEditorView:a,adf:i,version:s,webResourceKeys:c,createdBy:d,createdByAuthor:Boolean(u()(e,"node.container.history.createdBy.accountId")&&u()(e,"node.version.by.accountId")&&u()(e,"node.container.history.createdBy.accountId")===u()(e,"node.version.by.accountId")),id:u()(e,"node.id")||"",linkWebui:u()(e,"node.links.webui")||"",operations:u()(e,"node.operations")||[],createdFriendly:u()(e,"node.version.friendlyWhen")||"",createdDate:u()(e,"node.version.when")||""}}):[]}_fetchMore(e,t){return e({variables:t,updateQuery:(e,{fetchMoreResult:t})=>{if(!t)return e;return Object.assign({},e,{content:{child:{comment:{count:e.content.child.comment.count+t.content.child.comment.count,pageInfo:Object(o.a)({},t.content.child.comment.pageInfo,{__typename:t.content.child.comment.pageInfo.__typename}),edges:[...e.content.child.comment.edges,...t.content.child.comment.edges],__typename:t.content.child.comment.__typename},__typename:t.content.child.__typename},nodes:[...t.content.nodes],__typename:t.content.__typename}})}})}render(){const{contentId:e}=this.props;return e?i.a.createElement(C.a,{attribution:y.a.COLLABORATION},i.a.createElement(g.a,{id:e,name:E.a.VIEW_PAGE_COMMENTS,attributes:{editor:j.a.TINY_MCE}}),i.a.createElement(c.b,{query:ye,variables:{contentId:e,offset:0,first:100},fetchPolicy:"cache-and-network",errorPolicy:"all"},({data:t,loading:n,error:r,fetchMore:a,networkStatus:s})=>i.a.createElement(c.a,{mutation:ge},(d,{error:l,data:m})=>i.a.createElement(c.a,{mutation:Ee.a,update:(t,{data:{experimentalDeleteComment:{contentId:n}}})=>{const r=t.readQuery({query:ye,variables:{contentId:e,offset:0,first:100}}),a=r.content.child.comment.edges.filter(e=>e.node.id!==n).map(e=>{const t=e.node.ancestors.filter(e=>e.id!==n),{container:r,body:a,history:i,id:s,links:c,operations:d,version:l}=e.node,m={container:r,body:a,history:i,id:s,links:c,operations:d,version:l},{cursor:u}=e;return Object.assign({},e,{cursor:u,node:Object(o.a)({ancestors:t},m,{__typename:e.node.__typename}),__typename:e.__typename})}),i=r.user;t.writeQuery({query:ye,variables:{contentId:e,offset:0,first:100},data:{content:{child:{comment:{count:a.length,pageInfo:{endCursor:(a.length-1).toString(),hasNextPage:!1,__typename:r.content.child.comment.pageInfo.__typename},edges:a,__typename:r.content.child.comment.__typename},__typename:r.content.child.__typename},nodes:[...r.content.nodes],__typename:r.content.__typename},user:i}})}},(o,{error:c,data:p})=>{if(r)throw new Oe(r);if(!u()(t,"content.nodes[0]")||!u()(t,"content.child.comment"))return null;const{count:h,pageInfo:{hasNextPage:f,endCursor:b}}=u()(t,"content.child.comment"),{operations:C,space:{homepageId:y,id:g},type:E}=u()(t,"content.nodes[0]"),v=this._buildUserInfo(u()(t,"user")),{webPanels:I}=this.state,O=y===e,k=C.find(e=>"create"===e.operation&&"comment"===e.targetType)&&Boolean(!O||h>0);return!f||n||this._loadedCursor[b]||(this._loadedCursor[b]=!0,this._fetchMore(a,{contentId:e,offset:Number(b)+1})),i.a.createElement(_.a.Provider,{value:{isLikesEnabled:!!I}},i.a.createElement(ke,{onRefetchComments:e=>this._onRefetchComments(e,a),canAddComments:k,currentUserInfo:v,canViewProfile:!!v,commentsData:this._buildCommentsData(t),contentId:e,contentType:E,spaceId:g,currentUserCanViewProfile:!!v,isAnonymous:!v,totalComments:f?0:h,hasFetchedComments:!n,hasNextPage:f,networkStatus:s,saveComment:this._saveComment(e,d),deleteComment:this._deleteComment(e,o),saveCommentData:m,saveCommentError:l,deleteCommentData:p,deleteCommentError:c,editedCommentsIds:we}))})))):null}});t.default=Ae},RLdS:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o=n("97Jx"),r=n.n(o),a=n("1Pcy"),i=n.n(a),s=n("W/Kd"),c=n.n(s),d=n("KEM+"),l=n.n(d),m=n("ERkP"),u=n("8z1j"),p=n.n(u),h=n("NI0Q"),f=n("3eOh"),b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,l()(i()(t),"refHandler",(function(e){Object(f.b)(t.props.innerRef,e),Object(f.a)(t.props.setReferenceNode,e)})),t}c()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){Object(f.b)(this.props.innerRef,null)},n.render=function(){return p()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),Object(f.c)(this.props.children)({ref:this.refHandler})},t}(m.Component);function C(e){return m.createElement(h.b.Consumer,null,(function(t){return m.createElement(b,r()({setReferenceNode:t},e))}))}},S6DC:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=function(e){return"@atlaskit-private-do-not-use/dropdown-menu:".concat(e)},r=o("focus-manager"),a=(o("selection-cache"),o("selection-manager"),o("click-manager"))},UbDs:function(e,t,n){var o=n("ABLC"),r=n("7l8p");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return r(o,e)}},"V/ff":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return u}));var o=n("Jygk"),r=n.n(o);const a={activateEditor:e=>r.a.AJS.Confluence.QuickEdit.activateEditor(e),deactivateEditor:()=>r.a.AJS.Confluence.QuickEdit.deactivateEditor(),postInitialise:()=>r.a.AJS.Confluence.QuickEdit.postInitialise()},i={preInitialise:e=>r.a.AJS.Confluence.QuickEdit.QuickEditPage.preInitialise(e)},s={preInitialise:()=>r.a.AJS.Confluence.QuickEdit.QuickComment.preInitialise(),postInitialise:e=>r.a.AJS.Confluence.QuickEdit.QuickComment.postInitialise(e)},c={removeAllCancelHandlers:()=>r.a.AJS.Confluence.Editor.removeAllCancelHandlers(),addCancelHandler:e=>r.a.AJS.Confluence.Editor.addCancelHandler(e),setSaveHandler:e=>r.a.AJS.Confluence.Editor.overrideSave(e),addSaveHandler:e=>r.a.AJS.Confluence.Editor.addSaveHandler(e),setSavingState:e=>r.a.AJS.Confluence.Editor.UI.toggleSavebarBusy(e),getCommentsPlugins:()=>r.a.AJS.Confluence.Editor._Profiles.createProfileForCommentEditor().plugins,getPagePlugins:()=>r.a.AJS.Confluence.Editor._Profiles.createProfileForPageEditor({versionComment:!0,notifyWatchers:!0}).plugins},d=()=>new r.a.AJS.Confluence.QuickEditCaptchaManager,l=()=>r.a.tinymce&&r.a.tinymce.activeEditor,m=()=>{const e=l();return e?e.getContent().trim():null},u=()=>{const e=l();return e?e.getContent()!==e.startContent:null}},WA38:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("cxan"),r=n("HbGN"),a=n("ERkP"),i=n.n(a),s=(n("aWzz"),n("/FQd")),c=n("M/rd"),d=n("7M9M");const l=e=>{const{href:t,to:n}=e,a=Object(r.a)(e,["href","to"]),l=t||n;return i.a.createElement(s.a,null,({featureFlags:t})=>{const n=l&&0!==l.indexOf("/")?"/".concat(l):l,r=t["confluence.frontend.people.directory"]&&!n.startsWith(d.CONTEXT_PATH)?"".concat(d.CONTEXT_PATH).concat(n):n;return i.a.createElement(c.a,Object(o.a)({},e,{href:r},a))})};l.displayName="PeopleLink"},WRP3:function(e,t,n){"use strict";var o,r,a,i=n("cxan"),s=n("uDfI"),c=n("ERkP"),d=n.n(c),l=(n("aWzz"),n("pkwY")),m=n("zjfJ"),u=n("6OdC"),p=n.n(u),h=n("O94r"),f=n.n(h),b=n("hATe"),C=n("IGvV"),y=n("iUdj"),_=n("fLXQ"),g=n("nnRT"),E=n.n(g),v=n("2srY"),I=n.n(v),O=n("L21V"),k=n("EcEE"),w=n("NsQF"),A=n("M2LZ"),j=n("7OEs"),x=n("IC1n"),T=n.n(x),S=n("Cam2"),N=n("Wt1t"),P=n("yLoQ"),D=n("hpu0"),L=n("3VMZ"),M=n("6esG"),F=n("jqY8"),R=n("JzH8"),H=n("v45N"),B=n.n(H);var U,V=Object(C.a)(B.a)(o=Object(O.h)((a=r=class extends c.Component{constructor(){super(),Object(m.a)(this,"_handleDialogClose",()=>{this.setState({dialogShown:!1})}),Object(m.a)(this,"_handleDialogLinkClick",()=>{const{comment:{id:e},replyToComment:t}=this.props;this.setState({dialogShown:!1}),t(e)}),this._onDeleteClick=this._onDeleteClick.bind(this),this._onReplyClick=this._onReplyClick.bind(this),this._onEditClick=this._onEditClick.bind(this),this.state={dialogShown:!1}}shouldComponentUpdate(e,t){return!E()(this.props,e)||!E()(this.state,t)}_onReplyClick(e){e.preventDefault();const{comment:t,replyToComment:n}=this.props;n(t.id)}_onEditClick(e){e.preventDefault();const{comment:{id:t},editComment:n,restrictEdit:o}=this.props;o?this.setState({dialogShown:!0}):n(t)}_onDeleteClick(){const{formatMessage:e}=this.props.intl;if(Object(D.a)().start({name:L.a.DELETE_PAGE_COMMENT,id:T()()}),Object(F.b)(e({id:"remove.comment.confirmation.message"}))){const{deleteComment:e,comment:{id:t}}=this.props;e(t).then(()=>{Object(D.a)().succeed({name:L.a.DELETE_PAGE_COMMENT})},e=>{Object(M.b)(L.a.DELETE_PAGE_COMMENT,e)})}else Object(D.a)().abort({name:L.a.DELETE_PAGE_COMMENT,reason:"Delete Comment dialog closed"})}_renderEditDialogContent(){return d.a.createElement("div",{className:B.a.editDisabledDialogWrapper},d.a.createElement("a",{onClick:this._handleDialogLinkClick,className:B.a.editDisabledDialogLink},d.a.createElement(O.c,{id:"comment.edit.disable.link",defaultMessage:"Add a new comment "})),d.a.createElement(O.c,{id:"comment.edit.disable.explanation",defaultMessage:"since this one can't be edited; it contains content created in a legacy version of Confluence."}))}_renderLikesAction(e,t,n,o){return d.a.createElement("li",{key:e.id,className:f()("comment-action-like",t.actionItem,t.noDot)},d.a.createElement(P.a,{contentId:e.id,containerId:n,containerType:o,isForComment:!0}))}render(){const{contentId:e,contentType:t,comment:n,restrictEdit:o}=this.props,{dialogShown:r}=this.state,a=!!n.operations.find(e=>"update"===e.operation),i=!!n.operations.find(e=>"create"===e.operation),s=!!n.operations.find(e=>"delete"===e.operation);return d.a.createElement("div",{className:B.a.actions},d.a.createElement("ul",{className:B.a.actionsList},i?d.a.createElement("li",{className:f()(B.a.actionItem,"action-reply-comment")},d.a.createElement("a",{className:"comment-reply-link",onClick:this._onReplyClick},d.a.createElement(O.c,{id:"comment.reply"}))):null,a?d.a.createElement(S.a,{onClose:this._handleDialogClose,content:this._renderEditDialogContent(),isOpen:r},d.a.createElement("li",{className:f()(B.a.actionItem,"comment-action-edit")},d.a.createElement("a",{className:"comment-edit-link",onClick:this._onEditClick},o?d.a.createElement(O.c,{id:"comment.edit.not.available",defaultMessage:"Edit is not available",description:"Disabling Edit for Legacy comments with Unsupported content"}):d.a.createElement(O.c,{id:"comment.edit"})))):null,s?d.a.createElement("li",{className:B.a.actionItem},d.a.createElement("a",{"data-test-id":"comment-delete-link",onClick:this._onDeleteClick,id:"remove-comment-".concat(n.id)},d.a.createElement(O.c,{id:"remove.name"}))):null,d.a.createElement(N.a.Consumer,null,({isLikesEnabled:o})=>o?this._renderLikesAction(n,B.a,e,t):null),d.a.createElement("li",{className:B.a.actionItem},d.a.createElement(R.a,{href:I()(n,"linkWebui")},I()(n,"createdFriendly")))))}},Object(m.a)(r,"displayName","CommentActions"),o=a))||o)||o,W=n("7eka"),q=n.n(W);let z=Object(C.a)(q.a)(U=class extends c.Component{constructor(...e){super(...e),Object(m.a)(this,"state",{commentNode:null}),this._bodyContainer=d.a.createRef()}componentDidMount(){const{comment:e}=this.props;this._setCommentNode(),A.a.require(I()(e,"webResourceKeys")||[]),Object(j.a)(this._bodyContainer.current)}shouldComponentUpdate(e,t){return!E()(this.props,e)||!E()(this.state,t)}_setCommentNode(){this.setState({commentNode:this._bodyContainer.current})}_renderCommentActions(){const{comment:e,commentActions:t,contentId:n,contentType:o,isLegacyFallback:r}=this.props;return d.a.createElement(V,{comment:e,contentId:n,contentType:o,deleteComment:t.deleteComment,replyToComment:t.replyToComment,editComment:t.editComment,restrictEdit:r})}_renderCommentContent(){const{comment:e,isLegacyFallback:t}=this.props,n=e.bodyExportView&&e.bodyExportView.replace(/confluence-userlink/g,""),o=t?q.a.body:f()(q.a.body,"comment-content");return d.a.createElement("div",{className:o,ref:this._bodyContainer,dangerouslySetInnerHTML:{__html:n}})}render(){const{comment:e,showAuthorLabel:t,canViewProfile:n,isLegacyFallback:o}=this.props,r=I()(e,"createdBy"),a=o?f()(q.a.authorLabel,q.a.legacyAuthorLabel):q.a.authorLabel;return d.a.createElement("div",{className:"wiki-content"},d.a.createElement("h4",null,d.a.createElement("div",{className:q.a.author},d.a.createElement(k.a,{userId:r.accountId,fullName:r.displayName,isAnonymous:r.isAnonymous,canViewProfile:n})),e.createdByAuthor&&t?d.a.createElement("span",{className:a},d.a.createElement(O.c,{id:"author.name"})):null),this._renderCommentContent(),this._renderCommentActions(),d.a.createElement(w.a,{node:this.state.commentNode}))}})||U;z.displayName="CommentBody";var G,Y,J=n("pYTW"),K=n.n(J);let Q=(G=Object(C.a)(K.a),Object(O.h)(Y=G(Y=class extends c.Component{render(){const{intl:{formatMessage:e},onClick:t}=this.props;return d.a.createElement("div",{"data-test-id":"add-comment-button",title:e({id:"comment.name.tooltip"}),className:f()("quick-comment-prompt",K.a.root),onClick:t},d.a.createElement(O.c,{id:"quick.comment.placeholder.message"}))}})||Y)||Y);Q.displayName="CommentSpinner";var X,$=n("2hrV"),Z=n("wjr4"),ee=n.n(Z);let te=Object(C.a)(ee.a)(X=class extends c.Component{componentDidMount(){this.props.onDidMount()}render(){const{isFabricComment:e}=this.props,t=e?"fabric-comment-loading-container":"quick-comment-loading-container";return d.a.createElement("div",{className:t,style:{display:"block"}},d.a.createElement("div",{className:ee.a.spinner},d.a.createElement($.a,{size:"medium"})))}})||X;var ne,oe,re;te.displayName="CommentSpinner",te.defaultProps={onDidMount:()=>{}};const ae=()=>{},ie=(e,t,n,o)=>{if("editor"===n)return"view"===o.mode||e.isEditorLoaded===t.isEditorLoaded};var se=Object(C.a)(ee.a)((re=oe=class extends c.Component{constructor(...e){super(...e),this._editorSaveHandler=this._editorSaveHandler.bind(this),this._editorCancelHandler=this._editorCancelHandler.bind(this),this._editorAfterActivate=this._editorAfterActivate.bind(this),this._assignContainer=this._assignContainer.bind(this),this.state={Editor:null}}componentDidMount(){this._isMounted=!0,Object(y.a)(e=>{this._isMounted&&this.setState({Editor:e})})}shouldComponentUpdate(e,t){const n=this.props.mode===e.mode?ie:ae;return!p()(this.props,e,n)||this.state.Editor!==t.Editor&&"view"!==this.props.mode}componentWillUnmount(){this._isMounted=!1}_editorSaveHandler(e){const{editorSaveHandler:t,contentId:n,comment:{id:o}}=this.props;return t(Object(l.a)({contentId:n,commentId:o},e))}_editorCancelHandler(){return this.props.editorCancelHandler()}_editorAfterActivate(){Object(_.g)(this.commentContainer,{topGap:60,bottomGap:10,duration:100})}_renderCommentBody(){const{comment:e,contentId:t,contentType:n,commentActions:o,canViewProfile:r,showAuthorLabel:a}=this.props,i={comment:e,contentId:t,contentType:n,canViewProfile:r,showAuthorLabel:a,commentActions:o};return d.a.createElement(z,i)}_renderCommentEditor(){const{editor:e,comment:t,contentId:n,onEditorLoaded:o,shouldHideEditor:r}=this.props,{Editor:a}=this.state;if(r)return null;const i={saveHandler:this._editorSaveHandler,cancelHandler:this._editorCancelHandler,afterActivate:this._editorAfterActivate,hasError:!!e.errorMessage,updateTime:e.updateTime,content:{editorContent:t.bodyEditorView},contentType:"comment",commentId:t&&t.id,contentId:n,onLoadCompleteCallBack:o};return a?d.a.createElement(a,i):null}_assignContainer(e){this.commentContainer=e}render(){const{comment:e,className:t,id:n,style:o,onClickCommentAddPrompt:r,editor:a,isEditorEnabled:s,mode:c,isFocused:m,isHighlighted:u,canViewProfile:p,userInfo:h}=this.props,C={style:Object(l.a)({},o,{marginLeft:40*e.depthLevel-(m||u?10:0)||0}),className:f()("comment",ee.a.comment,{[ee.a.focused]:(m||u)&&"view"===c},t)};"view"!==c&&"edit"!==c||(C.id="comment-".concat(e.id),C["data-test-id"]="comment-".concat(e&&e.id?e.id:"new")),n&&(C.id=n);const y="replyComment"===a.mode;y&&(C["data-parent-comment-id"]=e.id);const _="add"===c&&s&&!a.isEditorLoaded,g="edit"===c&&(!a.isEditorLoaded||!e.bodyEditorView&&"editComment"===a.mode),E=_||g,v="view"===c?"":"quick-comment-container ".concat(y?"reply":c);return d.a.createElement("div",Object(i.a)({},C,{ref:this._assignContainer}),d.a.createElement("div",{className:ee.a.avatar},d.a.createElement(b.a,{canViewProfile:p,src:h.avatarUrl,userId:h.accountId,isAnonymous:!h.accountId})),d.a.createElement("div",{className:f()(ee.a.bodyContainer,v)},"view"===c?this._renderCommentBody():null,"edit"===c?this._renderCommentEditor():null,"add"!==c?null:s?this._renderCommentEditor():d.a.createElement(Q,{onClick:r}),E?d.a.createElement(te,{onDidMount:this._editorAfterActivate}):null))}},Object(m.a)(oe,"displayName","CommentComponent"),Object(m.a)(oe,"defaultProps",{comment:{},onEditorLoaded:()=>{}}),ne=re))||ne,ce=n("2sr0"),de=n("dDc+"),le=n("gOoR"),me=n("x8Jf"),ue=n("9WNe"),pe=n("3oRx"),he=n("qdfj"),fe=n("82Bo"),be=n("KD1n"),Ce=n("KsTJ");function ye(){const e=Object(be.a)(["\n  font-size: 16px;\n  line-height: 1.428;\n  font-weight: 700;\n"]);return ye=function(){return e},e}function _e(){const e=Object(be.a)(["\n  margin-left: 50px;\n  margin-top: -12px;\n"]);return _e=function(){return e},e}function ge(){const e=Object(be.a)(["\n  width: 32px;\n  height: 32px;\n  margin-right: 10px;\n  float: left;\n  cursor: pointer;\n"]);return ge=function(){return e},e}function Ee(){const e=Object(be.a)(["\n  margin-top: -4px;\n"]);return Ee=function(){return e},e}function ve(){const e=Object(be.a)(["\n  &:first-of-type {\n    margin-top: 10px;\n  }\n\n  background: ",";\n  padding: ",";\n  margin: ",";\n"]);return ve=function(){return e},e}const Ie=Ce.default.div(ve(),({isFocused:e})=>e?de.colors.B50:"inherit",({isFocused:e})=>e?"9px 0 9px 10px":0,({isFocused:e,level:t})=>e?"-9px 0 13px ".concat(40*t-10,"px"):"0 0 24px ".concat(40*t,"px"));Ie.displayName="CommentContainer";const Oe=Ce.default.div(Ee()),ke=Ce.default.div(ge());ke.displayName="AvatarContainer";const we=Ce.default.div(_e());we.displayName="ActionContainer";const Ae=Ce.default.div(ye());Ae.displayName="AuthorContainer";const je=Object(he.a)(Object(O.h)(class extends c.Component{constructor(...e){super(...e),Object(m.a)(this,"state",{_root:void 0}),Object(m.a)(this,"getCommentAuthorProps",()=>{const{comment:{createdBy:e}}=this.props;return e?{userId:e.accountId,displayName:e.displayName,src:e.avatarUrl,isAnonymous:!e.accountId}:{displayName:"Anonymous",isAnonymous:!0}}),Object(m.a)(this,"_setRoot",e=>this.setState({_root:e}))}renderAuthor(){const{userId:e,displayName:t,isAnonymous:n}=this.getCommentAuthorProps();return d.a.createElement(Ae,null,d.a.createElement(k.a,{userId:e,fullName:t,isAnonymous:n},d.a.createElement(me.a,null,n?"Anonymous":t)))}renderAvatar(){const{canViewProfile:e}=this.props,{userId:t,src:n,isAnonymous:o}=this.getCommentAuthorProps();return d.a.createElement(ke,null,d.a.createElement(b.a,{canViewProfile:e,userId:t,src:n,isAnonymous:o}))}renderCommentContent(){const{comment:e,setLegacyRendererFlag:t}=this.props;return e.adf?d.a.createElement("div",{ref:this._setRoot},d.a.createElement(Oe,{className:"wiki-content"},d.a.createElement(fe.a,{document:e.adf,extensionHandlers:Object(pe.a)(t),portalRef:this.state._root?this.state._root:null,allowDynamicTextSizing:!1}))):d.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.bodyExportView}})}render(){const{comment:{id:e,ancestors:t,createdByAuthor:n},isFocused:o,showAuthorLabel:r,children:a}=this.props;return d.a.createElement(Ie,{key:e,id:"comment-".concat(e||"new"),"data-test-id":"comment-".concat(e||"new"),className:"fabric-comment",isFocused:o,level:t?t.length:0},d.a.createElement(ue.a,{author:this.renderAuthor(),avatar:this.renderAvatar(),content:this.renderCommentContent(),type:n&&r?"author":""}),a&&d.a.createElement(we,null,a))}}));var xe,Te,Se,Ne=n("q9qF");const Pe=()=>{},De=(e,t,n,o)=>{if("editor"===n)return"view"===o.mode||e.isEditorLoaded===t.isEditorLoaded};var Le=Object(C.a)(ee.a)(xe=Object(ce.a)()((Se=Te=class extends c.Component{constructor(...e){super(...e),Object(m.a)(this,"_editorSaveHandler",e=>{const t={},{editorSaveHandler:n,contentId:o,comment:{id:r},editor:{mode:a}}=this.props;if("editComment"===a){const{comment:{version:{number:e}}}=this.props;t.number=e+1}return n(Object(l.a)({contentId:o,commentId:r,version:t},e))}),Object(m.a)(this,"setLegacyRendererFlag",e=>{const{createAnalyticsEvent:t,comment:{id:n}}=this.props;t({type:"sendTrackEvent",data:{action:"fellback",actionSubject:"comment",actionSubjectId:n,source:"comment",attributes:{editor:"v2",commentType:"page",reason:e?"".concat(Ne.c.UNSUPPORTED_EXTENSION," - ").concat(e):Ne.c.INVALID_ADF}}}).fire(),this.setState({displayLegacyComment:!0})}),this._editorCancelHandler=this._editorCancelHandler.bind(this),this._editorAfterActivate=this._editorAfterActivate.bind(this),this.state={displayLegacyComment:null}}componentDidMount(){const{createAnalyticsEvent:e,comment:{id:t}}=this.props;e({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"comment",actionSubjectId:t,source:"comment",attributes:{editor:"v2",commentType:"page"}}}).fire()}shouldComponentUpdate(e,t){const n=this.props.mode===e.mode&&this.props.editor.errorMessage===e.editor.errorMessage?De:Pe;return!p()(this.props,e,n)||this.state.displayLegacyComment!==t.displayLegacyComment}_editorCancelHandler(e){return this.props.editorCancelHandler(e)}_editorAfterActivate(e){Object(_.g)(e,{topGap:60,bottomGap:10,duration:100})}_renderCommentBody(){const{comment:e,contentId:t,contentType:n,commentActions:o,canViewProfile:r,showAuthorLabel:a}=this.props,{displayLegacyComment:i}=this.state;return d.a.createElement(z,{comment:e,contentId:t,contentType:n,canViewProfile:r,showAuthorLabel:a,commentActions:o,isLegacyFallback:i})}_renderCommentEditor(){const{comment:e,onEditorLoaded:t,shouldHideEditor:n,contentId:o,contentType:r,editor:a,spaceId:i}=this.props;if(n)return null;const s={saveHandler:this._editorSaveHandler,cancelHandler:this._editorCancelHandler,afterActivate:this._editorAfterActivate,content:e.adf||null,onEditorLoaded:t,contentId:o,contentType:r,error:""!==a.errorMessage,spaceId:i,shouldWatch:!0};return d.a.createElement(le.a,s)}render(){const{comment:e,contentId:t,contentType:n,className:o,id:r,style:a,onClickCommentAddPrompt:i,editor:s,isEditorEnabled:c,mode:m,isFocused:u,isHighlighted:p,commentActions:h,canViewProfile:C,userInfo:y,showAuthorLabel:_}=this.props,g={style:Object(l.a)({},a,{marginLeft:40*e.depthLevel-(u||p?10:0)||0,background:(u||p)&&"view"===m?de.colors.B50:"inherit"}),className:f()("comment",ee.a.commentFallback,{[ee.a.focusedFallback]:(u||p)&&"view"===m},o)};"view"!==m&&"edit"!==m||(g.id="comment-".concat(e.id),g["data-test-id"]="comment-".concat(e&&e.id?e.id:"new")),r&&(g.id=r);const E="replyComment"===s.mode;E&&(g["data-parent-comment-id"]=e.id);const v="add"===m&&c&&!s.isEditorLoaded,I="edit"===m&&(!s.isEditorLoaded||!e.adf&&"editComment"===s.mode),O=v||I,k="view"===m?"":"quick-comment-container ".concat(E?"reply":m),{displayLegacyComment:w}=this.state;if("view"!==m||w)return d.a.createElement("div",g,d.a.createElement("div",{className:ee.a.avatar},d.a.createElement(b.a,{canViewProfile:C,src:y.avatarUrl,userId:y.accountId,isAnonymous:!y.accountId})),d.a.createElement("div",{className:f()(ee.a.fabricBodyContainer,k)},"view"===m?this._renderCommentBody():null,"edit"===m?this._renderCommentEditor():null,"add"!==m?null:c?this._renderCommentEditor():d.a.createElement(Q,{onClick:i}),O?d.a.createElement(te,{onDidMount:this._editorAfterActivate,isFabricComment:!0}):null));{const{deleteComment:o,editComment:r,replyToComment:a}=h;return d.a.createElement(d.a.Fragment,null,d.a.createElement(je,{comment:e,canViewProfile:C,isFocused:u||p,showAuthorLabel:_,setLegacyRendererFlag:this.setLegacyRendererFlag},d.a.createElement(V,{comment:e,contentId:t,contentType:n,deleteComment:o,editComment:r,replyToComment:a})))}}},Object(m.a)(Te,"displayName","CommentFabricComponent"),Object(m.a)(Te,"defaultProps",{comment:{},onEditorLoaded:()=>{}}),xe=Se))||xe)||xe;const Me=Object(s.connect)((function(e,{mode:t,comment:n,editor:o}){const r=e.views.viewPage.quickEditPreload.get("hasLoaded"),a=n.isFabricComment&&!n.adf,i=!n.isFabricComment&&!n.bodyEditorView;return{shouldHideEditor:"edit"===t&&"replyComment"!==o.mode&&(i||a||!r)}}))(e=>{let t=Object(i.a)({},e);return t.comment&&t.comment.isFabricComment?d.a.createElement(Le,t):d.a.createElement(se,t)});Me.displayName="Comment";t.a=Me},Wt1t:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("ERkP"),r=n.n(o),a=n("aWzz"),i=n.n(a);const s=r.a.createContext({isLikesEnabled:!1});s.displayName="CommentContext",s.Provider.propTypes={value:i.a.shape({isLikesEnabled:i.a.bool})},s.Provider.defaultProps={value:{isLikesEnabled:!1}}},"X+YX":function(e,t,n){var o=n("JBn+"),r=n("OfKG"),a=n("sCL+"),i=n("H87J"),s=n("SU8Q"),c=n("S0iI");e.exports=function(e,t,n,d){var l=-1,m=r,u=!0,p=e.length,h=[],f=t.length;if(!p)return h;n&&(t=i(t,s(n))),d?(m=a,u=!1):t.length>=200&&(m=c,u=!1,t=new o(t));e:for(;++l<p;){var b=e[l],C=null==n?b:n(b);if(b=d||0!==b?b:0,u&&C==C){for(var y=f;y--;)if(t[y]===C)continue e;h.push(b)}else m(t,C,d)||h.push(b)}return h}},"bR0+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return m}));var o=n("/FQd"),r=n("8TdO"),a=n("7M9M");const i=(e,t,n="")=>e?"".concat(n,"/people/").concat(e,"?ref=confluence").concat(t?"&src=".concat(encodeURIComponent(t)):""):"",s=async(e,t)=>{if(!e)return"";let n="";try{const{featureFlags:e}=await Object(o.b)(Object(r.getApolloClient)());n=e["confluence.frontend.people.directory"]?a.CONTEXT_PATH:""}catch(e){}return"".concat(n,"/people/").concat(e,"?ref=confluence").concat(t?"&src=".concat(encodeURIComponent(t)):"")},c=(e,t,n="")=>e?"".concat(n,"/people/team/").concat(e,"?ref=confluence").concat(t?"&src=".concat(encodeURIComponent(t)):""):"",d=e=>e.getAttribute("data-account-id"),l=e=>{const t={class:"className"},n={};return(e=>Array.from(e.attributes).map(e=>e.name))(e).forEach(o=>{n[t[o]||o]=e.getAttribute(o)}),n.dangerouslySetInnerHTML={__html:e.innerHTML},n};function m(e){return e.filter(d).map(e=>{const t=l(e);t["data-user-hover-bound"]="true",t.href=i(t["data-account-id"],null);const n=window.document.createElement("span");return e.parentNode?(e.parentNode.replaceChild(n,e),{props:t,placeholder:n}):{}})}},bShy:function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,o=this.get(e,!0);return o?(n=o.value,o.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var o;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(o=this.newest;o;)e.call(t,o.key,o.value,this),o=o.older;else for(o=this.oldest;o;)e.call(t,o.key,o.value,this),o=o.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},bfiC:function(e,t,n){"use strict";var o,r,a,i=n("cxan"),s=n("pkwY"),c=n("zjfJ"),d=(n("aWzz"),n("ERkP")),l=n.n(d),m=n("nnRT"),u=n.n(m),p=n("IGvV"),h=n("WRP3"),f=n("g/An"),b=n.n(f);let C=Object(p.a)(b.a)((a=r=class extends d.Component{shouldComponentUpdate(e){return!u()(this.props,e)}render(){const{contentType:e,editor:t,userInfo:n,canViewProfile:o,contentId:r,editorSaveHandler:a,editorCancelHandler:c,comments:d,highlightedComments:m,commentActions:u,focusOnCommentId:p,showAuthorLabel:f,atlToken:C,onEditorLoaded:y,spaceId:_}=this.props,g=[],E={contentId:r,contentType:e,commentActions:u,canViewProfile:o,showAuthorLabel:f,editor:t,atlToken:C,editorSaveHandler:a,editorCancelHandler:c,onEditorLoaded:y,spaceId:_};return d.forEach(e=>{const o=Object(s.a)({},E,{comment:e,userInfo:e.createdBy,isFocused:p===e.id,isHighlighted:m.indexOf(e.id)>-1,mode:t.contentId===e.id&&"editComment"===t.mode?"edit":"view"});if(g.push(l.a.createElement(h.a,Object(i.a)({key:e.id},o))),t.contentId===e.id&&"replyComment"===t.mode){const t=Object(s.a)({},E,{userInfo:n,mode:"edit",isEditorEnabled:!0,comment:{id:e.id,depthLevel:e.depthLevel+1,isFabricComment:e.isFabricComment}});g.push(l.a.createElement(h.a,Object(i.a)({key:"".concat(e.id,"-reply")},t)))}}),l.a.createElement("div",{className:"comment-threads top-level ".concat(b.a.root),id:"page-comments","data-test-id":"page-comments"},g)}},Object(c.a)(r,"defaultProps",{highlightedComments:[],onEditorLoaded:()=>{}}),o=a))||o;t.a=C},fLXQ:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return b}));n("pkwY");var o=n("Jygk"),r=n.n(o),a=n("S2j0"),i=n("AqZj"),s=n("Xzcx");function c(e,t,n,o){if(n<=0||!n||t===e.scrollTop)return e.scrollTop=t,void(o&&o());const a=t-e.scrollTop,i=a/n*(1e3/60);let s=e.scrollTop;const c=()=>{const n=s+i;if(a<0&&n<=t||a>0&&n>=t)return e.scrollTop=t,void(o&&o());s=n,e.scrollTop=s,r.a.requestAnimationFrame(c)};r.a.requestAnimationFrame(c)}function d(e,t={}){if(!e)return;t.container||(t.container=Object(s.h)());const{container:n,topGap:o=0,bottomGap:r=0,duration:a=0}=t,i=e.getBoundingClientRect(),{top:d,bottom:l}=i,{clientHeight:m,scrollTop:u}=t.container,p=-d+o,h=l-m+r;return p>0?c(n,u-p,a):h>0?c(n,u+h,a):void 0}function l(e,t,n){e&&t.split(" ").forEach(t=>e.classList[n](t))}function m(e,t){l(e,t,"add")}function u(e,t){const n=t?t.documentElement:document.documentElement;if(!e||!n)return;const o=e.getBoundingClientRect(),{top:r,bottom:a}=o,i=n.offsetHeight;return 0<=r&&r<i||0<=a&&a<=i||r<=0&&0<=a&&a>=i}function p(e,t){const n=t?t.documentElement:document.documentElement;if(!e||!n)return;const o=e.getBoundingClientRect(),{top:r}=o,a=n.offsetHeight;return 0<=r&&r<a}function h(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function f(e){if(!e||e===document)return null;const t=r.a.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:f(e.parentNode)}const b=(e,t,n)=>n?e.length?new Promise(o=>{Object(a.a)(e,()=>{Object(i.a)(n,t).then(o)},()=>{0})}):Object(i.a)(n,t):Promise.reject(new Error("script container is not present"))},fLv1:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".CommentBody_author_1H4{padding-bottom:8px;padding-top:1px;cursor:pointer;display:inline-block}.CommentBody_author_1H4 div+div{font-weight:400}.CommentBody_author_1H4 a,.CommentBody_authorOld_1ei a{font-size:16px}.CommentBody_authorLabel_1nv{background-color:#3572b0;color:#fff;text-transform:uppercase;font-size:10px;margin-left:10px;padding:2px 3px;border-radius:3px;vertical-align:middle}.CommentBody_body_1Lt{padding-right:20px;word-wrap:break-word}.CommentBody_legacyAuthor_aYj a{font-size:14px!important;font-weight:500!important;color:#42526e!important;cursor:text!important;text-decoration:none!important}.CommentBody_legacyAuthor_aYj a:active,.CommentBody_legacyAuthor_aYj a:hover{color:#091e42!important}.CommentBody_legacyAuthorLabel_2LP{background-color:#dfe1e6;color:#42526e;font-size:11px;padding-left:4px;padding-right:4px}.CommentBody_legacyAuthorLabel_2LP span{margin-bottom:3px}.CommentBody_legacyDate_2yV{font-size:14px;font-weight:400;margin-left:8px;color:#42526e}.CommentBody_legacyDate_2yV:active,.CommentBody_legacyDate_2yV:hover{color:#091e42!important}",""]),t.locals={author:"CommentBody_author_1H4",authorOld:"CommentBody_authorOld_1ei",authorLabel:"CommentBody_authorLabel_1nv",body:"CommentBody_body_1Lt",legacyAuthor:"CommentBody_legacyAuthor_aYj",legacyAuthorLabel:"CommentBody_legacyAuthorLabel_2LP",legacyDate:"CommentBody_legacyDate_2yV"}},"g/An":function(e,t,n){var o=n("LOfW"),r=n("7l8p");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return r(o,e)}},iUdj:function(e,t,n){"use strict";t.a=e=>{n.e("editor~493df0b3").then(n.bind(null,"LbM8")).then(t=>e(t.default))}},lKOy:function(e,t,n){var o=n("X+YX"),r=n("YpBQ"),a=n("R3TX"),i=n("Ndl3"),s=a((function(e,t){return i(e)?o(e,r(t,1,i,!0)):[]}));e.exports=s},m3Bd:function(e,t,n){var o=n("LdEA");e.exports=function(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},nZDR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("ERkP")),r=a(n("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13 11V3.993A.997.997 0 0 0 12 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 0 0 3 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0 0 21 12c0-.556-.445-1-.993-1H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="AddIcon";var c=s;t.default=c},o0lc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("ERkP"),r=n.n(o),a=n("lZoD"),i=n("WWAs"),s=n("03Pf");const c=({children:e})=>{const t=Object(o.useRef)(0),n=Object(o.useCallback)(e=>{Object(s.b)(e,-t.current)},[t]);return r.a.createElement(a.c,{to:[i.a]},o=>(t.current=o.getTotalHeight(),e({scrollToElement:n})))};c.displayName="DocumentScroller",c.displayName="DocumentScroller"},oVzP:function(e,t,n){"use strict";var o=n("D57K"),r=n("ERkP"),a=n.n(r),i=n("lSUb"),s=n("OEBU"),c=n("YGBU"),d=n("2sr0"),l=n("PcLR"),m=n("tnyy"),u=n("EiJY"),p=n("sLHe"),h=n("OKa2"),f=n("l1C2");var b={component:function(e){var t=e.attributesFn,n=e.children,r=e.isDisabled,a=e.onMouseUp,i=e.onMouseDown,s=e.onMouseLeave,c=e.onMouseEnter,d=e.tokens,l=e.cssFn,m=e.testId;return Object(f.f)("label",Object(o.__assign)({},t({isDisabled:r}),{onMouseUp:a,onMouseDown:i,onMouseLeave:s,onMouseEnter:c,css:l({isDisabled:r,tokens:d}),"data-testid":m}),n)},cssFn:function(e){var t=e.isDisabled,n=e.tokens;return Object(o.__assign)({alignItems:"flex-start",display:"flex",color:t?n.label.textColor.disabled:n.label.textColor.rest},t&&{cursor:"not-allowed"})},attributesFn:u.b};var C={component:function(e){var t=e.attributesFn,n=e.tokens,r=e.children,a=e.cssFn;return Object(f.f)("span",Object(o.__assign)({},t(),{css:a({tokens:n})}),r)},cssFn:function(e){var t=e.tokens;return{paddingTop:t.label.spacing.top,paddingRight:t.label.spacing.right,paddingBottom:t.label.spacing.bottom,paddingLeft:t.label.spacing.left}},attributesFn:u.b},y=function(e){var t=e.children;return Object(f.f)("span",{css:{display:"flex;",flexShrink:0,position:"relative"}},t)},_=Object(r.forwardRef)((function(e,t){e.createAnalyticsEvent;var n=e.attributesFn,r=e.testId,a=Object(o.__rest)(e,["createAnalyticsEvent","attributesFn","testId"]);return Object(f.f)("input",Object(o.__assign)({type:"checkbox"},n({disabled:a.disabled,checked:a.checked,required:a.required}),a,{ref:t,css:{left:"50%",margin:0,opacity:0,padding:0,position:"absolute",transform:"translate(-50%, -50%)",top:"50%"},"data-testid":r}))})),g=n("dDc+"),E=n("RZTm"),v=function(e){var t=e.tokens,n=Object(o.__rest)(e,["tokens"]);return Object(f.f)("span",Object(o.__assign)({css:{color:t.requiredIndicator.textColor.rest,paddingLeft:g.math.multiply(E.l,.25)+"px;"}},n))},I={Label:b,LabelText:C,HiddenCheckbox:{attributesFn:function(){return{}}}},O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isActive:!1,isFocused:!1,isHovered:!1,isMouseDown:!1,isChecked:void 0!==n.props.isChecked?n.props.isChecked:n.props.defaultChecked},n.checkbox=void 0,n.actionKeys=[" "],n.onChange=function(e){return n.props.isDisabled?null:(e.persist(),void 0!==e.target.checked&&n.setState({isChecked:e.target.checked}),n.props.onChange&&n.props.onChange(e),!0)},n.blur=function(){n.checkbox&&n.checkbox.blur&&n.checkbox.blur()},n.focus=function(){n.checkbox&&n.checkbox.focus&&n.checkbox.focus()},n.onBlur=function(){return n.setState({isActive:n.state.isMouseDown&&n.state.isActive,isFocused:!1})},n.onFocus=function(){return n.setState({isFocused:!0})},n.onMouseLeave=function(){return n.setState({isActive:!1,isHovered:!1})},n.onMouseEnter=function(){return n.setState({isHovered:!0})},n.onMouseUp=function(){return n.setState({isActive:!1,isMouseDown:!1})},n.onMouseDown=function(){return n.setState({isActive:!0,isMouseDown:!0})},n.onKeyDown=function(e){e.key in n.actionKeys&&n.setState({isActive:!0})},n.onKeyUp=function(e){e.key in n.actionKeys&&n.setState({isActive:!1})},n.createExtender=Object(i.a)(u.a),n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.isIndeterminate;this.checkbox&&(this.checkbox.indeterminate=!!e,this.props.inputRef&&this.props.inputRef(this.checkbox))},t.prototype.componentDidUpdate=function(e){var t=this.props.isIndeterminate;e.isIndeterminate!==t&&this.checkbox&&(this.checkbox.indeterminate=!!t)},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,r=t.isInvalid,i=t.isIndeterminate,s=t.label,c=t.name,d=t.overrides,h=t.value,f=t.isRequired,b=t.isChecked,C=t.theme,g=t.testId,E=void 0===this.props.isChecked?this.state.isChecked:b,O=this.state,k=O.isFocused,w=O.isActive,A=O.isHovered,j=Object(u.a)(I,d),x=j("Label"),T=x.component,S=Object(o.__rest)(x,["component"]),N=j("LabelText"),P=N.component,D=Object(o.__rest)(N,["component"]),L=j("HiddenCheckbox").attributesFn;return a.a.createElement(m.b.Provider,{value:C},a.a.createElement(l.a.Consumer,null,(function(t){var l=t.mode;return a.a.createElement(m.b.Consumer,{mode:l,tokens:m.a},(function(t){return a.a.createElement(T,Object(o.__assign)({},S,{isDisabled:n,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseUp:e.onMouseUp,tokens:t,testId:g&&g+"--checkbox-label"}),a.a.createElement(y,null,a.a.createElement(_,{disabled:n,checked:E,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,value:h,name:c,ref:function(t){return e.checkbox=t},required:f,attributesFn:L,testId:g&&g+"--hidden-checkbox"}),a.a.createElement(p.a,{theme:C,overrides:{IconWrapper:d&&d.IconWrapper,Icon:d&&d.Icon,IconIndeterminate:d&&d.IconIndeterminate},isChecked:E,isDisabled:n,isFocused:k,isActive:w,isHovered:A,isInvalid:r,isIndeterminate:i,primaryColor:"inherit",secondaryColor:"inherit",label:""})),a.a.createElement(P,Object(o.__assign)({},D,{tokens:t}),s,f&&a.a.createElement(v,{tokens:t,"aria-hidden":"true"},"*")))}))})))},t.defaultProps={isDisabled:!1,isInvalid:!1,defaultChecked:!1,isIndeterminate:!1,theme:function(e,t){return e(t)}},t}(r.Component),k=Object(s.a)("atlaskit");t.a=Object(c.a)({componentName:"checkbox",packageName:h.a,packageVersion:h.b})(Object(d.a)({onChange:k({action:"changed",actionSubject:"checkbox",attributes:{componentName:"checkbox",packageName:h.a,packageVersion:h.b}})})(O))},pYTW:function(e,t,n){var o=n("IoON"),r=n("7l8p");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return r(o,e)}},q9qF:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));const o={MACRO_CORE:"com.atlassian.confluence.macro.core",MIGRATION:"com.atlassian.confluence.migration"},r={INVALID:"__confluenceADFMigrationUnsupportedContentInternalExtension__"},a={UNSUPPORTED_EXTENSION:"unsupportedExtension",INVALID_ADF:"invalidAdf"},i={INLINE_EXTERNAL_IMAGE:"inline-external-image",INLINE_MEDIA_IMAGE:"inline-media-image"}},sLHe:function(e,t,n){"use strict";var o=n("D57K"),r=n("ERkP"),a=n.n(r),i=n("lSUb"),s=n("xQ8g"),c=n.n(s),d=n("PcLR"),l=n("N4KI"),m=n.n(l),u=n("tnyy"),p=n("EiJY"),h=n("l1C2"),f=function(e){var t,n=e.tokens,r=Object(o.__rest)(e,["tokens"]);return r.isDisabled?{stroke:(t=n.icon).borderColor.disabled,strokeWidth:t.borderWidth}:r.isActive?function(e){return{stroke:e.borderColor.active,strokeWidth:e.borderWidth}}(n.icon):r.isHovered&&r.isChecked?function(e){return{stroke:e.borderColor.hoveredAndChecked,strokeWidth:e.borderWidth}}(n.icon):r.isHovered?function(e){return{stroke:e.borderColor.hovered,strokeWidth:e.borderWidth}}(n.icon):r.isChecked?function(e){return{stroke:e.borderColor.checked,strokeWidth:e.borderWidth}}(n.icon):r.isFocused?function(e){return{stroke:e.borderColor.focused,strokeWidth:e.borderWidth}}(n.icon):r.isInvalid?function(e){return{stroke:e.borderColor.invalid,strokeWidth:e.borderWidth}}(n.icon):{stroke:n.icon.borderColor.rest,strokeWidth:n.icon.borderWidth}},b=function(e){var t=e.isChecked,n=e.isDisabled,o=e.isActive,r=e.tokens.icon,a=r.tickColor.checked;return n&&t?a=r.tickColor.disabledAndChecked:o&&t&&!n?a=r.tickColor.activeAndChecked:t||(a=r.tickColor.rest),a},C=function(e){var t=e.isChecked,n=e.isDisabled,o=e.isActive,r=e.isHovered,a=e.tokens.icon,i=a.boxColor.rest;return n?i=a.boxColor.disabled:o?i=a.boxColor.active:r&&t?i=a.boxColor.hoveredAndChecked:r?i=a.boxColor.hovered:t&&(i=a.boxColor.checked),i};var y={IconWrapper:{component:function(e){var t=e.attributesFn,n=e.cssFn,r=e.children,a=Object(o.__rest)(e,["attributesFn","cssFn","children"]);return Object(h.f)("span",Object(o.__assign)({css:n(a)},t(a),{children:r}))},cssFn:function(e){return{lineHeight:0,flexShrink:0,color:C(e),fill:b(e),transition:"all 0.2s ease-in-out;","& rect:first-of-type":Object(o.__assign)({transition:"stroke 0.2s ease-in-out;"},f(e)),"> span":{display:"flex"}}},attributesFn:p.b},IconIndeterminate:{component:m.a},Icon:{component:c.a}},_=function(e){function t(t){var n=e.call(this,t)||this;return n.createExtender=Object(i.a)(p.a).bind(n),n}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isChecked,n=e.isDisabled,r=e.isInvalid,i=e.isActive,s=e.isFocused,c=e.isHovered,l=e.isIndeterminate,m=e.overrides,p=e.primaryColor,h=e.secondaryColor,f=e.theme,b=this.createExtender(y,m),C=b("IconWrapper"),_=C.component,g=Object(o.__rest)(C,["component"]),E=b("IconIndeterminate").component,v=b("Icon").component;return a.a.createElement(u.b.Provider,{value:f},a.a.createElement(d.a.Consumer,null,(function(e){var d=e.mode;return a.a.createElement(u.b.Consumer,{mode:d,tokens:u.a},(function(e){return a.a.createElement(_,Object(o.__assign)({},g,{tokens:e,isChecked:t,isDisabled:n,isFocused:s,isActive:i,isHovered:c,isInvalid:r}),l?a.a.createElement(E,{primaryColor:p,secondaryColor:h,size:e.icon.size,label:""}):a.a.createElement(v,{primaryColor:p,secondaryColor:h,size:e.icon.size,label:""}))}))})))},t.defaultProps={primaryColor:"inherit",secondaryColor:"inherit",isIndeterminate:!1,theme:function(e,t){return e(t)}},t}(r.Component);t.a=_},swvn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n("ERkP")),r=i(n("aWzz")),a=i(n("O94r"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.type,n=e.title,r=e.children,i=e.isCloseable,s=e.onClose,c=void 0;t&&(c="aui-message-"+t);var d=(0,a.default)("aui-message",c,{closeable:i});return o.default.createElement("div",{className:d},n?o.default.createElement("p",{className:"title"},o.default.createElement("strong",null,n)):null,i?o.default.createElement("span",{className:"aui-icon icon-close",role:"button",tabIndex:"0",onClick:s}):null,r)};s.displayName="AUIMessage",s.propTypes={children:r.default.oneOfType([r.default.string,r.default.node]).isRequired,title:r.default.string,isCloseable:r.default.bool,type:r.default.oneOf(["warning","error","success","hint","info"]),onClose:r.default.func},t.default=s},tnyy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("dDc+"),r=n("mn8z"),a={label:{textColor:{rest:{light:o.colors.N900,dark:o.colors.DN600},disabled:{light:o.colors.N80,dark:o.colors.N80}},spacing:{top:"2px",right:"4px",bottom:"2px",left:"4px"}},icon:{borderWidth:"2px",borderColor:{rest:{light:o.colors.N40,dark:o.colors.DN80},disabled:{light:"",dark:""},checked:{light:"currentColor",dark:"currentColor"},active:{light:"currentColor",dark:"currentColor"},invalid:{light:o.colors.R300,dark:o.colors.R300},focused:{light:o.colors.B100,dark:o.colors.B75},hovered:{light:o.colors.N40,dark:o.colors.DN200},hoveredAndChecked:{light:"currentColor",dark:"currentColor"}},boxColor:{rest:{light:o.colors.N10,dark:o.colors.DN10},disabled:{light:o.colors.N20,dark:o.colors.DN10},active:{light:o.colors.B50,dark:o.colors.B200},hoveredAndChecked:{light:o.colors.B300,dark:o.colors.B75},hovered:{light:o.colors.N30,dark:o.colors.DN30},checked:{light:o.colors.B400,dark:o.colors.B400}},tickColor:{rest:{light:"transparent",dark:"transparent"},disabledAndChecked:{light:o.colors.N70,dark:o.colors.DN90},activeAndChecked:{light:o.colors.B400,dark:o.colors.DN10},checked:{light:o.colors.N10,dark:o.colors.DN10}},size:"medium"},requiredIndicator:{textColor:{rest:o.colors.R500}}};t.b=Object(r.a)((function(e){return function(e,t){return function e(n){return Object.keys(n).reduce((function(o,r){var a=n[r];return"object"!=typeof a||null==typeof a||Array.isArray(a)?o[r]=a:Object.keys(a).includes(t)?o[r]=a[t]:o[r]=e(n[r]),o}),{})}(e)}(e.tokens,e.mode)}))},utTn:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d}));var o=n("Jygk"),r=n.n(o),a=n("M2LZ");const i=function(){a.a.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then(()=>{r.a.Confluence.SpaceBlueprint.Dialog.launch()})},s=function(){a.a.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then(()=>{r.a.Confluence.Blueprint.loadDialogAndOpenTemplate({})})},c=function(){return Confluence.Link};"undefined"!=typeof Confluence&&Confluence;const d=()=>"undefined"!=typeof Confluence&&Confluence.Binder&&Confluence.Binder.userHover&&Confluence.Binder.userHover()},v45N:function(e,t,n){var o=n("wGaN"),r=n("7l8p");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return r(o,e)}},wGaN:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,'.CommentActions_actions_Hnn{font-size:12px;color:#707070;margin-top:4px}.CommentActions_actionsList_3yu{padding:0}.CommentActions_actionItem_1ro{display:inline-block}.CommentActions_actionItem_1ro:not(.CommentActions_noDot_1Yj):before{content:"•";color:#707070;padding:0 5px}.CommentActions_actionItem_1ro:first-child:before{display:none}.fabric-comment .CommentActions_actionItem_1ro a,.fabric-comment .CommentActions_actionItem_1ro a:hover,.fabric-comment .CommentActions_actionItem_1ro a:link,.fabric-comment .CommentActions_actionItem_1ro a:visited,.wiki-content .CommentActions_actionItem_1ro a,.wiki-content .CommentActions_actionItem_1ro a:hover,.wiki-content .CommentActions_actionItem_1ro a:link,.wiki-content .CommentActions_actionItem_1ro a:visited{color:#707070;cursor:pointer}.fabric-comment .CommentActions_actionItem_1ro a:hover,.wiki-content .CommentActions_actionItem_1ro a:hover{text-decoration:underline}.CommentActions_editDisabledDialogWrapper_3PL{max-width:275px}.CommentActions_editDisabledDialogLink_3hg{cursor:pointer}',""]),t.locals={actions:"CommentActions_actions_Hnn",actionsList:"CommentActions_actionsList_3yu",actionItem:"CommentActions_actionItem_1ro",noDot:"CommentActions_noDot_1Yj",editDisabledDialogWrapper:"CommentActions_editDisabledDialogWrapper_3PL",editDisabledDialogLink:"CommentActions_editDisabledDialogLink_3hg"}},weaP:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".Comment_comment_d0q{position:relative;padding-top:8px;padding-bottom:8px;overflow-y:visible;min-height:35px;word-wrap:break-word}.Comment_comment_d0q #rte{box-sizing:border-box;display:block;margin:0;width:100%}.Comment_comment_d0q form.aui{margin:0}.Comment_commentFallback_p4x{position:relative;padding:0;margin-bottom:24px;overflow-y:visible;min-height:35px;word-wrap:break-word}#comments-section .preformattedContent{word-wrap:normal}.Comment_addComment_24d{padding-top:20px}.Comment_focused_cml{border-bottom:1px solid #ccc;background:#ebf2f9;padding-left:10px!important;margin-bottom:-1px;padding-bottom:9px}.Comment_focusedFallback_2GD{padding:9px 0 9px 10px;margin-top:-9px;margin-bottom:13px}.Comment_focused_cml+.Comment_focused_cml{box-shadow:inset 0 1px 0 #ccc}.Comment_avatar_2px{width:32px;height:32px;margin-right:10px;float:left;cursor:pointer}.Comment_spinner_27V{opacity:.5;height:100%;position:relative}.Comment_bodyContainer_sJT{position:relative;margin-left:42px}.Comment_fabricBodyContainer_hJS{position:relative;margin-left:51px}#comments-section .comment{border-top:none!important;border-bottom:none!important}.fabric-comment-loading-container{position:relative;background-color:#f5f5f5;border:1px solid #f5f5f5;height:148px;width:100%}.quick-comment-loading-container{position:absolute;top:0;bottom:-10px;left:0;right:0;z-index:999;background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:271px;width:100%}.quick-comment-form #previewArea{display:block}.quick-comment-container{margin-top:0!important}",""]),t.locals={comment:"Comment_comment_d0q",commentFallback:"Comment_commentFallback_p4x",addComment:"Comment_addComment_24d",focused:"Comment_focused_cml",focusedFallback:"Comment_focusedFallback_2GD",avatar:"Comment_avatar_2px",spinner:"Comment_spinner_27V",bodyContainer:"Comment_bodyContainer_sJT",fabricBodyContainer:"Comment_fabricBodyContainer_hJS"}},wjr4:function(e,t,n){var o=n("weaP"),r=n("7l8p");"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return r(o,e)}},xBue:function(e,t,n){"use strict";var o=n("ERkP"),r=n.n(o),a=n("aWzz"),i=n.n(a),s=n("I9iR"),c=n.n(s),d=n("W47X"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function t(){var n,o;m(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=u(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(e){if(o.props.onClick&&o.props.onClick(e),!e.defaultPrevented&&0===e.button&&!o.props.target&&!p(e)){e.preventDefault();var t=o.context.router.history,n=o.props,r=n.replace,a=n.to;r?t.replace(a):t.push(a)}},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,i="string"==typeof t?Object(d.b)(t,null,null,a.location):t,s=a.createHref(i);return r.a.createElement("a",l({},o,{onClick:this.handleClick,href:s,ref:n}))},t}(r.a.Component);h.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},h.defaultProps={replace:!1},h.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired},t.a=h},xQ8g:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("ERkP")),r=a(n("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e))};s.displayName="CheckboxIcon";var c=s;t.default=c},xbH5:function(e,t,n){"use strict";t.a=function(e,t){return function(n){var o;if(!e.context[t])return null;for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return(o=e.context[t])[n].apply(o,a)}}},zr3P:function(e,t,n){var o=n("kn3Q");e.exports=function(e){return o(e,4)}}}]);
//# sourceMappingURL=page.comments~493df0b3.3tfQuNV4-v39.js.map