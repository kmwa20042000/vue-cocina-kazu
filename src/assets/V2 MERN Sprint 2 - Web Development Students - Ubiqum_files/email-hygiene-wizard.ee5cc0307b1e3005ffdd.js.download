(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{5286:function(e,t,n){var a=n(5287);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5287:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3Octy8lVZ3w2se{position:absolute;top:0;right:0;max-width:50%}._149hhP4Q8y-Frn{margin-top:30px}._149hhP4Q8y-Frn button{margin-right:8px}._18RBDTF6IgsjZi{display:inline-block}._18RBDTF6IgsjZi.O7OvO8MEgI8WMw{float:right}@media only screen and (max-width:1020px){._3Octy8lVZ3w2se{display:none}}._3Ix0WjhiPcwnS2{padding:12px;color:#5e6c84}._3Ix0WjhiPcwnS2 input{width:100%}._3Ix0WjhiPcwnS2 button{width:100%;margin:16px 0 0}.jdTcFpD3-nI6Sm{margin:16px 0 8px;font-weight:700;font-size:14px;color:#172b4d}._1NYql4rFP67pCj{margin:8px 0;font-weight:700;color:#b04632}",""]),t.locals={illustration:"_3Octy8lVZ3w2se",buttons:"_149hhP4Q8y-Frn",spinner:"_18RBDTF6IgsjZi",floating:"O7OvO8MEgI8WMw",popoverContent:"_3Ix0WjhiPcwnS2",popoverLabel:"jdTcFpD3-nI6Sm",popoverError:"_1NYql4rFP67pCj"}},5288:function(e,t,n){var a=n(5289);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5289:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3EQRb1r-5KMCm5:focus{outline:none}.KBki8fC10ew_BO{text-align:center}._2ccPpEM6zDWfED{background-color:#fff;border-radius:3px;overflow:hidden;position:relative;width:800px;min-height:512px;background-position-x:right;background-position-y:top;background-attachment:scroll;background-repeat:no-repeat;background-size:contain}._22GEJcY5AOKIFY{display:flex;flex-direction:column;justify-content:center}._2rQ4QIXWFOdwyH{position:absolute;top:0;right:0;z-index:1}._3f3t3xg-GxwgtX{margin-right:50%;padding:84px 10px 16px 56px}._2y7aPJiTRcynrn{padding:56px}._38yPYfUTYm8BT1{padding-bottom:16px}._1o2Km6lp4xnArb{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;font-weight:500;margin:0}.dxa2YZd_GC_ZS4{background-color:transparent;border:none;box-shadow:none;color:#172b4d;border-radius:50%}.dxa2YZd_GC_ZS4:hover{background-color:rgba(9,30,66,.08);box-shadow:none}.dxa2YZd_GC_ZS4:hover>span{color:#091e42!important}.dxa2YZd_GC_ZS4:active{background-color:rgba(9,30,66,.13);box-shadow:none}.dxa2YZd_GC_ZS4:active>span{color:#091e42!important}._16jvmfzs0dii5z{color:#fff;text-align:center;background-color:hsla(0,0%,100%,.1);padding:8px;margin-top:8px;border-radius:3px;font-size:12px;max-width:800px;box-sizing:border-box}._16jvmfzs0dii5z a{color:#fff}@media only screen and (max-width:1020px){._2ccPpEM6zDWfED{width:510px;background-image:none!important}._3f3t3xg-GxwgtX{margin-right:0;padding-right:56px}.PPA3IFF4rvCMwp{margin-right:0}}",""]),t.locals={wrapper:"_3EQRb1r-5KMCm5",centered:"KBki8fC10ew_BO",dialog:"_2ccPpEM6zDWfED",centeredDialog:"_22GEJcY5AOKIFY",controls:"_2rQ4QIXWFOdwyH",contentWithImage:"_3f3t3xg-GxwgtX",contentWithoutImage:"_2y7aPJiTRcynrn",header:"_38yPYfUTYm8BT1",title:"_1o2Km6lp4xnArb",icon:"dxa2YZd_GC_ZS4",tip:"_16jvmfzs0dii5z",content:"PPA3IFF4rvCMwp"}},5290:function(e,t,n){var a=n(5291);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5291:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._2MSQJuPlNxzcnq{position:absolute;top:0;right:0;max-width:50%}._3Etz3HivVa2Zk5{margin-top:30px}._3Etz3HivVa2Zk5 button{margin-right:8px}._1T5hHwETtRj3Tm{display:inline-block}._1T5hHwETtRj3Tm._3MRtHlF2pTJIoE{float:right}@media only screen and (max-width:1020px){._2MSQJuPlNxzcnq{display:none}}._3f55SJ0Bgrj2sl{font-weight:600;margin-bottom:14px}._9a90bN-_o19zjH{margin-top:12px}.EI2cN8mmYjcC2z{color:#172b4d;font-weight:400;font-size:14px;display:inline-flex;cursor:pointer;margin-bottom:0;width:100%;flex-direction:row;align-items:center}input.VSYngck4pN55Ej{box-shadow:none;margin:0;-webkit-appearance:radio;-moz-appearance:radio;appearance:radio;display:inline-block}.XFHcjFSq0Is-sY{display:inline-block;margin-left:10px;max-width:75%;overflow-wrap:break-word}._3TZtdwCpLr20xP{font-size:12px;color:#fff;background-color:#505f79;border-radius:4px;display:inline-block;margin-left:8px;padding:1px 5px}._3zhE8NzbRC03H6{display:inline-block;margin-top:12px;color:#5e6c84}._2QC1fTDOKnM7xW{margin-left:5px}._1nSR9KYJJionLL{padding:12px;color:#5e6c84}._1nSR9KYJJionLL a{display:inline-block;margin-left:5px;color:#172b4d}._1nSR9KYJJionLL button{width:100%;margin:16px 0 0}",""]),t.locals={illustration:"_2MSQJuPlNxzcnq",buttons:"_3Etz3HivVa2Zk5",spinner:"_1T5hHwETtRj3Tm",floating:"_3MRtHlF2pTJIoE",highlightedMessage:"_3f55SJ0Bgrj2sl",emailList:"_9a90bN-_o19zjH",emailLabel:"EI2cN8mmYjcC2z",emailRadio:"VSYngck4pN55Ej",emailValue:"XFHcjFSq0Is-sY",primaryEmail:"_3TZtdwCpLr20xP",showMoreEmails:"_3zhE8NzbRC03H6",showMoreEmailsIcon:"_2QC1fTDOKnM7xW",popoverContent:"_1nSR9KYJJionLL"}},5292:function(e,t,n){var a=n(5293);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5293:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1kfYlxui8ROGy3{position:absolute;top:0;right:0;max-width:50%}._3XQYq9mYX4B3Ue{margin-top:30px}._3XQYq9mYX4B3Ue button{margin-right:8px}._3JCflh3VaFQlZE{display:inline-block}._3JCflh3VaFQlZE._3SiiPGhC7KhlLO{float:right}@media only screen and (max-width:1020px){._1kfYlxui8ROGy3{display:none}}._1WrF7j-8jTcRuC strong{overflow-wrap:break-word}",""]),t.locals={illustration:"_1kfYlxui8ROGy3",buttons:"_3XQYq9mYX4B3Ue",spinner:"_3JCflh3VaFQlZE",floating:"_3SiiPGhC7KhlLO",mainMessage:"_1WrF7j-8jTcRuC"}},5294:function(e,t,n){var a=n(5295);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5295:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1-a1sqQI-Z91oT{position:absolute;top:0;right:0;max-width:50%}.BIext9ryQRbBt4{margin-top:30px}.BIext9ryQRbBt4 button{margin-right:8px}._2yRoW8hK-N6IvF{display:inline-block}._2yRoW8hK-N6IvF._1_nXIP1kuszIo_{float:right}@media only screen and (max-width:1020px){._1-a1sqQI-Z91oT{display:none}}._2BIoixnIuL9BgC strong{overflow-wrap:break-word}",""]),t.locals={illustration:"_1-a1sqQI-Z91oT",buttons:"BIext9ryQRbBt4",spinner:"_2yRoW8hK-N6IvF",floating:"_1_nXIP1kuszIo_",mainMessage:"_2BIoixnIuL9BgC"}},5296:function(e,t,n){var a=n(5297);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5297:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1mweaQbKcE7MuW{position:absolute;top:0;right:0;max-width:50%}._2VPOsy_tM57dvF{margin-top:30px}._2VPOsy_tM57dvF button{margin-right:8px}._3ydrIfjSikXRym{display:inline-block}._3ydrIfjSikXRym.kuRuh4w5gcw_V6{float:right}@media only screen and (max-width:1020px){._1mweaQbKcE7MuW{display:none}}._2J50ANpW8e-aZO{padding:16px;background-color:#fafbfc;border:2px solid #dfe1e6;margin-top:16px;margin-bottom:16px;border-radius:3px}._1ChMXJ4xMBcLkN{font-size:14px;line-height:20px;overflow-wrap:break-word}._2FTSsStl-UH4bC{color:#5e6c84;font-size:12px;line-height:16px}",""]),t.locals={illustration:"_1mweaQbKcE7MuW",buttons:"_2VPOsy_tM57dvF",spinner:"_3ydrIfjSikXRym",floating:"kuRuh4w5gcw_V6",singleEmailItem:"_2J50ANpW8e-aZO",singleEmailValue:"_1ChMXJ4xMBcLkN",singleEmailTimestamp:"_2FTSsStl-UH4bC"}},5298:function(e,t,n){var a=n(5299);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5299:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,".YxNo9pN46bRPQ2{position:absolute;top:0;right:0;max-width:50%}._1zKmhZ3mkDSKuk{margin-top:30px}._1zKmhZ3mkDSKuk button{margin-right:8px}.HvMeQqpPzz7UCs{display:inline-block}.HvMeQqpPzz7UCs._18D85L9mNV6Opx{float:right}@media only screen and (max-width:1020px){.YxNo9pN46bRPQ2{display:none}}._10SUbZGkSYwm4H{margin-bottom:18px;font-size:20px;font-weight:500}",""]),t.locals={illustration:"YxNo9pN46bRPQ2",buttons:"_1zKmhZ3mkDSKuk",spinner:"HvMeQqpPzz7UCs",floating:"_18D85L9mNV6Opx",errorMessage:"_10SUbZGkSYwm4H"}},5300:function(e,t,n){var a=n(5301);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5301:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3x4GInExLo0xNd{position:absolute;top:0;right:0;max-width:50%}._3vJq2deHZJWJrv{margin-top:30px}._3vJq2deHZJWJrv button{margin-right:8px}._1ZXbN5V9v_yHEm{display:inline-block}._1ZXbN5V9v_yHEm._2zWN4ypN7CD4bk{float:right}@media only screen and (max-width:1020px){._3x4GInExLo0xNd{display:none}}.ae-gMVDoFT_AD4 strong{overflow-wrap:break-word}",""]),t.locals={illustration:"_3x4GInExLo0xNd",buttons:"_3vJq2deHZJWJrv",spinner:"_1ZXbN5V9v_yHEm",floating:"_2zWN4ypN7CD4bk",mainMessage:"ae-gMVDoFT_AD4"}},5302:function(e,t,n){var a=n(5303);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5303:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1Afz8SdJ11Curv{position:absolute;top:0;right:0;max-width:50%}.IsTLO2IuSBhwU8{margin-top:30px}.IsTLO2IuSBhwU8 button{margin-right:8px}.yFdUt7IDPmJ-DH{display:inline-block}.yFdUt7IDPmJ-DH._2fxjU1CxRuHoG9{float:right}@media only screen and (max-width:1020px){._1Afz8SdJ11Curv{display:none}}",""]),t.locals={illustration:"_1Afz8SdJ11Curv",buttons:"IsTLO2IuSBhwU8",spinner:"yFdUt7IDPmJ-DH",floating:"_2fxjU1CxRuHoG9"}},5304:function(e,t,n){e.exports=n.p+"images/email-hygiene-wizard/illustration-main.f756d71fba7720da42f0.svg"},5305:function(e,t,n){e.exports=n.p+"images/email-hygiene-wizard/illustration-email.f5bfd1f807d345c61e4c.svg"},5306:function(e,t,n){e.exports=n.p+"images/email-hygiene-wizard/illustration-ok.918fe795af7239acb0e1.svg"},5450:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(1),r=n(17),l=n(29),c=n(5),s=n(256),m=n(754),u=n(6),d=n.n(u),p=n(35),g=n(23),f=n(923),b=n(50),E=n(5286),h=n.n(E);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=Object(c.forNamespace)(["email hygiene wizard","change email"],{shouldEscapeStrings:!1}),S=function(e){var t=e.onSubmitEmail,n=void 0===t?function(e){}:t,o=e.isSendingRequest,r=e.emailError,l=e.disabled,c=e.onTogglePopover,m=x(Object(a.useState)(""),2),u=m[0],E=m[1],S=Object(g.usePopover)({onHide:function(){c(!1)},onShow:function(){c(!0)}}),_=S.popoverProps,C=S.toggle,I=S.triggerRef;return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{onClick:C,ref:I,disabled:l},"Change email"),i.a.createElement(g.Popover,y({},_,{title:v("title")}),i.a.createElement("div",{className:h.a.popoverContent},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(u)}},i.a.createElement("div",null,v("main-message"),o&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:d()(h.a.spinner,h.a.floating)})),r&&i.a.createElement(s.a,{error:r,email:u},function(e){return i.a.createElement("p",{className:h.a.popoverError},e)}),i.a.createElement("label",{htmlFor:"email",className:h.a.popoverLabel},v("email-label")),i.a.createElement("input",{id:"email",type:"email",name:"email",value:u,ref:function(e){return e&&e.focus()},onChange:function(e){return E(e.target.value)},disabled:o}),i.a.createElement(f.a,{disabled:o||0===u.length,onClick:function(e){e.preventDefault(),n(u)}},v("send-confirmation-button"))))))},_=n(32),C=n(12),I=n(5288),w=n.n(I),k=Object(c.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),N=function(e){var t=e.title,n=e.children,l=e.closeDialog,c=e.isCentered,s=e.image,u=e.onKeyPressCapture,g=e.analyticsContext,f=e.analyticsSource,b=Object(a.useRef)(null);Object(a.useEffect)(function(){b.current&&s&&b.current.appendChild(s)});var E=Object(a.useCallback)(function(){Object(m.a)({action:r.Action.clicked,actionSubject:r.ActionSubject.link,actionSubjectId:r.ActionSubjectId.emailHygieneTransferBoardsFooterLink,method:"by clicking the transfer boards link",noun:o.Noun.LINK,source:f,verb:o.Verb.CLICKS,context:g})},[f,g]),h=Object(a.useCallback)(function(){l(),Object(m.a)({verb:o.Verb.DISMISSES,noun:o.Noun.EMAIL_HYGIENE_WIZARD,method:"by manually closing the dialog",context:g,source:f,action:r.Action.closed,actionSubject:r.ActionSubject.overlay,actionSubjectId:r.ActionSubjectId.emailHygieneWizard})},[l,f,g]);return i.a.createElement("div",{tabIndex:0,ref:function(e){return e&&e.focus()},className:d()(w.a.wrapper,c?w.a.centered:void 0),onKeyPressCapture:u},i.a.createElement("div",{ref:b,className:d()(w.a.dialog,c?w.a.centeredDialog:void 0)},i.a.createElement("div",{className:w.a.controls},i.a.createElement(p.e,{icon:C.IconName.Close,className:w.a.icon,color:C.IconColor.Dark,largeIcon:!0,onClick:h})),i.a.createElement("div",{className:s?w.a.contentWithImage:w.a.contentWithoutImage},i.a.createElement("header",{className:w.a.header},i.a.createElement("h2",{className:w.a.title},t)),i.a.createElement("div",null,n))),i.a.createElement("div",{className:w.a.tip},i.a.createElement("span",{role:"img","aria-label":"tip"},"ðŸ’¡"),i.a.createElement("span",null,k("tip-text",{transferYourBoardsLink:i.a.createElement("a",{href:"/support/transfer-boards",key:"transfer-link",onClick:E},k("transfer-your-boards-link"))}))))},O=n(5290),j=n.n(O);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var L=Object(c.forNamespace)(["email hygiene wizard","choose email screen"],{shouldEscapeStrings:!1}),A=function(e){var t=e.logins,n=e.name,l=e.updateByDate,c=e.onDismiss,s=e.selectedLogin,u=e.isSendingRequest,f=e.isSendingRemoveEmailsRequest,E=e.onSelectLogin,h=e.onClickConfirm,y=e.onRemoveSecondaryEmails,x=e.image,v=e.analyticsContext,S=e.analyticsSource,C=M(Object(a.useState)(!1),2),I=C[0],w=C[1],k=Object(g.usePopover)({onShow:function(){Object(m.b)(r.Source.emailHygieneRemoveSecondaryEmailsInlineDialog,v)}}),O=k.popoverProps,A=k.toggle,D=k.triggerRef,z=Object(a.useCallback)(function(){y(),Object(m.a)({verb:o.Verb.REMOVES,noun:o.Noun.EMAIL,method:"by clicking remove secondary emails button",context:v,source:r.Source.emailHygieneRemoveSecondaryEmailsInlineDialog,action:r.Action.clicked,actionSubject:r.ActionSubject.button,actionSubjectId:r.ActionSubjectId.emailHygieneWizardRemoveSecondaryEmailsButton})},[y,v]),H=I||t.length<=5?t:t.slice(0,4),F=t.length-H.length;return i.a.createElement(N,{closeDialog:c,title:L("title"),image:x,onKeyPressCapture:function(e){"Enter"!==e.key||u||O.isVisible||h()},analyticsContext:v,analyticsSource:S},i.a.createElement("p",{className:j.a.highlightedMessage},L("main-message",{name:n,updateByDate:l})),i.a.createElement("p",null,L("select-email-text")),i.a.createElement("div",{className:j.a.emailList},H.map(function(e,t){return i.a.createElement("div",{key:"email".concat(t)},i.a.createElement("label",{className:j.a.emailLabel},i.a.createElement("input",{type:"radio",className:j.a.emailRadio,disabled:u||f,checked:!!s&&e.email===s.email,onChange:function(){return E(e)}}),i.a.createElement("span",{className:j.a.emailValue},e.email),e.primary&&i.a.createElement("span",{className:j.a.primaryEmail},L("primary-label"))))}),F>0&&i.a.createElement("div",null,i.a.createElement("a",{href:"#",className:j.a.showMoreEmails,onClick:function(e){e.preventDefault(),w(!0)}},L("show-more-link",{amount:F}),i.a.createElement(_.default,{name:_.IconName.Down,small:!0,className:j.a.showMoreEmailsIcon})))),i.a.createElement("div",{className:j.a.buttons},i.a.createElement(p.g,{disabled:u||f,onClick:h},L("continue-button")),i.a.createElement(p.a,{onClick:A,disabled:u,ref:D},L("use-different-email")),i.a.createElement(g.Popover,R({},O,{title:L("use-different-email")}),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:j.a.popoverContent},L("remove-secondary-addresses-text"),i.a.createElement("a",{href:"https://help.trello.com/article/773-adding-account-credentials",target:"_blank"},L("remove-secondary-addresses-link-text")),f&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:d()(j.a.spinner,j.a.floating)}),i.a.createElement(p.g,{onClick:z,disabled:f},L("remove-secondary-addresses-button"))))),u&&i.a.createElement(b.a,{small:!0,wrapperClassName:j.a.spinner})))},D=n(5292),z=n.n(D),H=Object(c.forNamespace)(["email hygiene wizard","claimable info screen"],{shouldEscapeStrings:!1}),F=function(e){var t=e.email,n=e.isSendingRequest,a=e.onDismiss,o=e.onClickConfirm,r=e.onClickBack,l=e.image,c=e.analyticsContext,s=e.analyticsSource;return i.a.createElement(N,{closeDialog:a,title:H("title"),image:l,onKeyPressCapture:function(e){"Enter"!==e.key||n||o()},analyticsContext:c,analyticsSource:s},i.a.createElement("p",{className:z.a.mainMessage},H("main-message",{domain:i.a.createElement("strong",{key:"domain"},t.split("@")[1])})),i.a.createElement("p",null,H("secondary-message")),i.a.createElement("div",{className:z.a.buttons},i.a.createElement(p.g,{onClick:o,disabled:n},H("use-email-button")),i.a.createElement(p.a,{onClick:r,disabled:n},H("different-email-button")),n&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:z.a.spinner})))},P=n(5294),T=n.n(P),B=Object(c.forNamespace)(["email hygiene wizard","confirmation email sent screen"],{shouldEscapeStrings:!1}),Z=function(e){var t=e.email,n=e.onDismiss,a=e.changeEmailButton,o=e.image,r=e.analyticsContext,l=e.analyticsSource;return i.a.createElement(N,{closeDialog:n,title:B("title"),image:o,analyticsContext:r,analyticsSource:l},i.a.createElement("p",{className:T.a.mainMessage},B("main-message",{email:i.a.createElement("strong",{key:"email"},t)})),i.a.createElement("p",null,B("secondary-message")),i.a.createElement("div",{className:T.a.buttons},i.a.createElement(p.g,{onClick:n},B("ok-button")),a))},J=n(115),Y=n(926),W=n(5296),K=n.n(W),V=Object(c.forNamespace)(["email hygiene wizard","confirm single email screen"],{shouldEscapeStrings:!1}),Q=function(e){var t=e.login,n=e.updateByDate,o=e.isSendingRequest,l=e.isSendingNewEmailRequest,c=e.isPopoverShown,s=e.onDismiss,u=e.onClickConfirm,d=e.changeEmailButton,g=e.image,f=e.analyticsContext,E=e.analyticsSource;return Object(a.useEffect)(function(){c&&Object(m.b)(r.Source.emailHygieneChangeEmailInlineDialog,f)},[c,f]),i.a.createElement(N,{closeDialog:s,title:V("title",{updateByDate:n}),image:g,onKeyPressCapture:function(e){"Enter"!==e.key||o||c||u()},analyticsContext:f,analyticsSource:E},V("main-message"),i.a.createElement("div",{className:K.a.singleEmailItem},i.a.createElement("div",{className:K.a.singleEmailValue},t.email),i.a.createElement("div",{className:K.a.singleEmailTimestamp},V("added-date",{date:Object(Y.a)(Object(J.c)(t.id),new Date)}))),i.a.createElement("div",{className:K.a.buttons},i.a.createElement(p.g,{onClick:u,disabled:o||l},V("use-email-button")),d,o&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:K.a.spinner})))},q=n(5298),G=n.n(q),U=Object(c.forNamespace)(["email hygiene wizard","error screen"],{shouldEscapeStrings:!1}),X=function(e){var t=e.onDismiss,n=e.onClickBack,a=e.image,o=e.analyticsContext,r=e.analyticsSource;return i.a.createElement(N,{closeDialog:t,title:U("title"),image:a,isCentered:!0,analyticsContext:o,analyticsSource:r},i.a.createElement("h3",{className:G.a.errorMessage},U("main-message")),i.a.createElement("p",null,U("secondary-message")),i.a.createElement("div",{className:G.a.buttons},i.a.createElement(p.g,{onClick:n},U("start-over-button"))))},$=n(5300),ee=n.n($),te=Object(c.forNamespace)(["email hygiene wizard","success screen"],{shouldEscapeStrings:!1}),ne=function(e){var t=e.email,n=e.onDismiss,a=e.image,o=e.analyticsContext,r=e.analyticsSource;return i.a.createElement(N,{closeDialog:n,title:te("title"),image:a,analyticsContext:o,analyticsSource:r},i.a.createElement("p",{className:ee.a.mainMessage},te("main-message",{email:i.a.createElement("strong",{key:"email"},t)})),i.a.createElement("p",null,te("secondary-message",{yourProfileLink:i.a.createElement("a",{href:"/me",key:"profile-link"},te("your-profile-link"))})),i.a.createElement("div",{className:ee.a.buttons},i.a.createElement(p.g,{onClick:n},te("done-button"))))},ae=n(5302),ie=n.n(ae);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"illustrations",function(){return le}),n.d(t,"ScreenType",function(){return re}),n.d(t,"fetchIllustration",function(){return me}),n.d(t,"EmailHygieneWizard",function(){return ue});var re,le={main:n(5304),email:n(5305),success:n(5306)};!function(e){e.CHOOSE_EMAIL="chooseEmail",e.CONFIRM_SINGLE_EMAIL="confirmSingleEmail",e.CONFIRMATION_EMAIL_SENT="confirmationEmailSent",e.CLAIMABLE_INFO="claimableInfo",e.SUCCESS="success",e.ERROR="error"}(re||(re={}));var ce=Object(c.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),se=new Map,me=function(e,t,n){var a="".concat(e,"-").concat(t||"","-").concat(n||""),i=se.get(a);if(i)return i;var o,r,l=document.createElement("div");return l.className=ie.a.illustration,se.set(a,l),(o=e,regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(window.fetch(o));case 2:if(!(null==(r=e.sent)?void 0:r.ok)){e.next=5;break}return e.abrupt("return",r.text());case 5:case"end":return e.stop()}})).then(function(e){e&&(l.innerHTML=e,function(e,t,n){var a=e.querySelector(".replace-avatar");if(n)a&&a.setAttribute("xlink:href","".concat(n,"/170.png"));else{if(t){var i=e.querySelector(".replace-initials");i&&(i.innerHTML=t)}a&&a.remove()}}(l,t,n))}),l},ue=function(e){var t=e.analyticsContext,n=e.name,c=e.avatarUrl,u=e.initials,d=e.logins,p=e.updateByDate,g=e.onComplete,f=e.onDismiss,b=oe(Object(a.useState)(re.CHOOSE_EMAIL),2),E=b[0],h=b[1],y=oe(Object(a.useState)(s.b.None),2),x=y[0],v=y[1],_=oe(Object(a.useState)(),2),C=_[0],I=_[1],w=oe(Object(a.useState)(""),2),k=w[0],N=w[1],O=!!C,j=Object(a.useCallback)(function(e){return me(e,u,c)},[u,c]);Object(a.useEffect)(function(){j(le.main),j(le.email),j(le.success)}),Object(a.useEffect)(function(){if(!O){var e=d.find(function(e){return e.primary})||d[0];I(e)}},[O,d]);var R=oe(Object(l.Kb)(),2),M=R[0],L=R[1],D=oe(Object(l.Kb)(),2),z=D[0],H=D[1],P=oe(Object(l.V)(),2),T=P[0],B=P[1],J=oe(Object(a.useState)(!1),2),Y=J[0],W=J[1],K=E;K!==re.CHOOSE_EMAIL&&K!==re.CONFIRM_SINGLE_EMAIL||(K=d.length>1?re.CHOOSE_EMAIL:re.CONFIRM_SINGLE_EMAIL);var V=function(e){switch(e){case re.CHOOSE_EMAIL:return r.Source.emailHygieneChooseEmailScreen;case re.CLAIMABLE_INFO:return r.Source.emailHygieneClaimableWarningScreen;case re.CONFIRMATION_EMAIL_SENT:return r.Source.emailHygieneConfirmationSentScreen;case re.CONFIRM_SINGLE_EMAIL:return r.Source.emailHygieneConfirmEmailScreen;case re.ERROR:return r.Source.emailHygieneErrorScreen;case re.SUCCESS:return r.Source.emailHygieneThanksScreen;default:return r.Source.unknown}}(K);Object(a.useEffect)(function(){Object(m.b)(V,t)},[V,t]);var q=function(e){I(e),Object(m.a)({verb:o.Verb.SETS,noun:o.Noun.EMAIL,method:"by selecting the email from a list",context:t,source:V,action:r.Action.clicked,actionSubject:r.ActionSubject.radioButton,actionSubjectId:r.ActionSubjectId.emailHygieneWizardEmailItem})},G=Object(a.useCallback)(function(){g(),Object(m.a)({verb:o.Verb.COMPLETES,noun:o.Noun.EMAIL_HYGIENE_WIZARD,method:"by dismissing the final screen",context:t,source:V,action:r.Action.closed,actionSubject:r.ActionSubject.overlay,actionSubjectId:r.ActionSubjectId.emailHygieneWizard})},[g,V,t]),U=function(){if(!C)throw new Error("No email selected");var e=d.filter(function(e){return e.id!==C.id}).map(function(e){return e.id});M({variables:{memberId:"me",primaryLoginId:C.id,removeLoginIds:e,markAsComplete:!0}}).then(function(){return h(re.SUCCESS)},function(){return h(re.ERROR)})},$=function(){if(!C)throw new Error("No email selected");C.claimable?h(re.CLAIMABLE_INFO):U()},ee=i.a.createElement(S,{disabled:L.loading,onTogglePopover:W,isSendingRequest:B.loading,onSubmitEmail:function(e){var n,a;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(C){i.next=2;break}throw new Error("No email selected");case 2:return v(s.b.None),i.prev=3,i.next=6,regeneratorRuntime.awrap(T({variables:{loginId:C.id,email:e}}));case 6:N(e),h(re.CONFIRMATION_EMAIL_SENT),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(3),n=i.t0.networkError?i.t0.networkError.message:i.t0.message,(a=Object(s.c)(n))?v(a):h(re.ERROR);case 15:Object(m.a)({verb:o.Verb.CHANGES,noun:o.Noun.EMAIL,method:"by clicking change email button",context:t,source:r.Source.emailHygieneChangeEmailInlineDialog,action:r.Action.clicked,actionSubject:r.ActionSubject.button,actionSubjectId:r.ActionSubjectId.emailHygieneWizardChangeEmailButton});case 16:case"end":return i.stop()}},null,null,[[3,10]])},emailError:x},ce("change-email"));switch(K){case re.CHOOSE_EMAIL:return i.a.createElement(A,{name:n,image:j(le.main),onDismiss:f,logins:d,updateByDate:p,isSendingRequest:L.loading,onClickConfirm:$,selectedLogin:C,onSelectLogin:q,isSendingRemoveEmailsRequest:H.loading,onRemoveSecondaryEmails:function(){if(!C)throw new Error("No email selected");var e=d.filter(function(e){return e.id!==C.id}).map(function(e){return e.id});z({variables:{memberId:"me",primaryLoginId:C.id,removeLoginIds:e,markAsComplete:!1}}).then(function(){return h(re.CONFIRM_SINGLE_EMAIL)},function(){return h(re.ERROR)})},analyticsContext:t,analyticsSource:V});case re.CONFIRM_SINGLE_EMAIL:return i.a.createElement(Q,{name:n,image:j(le.main),onDismiss:f,updateByDate:p,isSendingRequest:L.loading,isSendingNewEmailRequest:B.loading,isPopoverShown:Y,onSelectLogin:q,login:d[0],onClickConfirm:$,changeEmailButton:ee,analyticsContext:t,analyticsSource:V});case re.CLAIMABLE_INFO:return i.a.createElement(F,{image:j(le.main),onDismiss:f,isSendingRequest:L.loading,email:C.email,onClickConfirm:U,onClickBack:function(){return h(re.CHOOSE_EMAIL)},analyticsContext:t,analyticsSource:V});case re.CONFIRMATION_EMAIL_SENT:return i.a.createElement(Z,{image:j(le.email),onDismiss:G,changeEmailButton:ee,email:k,analyticsContext:t,analyticsSource:V});case re.ERROR:return i.a.createElement(X,{onDismiss:f,onClickBack:function(){return h(re.CHOOSE_EMAIL)},analyticsContext:t,analyticsSource:V});case re.SUCCESS:return i.a.createElement(ne,{image:j(le.success),onDismiss:G,email:C.email,analyticsContext:t,analyticsSource:V});default:return null}};t.default=ue}}]);
//# sourceMappingURL=email-hygiene-wizard.ee5cc0307b1e3005ffdd.js.map