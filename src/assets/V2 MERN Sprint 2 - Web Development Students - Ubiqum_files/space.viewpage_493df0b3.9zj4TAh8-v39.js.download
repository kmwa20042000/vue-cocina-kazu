(window.webpackJsonp=window.webpackJsonp||[]).push([["space.viewpage~493df0b3"],{"+Prw":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("hqKg"),o=n("zUx9");const a=(e,t)=>t.contentId,c=e=>e.views.viewPage.editorContent,i=()=>Object(r.createSelector)(a,c,(e,t)=>{const n=t.get("hasFetched",!1),r=t.get("contentId"),a=t.get("silent",!1),c=t.get("statusCode"),i=t.get("errorData",null),s=t.get("result",null),d=r===e,l=!1===n&&d;return{spaceKey:t.get("spaceKey",null),statusCode:c,hasFetched:n,contentId:r,errorData:i&&"function"==typeof i.toJS?i.toJS():i,result:s&&"function"==typeof s.toJS?s.toJS():s,isRequesting:l,shouldNavigateToEditPage:!a&&n&&d&&c===o.d}})},"+ypV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("ERkP")),o=a(n("4KTy"));function a(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=function(e){return r.default.createElement(o.default,c({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M4 12v7a.971.971 0 0 0 .278.704.99.99 0 0 0 .701.296H6v-9H4.98a.99.99 0 0 0-.701.296A.971.971 0 0 0 4 12zm15.281-.96a3.046 3.046 0 0 0-2.321-1.061h-2.634c.04-.181.08-.36.11-.532.515-2.934 0-4-.504-4.594A2.432 2.432 0 0 0 12.075 4a3.078 3.078 0 0 0-2.968 2.751c-.393 1.839-.454 2-.968 2.725l-.768 1.089a2.011 2.011 0 0 0-.363 1.141v6.273c.001.532.216 1.041.596 1.416s.896.585 1.433.584h7.247a3.014 3.014 0 0 0 2.997-2.507l.677-4a2.963 2.963 0 0 0-.677-2.432zm-1.998 6.1a1.007 1.007 0 0 1-1 .835H9.038v-6.269l.767-1.089a7.577 7.577 0 0 0 1.302-3.509c.036-.543.255-1.209.969-1.108.714.1.575 1.916.363 3.1a19.712 19.712 0 0 1-.868 2.882l5.39-.008c.297-.001.58.128.773.352a.993.993 0 0 1 .226.813l-.676 4.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};i.displayName="LikeIcon";var s=i;t.default=s},"3ac5":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("TOvH"),o=n("RZKf"),a=n("HA9u"),c=n("hd8a"),i=n("7xNx"),s=n("rQmM"),d=n("iLhO");function l(){a.a.preload(),r.a.preload(),o.a.preload(),c.a.preload(),i.a.preload(),s.a.preload(),d.b.preload(),d.a.preload()}},"4Eyj":function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),a=n("aR/n");t.a=function(e){return t=>{class n extends r.Component{componentDidMount(){Object(a.b)(e)}componentWillUnmount(){Object(a.a)(e)}render(){return o.a.createElement(t,this.props)}}return n.displayName="ShortcutContextComponent",n.displayName="ShortcutContextComponent(".concat(t.displayName||t.name,")"),n}}},"6lDt":function(e,t,n){"use strict";t.a={TOOLS_MENU_CONTAINER:"system.content.action",TOOLS_MENU_MARKER:"system.content.action/marker",TOOLS_MENU_LEADING:"system.content.action/leading",TOOLS_MENU_PRIMARY:"system.content.action/primary",TOOLS_MENU_SECONDARY:"system.content.action/secondary",TOOLS_MENU_MODIFY:"system.content.action/modify",PAGE_BUTTONS:"system.content.button",SYSTEM_DASHBOARD:"system.dashboard",SYSTEM_DASHBOARD_BUTTON:"system.dashboard.button",SYSTEM_CONTENT_BYLINE:"system.content.byline",SYSTEM_CONTENT_METADATA:"system.content.metadata",PAGE_METADATA_BANNER:"page.metadata.banner",SYSTEM_HEADER_LEFT:"system.header/left",SYSTEM_HEADER_LEFT_BUTTON_GROUP:"system.header/left.button.group",SYSTEM_HELP:"system.help/pages",SYSTEM_USER_ANONYMOUS:"system.user/anonymous",SYSTEM_USER:"system.user",SYSTEM_ADMIN_SITE_SECTION:"system.admin.site/site_admin_section",SPACE_SIDEBAR:"system.space.sidebar/main-links",SYSTEM_ADMIN:"system.admin",SYSTEM_EDITOR_LINK_BROWSER_TABS:"system.editor.link.browser.tabs",SYSTEM_EDITOR_PRECURSOR_BUTTONS:"system.editor.precursor.buttons",CREATE_DIALOG:"system.create.dialog/content",DASHBOARD_LEFT:"atl.dashboard.left",DASHBOARD_SECONDARY:"atl.dashboard.secondary",ATL_GENERAL:"atl.general",ATL_FOOTER:"atl.footer",ATL_PAGE_METADATA:"atl.page.metadata.banner",ATL_PAGE_CONTENT_FOOTER_ACTIONS:"atl.page.content.footer.actions",ATL_EDITOR_SAVEBAR:"atl.editor.savebar",SYSTEM_ADMIN_SITE_ADMINISTRATION:"system.admin/siteadministration"}},"7xNx":function(e,t,n){"use strict";var r=n("RfuI"),o=Object(r.a)({name:"packages/confluence-fabric-editor/src/components/EditorBreadcrumbs/EditorBreadcrumbsLoader.ts",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("fabric.editor.breadcrumbs~dc51bad7")]).then(n.bind(null,"R0Hm")),loading:()=>null});t.a=o},Bud6:function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"z",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"t",(function(){return h})),n.d(t,"w",(function(){return b})),n.d(t,"A",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"E",(function(){return E})),n.d(t,"D",(function(){return O})),n.d(t,"n",(function(){return I})),n.d(t,"C",(function(){return v})),n.d(t,"B",(function(){return S})),n.d(t,"G",(function(){return C})),n.d(t,"F",(function(){return P})),n.d(t,"k",(function(){return j})),n.d(t,"r",(function(){return R})),n.d(t,"s",(function(){return w})),n.d(t,"v",(function(){return k})),n.d(t,"y",(function(){return _})),n.d(t,"h",(function(){return T})),n.d(t,"H",(function(){return A})),n.d(t,"I",(function(){return N})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return F})),n.d(t,"u",(function(){return D})),n.d(t,"x",(function(){return V})),n.d(t,"d",(function(){return M})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return K}));var r=n("ROYt"),o=n("yS9+"),a=n("yLtY"),c=n("2M9l");Object(o.b)(c.H);const i=Object(o.b)(c.D),s=Object(o.b)(c.a),d=Object(o.b)(c.b),l=Object(o.b)(c.c),u=Object(o.b)(c.I),p=Object(o.b)(c.q),m=Object(o.b)(c.u),f=Object(o.b)(c.t),h=Object(o.b)(c.E),b=Object(o.b)(c.p),g=Object(o.b)(c.w),y=Object(o.b)(c.n),E=Object(o.b)(c.J),O=Object(o.b)(c.z),I=Object(o.b)(c.o),v=Object(o.b)(c.y),S=Object(o.b)(c.x),C=Object(o.b)("".concat(c.A,"_SUCCESS")),P=Object(o.c)(c.A,r.a.contentProperties.updateContentProperty),j=Object(o.c)(c.e,r.a.content.editorPage,{schema:a.a.content}),R=Object(o.c)(c.h,r.a.content.publishEditorPage,{schema:a.a.content}),w=Object(o.c)(c.f,r.a.content.publishEditorPageFromTemplate,{schema:a.a.content}),k=(Object(o.c)(c.g,r.a.content.renderContent),Object(o.c)(c.k,r.a.content.syncEditorDraft)),_=Object(o.b)(c.G),T=Object(o.c)(c.d,r.a.content.getBreadcrumbs),A=Object(o.c)(c.B,r.a.content.updateInlineTask),N=Object(o.c)(c.C,r.a.content.updateParentPage,{schema:a.a.content}),x=Object(o.c)(c.j,r.a.content.deleteContent),L=Object(o.c)(c.l,r.a.content.relationSourcesForTarget),F=Object(o.c)(c.m,r.a.content.relationSourcesForTarget),D=Object(o.c)(c.v,r.a.content.revertContent),V=Object(o.b)(c.F),M=Object(o.c)(c.i,r.a.content.createPage,{schema:a.a.content}),q=Object(o.c)(c.r,r.a.content.editorPage,{schema:a.a.content}),K=Object(o.c)(c.s,r.a.content.draftMetadata,{schema:a.a.content})},Eoya:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zjfJ"),o=n("ERkP"),a=n.n(o),c=n("kmyq");class i extends o.Component{constructor(...e){super(...e),Object(r.a)(this,"willParentCatch",void 0),Object(r.a)(this,"state",{error:null}),Object(r.a)(this,"willCatch",e=>!!this.props.isKnownError(e)||!(!this.willParentCatch||!this.willParentCatch(e)))}componentDidCatch(e){if(!this.props.isKnownError(e))throw e;{const{onError:t}=this.props;t&&t(e),this.setState({error:e})}}render(){const{error:e}=this.state;return a.a.createElement(c.a.Consumer,null,t=>(this.willParentCatch=t,a.a.createElement(c.a.Provider,{value:this.willCatch},e?this.props.renderOnError(e):this.props.children)))}}i.displayName="KnownErrorBoundary"},G88w:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("KD1n"),o=n("ERkP"),a=n.n(o),c=n("KsTJ"),i=n("dDc+");function s(){const e=Object(r.a)(["\n  width: 150px;\n  height: 12px;\n  border-radius: 2px;\n  background-color: ",";\n  margin-top: 5px;\n"]);return s=function(){return e},e}function d(){const e=Object(r.a)(["\n  width: 100px;\n  height: 14px;\n  border-radius: 2px;\n  background-color: ",";\n  margin-top: 4px;\n"]);return d=function(){return e},e}function l(){const e=Object(r.a)(["\n  margin: 0 0 0 10px;\n"]);return l=function(){return e},e}function u(){const e=Object(r.a)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background-color: ",";\n  margin-top: 3px;\n"]);return u=function(){return e},e}function p(){const e=Object(r.a)(["\n  margin: 20px 0 24px 0;\n  height: 40px;\n  display: flex;\n"]);return p=function(){return e},e}const m=c.default.div(p()),f=c.default.div(u(),i.colors.N20),h=c.default.div(l()),b=c.default.div(d(),i.colors.N20),g=c.default.div(s(),i.colors.N20),y=()=>a.a.createElement(m,null,a.a.createElement(f,null),a.a.createElement(h,null,a.a.createElement(b,null),a.a.createElement(g,null)));y.displayName="ByLinePlaceholder"},HA9u:function(e,t,n){"use strict";var r=n("cxan"),o=n("ERkP"),a=n.n(o),c=n("RfuI"),i=n("7yUP"),s=n("CSJ9"),d=n("Tl5U"),l=n("zjfJ");n("aWzz");class u extends o.PureComponent{constructor(...e){super(...e),Object(l.a)(this,"_renderFuncChildrenWithLoadedData",e=>{const{children:t,editorModule:n,SynchronyProvider:r,featuredMacros:o}=this.props,{Editor:a,EmojiResource:c,ToolbarFeedback:i,WithHelpTrigger:s}=n;return t({Editor:a,EmojiResource:c,ToolbarFeedback:i,WithHelpTrigger:s,editorActions:e,SynchronyProvider:r,featuredMacros:o})})}render(){const{children:e,editorModule:{EditorContext:t,WithEditorActions:n}}=this.props;return"function"!=typeof e?null:a.a.createElement(t,null,a.a.createElement(n,{render:this._renderFuncChildrenWithLoadedData}))}}u.displayName="EditorLoader",Object(l.a)(u,"displayName","EditorLoader");t.a=Object(c.a)({name:"EditorLoader",loader:()=>Promise.all([(async()=>{Object(i.c)("".concat("confluence.fabric.editor.download",".start"));const e=await Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e(1),n.e(3),n.e(5),n.e(6),n.e(7),n.e(11),n.e(12),n.e(15),n.e(16),n.e(23),n.e(28),n.e(27),n.e(29),n.e(33),n.e("@atlaskit_editor-core~4134d62c")]).then(n.bind(null,"Mf5f"));return Object(i.c)("".concat("confluence.fabric.editor.download",".end")),e})(),Promise.all([n.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),n.e("synchrony-plugin~4134d62c")]).then(n.bind(null,"/VC6")),Object(d.c)()]).then(e=>{const[t,n,o]=e;return e=>a.a.createElement(u,Object(r.a)({},e,{editorModule:t,SynchronyProvider:n.Provider,featuredMacros:o}))}),loading:()=>a.a.createElement(s.a,{size:"medium"})})},IGvV:function(e,t,n){"use strict";var r=n("aWzz"),o=n.n(r),a=n("ERkP"),c=n.n(a);var i=function(...e){return t=>{class n extends c.a.Component{componentWillUnmount(){this.removeCss()}UNSAFE_componentWillMount(){this.removeCss=this.context.insertCss.apply(void 0,e)}render(){return c.a.createElement(t,this.props)}}return n.displayName="StyledComponent",n.displayName="WithStyles(".concat(t.displayName||t.name||"",")"),n.contextTypes={insertCss:o.a.func.isRequired},n}};var s=function(e){return t=>{class n extends a.Component{constructor(){super(),this.state={hasFetched:!1}}componentDidMount(){e().then(e=>{this.setState({hasFetched:!0}),this.removeCss=this.context.insertCss.apply(void 0,[e])})}componentWillUnmount(){this.removeCss&&this.removeCss()}render(){return this.state.hasFetched?c.a.createElement(t,this.props):null}}return n.displayName="StyledAsyncComponent",n.displayName="WithStylesAsync(".concat(t.displayName||t.name||"",")"),n.contextTypes={insertCss:o.a.func.isRequired},n}};n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))},LjTg:function(e,t,n){"use strict";n("aWzz");var r=n("ERkP"),o=n.n(r),a=n("gQ5V"),c=n("wKA4"),i=n("KD1n"),s=n("H5qd");function d(){const e=Object(i.a)(["\n  query IsSuperAdmin {\n    user(current: true) {\n      id\n      confluence {\n        roles {\n          isSuperAdmin\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}const l=n.n(s)()(d());n.d(t,"a",(function(){return u}));const u=({children:e})=>Object(c.a)()?o.a.createElement(a.b,{query:l},({loading:t,error:n,data:r})=>{var o;return e({loading:t,error:n,isSuperAdmin:Boolean(null!=(o=r)&&null!=(o=o.user)&&null!=(o=o.confluence)&&null!=(o=o.roles)?o.isSuperAdmin:o)})}):e({loading:!1,isSuperAdmin:!1});u.displayName="AdminKeyQuery"},MwrP:function(e,t,n){var r=n("4uJK"),o=n("kkM+"),a=n("bvyN"),c=n("wxYD"),i=n("9y2L"),s=n("3ajY"),d=n("CbIe"),l=n("Qd2C"),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(c(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||l(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!r(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},PqXK:function(e,t,n){"use strict";var r=n("uDfI"),o=n("3kaz"),a=n("vIkQ");t.a=Object(r.connect)(e=>{const t=e.views.viewPage.quickEditPreload.get("hasLoaded"),{spaceKey:n}=e.router.params,r=Object(o.c)(e,n);return{isEditorResourceLoaded:t,spaceId:r?r.id:null}},null)(a.default)},R7V3:function(e,t){e.exports=function(e){return null===e}},RZKf:function(e,t,n){"use strict";var r=n("RfuI");t.a=Object(r.a)({name:"packages/confluence-fabric-editor/src/components/ContentEditorBindings/ContentEditorBindingsLoader.ts",loader:()=>Promise.all([n.e(5),n.e(9),n.e(11),n.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),n.e("collab.editor.container~dc51bad7")]).then(n.bind(null,"ktcL")),loading:()=>null})},SMqo:function(e,t,n){"use strict";var r=n("ROYt"),o=n("yS9+"),a=n("Ci1e"),c=n("mWX1");const i={users:new a.schema.Array(c.user),lastPersonUpdatePage:c.user};var s=n("kWGc");n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m}));const d=Object(o.b)(s.f),l=Object(o.b)(s.b),u=Object(o.c)(s.a,r.a.content.quickReload,{schema:i}),p=Object(o.b)(s.d),m=Object(o.b)(s.c)},TSlp:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("hqKg"),o=n("f6W2"),a=n("/CY5");const c=Object(r.createSelector)([e=>e&&Object(o.d)(e)&&Object(o.c)(e)&&Object(o.c)(e).spaceKey||e.meta&&e.meta.get("space-key"),e=>Object(o.d)(e)&&Object(o.a)(e).query[a.a.SITE_HOME_QUERY_KEY]===a.a.SITE_HOME_QUERY_VALUE,e=>e.views.app.lookAndFeelId,e=>e.entities.get("lookAndFeelSettings"),e=>e.entities.get("spaces")],(e,t,n,r,o)=>t||!e?((e,t)=>{if(!t)return{};const n=t.get(e);return n?n.toJS():{}})(n,r):((e,t)=>{const n=t.get(e);return n&&n.get("lookAndFeel")?n.get("lookAndFeel").toJS():{}})(e,o))},UOJg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("RfuI");const o=Object(r.a)({name:"EditorSatisfactionSurvey",loader:()=>n.e("editor-satisfaction-survey~dade3008").then(n.bind(null,"WbO6")).then(({EditorSatisfactionSurvey:e})=>e),loading:()=>null})},"aR/n":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n("bfgX"),o=n("S2j0");const a={},c=e=>{try{e()}catch(e){console.error(e)}},i=()=>{Object(o.a)(["wrc!confluence-keyboard-shortcuts-batch"],()=>{c(()=>{Object(r.a)("register-contexts.keyboardshortcuts",(e,t)=>{const{enableContext:n}=t.shortcutRegistry;Object.entries(a).forEach(([e,t])=>{t&&n(e)})}),Object(r.b)("initialize.keyboardshortcuts")})},()=>{0})},s=e=>t=>{Array.isArray(t)||(t=[t]),t.forEach(t=>{a[t]!==e&&(a[t]=e,c(()=>{Object(r.b)("remove-bindings.keyboardshortcuts"),Object(r.b)("initialize.keyboardshortcuts")}))})},d=s(!0),l=s(!1),u=()=>{c(()=>{Object(r.b)("remove-bindings.keyboardshortcuts")})}},aY6N:function(e,t,n){"use strict";n.r(t);var r=n("uDfI"),o=n("cxan"),a=n("aWzz"),c=n.n(a),i=n("kD2R"),s=n("ERkP"),d=n.n(s),l=n("lZoD"),u=n("/FQd"),p=n("Bud6"),m=n("VKZT"),f=n("f6W2"),h=n("2wFc"),b=n("zjfJ"),g=n("gQ5V"),y=n("tlRP"),E=n("+mzV"),O=n("WlwD"),I=n("tqyq"),v=n("LjTg"),S=n("Efxu"),C=n("TYX8"),P=n("Bnkh"),j=n("k8LX");function R({children:e,contentId:t,spaceKey:n}){return d.a.createElement(j.a,{asSuperAdmin:!1,spaceKey:n},({error:n,isSpaceRestricted:r,loading:o})=>d.a.createElement(P.a,{contentId:t,status:C.a},({error:t,hasDirectViewRestrictions:a,hasInheritedViewRestrictions:c,loading:i})=>e({error:n||t,hasDirectViewRestrictions:a,hasInheritedViewRestrictions:c,isSpaceRestricted:r,loading:o||i})))}R.displayName="RestrictionsCheck";var w=n("0Y+4"),k=n("KD1n"),_=n("H5qd"),T=n.n(_);function A(){const e=Object(k.a)(["\n  query ViewPageGatewayQuery($contentId: ID) {\n    content(id: $contentId) {\n      nodes {\n        id\n        status\n      }\n    }\n  }\n"]);return A=function(){return e},e}const N=T()(A());const x={inaccessiblePageType:"RESTRICTED_CONFIRMATION_PAGE"};class L extends s.PureComponent{constructor(...e){super(...e),Object(b.a)(this,"state",{restrictedPageViewConfirmed:!1}),Object(b.a)(this,"onRestrictedPageViewConfirmClick",()=>{O.b.setItem(I.a.RESTRICTED_PAGE_CONFIRMED,this.props.contentId),this.setState({restrictedPageViewConfirmed:!0})}),Object(b.a)(this,"renderRestrictedPageConfirmation",()=>{const{contentId:e,spaceKey:t}=this.props;return d.a.createElement(R,{contentId:e,spaceKey:t},({hasDirectViewRestrictions:e,hasInheritedViewRestrictions:t,isSpaceRestricted:n,loading:r,error:o})=>{if(r)return null;if(o)throw o;const a=(i=t,l=n,((c=e)?i||l:i&&l)?S.d.MULTIPLE:c?S.d.DIRECT:i?S.d.PAGE_INHERITED:l?S.d.SPACE:S.d.NONE);var c,i,l;return d.a.createElement(s.Fragment,null,d.a.createElement(y.b,{restrictionFromType:a,onViewPageClick:this.onRestrictedPageViewConfirmClick}),d.a.createElement(w.a,{customAttributes:x}))})})}componentDidMount(){this.checkConsentToViewPage()}componentDidUpdate(){this.checkConsentToViewPage()}checkConsentToViewPage(){O.b.getItem(I.a.RESTRICTED_PAGE_CONFIRMED).then(e=>{e?e.toString()===this.props.contentId?this.setState({restrictedPageViewConfirmed:!0}):(O.b.removeItem(I.a.RESTRICTED_PAGE_CONFIRMED),this.setState({restrictedPageViewConfirmed:!1})):this.setState({restrictedPageViewConfirmed:!1})})}render(){const{children:e,contentId:t}=this.props;if(!t)return null;const{restrictedPageViewConfirmed:n}=this.state;return n?e:d.a.createElement(v.a,null,({loading:r,error:o,isSuperAdmin:a})=>{if(r)return null;if(o)throw o;return a?d.a.createElement(g.b,{query:N,variables:{contentId:t},fetchPolicy:"network-only",context:{asSuperAdmin:!1}},({loading:t,error:r})=>{if(t)return null;if(r&&!n){var o;if(!1===(null!=(o=r)&&null!=(o=o.graphQLErrors)&&null!=(o=o[0])&&null!=(o=o.extensions)&&null!=(o=o.data)?o.authorized:o))return this.renderRestrictedPageConfirmation()}return e}):e})}}L.displayName="ViewPageGatewayComponent";const F=({children:e})=>d.a.createElement(E.a.Consumer,null,({contentId:t,spaceKey:n})=>d.a.createElement(L,{contentId:t,spaceKey:n},e));F.displayName="ViewPageGateway";var D=n("D3Yu"),V=n("SMqo"),M=n("Jn8G"),q=n("rZXo"),K=n("TSlp"),B=n("+Prw"),U=n("MwrP"),z=n.n(U),H=n("nnRT"),Y=n.n(H),W=n("L21V"),Q=n("v9KL"),G=n("3ac5"),J=n("IGvV"),X=n("7yUP"),Z=n("r9hL"),$=n("fuBS"),ee=n("YtiW"),te=n("dpHG"),ne=n("YBtN"),re=n("rc7/"),oe=n("izxM"),ae=n("yLoQ"),ce=n("UOJg"),ie=n("prXa"),se=n("pxb7"),de=n("Ua4J"),le=n("03Pf");const ue=()=>{const{getHash:e,getQueryParams:t}=Object(s.useContext)(de.a),n=Object(s.useRef)(e),r=Object(s.useRef)(t);return n.current=e,r.current=t,Object(s.useEffect)(()=>{const e=n.current(),t=r.current();e.length>0||["focusedCommentId"].some(e=>Boolean(t[e]))||Object(le.c)()},[n,r]),null};var pe=n("qxyw"),me=n("qSVF"),fe=n("U63R"),he=n("E2Aa"),be=n("RfuI");var ge=Object(be.a)({name:"SpaceCustomSettingsBlockLoader",loader:()=>n.e("page.header-footer~f71cff67").then(n.bind(null,"6Ziv")),loading:()=>null});var ye=Object(be.a)({name:"EditorFlagsLoader",loader:()=>n.e("page.editor-flags~21833f8f").then(n.bind(null,"RfA0")),loading:()=>null}),Ee=n("OAym");var Oe=Object(be.a)({name:"QuickReloadLoader",loader:()=>Promise.all([n.e("vendors~4134d62c"),n.e("page.quick-reload~493df0b3")]).then(n.bind(null,"CzLb")),loading:()=>null}),Ie=n("Jygk"),ve=n.n(Ie),Se=n("bfgX"),Ce=n("k8+f"),Pe=n("Xzcx");const je=["confluence-watch","jira-metadata-dialog","shareInvitePopup"];class Re extends s.PureComponent{constructor(...e){super(...e),Object(b.a)(this,"handleStickyStateChange",({stuckState:e,headerHeight:t})=>{"top"===e?this.notifyStickyTable(t):this.notifyStickyTable(0)}),Object(b.a)(this,"handleCloseOpenDialogAndMenu",()=>{Object(Ce.a)({listener:"StickyHeaderAdapter.js",globalProperty:"AJS.InlineDialog"},()=>{ve.a.AJS.$("#tools-menu-trigger.active").trigger("click");const e=ve.a.AJS.InlineDialog.current;e&&-1!==je.indexOf(e.id)&&(Object(Pe.b)().blur(),e.popup[0].style.display="none",e.hide())})})}notifyStickyTable(e){Object(Se.b)("sticky-table-headers.change.options",{fixedOffset:e,cacheHeaderHeight:!0})}render(){return d.a.createElement(me.c,{onStickyStateChange:this.handleStickyStateChange,closeOpenDialogAndMenu:this.handleCloseOpenDialogAndMenu},this.props.children)}}Re.displayName="StickyHeaderAdapter";var we=n("V+xG"),ke=n("EovW"),_e=n("PqXK"),Te=n("z/oC"),Ae=n("UrEW"),Ne=n("pkRm"),xe=n("4Eyj"),Le=n("d3tz"),Fe=n("6lDt"),De=n("fLXQ"),Ve=n("HbzK");var Me=new class{constructor(e,t){const n=Ve.a.get("atlassian-account-id")||"anonymous";this._namespace="sessionStorage/".concat(e,".").concat(n,".").concat(t),this._sessionStorageSupported=!!ve.a.sessionStorage}getItem(e){if(!this._sessionStorageSupported)return null;let t=ve.a.sessionStorage.getItem("".concat(this._namespace,".").concat(e));return t&&t.indexOf('"')>-1&&(t=JSON.parse(t)),t}doesContain(e){return!!this.getItem(e)}setItem(e,t){if(this._sessionStorageSupported)try{ve.a.sessionStorage.setItem("".concat(this._namespace,".").concat(e),t)}catch(n){console.error("Unable to write to sessionStorage. key: ".concat(e,", value: ").concat(t,", cause: ").concat(n))}}removeItem(e){this._sessionStorageSupported&&ve.a.sessionStorage.removeItem("".concat(this._namespace,".").concat(e))}}("atlassian","frontend");const qe=e=>{const t=(e=>{const t=[];return[...e].forEach((e,n)=>{Object(De.d)(e)&&t.push({targetElementIndex:n,visibleBlockEl:e})}),t})(e);let n=null;return t.some(e=>!!Object(De.e)(e.visibleBlockEl)&&(n=e,!0)),!n&&t.length>0?t[0]:n||{targetElementIndex:-1,visibleBlockEl:null}};function Ke(e,t){if(!e||0===t)return null;const n={targetElementIndex:-1,offsetBetweenTargetAndCurrentScroll:0,columnLayoutPosition:{columnIndex:-1,rowIndex:-1}};if((e=>{if(!e)return!1;const t=e.children[0];return t&&t.classList.contains("contentLayout2")})(e)){const r=e.children[0].children,{targetElementIndex:o,visibleBlockEl:a}=qe(r);if(a){const e=a.getElementsByClassName("innerCell"),{columnIndex:r,targetElementIndexInColumn:c,visibleBlockEl:i}=(e=>{const t={targetElementIndexInColumn:-1,columnIndex:-1,visibleBlockEl:null};return[...e].some((e,n)=>{const{visibleBlockEl:r,targetElementIndex:o}=qe(e.children);return!!r&&(t.columnIndex=n,t.targetElementIndexInColumn=o,t.visibleBlockEl=r,!0)}),t})(e);i&&(n.targetElementIndex=c,n.offsetBetweenTargetAndCurrentScroll=t-Object(De.b)(i),n.columnLayoutPosition={rowIndex:o,columnIndex:r})}}else{const{targetElementIndex:r,visibleBlockEl:o}=qe(e.children);o&&(n.targetElementIndex=r,n.offsetBetweenTargetAndCurrentScroll=t-Object(De.b)(o),delete n.columnLayoutPosition)}return-1!==n.targetElementIndex?n:null}var Be=n("kEC2"),Ue=n("2srY"),ze=n.n(Ue),He=n("pkwY"),Ye=n("EfWO"),We=n.n(Ye),Qe=n("uZih"),Ge=n.n(Qe),Je=n("R7V3"),Xe=n.n(Je),Ze=n("QYv2");class $e extends s.PureComponent{componentDidMount(){this.performRedirectsIfRequired()}componentDidUpdate(){this.performRedirectsIfRequired()}UNSAFE_componentWillReceiveProps(e){this._performNavigateToEditPageIfRequired(e)}_shouldRedirectToLoginPage(e){return Boolean(e.isAnonymous&&e.isUnauthorized)}_shouldRedirectFromSpaceHomePage(e){return Boolean(!Xe()(e.space)&&e.contentId==="".concat(e.space.homepageId))}_shouldRedirectFromSlug(e){const{contentId:t,content:n,isEditPageRoute:r}=e;return Boolean(!t&&n&&n.id&&!r)}_shouldRedirectFromId(e){const{content:t,year:n,routerParams:r,requiresRedirectFromId:o,isEditPageRoute:a}=e,c=r?r.contentSlug:null,i=Boolean(n);return!a&&(!(!t||!o)||(!(c||!t||!t.slug)||(!(!t||"blogpost"!==t.type||i)||(!(!t||"page"!==t.type||!i)||!!(c&&t&&t.slug&&decodeURIComponent(t.slug)!==decodeURIComponent(c))))))}_shouldRedirectIncorrectSpaceKey(e){const{routerParams:t,content:n}=e;return Boolean(n&&!Xe()(n)&&t.spaceKey!==n.spaceKey)}_performNavigateToEditPageIfRequired(e){const{push:t,spaceKey:n,content:r,contentId:o,shouldNavigateToEditPage:a,hideEditor:c}=this.props;e.shouldNavigateToEditPage&&e.shouldNavigateToEditPage!==a&&((e=>{const{contentId:t,isInViewPage:n,docObject:r=ve.a.document,winObject:o=ve.a}=e;let a;a=n?r.getElementById("main-content"):r.body;const c=Ke(a,o.pageYOffset);c&&(c.contentId=t,c.isInViewPage=n,Me.setItem("editor-persit-scroll-position",JSON.stringify(c)))})({contentId:o,isInViewPage:!0}),c(),t(Object(h.i)(n,r.type,o)))}performRedirectsIfRequired(e=this.props){const{contentId:t,content:n,space:r,year:o,routerParams:a,requiresRedirectFromId:c,isAnonymous:i,isEditPageRoute:s,isUnauthorized:d}=e;this._shouldRedirectToLoginPage({isAnonymous:i,isUnauthorized:d})?Object(Ze.a)(e):this._shouldRedirectFromSpaceHomePage({space:r,contentId:t})?this.redirectToSpaceHomeOverviewTab(e):this._shouldRedirectFromSlug({contentId:t,content:n,isEditPageRoute:s})||this._shouldRedirectFromId({content:n,year:o,routerParams:a,requiresRedirectFromId:c,isEditPageRoute:s})?this.redirectToFinalViewPageRoute(e):this._shouldRedirectIncorrectSpaceKey({routerParams:a,content:n})&&this.redirectToFinalViewPageRoute(e,e.content.spaceKey||"")}redirectToFinalViewPageRoute(e=this.props,t){const{content:n}=e;if(void 0===t&&(t=e.spaceKey),n&&t&&n.id&&n.type){if("blogpost"===n.type&&!n.createdDate)return;this.redirect(e,Object(h.c)(t,n.id,n.type,n.createdDate,n.slug))}}redirectToSpaceHomeOverviewTab(e=this.props){const{spaceKey:t}=e;t&&this.redirect(e,Object(h.l)(t))}redirect(e,t){const{replace:n,location:r}=e,o=r.query?Ge()(r.query,"pageId"):"";n(Object(He.a)({},r,{query:o,search:We.a.format({query:o}),pathname:t}))}render(){return null}}function et(){const e=Object(k.a)(["\n  query ViewPageRedirectQuery($contentId: ID) {\n    content(id: $contentId) {\n      nodes {\n        id\n        type\n        status\n        title\n        space {\n          id\n          homepageId\n          key\n        }\n        history {\n          createdDate\n        }\n      }\n    }\n    user(current: true) {\n      id\n    }\n  }\n"]);return et=function(){return e},e}$e.displayName="ViewPageRedirectComponent",Object(b.a)($e,"defaultProps",{contentId:null,content:null,spaceKey:null,isAnonymous:!1,year:"",space:null,routerParams:null,requiresRedirectFromId:!1,location:null,shouldNavigateToEditPage:!1});const tt=T()(et()),nt=Object(B.a)();const rt=Object(r.connect)((e,t)=>{const n=Object(f.a)(e),r=Object(f.c)(e),{year:o}=r,{contentId:a}=t,{shouldNavigateToEditPage:c}=nt(e,{contentId:a}),i=r.spaceKey||(t.content?t.content.space.key:null),s="EditViewPageRoute"===n.routeName;return{requiresRedirectFromId:Object(f.d)(e)&&Object(h.q)(n),location:n,routerParams:r,spaceKey:i,shouldNavigateToEditPage:c,year:o,isEditPageRoute:s}},(function(e){return{replace:t=>e(Object(i.replace)(t)),hideEditor:()=>e(Object(p.l)()),push:t=>e(Object(i.push)(t))}}))($e);rt.propTypes={contentId:c.a.string,isAnonymous:c.a.bool,content:c.a.object,space:c.a.object};class ot extends s.Component{render(){const{contentId:e}=this.props;return d.a.createElement(g.b,{query:tt,errorPolicy:"all",variables:{contentId:e}},({data:t,loading:n,error:r})=>{if(n)return null;const o=t&&null===t.user;let a=!1;r?a=!1===ze()(r,"graphQLErrors[0].extensions.data.authorized"):o&&(a=t&&null===t.content);const c=ze()(t,"content.nodes[0]"),i=ze()(t,"content.nodes[0].space"),s=ze()(t,"content.nodes[0].title"),l=c&&Object.assign({},c,{slug:Object(h.d)(s),spaceKey:ze()(i,"key"),createdDate:ze()(c,"history.createdDate")});return d.a.createElement(rt,{isUnauthorized:a,isAnonymous:o,content:l,space:i,contentId:e})})}}ot.displayName="ViewPageRedirect",Object(b.a)(ot,"displayName","ViewPageRedirect");var at,ct,it,st,dt,lt,ut,pt=n("kCZO"),mt=n.n(pt);let ft=(at=Object(xe.a)("viewcontent"),ct=Object(Ne.a)(e=>{let t="";if(e.content&&e.spaceName){const n=!e.content.isUnauthorized&&e.content&&e.content.title?e.content.title:e.intl.formatMessage({id:"no.permission"});t="".concat(n," - ").concat(e.spaceName)}return e.updatesCount?"(".concat(e.updatesCount,") ").concat(t):t}),it=Object(J.a)(mt.a),st=Object(Z.b)(Le.a.VIEW_PAGE),at(dt=Object(W.h)(dt=ct(dt=it(dt=st((ut=lt=class extends s.Component{constructor(...e){super(...e),Object(b.a)(this,"state",{contentId:null,spaceKey:null}),Object(b.a)(this,"_renderLikesButton",()=>{const{contentId:e,content:t,spaceKey:n,contentState:r,spaceId:o}=this.props;return t&&t.type&&e&&r.ready?d.a.createElement(he.a,{spaceKey:n,contentId:e,location:Fe.a.ATL_PAGE_CONTENT_FOOTER_ACTIONS,fetchPolicy:"cache-first"},({panels:t})=>t&&t.length?d.a.createElement("div",{key:"likes-button"},d.a.createElement(ae.a,{contentId:e,containerId:o,containerType:"space"})):null):null}),Object(b.a)(this,"_renderContentScreen",e=>{const{spaceKey:t,contentId:n,versionOverride:r,embeddedContentRender:o,queryHash:a,lookAndFeel:c,isFabricPage:i,contentState:{ready:l}}=this.props;let u={};return!z()(c)&&c.content&&(u=c.content.body),d.a.createElement(ne.a,{spaceKey:t,isContentView:!0,key:"content-screen"},({isThemed:c,isLoading:p})=>{const m=e["confluence.frontend.space.custom.header.footer.v2"];return d.a.createElement(s.Fragment,null,c?null:d.a.createElement(Re,null,this._renderViewPageHeader()),d.a.createElement(ee.a,{isThemed:c,spaceKey:t,isContentView:!0},c?this._renderViewPageHeader():null,m?d.a.createElement(ie.a,{type:se.a.HEADER,defer:!l}):d.a.createElement(ge,{type:"header",className:mt.a.customSettings,key:"space-customer-setting-block-header",defer:!l}),d.a.createElement($.a,{banner:d.a.createElement(Q.b,{contentId:n,spaceKey:t}),contentId:n,spaceKey:t,priority:fe.a.IMMEDIATE},d.a.createElement(pe.a,{contentId:n,versionOverride:r,embeddedContentRender:o,priority:fe.a.IMMEDIATE})),d.a.createElement("div",{style:u},d.a.createElement(ke.a,{contentId:n,versionOverride:r,embeddedContentRender:o,queryHash:a,contentVisible:!p,isFabricEditorEnabled:i}),d.a.createElement("div",{className:mt.a.likesAndLabelsContainer,id:"likes-and-labels-container","data-test-id":"likes-and-labels-container"},this._renderLikesButton(),d.a.createElement("div",{className:mt.a.labelsSection},d.a.createElement(oe.a,{contentId:n,spaceKey:t,alignment:"end"}))),d.a.createElement(we.b,{contentId:n,defer:!l})),m?d.a.createElement(ie.a,{type:se.a.FOOTER,defer:!l}):d.a.createElement(ge,{key:"space-customer-setting-block-footer",type:"footer",className:mt.a.customSettings,defer:!l})))})}),Object(b.a)(this,"_onContentLoaded",()=>{const{contentId:e,contentState:t,markContentAsShown:n}=this.props;t.ready&&n({contentId:e})}),Object(b.a)(this,"_renderIfContentReadyState",e=>{const{contentId:t,preview:n,isFabricPage:r,isLatestVersion:o,contentState:{ready:a,permissions:{edit:c}={}}={}}=this.props;return d.a.createElement(s.Fragment,null,d.a.createElement(_e.a,{contentId:t,isFabricEditorEnabled:r}),d.a.createElement(Te.a,{contentId:t,query:n}),o?e["confluence.frontend.quick.reload.v2"]&&e["confluence.frontend.enable.force.update"]?d.a.createElement(te.a,{contentId:t,lastPollTime:Date.now()}):d.a.createElement(Oe,{contentId:t,defer:!a}):null,d.a.createElement(Ee.a,{contentId:t,canEdit:c,defer:!a}),r?null:d.a.createElement(ye,{contentId:t,defer:!a}),d.a.createElement(ce.a,{contentId:t,isFabricPage:r}),this.props.children)}),Object(b.a)(this,"_renderOnUnauthorizedError",()=>d.a.createElement(y.a,{accessType:"view",contentId:this.props.contentId})),Object(b.a)(this,"_onUnauthorizedError",()=>{const{contentStateSetNoPermission:e}=this.props;e({})})}static getDerivedStateFromProps(e,t){if(e.contentId!==t.contentId||t.spaceKey!==e.spaceKey||e.shouldResetContent){if(e.contentStateReset({edit:!1}),e.contentId){const t=!e.content||!e.content.body||e.contentId!==e.content.id,n=e.content&&e.content.isContentSPAFriendly;(t||n||e.shouldResetContent)&&e.getContent({contentId:e.contentId})}return{contentId:e.contentId,spaceKey:e.spaceKey}}return null}componentDidMount(){const{contentId:e,triggerAnalytics:t}=this.props;t("rendered",{contentId:e}),this._onContentLoaded()}shouldComponentUpdate(e,t){return!Y()(this.props,e)||!Y()(this.state,t)}componentDidUpdate(e){const{contentId:t,triggerAnalytics:n,shouldNavigateToEditPage:r,isFabricPage:o,contentState:{ready:a,permissions:{edit:c}={}}={}}=this.props;t!==e.contentId&&a&&n("rendered",{contentId:t}),this._onContentLoaded(),o&&a===Be.c&&c&&Object(G.a)(),a!==Be.c||r||(e=>{const{contentId:t,isInViewPage:n,docObject:r=ve.a.document,winObject:o=ve.a}=e;let a,c=Me.getItem("editor-persit-scroll-position");try{c=JSON.parse(c)}catch(e){0}finally{Me.removeItem("editor-persit-scroll-position")}if(!c||c.contentId!==t||c.isInViewPage===n)return;if(a=n?r.getElementById("main-content"):r.body,!a||!a.children[0])return;const{columnLayoutPosition:i}=c;let s;if(i){const e=a.children[0].children[i.rowIndex].getElementsByClassName("innerCell")[i.columnIndex];s=e&&e.children[c.targetElementIndex]}else s=a.children[c.targetElementIndex];if(s){const e=Object(De.b)(s)+c.offsetBetweenTargetAndCurrentScroll;setTimeout(()=>o.scrollTo(0,e),1)}})({contentId:t,isInViewPage:!0})}_renderViewPageHeader(){const{spaceKey:e,contentId:t,versionOverride:n,shouldRefreshContent:r}=this.props;return e&&t?d.a.createElement(me.b,{spaceKey:e,contentId:t,isSticky:!1,versionOverride:n,shouldRefreshContent:r,priority:fe.a.IMMEDIATE}):null}render(){Object(X.b)("view.page.rendered");const{isAnonymous:e,content:t,contentId:n,contentState:r}=this.props;return r.ready!==Be.b||e?r.ready===Be.a?d.a.createElement(Ae.default,null):d.a.createElement(u.a,null,({featureFlags:e})=>d.a.createElement(re.a,{onError:this._onUnauthorizedError,renderOnError:this._renderOnUnauthorizedError},d.a.createElement(ot,{contentId:n,content:t}),d.a.createElement(ue,{key:n}),this._renderContentScreen(e),r.ready?this._renderIfContentReadyState(e):null)):d.a.createElement(y.a,{accessType:"view",contentId:n})}},Object(b.a)(lt,"defaultProps",{updatesCount:0}),dt=ut))||dt)||dt)||dt)||dt)||dt);const ht=Object(B.a)(),bt=e=>({contentId:e.contentId,versionOverride:e.versionOverride,embeddedContentRender:e.embeddedContentRender});const gt=Object(r.connect)((e,t)=>{const n=Object(f.c)(e),r=Object(f.a)(e),{year:o,month:a,day:c}=n,i=e.views.viewPage,s=n.contentId||r.query.pageId;let d;s&&(d=Object(m.b)(s,e));const l=n.spaceKey||(d?d.get("spaceKey"):null),u=d&&d.editorVersion===M.a.FABRIC||!1,{shouldNavigateToEditPage:p}=ht(e,{contentId:s}),b=e.views.viewPage.content.get("shouldRefreshContent"),{isAnonymous:g}=t,{versionOverride:y}=bt(t),E=!y||"current"===y,O=e.entities.getIn(["spaces",l],null),I=O?O.id:null,v=O?O.name:null;return{shouldRefreshContent:b,contentId:s,key:s,year:o,month:a,day:c,content:d,spaceKey:l,routerParams:n,preview:r.query.preview,isAnonymous:g,isNewUser:e.views.dashboard.viewModel.get("isNewUser"),shouldResetContent:i.content.get("shouldResetContent"),lookAndFeel:Object(K.a)(e),updatesCount:e.views.viewPage.quickReload.get("updatesCount"),shouldNavigateToEditPage:p,requiresRedirectFromId:Object(f.d)(e)&&Object(h.q)(r),isFabricPage:u,isLatestVersion:E,spaceName:v,location:r,spaceId:I}},(function(e,t){return{getContent:()=>e(Object(q.a)(bt(t))),markContentAsShown:(...t)=>e(Object(V.b)(...t)),hideEditor:()=>e(Object(p.l)()),push:t=>e(Object(i.push)(t)),replace:t=>e(Object(i.replace)(t))}}))(ft);gt.displayName="ViewPageRedux",gt.propTypes={contentId:c.a.string.isRequired,versionOverride:c.a.number,embeddedContentRender:c.a.string,queryHash:c.a.string};class yt extends s.Component{render(){return d.a.createElement(l.c,{to:[D.a]},({state:e,reset:t,setNoPermission:n})=>d.a.createElement(u.a,null,({userId:r})=>{const a=!r;return d.a.createElement(F,null,d.a.createElement(gt,Object(o.a)({isAnonymous:a,contentState:e,contentStateReset:t,contentStateSetNoPermission:n},this.props)))}))}}yt.displayName="ViewPageGraphQL";t.default=Object(r.connect)((function(e){let{versionOverride:t,embeddedContentRender:n}=Object(f.b)(e);return t=parseInt(t),isNaN(t)&&(t=null),n||(n=null),{versionOverride:t,embeddedContentRender:n,queryHash:Object(f.a)(e).hash}}),()=>({}))(yt)},clkW:function(e,t,n){(t=e.exports=n("PBB4")(!1)).push([e.i,".ViewPage_likesAndLabelsContainer_nyS{overflow:hidden;margin:20px 0;clear:both}.ViewPage_likesAndLabelsContainer_nyS .ViewPage_labelsSection_3nD{width:50%;float:right;display:inline-block}.ViewPage_webPanelLocationContainer_2ph{width:50%;display:inline-block;font-size:13px}.ViewPage_customSettings_2Q_{text-align:center}",""]),t.locals={likesAndLabelsContainer:"ViewPage_likesAndLabelsContainer_nyS",labelsSection:"ViewPage_labelsSection_3nD",webPanelLocationContainer:"ViewPage_webPanelLocationContainer_2ph",customSettings:"ViewPage_customSettings_2Q_"}},dpHG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("RfuI");const o=Object(r.a)({name:"QuickReload",loader:async()=>{const{QuickReload:e}=await n.e("quick-reload~439882f4").then(n.bind(null,"UnvT"));return e},loading:()=>null})},izxM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("ERkP");var r=n("RfuI");const o=Object(r.a)({name:"LabelsLoader",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e(2),n.e(44),n.e("EditLabelDialog~b59ad437"),n.e(65),n.e("Labels~b59ad437")]).then(n.bind(null,"dkR0")).then(({Labels:e})=>e),loading:()=>null})},k8LX:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),a=n("gQ5V"),c=n("F4Ur"),i=n("/FQd"),s=n("wKA4"),d=n("KD1n"),l=n("H5qd"),u=n.n(l);function p(){const e=Object(d.a)(["\n    query ","($spaceKey: String!) {\n      space(key: $spaceKey) {\n        id\n      }\n    }\n  "]);return p=function(){return e},e}const m=h("SpaceRestrictionCheckQuery"),f=h("SpaceRestrictionCheckWithoutAdminKeyQuery");function h(e){return u()(p(),e)}function b(){const e=Object(d.a)(["\n  query SpaceRestrictionCheckQueryExperimental($spaceKey: String!)\n    @experimental {\n    experimentalSpace(spaceKey: $spaceKey) {\n      statusCode\n    }\n  }\n"]);return b=function(){return e},e}const g=u()(b());function y({asSuperAdmin:e,children:t,spaceKey:n}){const r=Object(s.a)();return o.a.createElement(i.a,null,({featureFlags:i})=>o.a.createElement(a.b,{query:i["confluence.frontend.spacerestrictionscheck.adminkey.graphql"]&&r?!1===e?f:m:g,context:void 0===e?void 0:{asSuperAdmin:e},fetchPolicy:r?"no-cache":void 0,variables:{spaceKey:n}},({data:e,error:n,loading:r})=>{let o,a;if(n)o=E(n),a=O(n),(o||a)&&(Object(c.b)(n),n=void 0);else if(e){var i;const t=null!=(i=e)&&null!=(i=i.experimentalSpace)?i.statusCode:i;o=404===t,a=403===t}return t({error:n,isSpaceNotFound:o,isSpaceRestricted:a,loading:r})}))}function E(e){return I(e,({statusCode:e})=>404===e)}function O(e){return I(e,({data:e,statusCode:t})=>403===t&&!!e&&!1===e.authorized)}function I({graphQLErrors:e},t){if(e&&e.length>0)for(const n of e){const{extensions:e,path:r}=n;if(Array.isArray(r)&&-1!==r.indexOf("space")&&e&&t(e))return!0}return!1}n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return O})),y.displayName="SpaceRestrictionCheck"},kCZO:function(e,t,n){var r=n("clkW"),o=n("7l8p");"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},"lZ+S":function(e,t,n){"use strict";const r=["wr!confluence.web.resources:querystring","wr!confluence.web.resources:navigator-context","wr!com.atlassian.plugins.atlassian-connect-plugin:confluence-atlassian-connect-resources-v5"];t.a={CONNECT:r,EDITOR_LOADER:[...r,"wr!confluence.web.resources:breadcrumbs","wr!com.atlassian.confluence.plugins.editor-loader:background-loading-editor","wr!com.atlassian.confluence.plugins.quickedit:quick-edit-general","wr!com.atlassian.confluence.plugins.quickedit:quick-comment-initial"],CONFLUENCE_PREVIEWER:["wr!com.atlassian.confluence.plugins.confluence-previews:fallback-mode","wrc!media-viewer"],CONFLUENCE_SPACE_IA:["wr!com.atlassian.confluence.plugins.confluence-space-ia:link-dialog","wr!com.atlassian.confluence.plugins.confluence-link-browser:link-browser","wr!com.atlassian.confluence.plugins.confluence-link-browser:linkbrowser-css-resources"]}},pkRm:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ERkP"),o=n.n(r),a=n("d8BE"),c=n.n(a),i=n("HbzK");function s(e,t){return void 0===t&&(t={}),n=>r=>{const a=e(r),s=i.a.get("site-title")||"";let d="";return d=a&&s?"".concat(a," - ").concat(s):a||s,o.a.createElement("div",{style:t},o.a.createElement(c.a,{title:d}),o.a.createElement(n,r))}}},prXa:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("RfuI");const o=Object(r.a)({name:"CustomHeaderFooterLoader",loader:async()=>(await n.e("custom-header-footer~0ae2caf4").then(n.bind(null,"/4Yv"))).CustomHeaderFooter,loading:()=>null})},pxb7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={HEADER:"header",FOOTER:"footer"}},qxyw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("RfuI"),o=n("G88w");const a=Object(r.a)({name:"ByLine",loader:()=>n.e("by-line~b59ad437").then(n.bind(null,"5H8u")).then(({ByLine:e})=>e),loading:o.a})},rQmM:function(e,t,n){"use strict";var r=n("RfuI");t.a=Object(r.a)({name:"packages/confluence-fabric-editor/src/components/FullPageEditor/FullPageEditorLoader.ts",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6),n.e(7),n.e(8),n.e(9),n.e(10),n.e(11),n.e(12),n.e(14),n.e(15),n.e(17),n.e(18),n.e(19),n.e(23),n.e(46),n.e(54),n.e(81),n.e("fullpage.editor.container~493df0b3")]).then(n.bind(null,"goqy")),loading:()=>null})},"rc7/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("cxan"),o=n("ERkP"),a=n.n(o),c=n("Eoya");function i(e){return a.a.createElement(c.a,Object(r.a)({isKnownError:s},e))}function s(e){if(e){const{graphQLErrors:n}=e;if(n&&n.length>0)for(const e of n){var t;const{extensions:n}=e;if(n&&!1===(null!=(t=n)&&null!=(t=t.data)?t.authorized:t))return!0}}return!1}i.displayName="UnauthorizedErrorBoundary"},vIkQ:function(e,t,n){"use strict";n.r(t);var r=n("cxan"),o=n("zjfJ"),a=n("aWzz"),c=n.n(a),i=n("ERkP"),s=n.n(i),d=n("L21V"),l=n("/FQd"),u=n("+CY+"),p=n("S2j0");class m extends i.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"state",{isReady:!1}),Object(o.a)(this,"loadInlineCommentResource",()=>{const{intl:e}=this.props;Object(p.a)(["wr!confluence.extra.jira:web-resources","wrc!com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources"],()=>{const t=Promise.all([n.e("vendors~4134d62c"),n.e("inline-comments-css~493df0b3")]).then(n.t.bind(null,"xL3T",7)),r=Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e(0),n.e(1),n.e(3),n.e(4),n.e(5),n.e(6),n.e(7),n.e(9),n.e(11),n.e(12),n.e(15),n.e(16),n.e(18),n.e(23),n.e(28),n.e(27),n.e(29),n.e(30),n.e(33),n.e(44),n.e(63),n.e("inline-comments~493df0b3")]).then(n.bind(null,"i8tr"));Promise.all([r,t]).then(([t,n])=>{this.mount&&(this.removeCss=this.context.insertCss.apply(void 0,[n]),t.default(e.formatMessage),this.setState({isReady:!0}))})},()=>{0})})}componentDidMount(){this.mount=!0,this.loadInlineCommentResource()}componentWillUnmount(){this.mount=!1,this.removeCss&&this.removeCss()}_sendClickForNextComment(){document.querySelector(".ic-sidebar #ic-nav-next").click()}_sendClickForPreviousComment(){document.querySelector(".ic-sidebar #ic-nav-previous").click()}_sendClickToHideComments(){document.querySelector(".ic-sidebar .ic-action-hide").click()}render(){const{isFabricEditorEnabled:e,contentId:t,isEditorResourceLoaded:n,spaceId:r,featureFlagClient:o}=this.props,{isReady:a}=this.state,c=o.getBooleanValue("confluence.frontend.people.directory",{default:!1,shouldTrackExposureEvent:!1}),d=o.getBooleanValue("confluence.frontend.gdpr.inline.comments.user.profile",{default:!1,shouldTrackExposureEvent:!1}),l=o.getBooleanValue("confluence.frontend.inline.comment.macrobrowser",{default:!1,shouldTrackExposureEvent:!1}),p="fabric"===o.getVariantValue("confluence.frontend.fabric.editor.inline.comments",{default:"not-enrolled",oneOf:["fabric","not-enrolled","tinymce"],shouldTrackExposureEvent:!0}),m="fabric"===o.getVariantValue("confluence.frontend.fabric.renderer.inline.comments",{default:"not-enrolled",oneOf:["fabric","not-enrolled","tinymce"],shouldTrackExposureEvent:!0});return s.a.createElement(i.Fragment,null,s.a.createElement(u.a,{accelerator:"n",listener:this._sendClickForNextComment}),s.a.createElement(u.a,{accelerator:"p",listener:this._sendClickForPreviousComment}),s.a.createElement(u.a,{accelerator:"]",listener:this._sendClickToHideComments}),s.a.createElement("div",{className:"view-page-body","data-content-id":t,"data-space-id":r,"data-should-squeeze":!e,"data-frontend-people-directory":c?"true":"false","data-unified-profile-cards":!0,"data-page-content-css-selector":e?"[data-test-id=page-content-only]":"","data-page-header-css-selector":e?"[data-test-id=page-content-header]":"","data-editor-resource-loaded":n,"data-gdpr-inline-comments":d?"true":"false","data-test-id":a?"inline-comments-ready":void 0,"data-fabric-editor-inline-comments":p?"true":"false","data-fabric-renderer-inline-comments":m?"true":"false","data-inline-comments-macro-browser":l}))}}m.displayName="InlineCommentsComponent",Object(o.a)(m,"contextTypes",{insertCss:c.a.func.isRequired}),t.default=Object(d.h)(e=>s.a.createElement(l.a,null,({featureFlagClient:t})=>s.a.createElement(m,Object(r.a)({},e,{featureFlagClient:t}))))},"z/oC":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("aWzz");var r,o=n("ERkP"),a=n("bfgX"),c=n("M2LZ"),i=n("jqY8"),s=n("lZ+S");let d=Object(c.b)(s.a.CONFLUENCE_PREVIEWER)(r=class extends o.Component{constructor(...e){super(...e),this.handlePopstate=this.handlePopstate.bind(this)}componentDidMount(){this.reInitialisePreviewer(),Object(i.a)("popstate",this.handlePopstate)}shouldComponentUpdate(e){return e.query!==this.props.query}componentDidUpdate(){this.reInitialisePreviewer()}componentWillUnmount(){this.resetFilesList(),Object(i.j)("popstate",this.handlePopstate)}UNSAFE_componentWillReceiveProps(e){e.contentId!==this.props.contentId&&this.resetFilesList()}handlePopstate(){this.reInitialisePreviewer()}resetFilesList(){Object(a.b)("reset-file-list.filePreviews")}reInitialisePreviewer(){const e=Object(i.d)("cp/confluence/file-preview-loader");e&&"function"==typeof e.setupPreviewerForSPA&&e.setupPreviewerForSPA()}render(){return null}})||r;d.displayName="ConfluencePreview"}}]);
//# sourceMappingURL=space.viewpage~493df0b3.9zj4TAh8-v39.js.map